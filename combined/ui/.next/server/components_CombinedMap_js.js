"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "components_CombinedMap_js";
exports.ids = ["components_CombinedMap_js"];
exports.modules = {

/***/ "./components/CombinedMap.js":
/*!***********************************!*\
  !*** ./components/CombinedMap.js ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ DispatchCesiumMap)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var next_script__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/script */ \"./node_modules/next/script.js\");\n/* harmony import */ var next_script__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_script__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var crypto__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! crypto */ \"crypto\");\n/* harmony import */ var crypto__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(crypto__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _TopMenuBar__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./TopMenuBar */ \"./components/TopMenuBar.js\");\n/* harmony import */ var _TurnPathDialog__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./TurnPathDialog */ \"./components/TurnPathDialog.js\");\n/* harmony import */ var _TurnPathStatusBanner__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./TurnPathStatusBanner */ \"./components/TurnPathStatusBanner.js\");\n/* harmony import */ var _useTurnPathManager__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./useTurnPathManager */ \"./components/useTurnPathManager.js\");\n/* harmony import */ var _useMeasurementTool__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./useMeasurementTool */ \"./components/useMeasurementTool.js\");\n/* harmony import */ var _RoadProfileViewer__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./RoadProfileViewer */ \"./components/RoadProfileViewer.js\");\n\n\n\n\n\n\n\n\n\n\n// Color palette and helpers\nconst DISPATCH_LOCATION_COLOR_MAP = {\n    \"call point\": \"#FF6B6B\",\n    \"dump\": \"#FF8E72\",\n    \"blast\": \"#FFB347\",\n    \"stockpile\": \"#FFD166\",\n    \"workshop\": \"#F4A261\",\n    \"shiftchange\": \"#06D6A0\",\n    \"region\": \"#118AB2\",\n    \"crusher\": \"#9B5DE5\",\n    \"high dump\": \"#FF6B6B\",\n    \"load\": \"#FFD166\",\n    \"paddock dump\": \"#FF8E72\",\n    \"tiedown\": \"#06D6A0\",\n    \"pit\": \"#EF476F\",\n    \"parking\": \"#FFE066\",\n    \"fuel\": \"#FE5F55\",\n    \"tipping area\": \"#FF924C\",\n    \"infrastructure\": \"#5C677D\",\n    \"infrastructure_table\": \"#5C677D\",\n    \"default\": \"#9FA4B0\"\n};\n// Location types that render as squares\nconst SQUARE_TYPES = new Set([\n    \"blast\",\n    \"dump\",\n    \"stockpile\",\n    \"workshop\",\n    \"crusher\",\n    \"high dump\",\n    \"load\",\n    \"paddock dump\",\n    \"tiedown\"\n]);\nconst DEFAULT_HIDDEN_LOCATION_TYPES = [\n    \"call point\",\n    \"shiftchange\",\n    \"region\",\n    \"pit\"\n];\nconst resolveDispatchLocationType = (location)=>{\n    if (!location) return \"Infrastructure\";\n    const rawValue = location.unit_type || location.location_category || location.unit_type_id || location.category || location.source || \"Infrastructure\";\n    if (typeof rawValue !== \"string\") return \"Infrastructure\";\n    const trimmed = rawValue.trim();\n    return trimmed.length > 0 ? trimmed : \"Infrastructure\";\n};\nconst getDispatchLocationColor = (locationType)=>{\n    if (!locationType || typeof locationType !== \"string\") return DISPATCH_LOCATION_COLOR_MAP.default;\n    return DISPATCH_LOCATION_COLOR_MAP[locationType.trim().toLowerCase()] || DISPATCH_LOCATION_COLOR_MAP.default;\n};\n// Helpers to guard polygons\nconst ringArea2D = (coords)=>{\n    if (!Array.isArray(coords) || coords.length < 3) return 0;\n    let area = 0;\n    const n = coords.length;\n    for(let i = 0; i < n; i++){\n        const [x1, y1] = coords[i];\n        const [x2, y2] = coords[(i + 1) % n];\n        area += x1 * y2 - x2 * y1;\n    }\n    return Math.abs(area) * 0.5;\n};\nconst parsePolygonHierarchy = (geojson)=>{\n    if (!geojson || !window?.Cesium) return null;\n    const Cesium1 = window.Cesium;\n    let gj;\n    try {\n        gj = typeof geojson === \"string\" ? JSON.parse(geojson) : geojson;\n    } catch  {\n        return null;\n    }\n    if (!gj || !gj.coordinates) return null;\n    let rings = null;\n    if (gj.type === \"Polygon\") {\n        rings = gj.coordinates;\n    } else if (gj.type === \"MultiPolygon\" && Array.isArray(gj.coordinates) && gj.coordinates.length > 0) {\n        rings = gj.coordinates[0];\n    } else {\n        return null;\n    }\n    if (!Array.isArray(rings) || rings.length === 0) return null;\n    let outer = rings[0];\n    if (!Array.isArray(outer) || outer.length < 3) return null;\n    outer = outer.filter((c)=>Array.isArray(c) && c.length >= 2 && Number.isFinite(c[0]) && Number.isFinite(c[1]));\n    if (outer.length < 3) return null;\n    if (outer.length >= 2) {\n        const [fx, fy] = outer[0];\n        const [lx, ly] = outer[outer.length - 1];\n        if (fx === lx && fy === ly) {\n            outer = outer.slice(0, -1);\n        }\n    }\n    const cleaned = [];\n    for(let i = 0; i < outer.length; i++){\n        const cur = outer[i];\n        if (i === 0 || cur[0] !== outer[i - 1][0] || cur[1] !== outer[i - 1][1]) {\n            cleaned.push(cur);\n        }\n    }\n    if (cleaned.length < 3) return null;\n    const area2D = ringArea2D(cleaned);\n    if (!Number.isFinite(area2D) || area2D < 1e-10) return null;\n    const positions = Cesium1.Cartesian3.fromDegreesArray(cleaned.flat());\n    if (!positions || positions.length < 3) return null;\n    let minX = Infinity, maxX = -Infinity;\n    let minY = Infinity, maxY = -Infinity;\n    let minZ = Infinity, maxZ = -Infinity;\n    for (const p of positions){\n        if (!Number.isFinite(p.x) || !Number.isFinite(p.y) || !Number.isFinite(p.z)) return null;\n        if (p.x < minX) minX = p.x;\n        if (p.x > maxX) maxX = p.x;\n        if (p.y < minY) minY = p.y;\n        if (p.y > maxY) maxY = p.y;\n        if (p.z < minZ) minZ = p.z;\n        if (p.z > maxZ) maxZ = p.z;\n    }\n    const span = Math.max(maxX - minX, maxY - minY, maxZ - minZ);\n    if (!Number.isFinite(span) || span < 0.1) return null;\n    return new Cesium1.PolygonHierarchy(positions);\n};\n// Guard for arbitrary Cartesian3 position arrays (for polygons)\nconst arePositionsValid = (positions)=>{\n    if (!Array.isArray(positions) || positions.length < 3) return false;\n    let minX = Infinity, maxX = -Infinity;\n    let minY = Infinity, maxY = -Infinity;\n    let minZ = Infinity, maxZ = -Infinity;\n    for (const p of positions){\n        if (!p || !Number.isFinite(p.x) || !Number.isFinite(p.y) || !Number.isFinite(p.z)) {\n            return false;\n        }\n        if (p.x < minX) minX = p.x;\n        if (p.x > maxX) maxX = p.x;\n        if (p.y < minY) minY = p.y;\n        if (p.y > maxY) maxY = p.y;\n        if (p.z < minZ) minZ = p.z;\n        if (p.z > maxZ) maxZ = p.z;\n    }\n    const span = Math.max(maxX - minX, maxY - minY, maxZ - minZ);\n    return Number.isFinite(span) && span >= 0.1;\n};\nconst isDispatchSegmentClosed = (segment)=>{\n    if (!segment) return false;\n    const value = segment.is_closed;\n    if (typeof value === \"boolean\") return value;\n};\n// Render tooltip lines in the same label/value layout as the Lat/Lng box\nconst renderTooltipItems = (items, { compact = false } = {})=>{\n    return items.filter(Boolean).map((raw)=>{\n        let item = typeof raw === \"string\" ? raw : String(raw).trim();\n        if (!item) return \"\";\n        // SECTION HEADERS, e.g. \"--- ROAD DIMENSIONS ---\"\n        if (!item.includes(\":\")) {\n            const label = item.replace(/^[-\\s]+|[-\\s]+$/g, \"\");\n            return `\n          <div\n            style=\"\n              margin: ${compact ? \"4px\" : \"6px\"} 0 2px;\n              font-weight: 600;\n              color: #f5f5f5;\n              border-top: 1px solid rgba(255,255,255,0.08);\n              padding-top: 4px;\n            \"\n          >\n            ${label}\n          </div>\n        `;\n        }\n        // NORMAL \"LABEL: value\" LINES\n        const [rawLabel, ...rest] = item.split(\":\");\n        const label = rawLabel.trim();\n        const value = rest.join(\":\").trim();\n        return `\n        <div\n          style=\"\n            display: flex;\n            justify-content: space-between;\n            margin-bottom: ${compact ? \"1px\" : \"3px\"};\n          \"\n        >\n          <span style=\"color: #a0a0a0; font-weight: 400;\">\n            ${label}\n          </span>\n          <span style=\"\n            color: white;\n            font-weight: 500;\n            font-variant-numeric: tabular-nums;\n            text-align: right;\n            white-space: nowrap;\n          \">\n            ${value}\n          </span>\n        </div>\n      `;\n    }).join(\"\");\n};\nconst formatTooltipContent = (entity)=>{\n    if (!entity || !entity.properties) return \"\";\n    // Handle both Cesium Property objects and direct values\n    const getProp = (key)=>{\n        const prop = entity.properties[key];\n        if (prop === undefined || prop === null) return undefined;\n        if (prop && typeof prop.getValue === \"function\") {\n            return prop.getValue(window.Cesium.JulianDate.now());\n        }\n        return prop;\n    };\n    const items = [];\n    const category = getProp(\"category\");\n    if (category === \"dispatch_segment\") {\n        items.push(`--- DISPATCH SEGMENT ---`);\n        if (getProp(\"road_id\")) items.push(`ROAD ID: ${getProp(\"road_id\")}`);\n        if (getProp(\"lane_id\")) items.push(`LANE ID: ${getProp(\"lane_id\")}`);\n        if (getProp(\"length_m\")) items.push(`LENGTH: ${Math.round(getProp(\"length_m\"))} m`);\n        if (getProp(\"direction\")) items.push(`DIRECTION: ${getProp(\"direction\")}`);\n        const closed = getProp(\"is_closed\");\n        items.push(`STATUS: ${closed ? \"Closed\" : \"Open\"}`);\n    } else if (category === \"dispatch_location\") {\n        items.push(`--- LOCATION ---`);\n        items.push(`NAME: ${getProp(\"location_name\")}`);\n        items.push(`TYPE: ${getProp(\"unit_type\") || getProp(\"location_category\")}`);\n    } else if (category === \"dispatch_intersection\") {\n        items.push(`--- INTERSECTION ---`);\n        items.push(`NAME: ${getProp(\"intersection_name\")}`);\n        if (getProp(\"intersection_type\")) items.push(`TYPE: ${getProp(\"intersection_type\")}`);\n        if (getProp(\"safety_buffer_m\")) items.push(`SAFETY BUFFER: ${getProp(\"safety_buffer_m\")} m`);\n        if (getProp(\"r_min_m\")) items.push(`R-MIN: ${getProp(\"r_min_m\")} m`);\n        const roads = getProp(\"connected_roads\");\n        if (roads && Array.isArray(roads) && roads.length > 0) {\n            items.push(`CONNECTED ROADS: ${roads.join(\", \")}`);\n        }\n    } else if (category === \"dispatch_trolley\") {\n        items.push(`--- TROLLEY ---`);\n        items.push(`TYPE: Trolley Line`);\n    }\n    return renderTooltipItems(items, {\n        compact: true\n    });\n};\nfunction DispatchCesiumMap() {\n    const mapContainer = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const cesiumViewerRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const measurementHandlerRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const [mapLoaded, setMapLoaded] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [mapError, setMapError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [cesiumLoaded, setCesiumLoaded] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [dialogOpen, setDialogOpen] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [dialogData, setDialogData] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [showProfileViewer, setShowProfileViewer] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [selectedRoadId, setSelectedRoadId] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    // Data\n    const [locations, setLocations] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [segments, setSegments] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [trolleySegments, setTrolleySegments] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [wateringStations, setWateringStations] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [speedMonitoring, setSpeedMonitoring] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [intersections, setIntersections] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [centerPoints, setCenterPoints] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const centerPointEntitiesRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)([]);\n    const { isDialogOpen: turnDialogOpen, currentStep: turnCurrentStep, getCurrentStep: getTurnCurrentStep, selectedSourceRoad: turnSourceRoad, selectedDestinationRoad: turnDestRoad, openDialog: openTurnDialog, closeDialog: closeTurnDialog, startSelection: startTurnSelection, handleMapClick: handleTurnPathClick } = (0,_useTurnPathManager__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(cesiumViewerRef, centerPoints);\n    // UI State\n    const [roadNetworksExpanded, setRoadNetworksExpanded] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const [locationTypesExpanded, setLocationTypesExpanded] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const [baseLayer, setBaseLayer] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"night\"); // 'night' or 'day'\n    const [sceneMode, setSceneMode] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"3d\"); // '3d' or '2d'\n    const [measurementMode, setMeasurementMode] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"none\"); // none | distance | area\n    // Visibility\n    const [showOpenRoads, setShowOpenRoads] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const [showClosedRoads, setShowClosedRoads] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const [showIntersections, setShowIntersections] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const [showCenterPoints, setShowCenterPoints] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [showTrolley, setShowTrolley] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const [showWatering, setShowWatering] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const [showSpeed, setShowSpeed] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const [visibleLocationTypes, setVisibleLocationTypes] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(new Set());\n    // Frontrunner-style measurement hook\n    const { measurementMode: frMeasurementMode, startMeasurement: frStartMeasurement, cancelMeasurement: frCancelMeasurement, addMeasurementPoint: frAddPoint, clearMeasurements: frClearMeasurements, updatePreviewLine: frUpdatePreview, finalizeAreaMeasurement: frFinalizeArea, getMeasurementMode: frGetMode } = (0,_useMeasurementTool__WEBPACK_IMPORTED_MODULE_8__[\"default\"])(cesiumViewerRef);\n    const recenterView = ()=>{\n        const viewer = cesiumViewerRef.current;\n        if (!viewer || !window?.Cesium) return;\n        const Cesium1 = window.Cesium;\n        viewer.camera.flyTo({\n            destination: Cesium1.Cartesian3.fromDegrees(148.980202, -23.847083, 5000),\n            orientation: {\n                heading: 0,\n                pitch: Cesium1.Math.toRadians(-90),\n                roll: 0\n            },\n            duration: 0.8\n        });\n    };\n    // Computed\n    // ---------------------------------------------------------------------\n    // Hide info/tooltip overlays while turn-path selection is active\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const selecting = turnCurrentStep === \"selecting_source\" || turnCurrentStep === \"selecting_destination\";\n        if (selecting) {\n            setDialogOpen(false);\n            setDialogData(null);\n            const tooltip = document.getElementById(\"map-tooltip\");\n            if (tooltip) tooltip.style.display = \"none\";\n        }\n    }, [\n        turnCurrentStep\n    ]);\n    // ---------------------------------------------------------------------\n    const locationCounts = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>{\n        const counts = {};\n        locations.forEach((l)=>counts[resolveDispatchLocationType(l)] = (counts[resolveDispatchLocationType(l)] || 0) + 1);\n        return counts;\n    }, [\n        locations\n    ]);\n    const roadCounts = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>({\n            open: segments.filter((s)=>!isDispatchSegmentClosed(s)).length,\n            closed: segments.filter((s)=>isDispatchSegmentClosed(s)).length\n        }), [\n        segments\n    ]);\n    const centerPointCount = centerPoints.length;\n    const toggleLocationType = (type, checked)=>{\n        const newSet = new Set(visibleLocationTypes);\n        checked ? newSet.add(type) : newSet.delete(type);\n        setVisibleLocationTypes(newSet);\n    };\n    // Initialize Cesium\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (!cesiumLoaded || !mapContainer.current || cesiumViewerRef.current) return;\n        try {\n            const Cesium1 = window.Cesium;\n            Cesium1.Ion.defaultAccessToken = \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiJkN2JiMWMyMS05YmU0LTQ2MzktODk5Yy0xZjJjMDkyOGJkMzkiLCJpZCI6MTg0NzYsImlhdCI6MTYzOTQzOTU4Mn0.6GMOP-Y9nPwqGPZ0fLCuO-YXK1xVHK0HxxMz4EBqhJk\";\n            let coordHandler1 = null;\n            let coordDisplay1 = null;\n            const viewer = new Cesium1.Viewer(mapContainer.current, {\n                baseLayerPicker: false,\n                geocoder: false,\n                homeButton: false,\n                sceneModePicker: false,\n                navigationHelpButton: false,\n                animation: false,\n                timeline: false,\n                fullscreenButton: false,\n                vrButton: false,\n                imageryProvider: false,\n                terrainProvider: new Cesium1.EllipsoidTerrainProvider(),\n                selectionIndicator: false,\n                infoBox: false\n            });\n            viewer.cesiumWidget.creditContainer.style.display = \"none\";\n            viewer.camera.setView({\n                destination: Cesium1.Cartesian3.fromDegrees(148.980202, -23.847083, 5000),\n                orientation: {\n                    heading: 0,\n                    pitch: Cesium1.Math.toRadians(-90),\n                    roll: 0\n                }\n            });\n            cesiumViewerRef.current = viewer;\n            window.cesiumViewer = viewer;\n            setMapLoaded(true);\n            // Load center points from backend (intersection_center_points)\n            fetch(\"/api/intersection_center_points\").then((res)=>res.json()).then((data)=>{\n                if (Array.isArray(data)) {\n                    setCenterPoints(data);\n                }\n            }).catch((err)=>{\n                console.warn(\"Failed to load center points\", err?.message || err);\n            });\n            // Measurement handlers\n            const handler = new Cesium1.ScreenSpaceEventHandler(viewer.scene.canvas);\n            measurementHandlerRef.current = handler;\n            handler.setInputAction((movement)=>{\n                // Turn path selection takes priority if in selecting mode\n                const step = getTurnCurrentStep?.();\n                if (step === \"selecting_source\" || step === \"selecting_destination\") {\n                    const drill = viewer.scene.drillPick(movement.position);\n                    const picked = drill && drill[0] || viewer.scene.pick(movement.position);\n                    if (picked && picked.id) {\n                        handleTurnPathClick(picked.id);\n                        return;\n                    }\n                }\n                const mode = frGetMode();\n                if (!mode) return;\n                const ellipsoid = viewer.scene.globe.ellipsoid;\n                let cartesian = viewer.camera.pickEllipsoid(movement.position, ellipsoid) || viewer.scene.pickPosition(movement.position);\n                if (!cartesian) {\n                    const ray = viewer.camera.getPickRay(movement.position);\n                    if (ray) cartesian = viewer.scene.globe.pick(ray, viewer.scene);\n                }\n                if (!cartesian) return;\n                const carto = ellipsoid.cartesianToCartographic(cartesian);\n                const clamped = Cesium1.Cartesian3.fromRadians(carto.longitude, carto.latitude, 0.0);\n                frAddPoint(clamped);\n            }, Cesium1.ScreenSpaceEventType.LEFT_CLICK);\n            handler.setInputAction((movement)=>{\n                const mode = frGetMode();\n                if (mode !== \"distance\") return;\n                const ellipsoid = viewer.scene.globe.ellipsoid;\n                let cartesian = viewer.camera.pickEllipsoid(movement.endPosition, ellipsoid) || viewer.scene.pickPosition(movement.endPosition);\n                if (!cartesian) {\n                    frUpdatePreview(null);\n                    return;\n                }\n                const carto = ellipsoid.cartesianToCartographic(cartesian);\n                const clamped = Cesium1.Cartesian3.fromRadians(carto.longitude, carto.latitude, 0.0);\n                frUpdatePreview(clamped);\n            }, Cesium1.ScreenSpaceEventType.MOUSE_MOVE);\n            handler.setInputAction(()=>{\n                frFinalizeArea();\n            }, Cesium1.ScreenSpaceEventType.RIGHT_CLICK);\n            // Coordinates (exact Frontrunner style)\n            coordDisplay1 = document.createElement(\"div\");\n            coordDisplay1.id = \"mouse-coordinates\";\n            coordDisplay1.style.cssText = `\n              position: absolute;\n              bottom: 20px;\n              right: 20px;\n              background: rgba(50, 50, 50, 0.92);\n              color: white;\n              padding: 12px 16px;\n              border-radius: 9px;\n              font-family: 'Segoe UI', -apple-system, BlinkMacSystemFont, sans-serif;\n              font-size: 12px;\n              font-weight: 400;\n              box-shadow: 0 4px 16px rgba(0, 0, 0, 0.3);\n              backdrop-filter: blur(12px);\n              border: none;\n              z-index: 1000;\n              min-width: 160px;\n              text-align: left;\n              display: block;\n              line-height: 1.35;\n            `;\n            document.body.appendChild(coordDisplay1);\n            coordHandler1 = new Cesium1.ScreenSpaceEventHandler(viewer.scene.canvas);\n            coordHandler1.setInputAction((movement)=>{\n                const cartesian = viewer.scene.pickPosition(movement.endPosition);\n                if (Cesium1.defined(cartesian)) {\n                    const cart = Cesium1.Cartographic.fromCartesian(cartesian);\n                    const lng = Cesium1.Math.toDegrees(cart.longitude).toFixed(6);\n                    const lat = Cesium1.Math.toDegrees(cart.latitude).toFixed(6);\n                    coordDisplay1.innerHTML = `\n                      <div style=\"display: flex; justify-content: space-between; margin-bottom: 4px;\">\n                        <span style=\"color: #a0a0a0; font-weight: 400;\">Lat:</span>\n                        <span style=\"color: white; font-weight: 500; font-variant-numeric: tabular-nums;\">${lat}°</span>\n                      </div>\n                      <div style=\"display: flex; justify-content: space-between;\">\n                        <span style=\"color: #a0a0a0; font-weight: 400;\">Lng:</span>\n                        <span style=\"color: white; font-weight: 500; font-variant-numeric: tabular-nums;\">${lng}°</span>\n                      </div>\n                    `;\n                    coordDisplay1.style.display = \"block\";\n                }\n            }, Cesium1.ScreenSpaceEventType.MOUSE_MOVE);\n        } catch (e) {\n            setMapError(e.message);\n        }\n        return ()=>{\n            if (measurementHandlerRef.current) {\n                measurementHandlerRef.current.destroy();\n                measurementHandlerRef.current = null;\n            }\n            if (coordHandler && !coordHandler.isDestroyed()) {\n                coordHandler.destroy();\n            }\n            if (coordDisplay && coordDisplay.parentNode) {\n                coordDisplay.remove();\n            }\n            cesiumViewerRef.current?.destroy();\n        };\n    }, [\n        cesiumLoaded\n    ]);\n    // Tooltip Handler\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (!mapLoaded || !cesiumViewerRef.current) return;\n        const viewer = cesiumViewerRef.current;\n        const Cesium1 = window.Cesium;\n        const handler = new Cesium1.ScreenSpaceEventHandler(viewer.scene.canvas);\n        const tooltip = document.createElement(\"div\");\n        tooltip.style.cssText = `\n            position: absolute; display: none; pointer-events: none;\n            background: rgba(20, 20, 30, 0.95); color: white;\n            padding: 8px 12px; border-radius: 6px;\n            font-family: 'Inter', sans-serif; font-size: 12px;\n            box-shadow: 0 4px 12px rgba(0,0,0,0.4);\n            border: 1px solid rgba(255,255,255,0.15);\n            z-index: 10000; max-width: 300px;\n        `;\n        viewer.container.appendChild(tooltip);\n        handler.setInputAction((movement)=>{\n            const step = getTurnCurrentStep?.();\n            if (step === \"selecting_source\" || step === \"selecting_destination\") {\n                tooltip.style.display = \"none\";\n                viewer.container.style.cursor = \"default\";\n                return;\n            }\n            const pickedObject = viewer.scene.pick(movement.endPosition);\n            if (pickedObject && pickedObject.id && pickedObject.id.properties) {\n                const content = formatTooltipContent(pickedObject.id);\n                if (content) {\n                    tooltip.style.display = \"block\";\n                    tooltip.innerHTML = content;\n                    // Position tooltip near mouse but not under it\n                    const x = movement.endPosition.x + 15;\n                    const y = movement.endPosition.y + 15;\n                    tooltip.style.left = `${x}px`;\n                    tooltip.style.top = `${y}px`;\n                    // Keep within bounds\n                    const containerRect = viewer.container.getBoundingClientRect();\n                    if (x + tooltip.offsetWidth > containerRect.width) {\n                        tooltip.style.left = `${movement.endPosition.x - tooltip.offsetWidth - 10}px`;\n                    }\n                    if (y + tooltip.offsetHeight > containerRect.height) {\n                        tooltip.style.top = `${movement.endPosition.y - tooltip.offsetHeight - 10}px`;\n                    }\n                    viewer.container.style.cursor = \"pointer\";\n                    return;\n                }\n            }\n            tooltip.style.display = \"none\";\n            viewer.container.style.cursor = \"default\";\n        }, Cesium1.ScreenSpaceEventType.MOUSE_MOVE);\n        return ()=>{\n            handler.destroy();\n            if (tooltip.parentNode) tooltip.parentNode.removeChild(tooltip);\n        };\n    }, [\n        mapLoaded\n    ]);\n    // Click Handler for Dialog\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (!mapLoaded || !cesiumViewerRef.current) return;\n        const viewer = cesiumViewerRef.current;\n        const Cesium1 = window.Cesium;\n        const handler = new Cesium1.ScreenSpaceEventHandler(viewer.scene.canvas);\n        handler.setInputAction((click)=>{\n            // Short-circuit to turn-path selection: no info dialog while selecting\n            const step = getTurnCurrentStep?.();\n            if (step === \"selecting_source\" || step === \"selecting_destination\") {\n                const drill = viewer.scene.drillPick(click.position);\n                const picked = drill && drill[0] || viewer.scene.pick(click.position);\n                if (picked && picked.id) {\n                    handleTurnPathClick(picked.id);\n                }\n                return; // always suppress info dialog while selecting\n            }\n            // Look at *all* primitives under the cursor\n            const picked = viewer.scene.drillPick(click.position) || [];\n            // Prefer locations / intersections over roads when overlapping\n            let pickedObject = picked.find((o)=>{\n                if (!o.id || !o.id.properties || !o.id.properties.category) return false;\n                const catProp = o.id.properties.category;\n                const cat = catProp.getValue ? catProp.getValue(window.Cesium.JulianDate.now()) : catProp;\n                return cat === \"dispatch_location\" || cat === \"dispatch_intersection\";\n            }) || picked[0];\n            if (Cesium1.defined(pickedObject) && pickedObject.id && pickedObject.id.properties) {\n                const entity = pickedObject.id;\n                const allProperties = {};\n                // Extract properties\n                const propertyNames = entity.properties.propertyNames || Object.keys(entity.properties);\n                propertyNames.forEach((propName)=>{\n                    // Skip internal Cesium properties\n                    if (propName.startsWith(\"_\") || propName === \"propertyNames\" || propName === \"definitionChanged\" || propName === \"color\" || propName === \"style_role\") return;\n                    try {\n                        const prop = entity.properties[propName];\n                        if (prop && typeof prop.getValue === \"function\") {\n                            const val = prop.getValue(Cesium1.JulianDate.now());\n                            if (val !== undefined && val !== null) allProperties[propName] = val;\n                        } else if (prop !== undefined && prop !== null) {\n                            allProperties[propName] = prop;\n                        }\n                    } catch (e) {}\n                });\n                // Also try direct properties if not found above\n                if (entity.properties.category && !allProperties.category) {\n                    allProperties.category = entity.properties.category.getValue ? entity.properties.category.getValue() : entity.properties.category;\n                }\n                if (entity.properties.name && !allProperties.name) {\n                    allProperties.name = entity.properties.name.getValue ? entity.properties.name.getValue() : entity.properties.name;\n                }\n                // Clear previous highlights\n                viewer.entities.values.forEach((prevEntity)=>{\n                    if (prevEntity._originalMaterial) {\n                        if (prevEntity.corridor) {\n                            prevEntity.corridor.material = prevEntity._originalMaterial;\n                            prevEntity.corridor.outline = false;\n                        } else if (prevEntity.polygon) {\n                            prevEntity.polygon.material = prevEntity._originalMaterial;\n                            prevEntity.polygon.outline = false;\n                        }\n                        delete prevEntity._originalMaterial;\n                    }\n                });\n                // Highlight clicked entity\n                if (entity.corridor) {\n                    if (!entity._originalMaterial) entity._originalMaterial = entity.corridor.material;\n                    entity.corridor.material = Cesium1.Color.CYAN.withAlpha(1.0);\n                    entity.corridor.outline = true;\n                    entity.corridor.outlineColor = Cesium1.Color.YELLOW;\n                    entity.corridor.outlineWidth = 3;\n                } else if (entity.polygon) {\n                    if (!entity._originalMaterial) entity._originalMaterial = entity.polygon.material;\n                    entity.polygon.material = Cesium1.Color.CYAN.withAlpha(0.9);\n                    entity.polygon.outline = true;\n                    entity.polygon.outlineColor = Cesium1.Color.YELLOW;\n                    entity.polygon.outlineWidth = 3;\n                }\n                setDialogData({\n                    category: allProperties.category,\n                    name: allProperties.name || \"Unknown\",\n                    allProperties: allProperties\n                });\n                setDialogOpen(true);\n            } else {\n                // Clicked empty space\n                setDialogOpen(false);\n                setDialogData(null);\n                // Reset highlights\n                viewer.entities.values.forEach((prevEntity)=>{\n                    if (prevEntity._originalMaterial) {\n                        if (prevEntity.corridor) {\n                            prevEntity.corridor.material = prevEntity._originalMaterial;\n                            prevEntity.corridor.outline = false;\n                        } else if (prevEntity.polygon) {\n                            prevEntity.polygon.material = prevEntity._originalMaterial;\n                            prevEntity.polygon.outline = false;\n                        }\n                        delete prevEntity._originalMaterial;\n                    }\n                });\n            }\n        }, Cesium1.ScreenSpaceEventType.LEFT_CLICK);\n        return ()=>{\n            handler.destroy();\n        };\n    }, [\n        mapLoaded\n    ]);\n    // Center points renderer (magenta markers, like Frontrunner)\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const viewer = cesiumViewerRef.current;\n        if (!viewer || !viewer.entities) return;\n        // clear old\n        if (centerPointEntitiesRef.current.length) {\n            centerPointEntitiesRef.current.forEach((e)=>{\n                try {\n                    viewer.entities.remove(e);\n                } catch (_) {}\n            });\n            centerPointEntitiesRef.current = [];\n        }\n        if (!showCenterPoints || !Array.isArray(centerPoints)) {\n            viewer.scene?.requestRender();\n            return;\n        }\n        const Cesium1 = window.Cesium;\n        centerPoints.forEach((cp)=>{\n            if (cp.lon == null || cp.lat == null) return;\n            const pos = Cesium1.Cartesian3.fromDegrees(cp.lon, cp.lat, 2.0);\n            const ent = viewer.entities.add({\n                position: pos,\n                point: {\n                    pixelSize: 25,\n                    color: Cesium1.Color.MAGENTA,\n                    outlineColor: Cesium1.Color.WHITE,\n                    outlineWidth: 6,\n                    heightReference: Cesium1.HeightReference.RELATIVE_TO_GROUND,\n                    disableDepthTestDistance: Number.POSITIVE_INFINITY,\n                    scaleByDistance: new Cesium1.NearFarScalar(1.5e2, 3.0, 1.5e7, 1.5)\n                },\n                cylinder: {\n                    length: 2.0,\n                    topRadius: 0.8,\n                    bottomRadius: 0.8,\n                    material: Cesium1.Color.MAGENTA.withAlpha(0.9),\n                    outline: true,\n                    outlineColor: Cesium1.Color.WHITE,\n                    outlineWidth: 2,\n                    heightReference: Cesium1.HeightReference.RELATIVE_TO_GROUND\n                },\n                properties: {\n                    category: \"road_intersection_center\",\n                    road_id: cp.road_id,\n                    intersection_id: cp.intersection_id,\n                    intersection_name: cp.intersection_name\n                },\n                name: `Center Point ${cp.intersection_name || \"\"} (${cp.road_id || \"\"})`\n            });\n            centerPointEntitiesRef.current.push(ent);\n        });\n        viewer.scene?.requestRender();\n    }, [\n        centerPoints,\n        showCenterPoints\n    ]);\n    // Base Layer Logic\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (!cesiumViewerRef.current || !window.Cesium) return;\n        const viewer = cesiumViewerRef.current;\n        const Cesium1 = window.Cesium;\n        let cancelled = false;\n        const updateBaseLayer = async ()=>{\n            viewer.imageryLayers.removeAll();\n            let provider;\n            switch(baseLayer){\n                case \"night\":\n                    provider = new Cesium1.UrlTemplateImageryProvider({\n                        url: \"https://a.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}.png\",\n                        credit: \"\\xa9 OpenStreetMap contributors, \\xa9 CARTO\"\n                    });\n                    break;\n                case \"day\":\n                    provider = new Cesium1.UrlTemplateImageryProvider({\n                        url: \"https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}\",\n                        credit: \"\\xa9 Esri, DigitalGlobe, GeoEye, Earthstar Geographics, CNES/Airbus DS, USDA, USGS, AeroGRID, IGN, and the GIS User Community\"\n                    });\n                    break;\n                case \"topographic\":\n                    provider = new Cesium1.UrlTemplateImageryProvider({\n                        url: \"https://{s}.tile.opentopomap.org/{z}/{x}/{y}.png\",\n                        credit: \"\\xa9 OpenTopoMap contributors\",\n                        subdomains: [\n                            \"a\",\n                            \"b\",\n                            \"c\"\n                        ]\n                    });\n                    break;\n                case \"terrain\":\n                    provider = new Cesium1.UrlTemplateImageryProvider({\n                        url: \"https://tiles.stadiamaps.com/tiles/stamen_terrain/{z}/{x}/{y}.png\",\n                        credit: \"\\xa9 Stadia Maps \\xa9 Stamen Design \\xa9 OpenMapTiles \\xa9 OpenStreetMap contributors\"\n                    });\n                    break;\n                default:\n                    provider = new Cesium1.UrlTemplateImageryProvider({\n                        url: \"https://a.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}.png\",\n                        credit: \"\\xa9 OpenStreetMap contributors, \\xa9 CARTO\"\n                    });\n            }\n            if (!cancelled) {\n                viewer.imageryLayers.addImageryProvider(provider);\n                // Ensure base color is dark for night mode or general consistency\n                viewer.scene.globe.baseColor = Cesium1.Color.fromCssColorString(\"#1a1a2e\");\n            }\n        };\n        updateBaseLayer();\n        return ()=>{\n            cancelled = true;\n        };\n    }, [\n        baseLayer,\n        mapLoaded\n    ]);\n    // Scene mode toggle (2D vs 3D)\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (!mapLoaded || !cesiumViewerRef.current || !window.Cesium) return;\n        const viewer = cesiumViewerRef.current;\n        const Cesium1 = window.Cesium;\n        if (sceneMode === \"2d\") {\n            viewer.scene.morphTo2D(0);\n        } else {\n            viewer.scene.morphTo3D(0);\n        }\n    }, [\n        sceneMode,\n        mapLoaded\n    ]);\n    // Load Data (combined API)\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (!mapLoaded) return;\n        const load = async ()=>{\n            try {\n                const res = await fetch(\"/api/combined-map-data\");\n                const data = await res.json();\n                // Show everything from the combined API (both dispatch and frontrunner)\n                const roads = data?.roads || [];\n                const intersections = data?.intersections || [];\n                const infrastructure = data?.infrastructure || [];\n                const apiSegments = data?.segments || [];\n                const mappedSegments = (apiSegments.length ? apiSegments : roads).map((s)=>({\n                        lane_id: s.lane_id || s.road_id,\n                        road_id: s.road_id || s.lane_id,\n                        geometry: s.geometry_geojson || s.geometry || s.centerline_geojson,\n                        is_closed: s.is_closed,\n                        direction: s.direction ?? null,\n                        length_m: s.length_m ?? null\n                    }));\n                const mappedLocations = infrastructure.map((p)=>{\n                    let lat = null, lon = null;\n                    try {\n                        const gj = p.point_geojson ? JSON.parse(p.point_geojson) : null;\n                        if (gj && gj.type === \"Point\" && Array.isArray(gj.coordinates)) {\n                            [lon, lat] = gj.coordinates;\n                        }\n                    } catch (_) {}\n                    return {\n                        location_id: p.location_id,\n                        location_name: p.location_name || \"\",\n                        latitude: lat,\n                        longitude: lon,\n                        geometry: p.geom_geojson || p.geometry || null,\n                        unit_type: p.unit_type || p.location_category || p.unit_type_id || p.unit_id || p.source || \"infrastructure\",\n                        location_category: p.location_category || p.unit_type || p.unit_type_id || p.unit_id || p.source || \"infrastructure\",\n                        unit_type_id: p.unit_type_id || p.unit_id || null,\n                        source: p.source || \"\"\n                    };\n                }).filter((p)=>Number.isFinite(p.latitude) && Number.isFinite(p.longitude));\n                const mappedIntersections = intersections.map((i)=>({\n                        ...i,\n                        geometry: i.geom_geojson || i.geometry\n                    }));\n                // Debug: log counts and top types\n                const typeCounts = {};\n                mappedLocations.forEach((loc)=>{\n                    const t = resolveDispatchLocationType(loc);\n                    typeCounts[t] = (typeCounts[t] || 0) + 1;\n                });\n                // Log a few sample locations with resolved type\n                console.log(\"[CombinedMap][Data]\", {\n                    roads: roads.length,\n                    segments: mappedSegments.length,\n                    intersections: mappedIntersections.length,\n                    infrastructure: mappedLocations.length,\n                    typeCounts,\n                    samples: mappedLocations.slice(0, 5).map((loc)=>({\n                            location_id: loc.location_id,\n                            source: loc.source,\n                            unit_type: loc.unit_type,\n                            unit_type_id: loc.unit_type_id,\n                            resolved_type: resolveDispatchLocationType(loc)\n                        }))\n                });\n                setLocations(mappedLocations);\n                setSegments(mappedSegments);\n                setTrolleySegments(data?.trolleySegments || []);\n                setWateringStations(data?.wateringStations || []);\n                setSpeedMonitoring(data?.speedMonitoring || []);\n                setIntersections(mappedIntersections);\n                // Build visible types from the resolved types present in the payload\n                const resolvedTypes = Array.from(new Set(mappedLocations.map((loc)=>resolveDispatchLocationType(loc))));\n                const visibleSet = new Set();\n                resolvedTypes.forEach((t)=>{\n                    const key = String(t).trim().toLowerCase();\n                    const isNumeric = /^[0-9]+$/.test(key);\n                    if (SQUARE_TYPES.has(key) || isNumeric) {\n                        visibleSet.add(t);\n                    }\n                });\n                SQUARE_TYPES.forEach((t)=>visibleSet.add(t));\n                setVisibleLocationTypes(visibleSet);\n                console.log(`[CombinedMap] Loaded data:\n                  - Locations: ${mappedLocations.length}\n                  - Segments: ${mappedSegments.length}\n                  - Intersections: ${mappedIntersections.length}`);\n            } catch (e) {\n                console.error(e);\n            }\n        };\n        load();\n    }, [\n        mapLoaded\n    ]);\n    // Render\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (!cesiumViewerRef.current || !window.Cesium) return;\n        const viewer = cesiumViewerRef.current;\n        const Cesium1 = window.Cesium;\n        // Clear existing entities\n        viewer.entities.removeAll();\n        // Helper function to compute an offset polyline (for road edges)\n        const computeOffsetLine = (positions, offsetMeters)=>{\n            const Cesium1 = window.Cesium;\n            const ellipsoid = Cesium1.Ellipsoid.WGS84;\n            const offsetPositions = [];\n            const direction = new Cesium1.Cartesian3();\n            const up = new Cesium1.Cartesian3();\n            const right = new Cesium1.Cartesian3();\n            const n = positions.length;\n            if (n === 0) return offsetPositions;\n            if (n === 1) {\n                offsetPositions.push(positions[0]);\n                return offsetPositions;\n            }\n            for(let i = 0; i < n; i++){\n                const cur = positions[i];\n                // ---- choose a forward vector with CONSISTENT orientation ----\n                if (i === 0) {\n                    // first: use next - current\n                    Cesium1.Cartesian3.subtract(positions[1], cur, direction);\n                } else if (i === n - 1) {\n                    // last: use current - previous\n                    Cesium1.Cartesian3.subtract(cur, positions[n - 2], direction);\n                } else {\n                    // middle: average prev and next directions for smoother corners\n                    const d1 = new Cesium1.Cartesian3();\n                    const d2 = new Cesium1.Cartesian3();\n                    Cesium1.Cartesian3.subtract(cur, positions[i - 1], d1);\n                    Cesium1.Cartesian3.subtract(positions[i + 1], cur, d2);\n                    if (Cesium1.Cartesian3.magnitudeSquared(d1) > Cesium1.Math.EPSILON10) Cesium1.Cartesian3.normalize(d1, d1);\n                    if (Cesium1.Cartesian3.magnitudeSquared(d2) > Cesium1.Math.EPSILON10) Cesium1.Cartesian3.normalize(d2, d2);\n                    Cesium1.Cartesian3.add(d1, d2, direction);\n                }\n                // zero-length safety\n                if (Cesium1.Cartesian3.magnitudeSquared(direction) < Cesium1.Math.EPSILON10) {\n                    offsetPositions.push(cur);\n                    continue;\n                }\n                Cesium1.Cartesian3.normalize(direction, direction);\n                if (isNaN(direction.x) || isNaN(direction.y) || isNaN(direction.z)) {\n                    offsetPositions.push(cur);\n                    continue;\n                }\n                // local \"up\" (normal to ellipsoid at this point)\n                ellipsoid.geodeticSurfaceNormal(cur, up);\n                // right = direction x up  (perpendicular to road, tangent to ground)\n                Cesium1.Cartesian3.cross(direction, up, right);\n                if (Cesium1.Cartesian3.magnitudeSquared(right) < Cesium1.Math.EPSILON10) {\n                    offsetPositions.push(cur);\n                    continue;\n                }\n                Cesium1.Cartesian3.normalize(right, right);\n                if (isNaN(right.x) || isNaN(right.y) || isNaN(right.z)) {\n                    offsetPositions.push(cur);\n                    continue;\n                }\n                const offset = Cesium1.Cartesian3.multiplyByScalar(right, offsetMeters, new Cesium1.Cartesian3());\n                const finalPos = Cesium1.Cartesian3.add(cur, offset, new Cesium1.Cartesian3());\n                if (isNaN(finalPos.x) || isNaN(finalPos.y) || isNaN(finalPos.z)) {\n                    offsetPositions.push(cur);\n                } else {\n                    offsetPositions.push(finalPos);\n                }\n            }\n            return offsetPositions;\n        };\n        // Helper: Filter unique positions to prevent zero-length segments\n        const filterUniquePositions = (positions)=>{\n            if (!positions || positions.length < 2) return positions;\n            return positions.filter((p, idx)=>{\n                if (idx === 0) return true;\n                const prev = positions[idx - 1];\n                return Cesium1.Cartesian3.distanceSquared(p, prev) > 0.0001; // 1cm^2 threshold\n            });\n        };\n        // Helper: bearing (heading) of the nearest road segment to a location.\n        // Returns heading in radians, measured clockwise from NORTH.\n        const getNearestRoadBearing = (location, segments)=>{\n            const locCart = Cesium1.Cartesian3.fromDegrees(location.longitude, location.latitude);\n            let minDistance = Infinity;\n            let bestBearing = 0;\n            segments.forEach((s)=>{\n                const g = typeof s.geometry === \"string\" ? JSON.parse(s.geometry) : s.geometry;\n                if (!g?.coordinates || g.coordinates.length < 2) return;\n                const coords = g.coordinates;\n                for(let i = 0; i < coords.length - 1; i++){\n                    const c1Raw = coords[i];\n                    const c2Raw = coords[i + 1];\n                    if (!Number.isFinite(c1Raw[0]) || !Number.isFinite(c1Raw[1]) || !Number.isFinite(c2Raw[0]) || !Number.isFinite(c2Raw[1])) {\n                        continue;\n                    }\n                    const p1 = Cesium1.Cartesian3.fromDegrees(c1Raw[0], c1Raw[1]);\n                    const p2 = Cesium1.Cartesian3.fromDegrees(c2Raw[0], c2Raw[1]);\n                    // use segment midpoint as \"position\" to compare distance\n                    const mid = Cesium1.Cartesian3.multiplyByScalar(Cesium1.Cartesian3.add(p1, p2, new Cesium1.Cartesian3()), 0.5, new Cesium1.Cartesian3());\n                    const distSq = Cesium1.Cartesian3.distanceSquared(locCart, mid);\n                    if (distSq >= minDistance) continue;\n                    // closer -> update bearing\n                    minDistance = distSq;\n                    const c1 = Cesium1.Cartographic.fromDegrees(c1Raw[0], c1Raw[1]);\n                    const c2 = Cesium1.Cartographic.fromDegrees(c2Raw[0], c2Raw[1]);\n                    const dLon = c2.longitude - c1.longitude;\n                    const y = Math.sin(dLon) * Math.cos(c2.latitude);\n                    const x = Math.cos(c1.latitude) * Math.sin(c2.latitude) - Math.sin(c1.latitude) * Math.cos(c2.latitude) * Math.cos(dLon);\n                    // heading from NORTH, clockwise, in radians\n                    bestBearing = Math.atan2(y, x);\n                }\n            });\n            return isNaN(bestBearing) ? 0 : bestBearing;\n        };\n        // Helper: 50m x 50m square polygon, rotated by angleFromEast (radians), in ENU frame\n        const computeSquarePolygon = (centerCartesian, sizeMeters, angleFromEast)=>{\n            if (isNaN(angleFromEast) || !centerCartesian) return null;\n            const half = sizeMeters / 2.0;\n            // ENU (East-North-Up) local frame at the center\n            const transform = Cesium1.Transforms.eastNorthUpToFixedFrame(centerCartesian);\n            const cos = Math.cos(angleFromEast);\n            const sin = Math.sin(angleFromEast);\n            // square corners in local ENU before rotation (meters)\n            const baseCorners = [\n                {\n                    x: -half,\n                    y: -half\n                },\n                {\n                    x: half,\n                    y: -half\n                },\n                {\n                    x: half,\n                    y: half\n                },\n                {\n                    x: -half,\n                    y: half\n                }\n            ];\n            const result = baseCorners.map((c)=>{\n                // rotate in ENU\n                const rx = c.x * cos - c.y * sin;\n                const ry = c.x * sin + c.y * cos;\n                const localPos = new Cesium1.Cartesian3(rx, ry, 0.0);\n                return Cesium1.Matrix4.multiplyByPoint(transform, localPos, new Cesium1.Cartesian3());\n            });\n            // Validate result for NaNs\n            for (const p of result){\n                if (isNaN(p.x) || isNaN(p.y) || isNaN(p.z)) return null;\n            }\n            return result;\n        };\n        // Exact theme (only using the colors now)\n        const NIGHT_THEME = {\n            // Dark asphalt surfaces; edge color carries status\n            roadSurfaceColorOpen: \"#2C2F3A\",\n            roadSurfaceColorClosed: \"#2C2F3A\",\n            roadSurfaceAlpha: 0.98,\n            roadShoulderColorOpen: \"#2C2F3A\",\n            roadShoulderColorClosed: \"#2C2F3A\",\n            roadShoulderAlpha: 0.98,\n            polygonOutlineColor: \"#A0A0A0\",\n            polygonOutlineAlpha: 0.95,\n            polygonOutlineWidth: 2.2,\n            // Intersection styling: red fill, white outline\n            intersectionFillColor: \"#E74C3C\",\n            intersectionFillAlpha: 1.0,\n            intersectionOutlineColor: \"#FFFFFF\",\n            intersectionOutlineAlpha: 1.0\n        };\n        // ----- cross-section constants -----\n        // total width (forward + backward + centre white line)\n        const TOTAL_ROAD_WIDTH = 40.0; // metres\n        const CENTERLINE_WIDTH = 1.0; // metres\n        // each direction (incl. its shoulder) gets half of the remaining width\n        const LANE_TOTAL_WIDTH = (TOTAL_ROAD_WIDTH - CENTERLINE_WIDTH) / 2.0; // 19.5 m\n        const HALF_LANE_TOTAL_WIDTH = LANE_TOTAL_WIDTH / 2.0; // 9.75 m\n        // make the asphalt slightly narrower than the lane (so there is a subtle shoulder)\n        const LANE_SHOULDER_PADDING = 1.0; // m each side\n        const LANE_SURFACE_WIDTH = LANE_TOTAL_WIDTH - 2 * LANE_SHOULDER_PADDING; // 17.5 m\n        // distance from the global centreline to the centre of each carriageway\n        // = half centreline + half lane width\n        const LANE_CENTER_OFFSET_MAG = CENTERLINE_WIDTH / 2.0 + HALF_LANE_TOTAL_WIDTH; // 0.5 + 9.75 = 10.25 m\n        // ROAD SEGMENTS\n        segments.forEach((s)=>{\n            const closed = isDispatchSegmentClosed(s);\n            if (!(closed && showClosedRoads || !closed && showOpenRoads)) return;\n            try {\n                const surfaceColor = Cesium1.Color.fromCssColorString(closed ? NIGHT_THEME.roadSurfaceColorClosed : NIGHT_THEME.roadSurfaceColorOpen).withAlpha(NIGHT_THEME.roadSurfaceAlpha);\n                const shoulderColor = Cesium1.Color.fromCssColorString(closed ? NIGHT_THEME.roadShoulderColorClosed : NIGHT_THEME.roadShoulderColorOpen).withAlpha(NIGHT_THEME.roadShoulderAlpha);\n                const edgeColor = closed ? Cesium1.Color.fromCssColorString(\"#E74C3C\") : Cesium1.Color.fromCssColorString(\"#FFD600\");\n                const centerlineColor = Cesium1.Color.WHITE;\n                const g = typeof s.geometry === \"string\" ? JSON.parse(s.geometry) : s.geometry;\n                if (!g?.coordinates) return;\n                // If Frontrunner road geometries arrive as polygons, render them as filled polygons.\n                if (g.type === \"Polygon\" || g.type === \"MultiPolygon\") {\n                    const polys = g.type === \"Polygon\" ? [\n                        g.coordinates\n                    ] : g.coordinates;\n                    polys.forEach((coords)=>{\n                        const hierarchy = parsePolygonHierarchy({\n                            type: \"Polygon\",\n                            coordinates: coords\n                        });\n                        if (hierarchy && hierarchy.positions && hierarchy.positions.length >= 3 && arePositionsValid(hierarchy.positions)) {\n                            viewer.entities.add({\n                                polygon: {\n                                    hierarchy,\n                                    material: surfaceColor,\n                                    outline: true,\n                                    outlineColor: edgeColor,\n                                    height: 0.0\n                                },\n                                properties: {\n                                    category: \"frontrunner_road_polygon\",\n                                    ...s\n                                }\n                            });\n                        }\n                    });\n                    return; // handled polygon case; skip corridor rendering\n                }\n                let allLineStrings = [];\n                if (g.type === \"MultiLineString\") {\n                    allLineStrings = g.coordinates;\n                } else if (g.type === \"LineString\") {\n                    allLineStrings = [\n                        g.coordinates\n                    ];\n                } else {\n                    return;\n                }\n                allLineStrings.forEach((coordinates)=>{\n                    // Validate coordinates structure\n                    if (!coordinates || !Array.isArray(coordinates) || coordinates.length < 2) return;\n                    // Filter invalid coordinates (NaN, etc)\n                    const validCoords = coordinates.filter((c)=>Array.isArray(c) && c.length >= 2 && Number.isFinite(c[0]) && Number.isFinite(c[1]));\n                    if (validCoords.length < 2) return;\n                    const rawPositions = validCoords.map((c)=>Cesium1.Cartesian3.fromDegrees(c[0], c[1]));\n                    // Filter duplicates and points that are too close (within 1cm)\n                    const positions = filterUniquePositions(rawPositions);\n                    if (positions.length < 2) return;\n                    // Extra guard for NaNs/degeneracy\n                    const spanOk = positions.every((p)=>Number.isFinite(p.x) && Number.isFinite(p.y) && Number.isFinite(p.z));\n                    if (!spanOk) return;\n                    const bbox = positions.reduce((acc, p)=>{\n                        acc.minX = Math.min(acc.minX, p.x);\n                        acc.maxX = Math.max(acc.maxX, p.x);\n                        acc.minY = Math.min(acc.minY, p.y);\n                        acc.maxY = Math.max(acc.maxY, p.y);\n                        acc.minZ = Math.min(acc.minZ, p.z);\n                        acc.maxZ = Math.max(acc.maxZ, p.z);\n                        return acc;\n                    }, {\n                        minX: Infinity,\n                        maxX: -Infinity,\n                        minY: Infinity,\n                        maxY: -Infinity,\n                        minZ: Infinity,\n                        maxZ: -Infinity\n                    });\n                    const span = Math.max(bbox.maxX - bbox.minX, bbox.maxY - bbox.minY, bbox.maxZ - bbox.minZ);\n                    if (!Number.isFinite(span) || span < 0.1) return;\n                    // ----- decide which side this lane sits on -----\n                    const dir = (s.direction || \"\").toString().toLowerCase();\n                    let dirSign = 0; // 0 = centred (if no direction), +1 = one side, -1 = opposite\n                    if (dir.includes(\"forward\")) dirSign = 1;\n                    else if (dir.includes(\"backward\")) dirSign = -1;\n                    const laneCenterOffset = dirSign * LANE_CENTER_OFFSET_MAG;\n                    // centreline of this *lane* (shifted left/right from global centreline)\n                    let lanePositions = laneCenterOffset === 0 ? positions : computeOffsetLine(positions, laneCenterOffset);\n                    // Final filter to ensure no duplicates after offset calculation\n                    lanePositions = filterUniquePositions(lanePositions);\n                    // Verify lanePositions after offset calculation\n                    if (!lanePositions || lanePositions.length < 2) return;\n                    // Colours: dark fill, edges indicate status (open yellow, closed red)\n                    // 1. Lane shoulder (full lane width, shifted to its side)\n                    viewer.entities.add({\n                        corridor: {\n                            positions: lanePositions,\n                            width: LANE_TOTAL_WIDTH,\n                            material: shoulderColor,\n                            height: 0.0,\n                            cornerType: Cesium1.CornerType.MITERED,\n                            outline: false\n                        },\n                        properties: {\n                            category: \"dispatch_segment\",\n                            style_role: \"road_shoulder\",\n                            ...s\n                        }\n                    });\n                    // 2. Lane asphalt surface (slightly narrower)\n                    viewer.entities.add({\n                        corridor: {\n                            positions: lanePositions,\n                            width: LANE_SURFACE_WIDTH,\n                            material: surfaceColor,\n                            height: 0.18,\n                            cornerType: Cesium1.CornerType.MITERED,\n                            outline: false\n                        },\n                        properties: {\n                            category: \"dispatch_segment\",\n                            style_role: \"road_surface\",\n                            ...s\n                        }\n                    });\n                    // 3. Centerline (dashed line)\n                    viewer.entities.add({\n                        polyline: {\n                            positions: lanePositions,\n                            width: CENTERLINE_WIDTH,\n                            material: new Cesium1.PolylineDashMaterialProperty({\n                                color: centerlineColor,\n                                dashLength: 16.0\n                            }),\n                            arcType: Cesium1.ArcType.GEODESIC\n                        },\n                        properties: {\n                            category: \"dispatch_segment\",\n                            style_role: \"road_centerline\",\n                            ...s\n                        }\n                    });\n                    // 4. Edges (solid lines)\n                    // Left edge\n                    const leftEdgeOffset = -HALF_LANE_TOTAL_WIDTH;\n                    let leftEdgePositions = computeOffsetLine(lanePositions, leftEdgeOffset);\n                    leftEdgePositions = filterUniquePositions(leftEdgePositions);\n                    if (leftEdgePositions && leftEdgePositions.length >= 2) {\n                        viewer.entities.add({\n                            polyline: {\n                                positions: leftEdgePositions,\n                                width: 2.0,\n                                material: edgeColor,\n                                arcType: Cesium1.ArcType.GEODESIC\n                            },\n                            properties: {\n                                category: \"dispatch_segment\",\n                                style_role: \"road_edge_left\",\n                                ...s\n                            }\n                        });\n                    }\n                    // Right edge\n                    const rightEdgeOffset = HALF_LANE_TOTAL_WIDTH;\n                    let rightEdgePositions = computeOffsetLine(lanePositions, rightEdgeOffset);\n                    rightEdgePositions = filterUniquePositions(rightEdgePositions);\n                    if (rightEdgePositions && rightEdgePositions.length >= 2) {\n                        viewer.entities.add({\n                            polyline: {\n                                positions: rightEdgePositions,\n                                width: 2.0,\n                                material: edgeColor,\n                                arcType: Cesium1.ArcType.GEODESIC\n                            },\n                            properties: {\n                                category: \"dispatch_segment\",\n                                style_role: \"road_edge_right\",\n                                ...s\n                            }\n                        });\n                    }\n                });\n            } catch (e) {\n                console.error(\"Error rendering segment\", s, e);\n            }\n        });\n        // OTHER LAYERS (trolley, intersections, etc.)\n        if (showTrolley) {\n            trolleySegments.forEach((t)=>{\n                try {\n                    if (!Number.isFinite(t.start_longitude) || !Number.isFinite(t.start_latitude) || !Number.isFinite(t.end_longitude) || !Number.isFinite(t.end_latitude)) {\n                        return;\n                    }\n                    viewer.entities.add({\n                        polyline: {\n                            positions: Cesium1.Cartesian3.fromDegreesArray([\n                                t.start_longitude,\n                                t.start_latitude,\n                                t.end_longitude,\n                                t.end_latitude\n                            ]),\n                            width: 5,\n                            material: Cesium1.Color.fromCssColorString(\"#FF6B6B\").withAlpha(0.9)\n                        },\n                        properties: {\n                            category: \"dispatch_trolley\",\n                            ...t\n                        }\n                    });\n                } catch (e) {\n                    console.error(\"Error rendering trolley segment\", t, e);\n                }\n            });\n        }\n        if (showIntersections) {\n            console.log(`Rendering ${intersections.length} intersections`);\n            intersections.forEach((i)=>{\n                try {\n                    const raw = i.geom_geojson || i.geometry;\n                    const hierarchy = parsePolygonHierarchy(raw);\n                    if (!hierarchy || !hierarchy.positions || hierarchy.positions.length < 3 || !arePositionsValid(hierarchy.positions)) {\n                        return;\n                    }\n                    viewer.entities.add({\n                        polygon: {\n                            hierarchy,\n                            material: Cesium1.Color.fromCssColorString(NIGHT_THEME.intersectionFillColor).withAlpha(NIGHT_THEME.intersectionFillAlpha),\n                            height: 0.6,\n                            outline: true,\n                            outlineColor: Cesium1.Color.fromCssColorString(NIGHT_THEME.intersectionOutlineColor).withAlpha(NIGHT_THEME.intersectionOutlineAlpha),\n                            outlineWidth: NIGHT_THEME.polygonOutlineWidth\n                        },\n                        properties: {\n                            category: \"dispatch_intersection\",\n                            ...i,\n                            part_index: 0\n                        }\n                    });\n                } catch (e) {\n                    console.error(\"Bad intersection geometry\", i, e);\n                }\n            });\n        }\n        locations.forEach((l)=>{\n            try {\n                if (!Number.isFinite(l.latitude) || !Number.isFinite(l.longitude)) return;\n                const type = resolveDispatchLocationType(l);\n                const typeLower = (type || \"\").toLowerCase();\n                const sourceLower = (l.source || \"\").toLowerCase();\n                const isNumericType = /^[0-9]+$/.test(typeLower);\n                if (!visibleLocationTypes.has(type)) {\n                    // console.log('[CombinedMap][Locations] Skip type not visible', {\n                    //     type,\n                    //     location_id: l.location_id,\n                    //     unit_type: l.unit_type,\n                    //     unit_type_id: l.unit_type_id,\n                    //     location_category: l.location_category,\n                    //     source: l.source,\n                    // });\n                    return;\n                }\n                const color = Cesium1.Color.fromCssColorString(getDispatchLocationColor(type));\n                const position = Cesium1.Cartesian3.fromDegrees(l.longitude, l.latitude, 2.0 // 2m above ground so locations sit clearly above the road surface\n                );\n                // If geometry is a polygon, render it; otherwise render square/point.\n                const rawGeom = l.geometry ? typeof l.geometry === \"string\" ? l.geometry : JSON.stringify(l.geometry) : null;\n                if (rawGeom) {\n                    const hierarchy = parsePolygonHierarchy(rawGeom);\n                    if (hierarchy && hierarchy.positions && hierarchy.positions.length >= 3 && arePositionsValid(hierarchy.positions)) {\n                        viewer.entities.add({\n                            polygon: {\n                                hierarchy,\n                                material: color.withAlpha(0.9),\n                                outline: true,\n                                outlineColor: Cesium1.Color.WHITE,\n                                perPositionHeight: true\n                            },\n                            properties: {\n                                category: \"frontrunner_location\",\n                                ...l\n                            }\n                        });\n                        return;\n                    }\n                }\n                const showSquare = SQUARE_TYPES.has(typeLower) || isNumericType;\n                if (!showSquare) {\n                    return; // skip all non-target types\n                }\n                // Render square pad for allowed types\n                const bearingFromNorth = getNearestRoadBearing(l, segments);\n                const angleFromEast = -bearingFromNorth; // perpendicular to road\n                const squarePositions = computeSquarePolygon(position, 40.0, angleFromEast);\n                if (squarePositions && arePositionsValid(squarePositions)) {\n                    const hierarchy = new Cesium1.PolygonHierarchy(squarePositions);\n                    viewer.entities.add({\n                        polygon: {\n                            hierarchy,\n                            material: color.withAlpha(1.0),\n                            outline: true,\n                            outlineColor: Cesium1.Color.WHITE,\n                            perPositionHeight: true // use the actual heights in hierarchy (≈2m)\n                        },\n                        properties: {\n                            category: \"dispatch_location\",\n                            ...l\n                        }\n                    });\n                } else {\n                // console.log('[CombinedMap][Locations] Invalid square geometry, skipping', {\n                //     type,\n                //     location_id: l.location_id,\n                //     unit_type: l.unit_type,\n                //     unit_type_id: l.unit_type_id,\n                //     location_category: l.location_category,\n                //     source: l.source,\n                // });\n                }\n            // If invalid square, skip (no point fallback)\n            } catch (e) {\n                console.error(\"Error rendering location\", l, e);\n            }\n        });\n    }, [\n        locations,\n        segments,\n        trolleySegments,\n        wateringStations,\n        speedMonitoring,\n        intersections,\n        showOpenRoads,\n        showClosedRoads,\n        showIntersections,\n        showTrolley,\n        showWatering,\n        showSpeed,\n        visibleLocationTypes\n    ]);\n    const getCategoryDisplayName = (consolidatedCategory)=>{\n        const displayNames = {\n            \"pit\": \"Pit Locations\",\n            \"parking\": \"Parking Bay\",\n            \"crusher\": \"Crusher Operations\",\n            \"fuel\": \"Fuel Station\",\n            \"intersection\": \"Road Networks\",\n            \"dump\": \"Dump Site\",\n            \"blast\": \"Blast Area\",\n            \"stockpile\": \"Stockpile\",\n            \"workshop\": \"Workshop\",\n            \"gate\": \"Gate\",\n            \"access\": \"Access Point\",\n            \"default\": \"Other\"\n        };\n        if (displayNames[consolidatedCategory]) {\n            return displayNames[consolidatedCategory];\n        }\n        const categoryStr = String(consolidatedCategory || \"Other\");\n        return categoryStr.split(\"_\").map((word)=>word.charAt(0).toUpperCase() + word.slice(1)).join(\" \");\n    };\n    // --- Measurement helpers (mirror Frontrunner behavior) ---\n    const removePreviewEntities = (viewer)=>{\n        if (!viewer) return;\n        const refs = [\n            previewLineEntityRef,\n            previewLabelEntityRef\n        ];\n        refs.forEach((ref)=>{\n            if (ref.current) {\n                try {\n                    viewer.entities.remove(ref.current);\n                } catch (_) {}\n                ref.current = null;\n            }\n        });\n        viewer.scene?.requestRender();\n    };\n    const clearMeasurements = (viewer)=>{\n        if (!viewer) return;\n        measurementEntitiesRef.current.forEach((e)=>{\n            try {\n                viewer.entities.remove(e);\n            } catch (_) {}\n        });\n        overlayEntitiesRef.current.forEach((e)=>{\n            try {\n                viewer.entities.remove(e);\n            } catch (_) {}\n        });\n        removePreviewEntities(viewer);\n        measurementEntitiesRef.current = [];\n        overlayEntitiesRef.current = [];\n        measurementPointsRef.current = [];\n        areaLockedRef.current = false;\n        measurementModeRef.current = \"none\";\n        setMeasurementMode(\"none\");\n        viewer.scene?.requestRender();\n    };\n    const drawDistance = (viewer, points)=>{\n        overlayEntitiesRef.current.forEach((e)=>{\n            try {\n                viewer.entities.remove(e);\n            } catch (_) {}\n        });\n        overlayEntitiesRef.current = [];\n        const positions = points.map((p)=>p.cartesian);\n        const line = viewer.entities.add({\n            polyline: {\n                positions,\n                width: 4,\n                material: Cesium.Color.WHITE\n            }\n        });\n        measurementEntitiesRef.current.push(line);\n        overlayEntitiesRef.current.push(line);\n        const ellipsoid = viewer.scene.globe.ellipsoid;\n        const c1 = ellipsoid.cartesianToCartographic(positions[0]);\n        const c2 = ellipsoid.cartesianToCartographic(positions[1]);\n        const geodesic = new Cesium.EllipsoidGeodesic(c1, c2);\n        const distanceMeters = geodesic.surfaceDistance;\n        const distanceFeet = distanceMeters * 3.28084;\n        if (!Number.isFinite(distanceMeters) || distanceMeters < 0.01) {\n            // discard second point\n            const lastPoint = measurementEntitiesRef.current.pop();\n            try {\n                viewer.entities.remove(lastPoint);\n            } catch (_) {}\n            measurementPointsRef.current = [\n                points[0]\n            ];\n            viewer.scene?.requestRender();\n            return;\n        }\n        const metersText = `${distanceMeters.toFixed(2)} m`;\n        const feetText = `${distanceFeet.toFixed(2)} ft`;\n        const mid = Cesium.Cartesian3.lerp(positions[0], positions[1], 0.5, new Cesium.Cartesian3());\n        const label1 = viewer.entities.add({\n            position: mid,\n            label: {\n                text: metersText,\n                font: '22px bold \"Arial\", sans-serif',\n                fillColor: Cesium.Color.YELLOW,\n                outlineColor: Cesium.Color.BLACK,\n                outlineWidth: 4,\n                style: Cesium.LabelStyle.FILL_AND_OUTLINE,\n                verticalOrigin: Cesium.VerticalOrigin.CENTER,\n                horizontalOrigin: Cesium.HorizontalOrigin.CENTER,\n                pixelOffset: new Cesium.Cartesian2(0, -30),\n                disableDepthTestDistance: Number.POSITIVE_INFINITY\n            }\n        });\n        const label2 = viewer.entities.add({\n            position: mid,\n            label: {\n                text: feetText,\n                font: '20px bold \"Arial\", sans-serif',\n                fillColor: Cesium.Color.WHITE,\n                outlineColor: Cesium.Color.BLACK,\n                outlineWidth: 4,\n                style: Cesium.LabelStyle.FILL_AND_OUTLINE,\n                verticalOrigin: Cesium.VerticalOrigin.CENTER,\n                horizontalOrigin: Cesium.HorizontalOrigin.CENTER,\n                pixelOffset: new Cesium.Cartesian2(0, 30),\n                disableDepthTestDistance: Number.POSITIVE_INFINITY\n            }\n        });\n        measurementEntitiesRef.current.push(label1, label2);\n        overlayEntitiesRef.current.push(label1, label2);\n        areaLockedRef.current = true;\n        measurementModeRef.current = \"none\";\n        setMeasurementMode(\"none\");\n        viewer.scene?.requestRender();\n    };\n    const drawAreaPreview = (viewer, points)=>{\n        overlayEntitiesRef.current.forEach((e)=>{\n            try {\n                viewer.entities.remove(e);\n            } catch (_) {}\n        });\n        overlayEntitiesRef.current = [];\n        if (points.length < 2) return;\n        const positions = points.map((p)=>p.cartesian);\n        const polyline = viewer.entities.add({\n            polyline: {\n                positions,\n                width: 2,\n                material: Cesium.Color.CYAN.withAlpha(0.8)\n            }\n        });\n        overlayEntitiesRef.current.push(polyline);\n        viewer.scene?.requestRender();\n    };\n    const computeArea = (positions, ellipsoid)=>{\n        const origin = positions[0];\n        const enu = Cesium.Transforms.eastNorthUpToFixedFrame(origin, ellipsoid);\n        const inv = Cesium.Matrix4.inverseTransformation(enu, new Cesium.Matrix4());\n        const local = positions.map((p)=>{\n            const diff = Cesium.Cartesian3.subtract(p, origin, new Cesium.Cartesian3());\n            return Cesium.Matrix4.multiplyByPointAsVector(inv, diff, new Cesium.Cartesian3());\n        });\n        let area = 0;\n        for(let i = 0, j = local.length - 1; i < local.length; j = i++){\n            area += local[j].x * local[i].y - local[i].x * local[j].y;\n        }\n        return Math.abs(area) * 0.5;\n    };\n    const finalizeAreaMeasurement = (viewer)=>{\n        const pts = measurementPointsRef.current;\n        if (!viewer || pts.length < 3 || areaLockedRef.current) return;\n        overlayEntitiesRef.current.forEach((e)=>{\n            try {\n                viewer.entities.remove(e);\n            } catch (_) {}\n        });\n        overlayEntitiesRef.current = [];\n        removePreviewEntities(viewer);\n        const positions = pts.map((p)=>p.cartesian);\n        if (!arePositionsValid(positions)) {\n            measurementPointsRef.current = pts.slice(0, 1);\n            viewer.scene?.requestRender();\n            return;\n        }\n        const poly = viewer.entities.add({\n            polygon: {\n                hierarchy: new Cesium.PolygonHierarchy(positions),\n                material: Cesium.Color.YELLOW.withAlpha(0.25),\n                outline: true,\n                outlineColor: Cesium.Color.YELLOW,\n                outlineWidth: 2\n            }\n        });\n        measurementEntitiesRef.current.push(poly);\n        overlayEntitiesRef.current.push(poly);\n        const ellipsoid = viewer.scene.globe.ellipsoid;\n        const areaSqm = computeArea(positions, ellipsoid);\n        const areaSqft = areaSqm * 10.7639;\n        const centroid = positions.reduce((acc, cur)=>Cesium.Cartesian3.add(acc, cur, acc), new Cesium.Cartesian3());\n        Cesium.Cartesian3.multiplyByScalar(centroid, 1 / positions.length, centroid);\n        const label = viewer.entities.add({\n            position: centroid,\n            label: {\n                text: `${areaSqm.toFixed(2)} m² / ${areaSqft.toFixed(2)} ft²`,\n                font: '20px bold \"Arial\", sans-serif',\n                fillColor: Cesium.Color.YELLOW,\n                outlineColor: Cesium.Color.BLACK,\n                outlineWidth: 4,\n                style: Cesium.LabelStyle.FILL_AND_OUTLINE,\n                verticalOrigin: Cesium.VerticalOrigin.CENTER,\n                horizontalOrigin: Cesium.HorizontalOrigin.CENTER,\n                pixelOffset: new Cesium.Cartesian2(0, -20),\n                disableDepthTestDistance: Number.POSITIVE_INFINITY\n            }\n        });\n        measurementEntitiesRef.current.push(label);\n        overlayEntitiesRef.current.push(label);\n        areaLockedRef.current = true;\n        measurementModeRef.current = \"none\";\n        setMeasurementMode(\"none\");\n        viewer.scene?.requestRender();\n    };\n    const updatePreviewLine = (viewer, cursorCartesian)=>{\n        if (!viewer) return;\n        if (areaLockedRef.current) {\n            removePreviewEntities(viewer);\n            return;\n        }\n        const mode = measurementModeRef.current;\n        const pts = measurementPointsRef.current;\n        if (mode !== \"distance\" || pts.length !== 1) {\n            removePreviewEntities(viewer);\n            return;\n        }\n        if (!cursorCartesian) {\n            removePreviewEntities(viewer);\n            return;\n        }\n        const first = pts[0].cartesian;\n        removePreviewEntities(viewer);\n        previewLineEntityRef.current = viewer.entities.add({\n            polyline: {\n                positions: [\n                    first,\n                    cursorCartesian\n                ],\n                width: 3,\n                material: Cesium.Color.YELLOW.withAlpha(0.8)\n            }\n        });\n        const ellipsoid = viewer.scene.globe.ellipsoid;\n        const c1 = ellipsoid.cartesianToCartographic(first);\n        const c2 = ellipsoid.cartesianToCartographic(cursorCartesian);\n        const geodesic = new Cesium.EllipsoidGeodesic(c1, c2);\n        const distanceMeters = geodesic.surfaceDistance;\n        const distanceFeet = distanceMeters * 3.28084;\n        const text = `${distanceMeters.toFixed(2)} m / ${distanceFeet.toFixed(2)} ft`;\n        const mid = Cesium.Cartesian3.lerp(first, cursorCartesian, 0.5, new Cesium.Cartesian3());\n        previewLabelEntityRef.current = viewer.entities.add({\n            position: mid,\n            label: {\n                text,\n                font: '20px bold \"Arial\", sans-serif',\n                fillColor: Cesium.Color.YELLOW,\n                outlineColor: Cesium.Color.BLACK,\n                outlineWidth: 4,\n                style: Cesium.LabelStyle.FILL_AND_OUTLINE,\n                verticalOrigin: Cesium.VerticalOrigin.CENTER,\n                pixelOffset: new Cesium.Cartesian2(0, -25),\n                disableDepthTestDistance: Number.POSITIVE_INFINITY\n            }\n        });\n        viewer.scene?.requestRender();\n    };\n    const addMeasurementPoint = (viewer, cartesian)=>{\n        if (!viewer || !cartesian) return;\n        if (areaLockedRef.current) return;\n        const mode = measurementModeRef.current;\n        if (mode === \"none\") return;\n        const newPoint = {\n            id: (0,crypto__WEBPACK_IMPORTED_MODULE_3__.randomUUID)(),\n            cartesian\n        };\n        const newPoints = [\n            ...measurementPointsRef.current,\n            newPoint\n        ];\n        measurementPointsRef.current = newPoints;\n        const pointEntity = viewer.entities.add({\n            position: cartesian,\n            point: {\n                pixelSize: 12,\n                color: Cesium.Color.WHITE,\n                outlineColor: Cesium.Color.CYAN,\n                outlineWidth: 3,\n                heightReference: Cesium.HeightReference.CLAMP_TO_GROUND,\n                disableDepthTestDistance: Number.POSITIVE_INFINITY\n            }\n        });\n        measurementEntitiesRef.current.push(pointEntity);\n        if (mode === \"distance\" && newPoints.length === 2) {\n            removePreviewEntities(viewer);\n            drawDistance(viewer, newPoints);\n        } else if (mode === \"area\" && newPoints.length >= 2) {\n            drawAreaPreview(viewer, newPoints);\n        }\n    };\n    const handleMeasureChange = (mode)=>{\n        if (mode === \"clear\") {\n            frClearMeasurements();\n            setMeasurementMode(\"none\");\n            return;\n        }\n        frStartMeasurement(mode);\n        setMeasurementMode(mode);\n    };\n    if (mapError) return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        style: {\n            color: \"white\",\n            padding: 20\n        },\n        children: [\n            \"Error: \",\n            mapError\n        ]\n    }, void 0, true, {\n        fileName: \"/app/components/CombinedMap.js\",\n        lineNumber: 1885,\n        columnNumber: 26\n    }, this);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((next_script__WEBPACK_IMPORTED_MODULE_2___default()), {\n                src: \"https://cdnjs.cloudflare.com/ajax/libs/cesium/1.126.0/Cesium.js\",\n                onLoad: ()=>setCesiumLoaded(true)\n            }, void 0, false, {\n                fileName: \"/app/components/CombinedMap.js\",\n                lineNumber: 1889,\n                columnNumber: 13\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_TopMenuBar__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n                onComputePath: ()=>{\n                    openTurnDialog();\n                },\n                onManageProfiles: ()=>{\n                    const val = window.prompt(\"Enter Road ID to view profile\");\n                    if (val && val.trim().length > 0) {\n                        setSelectedRoadId(val.trim());\n                        setShowProfileViewer(true);\n                    }\n                },\n                onMeasureDistance: ()=>handleMeasureChange(\"distance\"),\n                onMeasureArea: ()=>handleMeasureChange(\"area\"),\n                currentBaseLayer: baseLayer,\n                onChangeBaseLayer: setBaseLayer,\n                currentSceneMode: sceneMode,\n                onChangeSceneMode: setSceneMode\n            }, void 0, false, {\n                fileName: \"/app/components/CombinedMap.js\",\n                lineNumber: 1890,\n                columnNumber: 13\n            }, this),\n            turnDialogOpen && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_TurnPathStatusBanner__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n                        currentStep: turnCurrentStep,\n                        selectedSourceRoad: turnSourceRoad,\n                        selectedDestinationRoad: turnDestRoad,\n                        onCancel: closeTurnDialog\n                    }, void 0, false, {\n                        fileName: \"/app/components/CombinedMap.js\",\n                        lineNumber: 1910,\n                        columnNumber: 21\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_TurnPathDialog__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n                        isOpen: turnDialogOpen,\n                        onClose: closeTurnDialog,\n                        onStartSelection: (config)=>{\n                            startTurnSelection(config);\n                        },\n                        vehicleProfiles: {},\n                        currentStep: turnCurrentStep\n                    }, void 0, false, {\n                        fileName: \"/app/components/CombinedMap.js\",\n                        lineNumber: 1916,\n                        columnNumber: 21\n                    }, this)\n                ]\n            }, void 0, true),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                style: {\n                    position: \"fixed\",\n                    top: 40,\n                    left: 0,\n                    right: 0,\n                    bottom: 0,\n                    overflow: \"hidden\",\n                    background: \"#000\"\n                },\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        ref: mapContainer,\n                        style: {\n                            position: \"absolute\",\n                            inset: 0,\n                            background: \"#1a1a2e\"\n                        }\n                    }, void 0, false, {\n                        fileName: \"/app/components/CombinedMap.js\",\n                        lineNumber: 1928,\n                        columnNumber: 17\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        style: {\n                            display: \"none\",\n                            position: \"absolute\",\n                            top: 20,\n                            right: 20,\n                            width: 300,\n                            backgroundColor: \"rgba(40, 40, 40, 0.75)\",\n                            border: \"1px solid rgba(120, 120, 120, 0.6)\",\n                            borderRadius: \"8px\",\n                            boxShadow: \"0 4px 20px rgba(0, 0, 0, 0.4)\",\n                            backdropFilter: \"blur(15px)\",\n                            zIndex: 1000,\n                            fontFamily: `'Inter','Segoe UI',Arial,sans-serif`,\n                            overflow: \"hidden\"\n                        },\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                style: {\n                                    backgroundColor: \"rgba(30, 30, 30, 0.8)\",\n                                    padding: \"12px 16px\",\n                                    borderRadius: \"8px 8px 0 0\",\n                                    display: \"flex\",\n                                    alignItems: \"center\",\n                                    justifyContent: \"space-between\"\n                                },\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        style: {\n                                            display: \"flex\",\n                                            alignItems: \"center\",\n                                            gap: \"10px\"\n                                        },\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                style: {\n                                                    width: \"20px\",\n                                                    height: \"20px\",\n                                                    backgroundColor: \"#3498db\",\n                                                    borderRadius: \"4px\",\n                                                    display: \"flex\",\n                                                    alignItems: \"center\",\n                                                    justifyContent: \"center\"\n                                                }\n                                            }, void 0, false, {\n                                                fileName: \"/app/components/CombinedMap.js\",\n                                                lineNumber: 1953,\n                                                columnNumber: 29\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                style: {\n                                                    color: \"white\",\n                                                    fontWeight: \"600\",\n                                                    fontSize: \"14px\"\n                                                },\n                                                children: \"Dispatch Map\"\n                                            }, void 0, false, {\n                                                fileName: \"/app/components/CombinedMap.js\",\n                                                lineNumber: 1963,\n                                                columnNumber: 29\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/app/components/CombinedMap.js\",\n                                        lineNumber: 1952,\n                                        columnNumber: 25\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        style: {\n                                            display: \"flex\",\n                                            alignItems: \"center\",\n                                            gap: \"8px\"\n                                        },\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                style: {\n                                                    backgroundColor: \"rgba(52, 152, 219, 0.3)\",\n                                                    border: \"1px solid rgba(52, 152, 219, 0.5)\",\n                                                    borderRadius: \"4px\",\n                                                    color: \"#3498db\",\n                                                    cursor: \"pointer\",\n                                                    padding: \"4px 8px\",\n                                                    fontSize: \"12px\",\n                                                    fontWeight: \"500\",\n                                                    display: \"flex\",\n                                                    alignItems: \"center\",\n                                                    gap: \"4px\",\n                                                    transition: \"all 0.2s\"\n                                                },\n                                                onClick: recenterView,\n                                                onMouseEnter: (e)=>{\n                                                    e.target.style.backgroundColor = \"rgba(52, 152, 219, 0.5)\";\n                                                },\n                                                onMouseLeave: (e)=>{\n                                                    e.target.style.backgroundColor = \"rgba(52, 152, 219, 0.3)\";\n                                                },\n                                                title: \"Recenter map on current data\",\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                                    width: \"16\",\n                                                    height: \"16\",\n                                                    viewBox: \"0 0 16 16\",\n                                                    style: {\n                                                        display: \"inline-block\",\n                                                        verticalAlign: \"middle\"\n                                                    },\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"circle\", {\n                                                            cx: \"8\",\n                                                            cy: \"8\",\n                                                            r: \"7.5\",\n                                                            fill: \"#000\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/app/components/CombinedMap.js\",\n                                                            lineNumber: 1998,\n                                                            columnNumber: 37\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"circle\", {\n                                                            cx: \"8\",\n                                                            cy: \"8\",\n                                                            r: \"6\",\n                                                            fill: \"none\",\n                                                            stroke: \"#CC5500\",\n                                                            strokeWidth: \"1.5\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/app/components/CombinedMap.js\",\n                                                            lineNumber: 1999,\n                                                            columnNumber: 37\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"circle\", {\n                                                            cx: \"8\",\n                                                            cy: \"8\",\n                                                            r: \"3\",\n                                                            fill: \"#CC5500\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/app/components/CombinedMap.js\",\n                                                            lineNumber: 2000,\n                                                            columnNumber: 37\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"rect\", {\n                                                            x: \"7\",\n                                                            y: \"0\",\n                                                            width: \"2\",\n                                                            height: \"3\",\n                                                            fill: \"#CC5500\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/app/components/CombinedMap.js\",\n                                                            lineNumber: 2001,\n                                                            columnNumber: 37\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"rect\", {\n                                                            x: \"7\",\n                                                            y: \"13\",\n                                                            width: \"2\",\n                                                            height: \"3\",\n                                                            fill: \"#CC5500\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/app/components/CombinedMap.js\",\n                                                            lineNumber: 2002,\n                                                            columnNumber: 37\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"rect\", {\n                                                            x: \"0\",\n                                                            y: \"7\",\n                                                            width: \"3\",\n                                                            height: \"2\",\n                                                            fill: \"#CC5500\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/app/components/CombinedMap.js\",\n                                                            lineNumber: 2003,\n                                                            columnNumber: 37\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"rect\", {\n                                                            x: \"13\",\n                                                            y: \"7\",\n                                                            width: \"3\",\n                                                            height: \"2\",\n                                                            fill: \"#CC5500\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/app/components/CombinedMap.js\",\n                                                            lineNumber: 2004,\n                                                            columnNumber: 37\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/app/components/CombinedMap.js\",\n                                                    lineNumber: 1992,\n                                                    columnNumber: 33\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"/app/components/CombinedMap.js\",\n                                                lineNumber: 1968,\n                                                columnNumber: 29\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                style: {\n                                                    color: \"white\",\n                                                    fontSize: \"16px\",\n                                                    cursor: \"pointer\",\n                                                    padding: \"4px\",\n                                                    transition: \"transform 0.2s\"\n                                                },\n                                                children: \"▼\"\n                                            }, void 0, false, {\n                                                fileName: \"/app/components/CombinedMap.js\",\n                                                lineNumber: 2007,\n                                                columnNumber: 29\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/app/components/CombinedMap.js\",\n                                        lineNumber: 1967,\n                                        columnNumber: 25\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/app/components/CombinedMap.js\",\n                                lineNumber: 1944,\n                                columnNumber: 21\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                style: {\n                                    padding: \"12px\",\n                                    borderBottom: \"1px solid rgba(120, 120, 120, 0.3)\",\n                                    backgroundColor: \"rgba(52, 152, 219, 0.1)\"\n                                },\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                        style: {\n                                            display: \"block\",\n                                            marginBottom: \"6px\",\n                                            fontSize: \"11px\",\n                                            color: \"#bdc3c7\",\n                                            fontWeight: \"600\"\n                                        },\n                                        children: \"Base Layer\"\n                                    }, void 0, false, {\n                                        fileName: \"/app/components/CombinedMap.js\",\n                                        lineNumber: 2026,\n                                        columnNumber: 25\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"select\", {\n                                        value: baseLayer,\n                                        onChange: (e)=>setBaseLayer(e.target.value),\n                                        style: {\n                                            width: \"100%\",\n                                            padding: \"6px 8px\",\n                                            backgroundColor: \"rgba(40, 40, 40, 0.9)\",\n                                            color: \"white\",\n                                            border: \"1px solid rgba(120, 120, 120, 0.4)\",\n                                            borderRadius: \"4px\",\n                                            fontSize: \"12px\",\n                                            cursor: \"pointer\",\n                                            outline: \"none\"\n                                        },\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                                value: \"night\",\n                                                children: \"Night Mode (Dark)\"\n                                            }, void 0, false, {\n                                                fileName: \"/app/components/CombinedMap.js\",\n                                                lineNumber: 2050,\n                                                columnNumber: 29\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                                value: \"day\",\n                                                children: \"Day Mode (Satellite)\"\n                                            }, void 0, false, {\n                                                fileName: \"/app/components/CombinedMap.js\",\n                                                lineNumber: 2051,\n                                                columnNumber: 29\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                                value: \"topographic\",\n                                                children: \"Topographic\"\n                                            }, void 0, false, {\n                                                fileName: \"/app/components/CombinedMap.js\",\n                                                lineNumber: 2052,\n                                                columnNumber: 29\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                                value: \"terrain\",\n                                                children: \"Terrain\"\n                                            }, void 0, false, {\n                                                fileName: \"/app/components/CombinedMap.js\",\n                                                lineNumber: 2053,\n                                                columnNumber: 29\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/app/components/CombinedMap.js\",\n                                        lineNumber: 2035,\n                                        columnNumber: 25\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/app/components/CombinedMap.js\",\n                                lineNumber: 2021,\n                                columnNumber: 21\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                style: {\n                                    padding: \"12px\",\n                                    color: \"white\",\n                                    fontSize: \"12px\",\n                                    maxHeight: \"320px\",\n                                    overflowY: \"auto\",\n                                    overflowX: \"hidden\",\n                                    scrollbarWidth: \"thin\",\n                                    scrollbarColor: \"rgba(120, 120, 120, 0.6) rgba(40, 40, 40, 0.3)\"\n                                }\n                            }, void 0, false, {\n                                fileName: \"/app/components/CombinedMap.js\",\n                                lineNumber: 2058,\n                                columnNumber: 21\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/app/components/CombinedMap.js\",\n                        lineNumber: 1932,\n                        columnNumber: 17\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/app/components/CombinedMap.js\",\n                lineNumber: 1927,\n                columnNumber: 13\n            }, this),\n            dialogOpen && dialogData && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                style: {\n                    position: \"fixed\",\n                    top: 0,\n                    left: 0,\n                    right: 0,\n                    bottom: 0,\n                    backgroundColor: \"rgba(0, 0, 0, 0.7)\",\n                    display: \"flex\",\n                    alignItems: \"center\",\n                    justifyContent: \"center\",\n                    zIndex: 10000,\n                    backdropFilter: \"blur(5px)\"\n                },\n                onClick: ()=>{\n                    setDialogOpen(false);\n                    setDialogData(null);\n                },\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    style: {\n                        backgroundColor: \"#1e1e1e\",\n                        borderRadius: \"8px\",\n                        padding: \"16px\",\n                        maxWidth: \"600px\",\n                        maxHeight: \"70vh\",\n                        width: \"85%\",\n                        boxShadow: \"0 8px 32px rgba(0, 0, 0, 0.5)\",\n                        border: \"1px solid rgba(255, 255, 255, 0.1)\",\n                        overflow: \"hidden\",\n                        display: \"flex\",\n                        flexDirection: \"column\"\n                    },\n                    onClick: (e)=>e.stopPropagation(),\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            style: {\n                                display: \"flex\",\n                                justifyContent: \"space-between\",\n                                alignItems: \"center\",\n                                marginBottom: \"12px\",\n                                paddingBottom: \"10px\",\n                                borderBottom: \"1px solid rgba(255, 255, 255, 0.2)\"\n                            },\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                                            style: {\n                                                color: \"#fff\",\n                                                margin: 0,\n                                                fontSize: \"16px\",\n                                                fontWeight: \"600\"\n                                            },\n                                            children: [\n                                                dialogData.category === \"intersection\" ? \"\\uD83D\\uDEA6\" : \"\\uD83D\\uDCCD\",\n                                                \" \",\n                                                dialogData.name\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/app/components/CombinedMap.js\",\n                                            lineNumber: 2100,\n                                            columnNumber: 33\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                            style: {\n                                                color: \"#bdc3c7\",\n                                                margin: \"2px 0 0 0\",\n                                                fontSize: \"11px\",\n                                                textTransform: \"capitalize\"\n                                            },\n                                            children: [\n                                                getCategoryDisplayName(dialogData.category),\n                                                \" Information\"\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/app/components/CombinedMap.js\",\n                                            lineNumber: 2103,\n                                            columnNumber: 33\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/app/components/CombinedMap.js\",\n                                    lineNumber: 2099,\n                                    columnNumber: 29\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    onClick: ()=>{\n                                        setDialogOpen(false);\n                                        setDialogData(null);\n                                    },\n                                    style: {\n                                        background: \"rgba(255, 255, 255, 0.1)\",\n                                        border: \"1px solid rgba(255, 255, 255, 0.2)\",\n                                        borderRadius: \"4px\",\n                                        color: \"#fff\",\n                                        cursor: \"pointer\",\n                                        padding: \"6px 12px\",\n                                        fontSize: \"12px\",\n                                        fontWeight: \"500\"\n                                    },\n                                    children: \"✕\"\n                                }, void 0, false, {\n                                    fileName: \"/app/components/CombinedMap.js\",\n                                    lineNumber: 2107,\n                                    columnNumber: 29\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/app/components/CombinedMap.js\",\n                            lineNumber: 2094,\n                            columnNumber: 25\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            style: {\n                                overflowY: \"auto\",\n                                flex: 1,\n                                paddingRight: \"6px\"\n                            },\n                            children: [\n                                dialogData.category === \"dispatch_segment\" && dialogData.allProperties.road_id && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    style: {\n                                        marginBottom: \"16px\",\n                                        padding: \"12px\",\n                                        backgroundColor: \"rgba(52, 152, 219, 0.1)\",\n                                        borderRadius: \"6px\",\n                                        border: \"1px solid rgba(52, 152, 219, 0.3)\"\n                                    },\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        onClick: ()=>{\n                                            setDialogOpen(false);\n                                            setSelectedRoadId(dialogData.allProperties.road_id);\n                                            setShowProfileViewer(true);\n                                        },\n                                        style: {\n                                            width: \"100%\",\n                                            background: \"#4ECDC4\",\n                                            color: \"white\",\n                                            border: \"none\",\n                                            padding: \"12px\",\n                                            borderRadius: \"6px\",\n                                            cursor: \"pointer\",\n                                            fontWeight: \"bold\",\n                                            fontSize: \"14px\",\n                                            display: \"flex\",\n                                            alignItems: \"center\",\n                                            justifyContent: \"center\",\n                                            gap: \"8px\"\n                                        },\n                                        children: \"\\uD83D\\uDCCA View Profile\"\n                                    }, void 0, false, {\n                                        fileName: \"/app/components/CombinedMap.js\",\n                                        lineNumber: 2124,\n                                        columnNumber: 37\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/app/components/CombinedMap.js\",\n                                    lineNumber: 2123,\n                                    columnNumber: 33\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    style: {\n                                        display: \"grid\",\n                                        gridTemplateColumns: \"repeat(auto-fit, minmax(200px, 1fr))\",\n                                        gap: \"8px\"\n                                    },\n                                    children: Object.entries(dialogData.allProperties).filter(([key])=>![\n                                            \"linestring\",\n                                            \"polygon\",\n                                            \"geometry\",\n                                            \"geometry_3d\",\n                                            \"propertyNames\",\n                                            \"definitionChanged\",\n                                            \"_listeners\",\n                                            \"color\",\n                                            \"style_role\"\n                                        ].includes(key) && !key.startsWith(\"_\")).map(([key, value])=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            style: {\n                                                backgroundColor: \"rgba(255, 255, 255, 0.05)\",\n                                                padding: \"8px\",\n                                                borderRadius: \"6px\",\n                                                border: \"1px solid rgba(255, 255, 255, 0.1)\"\n                                            },\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    style: {\n                                                        color: \"#bdc3c7\",\n                                                        fontSize: \"10px\",\n                                                        fontWeight: \"600\",\n                                                        textTransform: \"uppercase\",\n                                                        marginBottom: \"4px\"\n                                                    },\n                                                    children: key.replace(/_/g, \" \")\n                                                }, void 0, false, {\n                                                    fileName: \"/app/components/CombinedMap.js\",\n                                                    lineNumber: 2158,\n                                                    columnNumber: 45\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    style: {\n                                                        color: \"#fff\",\n                                                        fontSize: \"12px\",\n                                                        wordBreak: \"break-word\",\n                                                        fontFamily: \"monospace\",\n                                                        whiteSpace: \"pre-wrap\"\n                                                    },\n                                                    children: String(value)\n                                                }, void 0, false, {\n                                                    fileName: \"/app/components/CombinedMap.js\",\n                                                    lineNumber: 2161,\n                                                    columnNumber: 45\n                                                }, this)\n                                            ]\n                                        }, key, true, {\n                                            fileName: \"/app/components/CombinedMap.js\",\n                                            lineNumber: 2154,\n                                            columnNumber: 41\n                                        }, this))\n                                }, void 0, false, {\n                                    fileName: \"/app/components/CombinedMap.js\",\n                                    lineNumber: 2150,\n                                    columnNumber: 29\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/app/components/CombinedMap.js\",\n                            lineNumber: 2120,\n                            columnNumber: 25\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/app/components/CombinedMap.js\",\n                    lineNumber: 2083,\n                    columnNumber: 21\n                }, this)\n            }, void 0, false, {\n                fileName: \"/app/components/CombinedMap.js\",\n                lineNumber: 2074,\n                columnNumber: 17\n            }, this),\n            showProfileViewer && selectedRoadId && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_RoadProfileViewer__WEBPACK_IMPORTED_MODULE_9__[\"default\"], {\n                roadId: selectedRoadId,\n                onClose: ()=>{\n                    setShowProfileViewer(false);\n                    setSelectedRoadId(null);\n                }\n            }, void 0, false, {\n                fileName: \"/app/components/CombinedMap.js\",\n                lineNumber: 2172,\n                columnNumber: 17\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"style\", {\n                dangerouslySetInnerHTML: {\n                    __html: `\n                .cesium-viewer-bottom, .cesium-viewer-cesiumWidgetContainer .cesium-widget-credits,\n                .cesium-viewer-cesiumLogoContainer, .cesium-credit-logoContainer, .cesium-credit-expand-link,\n                .cesium-viewer-creditTextContainer { display: none !important; }\n                a[href*=\"cesium.com\"], a[href*=\"cesiumion.com\"] { display: none !important; }\n                .cesium-widget-credits { display: none !important; }\n            `\n                }\n            }, void 0, false, {\n                fileName: \"/app/components/CombinedMap.js\",\n                lineNumber: 2180,\n                columnNumber: 13\n            }, this)\n        ]\n    }, void 0, true);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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bmVudHMvQ29tYmluZWRNYXAuanM/YTA4MCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QsIHsgdXNlU3RhdGUsIHVzZUVmZmVjdCwgdXNlUmVmLCB1c2VNZW1vIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IFNjcmlwdCBmcm9tICduZXh0L3NjcmlwdCc7XG5pbXBvcnQgeyByYW5kb21VVUlEIGFzIHV1aWR2NCB9IGZyb20gJ2NyeXB0byc7XG5pbXBvcnQgVG9wTWVudUJhciBmcm9tICcuL1RvcE1lbnVCYXInO1xuaW1wb3J0IFR1cm5QYXRoRGlhbG9nIGZyb20gJy4vVHVyblBhdGhEaWFsb2cnO1xuaW1wb3J0IFR1cm5QYXRoU3RhdHVzQmFubmVyIGZyb20gJy4vVHVyblBhdGhTdGF0dXNCYW5uZXInO1xuaW1wb3J0IHVzZVR1cm5QYXRoTWFuYWdlciBmcm9tICcuL3VzZVR1cm5QYXRoTWFuYWdlcic7XG5pbXBvcnQgdXNlTWVhc3VyZW1lbnRUb29sIGZyb20gJy4vdXNlTWVhc3VyZW1lbnRUb29sJztcbmltcG9ydCBSb2FkUHJvZmlsZVZpZXdlciBmcm9tICcuL1JvYWRQcm9maWxlVmlld2VyJztcblxuLy8gQ29sb3IgcGFsZXR0ZSBhbmQgaGVscGVyc1xuY29uc3QgRElTUEFUQ0hfTE9DQVRJT05fQ09MT1JfTUFQID0ge1xuICAgICdjYWxsIHBvaW50JzogJyNGRjZCNkInLCAnZHVtcCc6ICcjRkY4RTcyJywgJ2JsYXN0JzogJyNGRkIzNDcnLCAnc3RvY2twaWxlJzogJyNGRkQxNjYnLFxuICAgICd3b3Jrc2hvcCc6ICcjRjRBMjYxJywgJ3NoaWZ0Y2hhbmdlJzogJyMwNkQ2QTAnLCAncmVnaW9uJzogJyMxMThBQjInLCAnY3J1c2hlcic6ICcjOUI1REU1JyxcbiAgICAnaGlnaCBkdW1wJzogJyNGRjZCNkInLCAnbG9hZCc6ICcjRkZEMTY2JywgJ3BhZGRvY2sgZHVtcCc6ICcjRkY4RTcyJywgJ3RpZWRvd24nOiAnIzA2RDZBMCcsXG4gICAgJ3BpdCc6ICcjRUY0NzZGJywgJ3BhcmtpbmcnOiAnI0ZGRTA2NicsICdmdWVsJzogJyNGRTVGNTUnLCAndGlwcGluZyBhcmVhJzogJyNGRjkyNEMnLFxuICAgICdpbmZyYXN0cnVjdHVyZSc6ICcjNUM2NzdEJywgJ2luZnJhc3RydWN0dXJlX3RhYmxlJzogJyM1QzY3N0QnLCAnZGVmYXVsdCc6ICcjOUZBNEIwJ1xufTtcblxuLy8gTG9jYXRpb24gdHlwZXMgdGhhdCByZW5kZXIgYXMgc3F1YXJlc1xuY29uc3QgU1FVQVJFX1RZUEVTID0gbmV3IFNldChbXG4gICAgXCJibGFzdFwiLFxuICAgIFwiZHVtcFwiLFxuICAgIFwic3RvY2twaWxlXCIsXG4gICAgXCJ3b3Jrc2hvcFwiLFxuICAgIFwiY3J1c2hlclwiLFxuICAgIFwiaGlnaCBkdW1wXCIsXG4gICAgXCJsb2FkXCIsXG4gICAgXCJwYWRkb2NrIGR1bXBcIixcbiAgICBcInRpZWRvd25cIlxuXSk7XG5cbmNvbnN0IERFRkFVTFRfSElEREVOX0xPQ0FUSU9OX1RZUEVTID0gW1xuICAgICdjYWxsIHBvaW50JyxcbiAgICAnc2hpZnRjaGFuZ2UnLFxuICAgICdyZWdpb24nLFxuICAgICdwaXQnLFxuXTtcblxuY29uc3QgcmVzb2x2ZURpc3BhdGNoTG9jYXRpb25UeXBlID0gKGxvY2F0aW9uKSA9PiB7XG4gICAgaWYgKCFsb2NhdGlvbikgcmV0dXJuICdJbmZyYXN0cnVjdHVyZSc7XG4gICAgY29uc3QgcmF3VmFsdWUgPSBsb2NhdGlvbi51bml0X3R5cGUgfHwgbG9jYXRpb24ubG9jYXRpb25fY2F0ZWdvcnkgfHwgbG9jYXRpb24udW5pdF90eXBlX2lkIHx8IGxvY2F0aW9uLmNhdGVnb3J5IHx8IGxvY2F0aW9uLnNvdXJjZSB8fCAnSW5mcmFzdHJ1Y3R1cmUnO1xuICAgIGlmICh0eXBlb2YgcmF3VmFsdWUgIT09ICdzdHJpbmcnKSByZXR1cm4gJ0luZnJhc3RydWN0dXJlJztcbiAgICBjb25zdCB0cmltbWVkID0gcmF3VmFsdWUudHJpbSgpO1xuICAgIHJldHVybiB0cmltbWVkLmxlbmd0aCA+IDAgPyB0cmltbWVkIDogJ0luZnJhc3RydWN0dXJlJztcbn07XG5cbmNvbnN0IGdldERpc3BhdGNoTG9jYXRpb25Db2xvciA9IChsb2NhdGlvblR5cGUpID0+IHtcbiAgICBpZiAoIWxvY2F0aW9uVHlwZSB8fCB0eXBlb2YgbG9jYXRpb25UeXBlICE9PSAnc3RyaW5nJykgcmV0dXJuIERJU1BBVENIX0xPQ0FUSU9OX0NPTE9SX01BUC5kZWZhdWx0O1xuICAgIHJldHVybiBESVNQQVRDSF9MT0NBVElPTl9DT0xPUl9NQVBbbG9jYXRpb25UeXBlLnRyaW0oKS50b0xvd2VyQ2FzZSgpXSB8fCBESVNQQVRDSF9MT0NBVElPTl9DT0xPUl9NQVAuZGVmYXVsdDtcbn07XG5cbi8vIEhlbHBlcnMgdG8gZ3VhcmQgcG9seWdvbnNcbmNvbnN0IHJpbmdBcmVhMkQgPSAoY29vcmRzKSA9PiB7XG4gICAgaWYgKCFBcnJheS5pc0FycmF5KGNvb3JkcykgfHwgY29vcmRzLmxlbmd0aCA8IDMpIHJldHVybiAwO1xuICAgIGxldCBhcmVhID0gMDtcbiAgICBjb25zdCBuID0gY29vcmRzLmxlbmd0aDtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG47IGkrKykge1xuICAgICAgICBjb25zdCBbeDEsIHkxXSA9IGNvb3Jkc1tpXTtcbiAgICAgICAgY29uc3QgW3gyLCB5Ml0gPSBjb29yZHNbKGkgKyAxKSAlIG5dO1xuICAgICAgICBhcmVhICs9IHgxICogeTIgLSB4MiAqIHkxO1xuICAgIH1cbiAgICByZXR1cm4gTWF0aC5hYnMoYXJlYSkgKiAwLjU7XG59O1xuXG5jb25zdCBwYXJzZVBvbHlnb25IaWVyYXJjaHkgPSAoZ2VvanNvbikgPT4ge1xuICAgIGlmICghZ2VvanNvbiB8fCAhd2luZG93Py5DZXNpdW0pIHJldHVybiBudWxsO1xuICAgIGNvbnN0IENlc2l1bSA9IHdpbmRvdy5DZXNpdW07XG4gICAgbGV0IGdqO1xuICAgIHRyeSB7XG4gICAgICAgIGdqID0gdHlwZW9mIGdlb2pzb24gPT09ICdzdHJpbmcnID8gSlNPTi5wYXJzZShnZW9qc29uKSA6IGdlb2pzb247XG4gICAgfSBjYXRjaCB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBpZiAoIWdqIHx8ICFnai5jb29yZGluYXRlcykgcmV0dXJuIG51bGw7XG5cbiAgICBsZXQgcmluZ3MgPSBudWxsO1xuICAgIGlmIChnai50eXBlID09PSAnUG9seWdvbicpIHtcbiAgICAgICAgcmluZ3MgPSBnai5jb29yZGluYXRlcztcbiAgICB9IGVsc2UgaWYgKGdqLnR5cGUgPT09ICdNdWx0aVBvbHlnb24nICYmIEFycmF5LmlzQXJyYXkoZ2ouY29vcmRpbmF0ZXMpICYmIGdqLmNvb3JkaW5hdGVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgcmluZ3MgPSBnai5jb29yZGluYXRlc1swXTtcbiAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgaWYgKCFBcnJheS5pc0FycmF5KHJpbmdzKSB8fCByaW5ncy5sZW5ndGggPT09IDApIHJldHVybiBudWxsO1xuXG4gICAgbGV0IG91dGVyID0gcmluZ3NbMF07XG4gICAgaWYgKCFBcnJheS5pc0FycmF5KG91dGVyKSB8fCBvdXRlci5sZW5ndGggPCAzKSByZXR1cm4gbnVsbDtcblxuICAgIG91dGVyID0gb3V0ZXIuZmlsdGVyKFxuICAgICAgICAoYykgPT5cbiAgICAgICAgICAgIEFycmF5LmlzQXJyYXkoYykgJiZcbiAgICAgICAgICAgIGMubGVuZ3RoID49IDIgJiZcbiAgICAgICAgICAgIE51bWJlci5pc0Zpbml0ZShjWzBdKSAmJlxuICAgICAgICAgICAgTnVtYmVyLmlzRmluaXRlKGNbMV0pXG4gICAgKTtcbiAgICBpZiAob3V0ZXIubGVuZ3RoIDwgMykgcmV0dXJuIG51bGw7XG5cbiAgICBpZiAob3V0ZXIubGVuZ3RoID49IDIpIHtcbiAgICAgICAgY29uc3QgW2Z4LCBmeV0gPSBvdXRlclswXTtcbiAgICAgICAgY29uc3QgW2x4LCBseV0gPSBvdXRlcltvdXRlci5sZW5ndGggLSAxXTtcbiAgICAgICAgaWYgKGZ4ID09PSBseCAmJiBmeSA9PT0gbHkpIHtcbiAgICAgICAgICAgIG91dGVyID0gb3V0ZXIuc2xpY2UoMCwgLTEpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgY29uc3QgY2xlYW5lZCA9IFtdO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgb3V0ZXIubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3QgY3VyID0gb3V0ZXJbaV07XG4gICAgICAgIGlmIChpID09PSAwIHx8IGN1clswXSAhPT0gb3V0ZXJbaSAtIDFdWzBdIHx8IGN1clsxXSAhPT0gb3V0ZXJbaSAtIDFdWzFdKSB7XG4gICAgICAgICAgICBjbGVhbmVkLnB1c2goY3VyKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAoY2xlYW5lZC5sZW5ndGggPCAzKSByZXR1cm4gbnVsbDtcblxuICAgIGNvbnN0IGFyZWEyRCA9IHJpbmdBcmVhMkQoY2xlYW5lZCk7XG4gICAgaWYgKCFOdW1iZXIuaXNGaW5pdGUoYXJlYTJEKSB8fCBhcmVhMkQgPCAxZS0xMCkgcmV0dXJuIG51bGw7XG5cbiAgICBjb25zdCBwb3NpdGlvbnMgPSBDZXNpdW0uQ2FydGVzaWFuMy5mcm9tRGVncmVlc0FycmF5KGNsZWFuZWQuZmxhdCgpKTtcbiAgICBpZiAoIXBvc2l0aW9ucyB8fCBwb3NpdGlvbnMubGVuZ3RoIDwgMykgcmV0dXJuIG51bGw7XG5cbiAgICBsZXQgbWluWCA9IEluZmluaXR5LCBtYXhYID0gLUluZmluaXR5O1xuICAgIGxldCBtaW5ZID0gSW5maW5pdHksIG1heFkgPSAtSW5maW5pdHk7XG4gICAgbGV0IG1pblogPSBJbmZpbml0eSwgbWF4WiA9IC1JbmZpbml0eTtcbiAgICBmb3IgKGNvbnN0IHAgb2YgcG9zaXRpb25zKSB7XG4gICAgICAgIGlmICghTnVtYmVyLmlzRmluaXRlKHAueCkgfHwgIU51bWJlci5pc0Zpbml0ZShwLnkpIHx8ICFOdW1iZXIuaXNGaW5pdGUocC56KSkgcmV0dXJuIG51bGw7XG4gICAgICAgIGlmIChwLnggPCBtaW5YKSBtaW5YID0gcC54O1xuICAgICAgICBpZiAocC54ID4gbWF4WCkgbWF4WCA9IHAueDtcbiAgICAgICAgaWYgKHAueSA8IG1pblkpIG1pblkgPSBwLnk7XG4gICAgICAgIGlmIChwLnkgPiBtYXhZKSBtYXhZID0gcC55O1xuICAgICAgICBpZiAocC56IDwgbWluWikgbWluWiA9IHAuejtcbiAgICAgICAgaWYgKHAueiA+IG1heFopIG1heFogPSBwLno7XG4gICAgfVxuICAgIGNvbnN0IHNwYW4gPSBNYXRoLm1heChtYXhYIC0gbWluWCwgbWF4WSAtIG1pblksIG1heFogLSBtaW5aKTtcbiAgICBpZiAoIU51bWJlci5pc0Zpbml0ZShzcGFuKSB8fCBzcGFuIDwgMC4xKSByZXR1cm4gbnVsbDtcblxuICAgIHJldHVybiBuZXcgQ2VzaXVtLlBvbHlnb25IaWVyYXJjaHkocG9zaXRpb25zKTtcbn07XG5cbi8vIEd1YXJkIGZvciBhcmJpdHJhcnkgQ2FydGVzaWFuMyBwb3NpdGlvbiBhcnJheXMgKGZvciBwb2x5Z29ucylcbmNvbnN0IGFyZVBvc2l0aW9uc1ZhbGlkID0gKHBvc2l0aW9ucykgPT4ge1xuICAgIGlmICghQXJyYXkuaXNBcnJheShwb3NpdGlvbnMpIHx8IHBvc2l0aW9ucy5sZW5ndGggPCAzKSByZXR1cm4gZmFsc2U7XG4gICAgbGV0IG1pblggPSBJbmZpbml0eSwgbWF4WCA9IC1JbmZpbml0eTtcbiAgICBsZXQgbWluWSA9IEluZmluaXR5LCBtYXhZID0gLUluZmluaXR5O1xuICAgIGxldCBtaW5aID0gSW5maW5pdHksIG1heFogPSAtSW5maW5pdHk7XG4gICAgZm9yIChjb25zdCBwIG9mIHBvc2l0aW9ucykge1xuICAgICAgICBpZiAoIXAgfHwgIU51bWJlci5pc0Zpbml0ZShwLngpIHx8ICFOdW1iZXIuaXNGaW5pdGUocC55KSB8fCAhTnVtYmVyLmlzRmluaXRlKHAueikpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocC54IDwgbWluWCkgbWluWCA9IHAueDtcbiAgICAgICAgaWYgKHAueCA+IG1heFgpIG1heFggPSBwLng7XG4gICAgICAgIGlmIChwLnkgPCBtaW5ZKSBtaW5ZID0gcC55O1xuICAgICAgICBpZiAocC55ID4gbWF4WSkgbWF4WSA9IHAueTtcbiAgICAgICAgaWYgKHAueiA8IG1pblopIG1pblogPSBwLno7XG4gICAgICAgIGlmIChwLnogPiBtYXhaKSBtYXhaID0gcC56O1xuICAgIH1cbiAgICBjb25zdCBzcGFuID0gTWF0aC5tYXgobWF4WCAtIG1pblgsIG1heFkgLSBtaW5ZLCBtYXhaIC0gbWluWik7XG4gICAgcmV0dXJuIE51bWJlci5pc0Zpbml0ZShzcGFuKSAmJiBzcGFuID49IDAuMTtcbn07XG5cbmNvbnN0IGlzRGlzcGF0Y2hTZWdtZW50Q2xvc2VkID0gKHNlZ21lbnQpID0+IHtcbiAgICBpZiAoIXNlZ21lbnQpIHJldHVybiBmYWxzZTtcbiAgICBjb25zdCB2YWx1ZSA9IHNlZ21lbnQuaXNfY2xvc2VkO1xuICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdib29sZWFuJykgcmV0dXJuIHZhbHVlO1xufTtcblxuLy8gUmVuZGVyIHRvb2x0aXAgbGluZXMgaW4gdGhlIHNhbWUgbGFiZWwvdmFsdWUgbGF5b3V0IGFzIHRoZSBMYXQvTG5nIGJveFxuY29uc3QgcmVuZGVyVG9vbHRpcEl0ZW1zID0gKGl0ZW1zLCB7IGNvbXBhY3QgPSBmYWxzZSB9ID0ge30pID0+IHtcbiAgICByZXR1cm4gaXRlbXNcbiAgICAgICAgLmZpbHRlcihCb29sZWFuKVxuICAgICAgICAubWFwKChyYXcpID0+IHtcbiAgICAgICAgICAgIGxldCBpdGVtID0gdHlwZW9mIHJhdyA9PT0gJ3N0cmluZycgPyByYXcgOiBTdHJpbmcocmF3KS50cmltKCk7XG4gICAgICAgICAgICBpZiAoIWl0ZW0pIHJldHVybiAnJztcblxuICAgICAgICAgICAgLy8gU0VDVElPTiBIRUFERVJTLCBlLmcuIFwiLS0tIFJPQUQgRElNRU5TSU9OUyAtLS1cIlxuICAgICAgICAgICAgaWYgKCFpdGVtLmluY2x1ZGVzKCc6JykpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBsYWJlbCA9IGl0ZW0ucmVwbGFjZSgvXlstXFxzXSt8Wy1cXHNdKyQvZywgJycpO1xuICAgICAgICAgICAgICAgIHJldHVybiBgXG4gICAgICAgICAgPGRpdlxuICAgICAgICAgICAgc3R5bGU9XCJcbiAgICAgICAgICAgICAgbWFyZ2luOiAke2NvbXBhY3QgPyAnNHB4JyA6ICc2cHgnfSAwIDJweDtcbiAgICAgICAgICAgICAgZm9udC13ZWlnaHQ6IDYwMDtcbiAgICAgICAgICAgICAgY29sb3I6ICNmNWY1ZjU7XG4gICAgICAgICAgICAgIGJvcmRlci10b3A6IDFweCBzb2xpZCByZ2JhKDI1NSwyNTUsMjU1LDAuMDgpO1xuICAgICAgICAgICAgICBwYWRkaW5nLXRvcDogNHB4O1xuICAgICAgICAgICAgXCJcbiAgICAgICAgICA+XG4gICAgICAgICAgICAke2xhYmVsfVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICBgO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBOT1JNQUwgXCJMQUJFTDogdmFsdWVcIiBMSU5FU1xuICAgICAgICAgICAgY29uc3QgW3Jhd0xhYmVsLCAuLi5yZXN0XSA9IGl0ZW0uc3BsaXQoJzonKTtcbiAgICAgICAgICAgIGNvbnN0IGxhYmVsID0gcmF3TGFiZWwudHJpbSgpO1xuICAgICAgICAgICAgY29uc3QgdmFsdWUgPSByZXN0LmpvaW4oJzonKS50cmltKCk7XG5cbiAgICAgICAgICAgIHJldHVybiBgXG4gICAgICAgIDxkaXZcbiAgICAgICAgICBzdHlsZT1cIlxuICAgICAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjtcbiAgICAgICAgICAgIG1hcmdpbi1ib3R0b206ICR7Y29tcGFjdCA/ICcxcHgnIDogJzNweCd9O1xuICAgICAgICAgIFwiXG4gICAgICAgID5cbiAgICAgICAgICA8c3BhbiBzdHlsZT1cImNvbG9yOiAjYTBhMGEwOyBmb250LXdlaWdodDogNDAwO1wiPlxuICAgICAgICAgICAgJHtsYWJlbH1cbiAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgPHNwYW4gc3R5bGU9XCJcbiAgICAgICAgICAgIGNvbG9yOiB3aGl0ZTtcbiAgICAgICAgICAgIGZvbnQtd2VpZ2h0OiA1MDA7XG4gICAgICAgICAgICBmb250LXZhcmlhbnQtbnVtZXJpYzogdGFidWxhci1udW1zO1xuICAgICAgICAgICAgdGV4dC1hbGlnbjogcmlnaHQ7XG4gICAgICAgICAgICB3aGl0ZS1zcGFjZTogbm93cmFwO1xuICAgICAgICAgIFwiPlxuICAgICAgICAgICAgJHt2YWx1ZX1cbiAgICAgICAgICA8L3NwYW4+XG4gICAgICAgIDwvZGl2PlxuICAgICAgYDtcbiAgICAgICAgfSlcbiAgICAgICAgLmpvaW4oJycpO1xufTtcblxuY29uc3QgZm9ybWF0VG9vbHRpcENvbnRlbnQgPSAoZW50aXR5KSA9PiB7XG4gICAgaWYgKCFlbnRpdHkgfHwgIWVudGl0eS5wcm9wZXJ0aWVzKSByZXR1cm4gJyc7XG4gICAgLy8gSGFuZGxlIGJvdGggQ2VzaXVtIFByb3BlcnR5IG9iamVjdHMgYW5kIGRpcmVjdCB2YWx1ZXNcbiAgICBjb25zdCBnZXRQcm9wID0gKGtleSkgPT4ge1xuICAgICAgICBjb25zdCBwcm9wID0gZW50aXR5LnByb3BlcnRpZXNba2V5XTtcbiAgICAgICAgaWYgKHByb3AgPT09IHVuZGVmaW5lZCB8fCBwcm9wID09PSBudWxsKSByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICBpZiAocHJvcCAmJiB0eXBlb2YgcHJvcC5nZXRWYWx1ZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgcmV0dXJuIHByb3AuZ2V0VmFsdWUod2luZG93LkNlc2l1bS5KdWxpYW5EYXRlLm5vdygpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcHJvcDtcbiAgICB9O1xuXG4gICAgY29uc3QgaXRlbXMgPSBbXTtcbiAgICBjb25zdCBjYXRlZ29yeSA9IGdldFByb3AoJ2NhdGVnb3J5Jyk7XG5cbiAgICBpZiAoY2F0ZWdvcnkgPT09ICdkaXNwYXRjaF9zZWdtZW50Jykge1xuICAgICAgICBpdGVtcy5wdXNoKGAtLS0gRElTUEFUQ0ggU0VHTUVOVCAtLS1gKTtcbiAgICAgICAgaWYgKGdldFByb3AoJ3JvYWRfaWQnKSkgaXRlbXMucHVzaChgUk9BRCBJRDogJHtnZXRQcm9wKCdyb2FkX2lkJyl9YCk7XG4gICAgICAgIGlmIChnZXRQcm9wKCdsYW5lX2lkJykpIGl0ZW1zLnB1c2goYExBTkUgSUQ6ICR7Z2V0UHJvcCgnbGFuZV9pZCcpfWApO1xuICAgICAgICBpZiAoZ2V0UHJvcCgnbGVuZ3RoX20nKSkgaXRlbXMucHVzaChgTEVOR1RIOiAke01hdGgucm91bmQoZ2V0UHJvcCgnbGVuZ3RoX20nKSl9IG1gKTtcbiAgICAgICAgaWYgKGdldFByb3AoJ2RpcmVjdGlvbicpKSBpdGVtcy5wdXNoKGBESVJFQ1RJT046ICR7Z2V0UHJvcCgnZGlyZWN0aW9uJyl9YCk7XG4gICAgICAgIGNvbnN0IGNsb3NlZCA9IGdldFByb3AoJ2lzX2Nsb3NlZCcpO1xuICAgICAgICBpdGVtcy5wdXNoKGBTVEFUVVM6ICR7Y2xvc2VkID8gJ0Nsb3NlZCcgOiAnT3Blbid9YCk7XG4gICAgfSBlbHNlIGlmIChjYXRlZ29yeSA9PT0gJ2Rpc3BhdGNoX2xvY2F0aW9uJykge1xuICAgICAgICBpdGVtcy5wdXNoKGAtLS0gTE9DQVRJT04gLS0tYCk7XG4gICAgICAgIGl0ZW1zLnB1c2goYE5BTUU6ICR7Z2V0UHJvcCgnbG9jYXRpb25fbmFtZScpfWApO1xuICAgICAgICBpdGVtcy5wdXNoKGBUWVBFOiAke2dldFByb3AoJ3VuaXRfdHlwZScpIHx8IGdldFByb3AoJ2xvY2F0aW9uX2NhdGVnb3J5Jyl9YCk7XG4gICAgfSBlbHNlIGlmIChjYXRlZ29yeSA9PT0gJ2Rpc3BhdGNoX2ludGVyc2VjdGlvbicpIHtcbiAgICAgICAgaXRlbXMucHVzaChgLS0tIElOVEVSU0VDVElPTiAtLS1gKTtcbiAgICAgICAgaXRlbXMucHVzaChgTkFNRTogJHtnZXRQcm9wKCdpbnRlcnNlY3Rpb25fbmFtZScpfWApO1xuICAgICAgICBpZiAoZ2V0UHJvcCgnaW50ZXJzZWN0aW9uX3R5cGUnKSkgaXRlbXMucHVzaChgVFlQRTogJHtnZXRQcm9wKCdpbnRlcnNlY3Rpb25fdHlwZScpfWApO1xuICAgICAgICBpZiAoZ2V0UHJvcCgnc2FmZXR5X2J1ZmZlcl9tJykpIGl0ZW1zLnB1c2goYFNBRkVUWSBCVUZGRVI6ICR7Z2V0UHJvcCgnc2FmZXR5X2J1ZmZlcl9tJyl9IG1gKTtcbiAgICAgICAgaWYgKGdldFByb3AoJ3JfbWluX20nKSkgaXRlbXMucHVzaChgUi1NSU46ICR7Z2V0UHJvcCgncl9taW5fbScpfSBtYCk7XG4gICAgICAgIGNvbnN0IHJvYWRzID0gZ2V0UHJvcCgnY29ubmVjdGVkX3JvYWRzJyk7XG4gICAgICAgIGlmIChyb2FkcyAmJiBBcnJheS5pc0FycmF5KHJvYWRzKSAmJiByb2Fkcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBpdGVtcy5wdXNoKGBDT05ORUNURUQgUk9BRFM6ICR7cm9hZHMuam9pbignLCAnKX1gKTtcbiAgICAgICAgfVxuICAgIH0gZWxzZSBpZiAoY2F0ZWdvcnkgPT09ICdkaXNwYXRjaF90cm9sbGV5Jykge1xuICAgICAgICBpdGVtcy5wdXNoKGAtLS0gVFJPTExFWSAtLS1gKTtcbiAgICAgICAgaXRlbXMucHVzaChgVFlQRTogVHJvbGxleSBMaW5lYCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlbmRlclRvb2x0aXBJdGVtcyhpdGVtcywgeyBjb21wYWN0OiB0cnVlIH0pO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gRGlzcGF0Y2hDZXNpdW1NYXAoKSB7XG4gICAgY29uc3QgbWFwQ29udGFpbmVyID0gdXNlUmVmKG51bGwpO1xuICAgIGNvbnN0IGNlc2l1bVZpZXdlclJlZiA9IHVzZVJlZihudWxsKTtcbiAgICBjb25zdCBtZWFzdXJlbWVudEhhbmRsZXJSZWYgPSB1c2VSZWYobnVsbCk7XG4gICAgY29uc3QgW21hcExvYWRlZCwgc2V0TWFwTG9hZGVkXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgICBjb25zdCBbbWFwRXJyb3IsIHNldE1hcEVycm9yXSA9IHVzZVN0YXRlKG51bGwpO1xuICAgIGNvbnN0IFtjZXNpdW1Mb2FkZWQsIHNldENlc2l1bUxvYWRlZF0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gICAgY29uc3QgW2RpYWxvZ09wZW4sIHNldERpYWxvZ09wZW5dID0gdXNlU3RhdGUoZmFsc2UpO1xuICAgIGNvbnN0IFtkaWFsb2dEYXRhLCBzZXREaWFsb2dEYXRhXSA9IHVzZVN0YXRlKG51bGwpO1xuICAgIGNvbnN0IFtzaG93UHJvZmlsZVZpZXdlciwgc2V0U2hvd1Byb2ZpbGVWaWV3ZXJdID0gdXNlU3RhdGUoZmFsc2UpO1xuICAgIGNvbnN0IFtzZWxlY3RlZFJvYWRJZCwgc2V0U2VsZWN0ZWRSb2FkSWRdID0gdXNlU3RhdGUobnVsbCk7XG4gICAgLy8gRGF0YVxuICAgIGNvbnN0IFtsb2NhdGlvbnMsIHNldExvY2F0aW9uc10gPSB1c2VTdGF0ZShbXSk7XG4gICAgY29uc3QgW3NlZ21lbnRzLCBzZXRTZWdtZW50c10gPSB1c2VTdGF0ZShbXSk7XG4gICAgY29uc3QgW3Ryb2xsZXlTZWdtZW50cywgc2V0VHJvbGxleVNlZ21lbnRzXSA9IHVzZVN0YXRlKFtdKTtcbiAgICBjb25zdCBbd2F0ZXJpbmdTdGF0aW9ucywgc2V0V2F0ZXJpbmdTdGF0aW9uc10gPSB1c2VTdGF0ZShbXSk7XG4gICAgY29uc3QgW3NwZWVkTW9uaXRvcmluZywgc2V0U3BlZWRNb25pdG9yaW5nXSA9IHVzZVN0YXRlKFtdKTtcbiAgICBjb25zdCBbaW50ZXJzZWN0aW9ucywgc2V0SW50ZXJzZWN0aW9uc10gPSB1c2VTdGF0ZShbXSk7XG4gICAgY29uc3QgW2NlbnRlclBvaW50cywgc2V0Q2VudGVyUG9pbnRzXSA9IHVzZVN0YXRlKFtdKTtcbiAgICBjb25zdCBjZW50ZXJQb2ludEVudGl0aWVzUmVmID0gdXNlUmVmKFtdKTtcblxuICAgIGNvbnN0IHtcbiAgICAgICAgaXNEaWFsb2dPcGVuOiB0dXJuRGlhbG9nT3BlbixcbiAgICAgICAgY3VycmVudFN0ZXA6IHR1cm5DdXJyZW50U3RlcCwgICAgICAgICAgIC8vIGZvciBVSVxuICAgICAgICBnZXRDdXJyZW50U3RlcDogZ2V0VHVybkN1cnJlbnRTdGVwLCAgICAgLy8gcmVmLWJhY2tlZCBmb3IgQ2VzaXVtIGhhbmRsZXJzXG4gICAgICAgIHNlbGVjdGVkU291cmNlUm9hZDogdHVyblNvdXJjZVJvYWQsXG4gICAgICAgIHNlbGVjdGVkRGVzdGluYXRpb25Sb2FkOiB0dXJuRGVzdFJvYWQsXG4gICAgICAgIG9wZW5EaWFsb2c6IG9wZW5UdXJuRGlhbG9nLFxuICAgICAgICBjbG9zZURpYWxvZzogY2xvc2VUdXJuRGlhbG9nLFxuICAgICAgICBzdGFydFNlbGVjdGlvbjogc3RhcnRUdXJuU2VsZWN0aW9uLFxuICAgICAgICBoYW5kbGVNYXBDbGljazogaGFuZGxlVHVyblBhdGhDbGljayxcbiAgICB9ID0gdXNlVHVyblBhdGhNYW5hZ2VyKGNlc2l1bVZpZXdlclJlZiwgY2VudGVyUG9pbnRzKTtcblxuICAgIC8vIFVJIFN0YXRlXG4gICAgY29uc3QgW3JvYWROZXR3b3Jrc0V4cGFuZGVkLCBzZXRSb2FkTmV0d29ya3NFeHBhbmRlZF0gPSB1c2VTdGF0ZSh0cnVlKTtcbiAgICBjb25zdCBbbG9jYXRpb25UeXBlc0V4cGFuZGVkLCBzZXRMb2NhdGlvblR5cGVzRXhwYW5kZWRdID0gdXNlU3RhdGUodHJ1ZSk7XG4gICAgY29uc3QgW2Jhc2VMYXllciwgc2V0QmFzZUxheWVyXSA9IHVzZVN0YXRlKCduaWdodCcpOyAvLyAnbmlnaHQnIG9yICdkYXknXG4gICAgY29uc3QgW3NjZW5lTW9kZSwgc2V0U2NlbmVNb2RlXSA9IHVzZVN0YXRlKCczZCcpOyAvLyAnM2QnIG9yICcyZCdcbiAgICBjb25zdCBbbWVhc3VyZW1lbnRNb2RlLCBzZXRNZWFzdXJlbWVudE1vZGVdID0gdXNlU3RhdGUoJ25vbmUnKTsgLy8gbm9uZSB8IGRpc3RhbmNlIHwgYXJlYVxuXG4gICAgLy8gVmlzaWJpbGl0eVxuICAgIGNvbnN0IFtzaG93T3BlblJvYWRzLCBzZXRTaG93T3BlblJvYWRzXSA9IHVzZVN0YXRlKHRydWUpO1xuICAgIGNvbnN0IFtzaG93Q2xvc2VkUm9hZHMsIHNldFNob3dDbG9zZWRSb2Fkc10gPSB1c2VTdGF0ZSh0cnVlKTtcbiAgICBjb25zdCBbc2hvd0ludGVyc2VjdGlvbnMsIHNldFNob3dJbnRlcnNlY3Rpb25zXSA9IHVzZVN0YXRlKHRydWUpO1xuICAgIGNvbnN0IFtzaG93Q2VudGVyUG9pbnRzLCBzZXRTaG93Q2VudGVyUG9pbnRzXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgICBjb25zdCBbc2hvd1Ryb2xsZXksIHNldFNob3dUcm9sbGV5XSA9IHVzZVN0YXRlKHRydWUpO1xuICAgIGNvbnN0IFtzaG93V2F0ZXJpbmcsIHNldFNob3dXYXRlcmluZ10gPSB1c2VTdGF0ZSh0cnVlKTtcbiAgICBjb25zdCBbc2hvd1NwZWVkLCBzZXRTaG93U3BlZWRdID0gdXNlU3RhdGUodHJ1ZSk7XG4gICAgY29uc3QgW3Zpc2libGVMb2NhdGlvblR5cGVzLCBzZXRWaXNpYmxlTG9jYXRpb25UeXBlc10gPSB1c2VTdGF0ZShuZXcgU2V0KCkpO1xuXG4gICAgLy8gRnJvbnRydW5uZXItc3R5bGUgbWVhc3VyZW1lbnQgaG9va1xuICAgIGNvbnN0IHtcbiAgICAgICAgbWVhc3VyZW1lbnRNb2RlOiBmck1lYXN1cmVtZW50TW9kZSxcbiAgICAgICAgc3RhcnRNZWFzdXJlbWVudDogZnJTdGFydE1lYXN1cmVtZW50LFxuICAgICAgICBjYW5jZWxNZWFzdXJlbWVudDogZnJDYW5jZWxNZWFzdXJlbWVudCxcbiAgICAgICAgYWRkTWVhc3VyZW1lbnRQb2ludDogZnJBZGRQb2ludCxcbiAgICAgICAgY2xlYXJNZWFzdXJlbWVudHM6IGZyQ2xlYXJNZWFzdXJlbWVudHMsXG4gICAgICAgIHVwZGF0ZVByZXZpZXdMaW5lOiBmclVwZGF0ZVByZXZpZXcsXG4gICAgICAgIGZpbmFsaXplQXJlYU1lYXN1cmVtZW50OiBmckZpbmFsaXplQXJlYSxcbiAgICAgICAgZ2V0TWVhc3VyZW1lbnRNb2RlOiBmckdldE1vZGUsXG4gICAgfSA9IHVzZU1lYXN1cmVtZW50VG9vbChjZXNpdW1WaWV3ZXJSZWYpO1xuXG4gICAgY29uc3QgcmVjZW50ZXJWaWV3ID0gKCkgPT4ge1xuICAgICAgICBjb25zdCB2aWV3ZXIgPSBjZXNpdW1WaWV3ZXJSZWYuY3VycmVudDtcbiAgICAgICAgaWYgKCF2aWV3ZXIgfHwgIXdpbmRvdz8uQ2VzaXVtKSByZXR1cm47XG4gICAgICAgIGNvbnN0IENlc2l1bSA9IHdpbmRvdy5DZXNpdW07XG4gICAgICAgIHZpZXdlci5jYW1lcmEuZmx5VG8oe1xuICAgICAgICAgICAgZGVzdGluYXRpb246IENlc2l1bS5DYXJ0ZXNpYW4zLmZyb21EZWdyZWVzKDE0OC45ODAyMDIsIC0yMy44NDcwODMsIDUwMDApLFxuICAgICAgICAgICAgb3JpZW50YXRpb246IHsgaGVhZGluZzogMCwgcGl0Y2g6IENlc2l1bS5NYXRoLnRvUmFkaWFucygtOTApLCByb2xsOiAwIH0sXG4gICAgICAgICAgICBkdXJhdGlvbjogMC44LFxuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgLy8gQ29tcHV0ZWRcblxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIC8vIEhpZGUgaW5mby90b29sdGlwIG92ZXJsYXlzIHdoaWxlIHR1cm4tcGF0aCBzZWxlY3Rpb24gaXMgYWN0aXZlXG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgY29uc3Qgc2VsZWN0aW5nID1cbiAgICAgICAgICAgIHR1cm5DdXJyZW50U3RlcCA9PT0gJ3NlbGVjdGluZ19zb3VyY2UnIHx8XG4gICAgICAgICAgICB0dXJuQ3VycmVudFN0ZXAgPT09ICdzZWxlY3RpbmdfZGVzdGluYXRpb24nO1xuICAgICAgICBpZiAoc2VsZWN0aW5nKSB7XG4gICAgICAgICAgICBzZXREaWFsb2dPcGVuKGZhbHNlKTtcbiAgICAgICAgICAgIHNldERpYWxvZ0RhdGEobnVsbCk7XG4gICAgICAgICAgICBjb25zdCB0b29sdGlwID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21hcC10b29sdGlwJyk7XG4gICAgICAgICAgICBpZiAodG9vbHRpcCkgdG9vbHRpcC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgICB9XG4gICAgfSwgW3R1cm5DdXJyZW50U3RlcF0pO1xuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIGNvbnN0IGxvY2F0aW9uQ291bnRzID0gdXNlTWVtbygoKSA9PiB7XG4gICAgICAgIGNvbnN0IGNvdW50cyA9IHt9O1xuICAgICAgICBsb2NhdGlvbnMuZm9yRWFjaChsID0+IGNvdW50c1tyZXNvbHZlRGlzcGF0Y2hMb2NhdGlvblR5cGUobCldID0gKGNvdW50c1tyZXNvbHZlRGlzcGF0Y2hMb2NhdGlvblR5cGUobCldIHx8IDApICsgMSk7XG4gICAgICAgIHJldHVybiBjb3VudHM7XG4gICAgfSwgW2xvY2F0aW9uc10pO1xuXG4gICAgY29uc3Qgcm9hZENvdW50cyA9IHVzZU1lbW8oKCkgPT4gKHtcbiAgICAgICAgb3Blbjogc2VnbWVudHMuZmlsdGVyKHMgPT4gIWlzRGlzcGF0Y2hTZWdtZW50Q2xvc2VkKHMpKS5sZW5ndGgsXG4gICAgICAgIGNsb3NlZDogc2VnbWVudHMuZmlsdGVyKHMgPT4gaXNEaXNwYXRjaFNlZ21lbnRDbG9zZWQocykpLmxlbmd0aFxuICAgIH0pLCBbc2VnbWVudHNdKTtcblxuICAgIGNvbnN0IGNlbnRlclBvaW50Q291bnQgPSBjZW50ZXJQb2ludHMubGVuZ3RoO1xuXG4gICAgY29uc3QgdG9nZ2xlTG9jYXRpb25UeXBlID0gKHR5cGUsIGNoZWNrZWQpID0+IHtcbiAgICAgICAgY29uc3QgbmV3U2V0ID0gbmV3IFNldCh2aXNpYmxlTG9jYXRpb25UeXBlcyk7XG4gICAgICAgIGNoZWNrZWQgPyBuZXdTZXQuYWRkKHR5cGUpIDogbmV3U2V0LmRlbGV0ZSh0eXBlKTtcbiAgICAgICAgc2V0VmlzaWJsZUxvY2F0aW9uVHlwZXMobmV3U2V0KTtcbiAgICB9O1xuXG4gICAgLy8gSW5pdGlhbGl6ZSBDZXNpdW1cbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAoIWNlc2l1bUxvYWRlZCB8fCAhbWFwQ29udGFpbmVyLmN1cnJlbnQgfHwgY2VzaXVtVmlld2VyUmVmLmN1cnJlbnQpIHJldHVybjtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IENlc2l1bSA9IHdpbmRvdy5DZXNpdW07XG4gICAgICAgICAgICBDZXNpdW0uSW9uLmRlZmF1bHRBY2Nlc3NUb2tlbiA9ICdleUpoYkdjaU9pSklVekkxTmlJc0luUjVjQ0k2SWtwWFZDSjkuZXlKcWRHa2lPaUprTjJKaU1XTXlNUzA1WW1VMExUUTJNemt0T0RrNVl5MHhaakpqTURreU9HSmtNemtpTENKcFpDSTZNVGcwTnpZc0ltbGhkQ0k2TVRZek9UUXpPVFU0TW4wLjZHTU9QLVk5blB3cUdQWjBmTEN1Ty1ZWEsxeFZISzBIeHhNejRFQnFoSmsnO1xuXG4gICAgICAgICAgICBsZXQgY29vcmRIYW5kbGVyID0gbnVsbDtcbiAgICAgICAgICAgIGxldCBjb29yZERpc3BsYXkgPSBudWxsO1xuXG4gICAgICAgICAgICBjb25zdCB2aWV3ZXIgPSBuZXcgQ2VzaXVtLlZpZXdlcihtYXBDb250YWluZXIuY3VycmVudCwge1xuICAgICAgICAgICAgICAgIGJhc2VMYXllclBpY2tlcjogZmFsc2UsIGdlb2NvZGVyOiBmYWxzZSwgaG9tZUJ1dHRvbjogZmFsc2UsIHNjZW5lTW9kZVBpY2tlcjogZmFsc2UsXG4gICAgICAgICAgICAgICAgbmF2aWdhdGlvbkhlbHBCdXR0b246IGZhbHNlLCBhbmltYXRpb246IGZhbHNlLCB0aW1lbGluZTogZmFsc2UsIGZ1bGxzY3JlZW5CdXR0b246IGZhbHNlLFxuICAgICAgICAgICAgICAgIHZyQnV0dG9uOiBmYWxzZSwgaW1hZ2VyeVByb3ZpZGVyOiBmYWxzZSwgdGVycmFpblByb3ZpZGVyOiBuZXcgQ2VzaXVtLkVsbGlwc29pZFRlcnJhaW5Qcm92aWRlcigpLFxuICAgICAgICAgICAgICAgIHNlbGVjdGlvbkluZGljYXRvcjogZmFsc2UsIGluZm9Cb3g6IGZhbHNlXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgdmlld2VyLmNlc2l1bVdpZGdldC5jcmVkaXRDb250YWluZXIuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgICAgICAgIHZpZXdlci5jYW1lcmEuc2V0Vmlldyh7XG4gICAgICAgICAgICAgICAgZGVzdGluYXRpb246IENlc2l1bS5DYXJ0ZXNpYW4zLmZyb21EZWdyZWVzKDE0OC45ODAyMDIsIC0yMy44NDcwODMsIDUwMDApLFxuICAgICAgICAgICAgICAgIG9yaWVudGF0aW9uOiB7IGhlYWRpbmc6IDAsIHBpdGNoOiBDZXNpdW0uTWF0aC50b1JhZGlhbnMoLTkwKSwgcm9sbDogMCB9XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgY2VzaXVtVmlld2VyUmVmLmN1cnJlbnQgPSB2aWV3ZXI7XG4gICAgICAgICAgICB3aW5kb3cuY2VzaXVtVmlld2VyID0gdmlld2VyO1xuICAgICAgICAgICAgc2V0TWFwTG9hZGVkKHRydWUpO1xuXG4gICAgICAgICAgICAvLyBMb2FkIGNlbnRlciBwb2ludHMgZnJvbSBiYWNrZW5kIChpbnRlcnNlY3Rpb25fY2VudGVyX3BvaW50cylcbiAgICAgICAgICAgIGZldGNoKCcvYXBpL2ludGVyc2VjdGlvbl9jZW50ZXJfcG9pbnRzJylcbiAgICAgICAgICAgICAgICAudGhlbihyZXMgPT4gcmVzLmpzb24oKSlcbiAgICAgICAgICAgICAgICAudGhlbihkYXRhID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoZGF0YSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldENlbnRlclBvaW50cyhkYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLmNhdGNoKGVyciA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybignRmFpbGVkIHRvIGxvYWQgY2VudGVyIHBvaW50cycsIGVycj8ubWVzc2FnZSB8fCBlcnIpO1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAvLyBNZWFzdXJlbWVudCBoYW5kbGVyc1xuICAgICAgICAgICAgY29uc3QgaGFuZGxlciA9IG5ldyBDZXNpdW0uU2NyZWVuU3BhY2VFdmVudEhhbmRsZXIodmlld2VyLnNjZW5lLmNhbnZhcyk7XG4gICAgICAgICAgICBtZWFzdXJlbWVudEhhbmRsZXJSZWYuY3VycmVudCA9IGhhbmRsZXI7XG5cbiAgICAgICAgICAgIGhhbmRsZXIuc2V0SW5wdXRBY3Rpb24oKG1vdmVtZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgLy8gVHVybiBwYXRoIHNlbGVjdGlvbiB0YWtlcyBwcmlvcml0eSBpZiBpbiBzZWxlY3RpbmcgbW9kZVxuICAgICAgICAgICAgICAgIGNvbnN0IHN0ZXAgPSBnZXRUdXJuQ3VycmVudFN0ZXA/LigpO1xuICAgICAgICAgICAgICAgIGlmIChzdGVwID09PSAnc2VsZWN0aW5nX3NvdXJjZScgfHwgc3RlcCA9PT0gJ3NlbGVjdGluZ19kZXN0aW5hdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZHJpbGwgPSB2aWV3ZXIuc2NlbmUuZHJpbGxQaWNrKG1vdmVtZW50LnBvc2l0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcGlja2VkID0gKGRyaWxsICYmIGRyaWxsWzBdKSB8fCB2aWV3ZXIuc2NlbmUucGljayhtb3ZlbWVudC5wb3NpdGlvbik7XG4gICAgICAgICAgICAgICAgICAgIGlmIChwaWNrZWQgJiYgcGlja2VkLmlkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBoYW5kbGVUdXJuUGF0aENsaWNrKHBpY2tlZC5pZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBjb25zdCBtb2RlID0gZnJHZXRNb2RlKCk7XG4gICAgICAgICAgICAgICAgaWYgKCFtb2RlKSByZXR1cm47XG4gICAgICAgICAgICAgICAgY29uc3QgZWxsaXBzb2lkID0gdmlld2VyLnNjZW5lLmdsb2JlLmVsbGlwc29pZDtcbiAgICAgICAgICAgICAgICBsZXQgY2FydGVzaWFuID1cbiAgICAgICAgICAgICAgICAgICAgdmlld2VyLmNhbWVyYS5waWNrRWxsaXBzb2lkKG1vdmVtZW50LnBvc2l0aW9uLCBlbGxpcHNvaWQpIHx8XG4gICAgICAgICAgICAgICAgICAgIHZpZXdlci5zY2VuZS5waWNrUG9zaXRpb24obW92ZW1lbnQucG9zaXRpb24pO1xuICAgICAgICAgICAgICAgIGlmICghY2FydGVzaWFuKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJheSA9IHZpZXdlci5jYW1lcmEuZ2V0UGlja1JheShtb3ZlbWVudC5wb3NpdGlvbik7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyYXkpIGNhcnRlc2lhbiA9IHZpZXdlci5zY2VuZS5nbG9iZS5waWNrKHJheSwgdmlld2VyLnNjZW5lKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKCFjYXJ0ZXNpYW4pIHJldHVybjtcbiAgICAgICAgICAgICAgICBjb25zdCBjYXJ0byA9IGVsbGlwc29pZC5jYXJ0ZXNpYW5Ub0NhcnRvZ3JhcGhpYyhjYXJ0ZXNpYW4pO1xuICAgICAgICAgICAgICAgIGNvbnN0IGNsYW1wZWQgPSBDZXNpdW0uQ2FydGVzaWFuMy5mcm9tUmFkaWFucyhjYXJ0by5sb25naXR1ZGUsIGNhcnRvLmxhdGl0dWRlLCAwLjApO1xuICAgICAgICAgICAgICAgIGZyQWRkUG9pbnQoY2xhbXBlZCk7XG4gICAgICAgICAgICB9LCBDZXNpdW0uU2NyZWVuU3BhY2VFdmVudFR5cGUuTEVGVF9DTElDSyk7XG5cbiAgICAgICAgICAgIGhhbmRsZXIuc2V0SW5wdXRBY3Rpb24oKG1vdmVtZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgbW9kZSA9IGZyR2V0TW9kZSgpO1xuICAgICAgICAgICAgICAgIGlmIChtb2RlICE9PSAnZGlzdGFuY2UnKSByZXR1cm47XG4gICAgICAgICAgICAgICAgY29uc3QgZWxsaXBzb2lkID0gdmlld2VyLnNjZW5lLmdsb2JlLmVsbGlwc29pZDtcbiAgICAgICAgICAgICAgICBsZXQgY2FydGVzaWFuID1cbiAgICAgICAgICAgICAgICAgICAgdmlld2VyLmNhbWVyYS5waWNrRWxsaXBzb2lkKG1vdmVtZW50LmVuZFBvc2l0aW9uLCBlbGxpcHNvaWQpIHx8XG4gICAgICAgICAgICAgICAgICAgIHZpZXdlci5zY2VuZS5waWNrUG9zaXRpb24obW92ZW1lbnQuZW5kUG9zaXRpb24pO1xuICAgICAgICAgICAgICAgIGlmICghY2FydGVzaWFuKSB7XG4gICAgICAgICAgICAgICAgICAgIGZyVXBkYXRlUHJldmlldyhudWxsKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCBjYXJ0byA9IGVsbGlwc29pZC5jYXJ0ZXNpYW5Ub0NhcnRvZ3JhcGhpYyhjYXJ0ZXNpYW4pO1xuICAgICAgICAgICAgICAgIGNvbnN0IGNsYW1wZWQgPSBDZXNpdW0uQ2FydGVzaWFuMy5mcm9tUmFkaWFucyhjYXJ0by5sb25naXR1ZGUsIGNhcnRvLmxhdGl0dWRlLCAwLjApO1xuICAgICAgICAgICAgICAgIGZyVXBkYXRlUHJldmlldyhjbGFtcGVkKTtcbiAgICAgICAgICAgIH0sIENlc2l1bS5TY3JlZW5TcGFjZUV2ZW50VHlwZS5NT1VTRV9NT1ZFKTtcblxuICAgICAgICAgICAgaGFuZGxlci5zZXRJbnB1dEFjdGlvbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgZnJGaW5hbGl6ZUFyZWEoKTtcbiAgICAgICAgICAgIH0sIENlc2l1bS5TY3JlZW5TcGFjZUV2ZW50VHlwZS5SSUdIVF9DTElDSyk7XG5cbiAgICAgICAgICAgIC8vIENvb3JkaW5hdGVzIChleGFjdCBGcm9udHJ1bm5lciBzdHlsZSlcbiAgICAgICAgICAgIGNvb3JkRGlzcGxheSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICAgICAgY29vcmREaXNwbGF5LmlkID0gJ21vdXNlLWNvb3JkaW5hdGVzJztcbiAgICAgICAgICAgIGNvb3JkRGlzcGxheS5zdHlsZS5jc3NUZXh0ID0gYFxuICAgICAgICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICAgICAgICAgIGJvdHRvbTogMjBweDtcbiAgICAgICAgICAgICAgcmlnaHQ6IDIwcHg7XG4gICAgICAgICAgICAgIGJhY2tncm91bmQ6IHJnYmEoNTAsIDUwLCA1MCwgMC45Mik7XG4gICAgICAgICAgICAgIGNvbG9yOiB3aGl0ZTtcbiAgICAgICAgICAgICAgcGFkZGluZzogMTJweCAxNnB4O1xuICAgICAgICAgICAgICBib3JkZXItcmFkaXVzOiA5cHg7XG4gICAgICAgICAgICAgIGZvbnQtZmFtaWx5OiAnU2Vnb2UgVUknLCAtYXBwbGUtc3lzdGVtLCBCbGlua01hY1N5c3RlbUZvbnQsIHNhbnMtc2VyaWY7XG4gICAgICAgICAgICAgIGZvbnQtc2l6ZTogMTJweDtcbiAgICAgICAgICAgICAgZm9udC13ZWlnaHQ6IDQwMDtcbiAgICAgICAgICAgICAgYm94LXNoYWRvdzogMCA0cHggMTZweCByZ2JhKDAsIDAsIDAsIDAuMyk7XG4gICAgICAgICAgICAgIGJhY2tkcm9wLWZpbHRlcjogYmx1cigxMnB4KTtcbiAgICAgICAgICAgICAgYm9yZGVyOiBub25lO1xuICAgICAgICAgICAgICB6LWluZGV4OiAxMDAwO1xuICAgICAgICAgICAgICBtaW4td2lkdGg6IDE2MHB4O1xuICAgICAgICAgICAgICB0ZXh0LWFsaWduOiBsZWZ0O1xuICAgICAgICAgICAgICBkaXNwbGF5OiBibG9jaztcbiAgICAgICAgICAgICAgbGluZS1oZWlnaHQ6IDEuMzU7XG4gICAgICAgICAgICBgO1xuICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChjb29yZERpc3BsYXkpO1xuXG4gICAgICAgICAgICBjb29yZEhhbmRsZXIgPSBuZXcgQ2VzaXVtLlNjcmVlblNwYWNlRXZlbnRIYW5kbGVyKHZpZXdlci5zY2VuZS5jYW52YXMpO1xuICAgICAgICAgICAgY29vcmRIYW5kbGVyLnNldElucHV0QWN0aW9uKChtb3ZlbWVudCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNhcnRlc2lhbiA9IHZpZXdlci5zY2VuZS5waWNrUG9zaXRpb24obW92ZW1lbnQuZW5kUG9zaXRpb24pO1xuICAgICAgICAgICAgICAgIGlmIChDZXNpdW0uZGVmaW5lZChjYXJ0ZXNpYW4pKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNhcnQgPSBDZXNpdW0uQ2FydG9ncmFwaGljLmZyb21DYXJ0ZXNpYW4oY2FydGVzaWFuKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbG5nID0gQ2VzaXVtLk1hdGgudG9EZWdyZWVzKGNhcnQubG9uZ2l0dWRlKS50b0ZpeGVkKDYpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBsYXQgPSBDZXNpdW0uTWF0aC50b0RlZ3JlZXMoY2FydC5sYXRpdHVkZSkudG9GaXhlZCg2KTtcbiAgICAgICAgICAgICAgICAgICAgY29vcmREaXNwbGF5LmlubmVySFRNTCA9IGBcbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPVwiZGlzcGxheTogZmxleDsganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuOyBtYXJnaW4tYm90dG9tOiA0cHg7XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBzdHlsZT1cImNvbG9yOiAjYTBhMGEwOyBmb250LXdlaWdodDogNDAwO1wiPkxhdDo8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBzdHlsZT1cImNvbG9yOiB3aGl0ZTsgZm9udC13ZWlnaHQ6IDUwMDsgZm9udC12YXJpYW50LW51bWVyaWM6IHRhYnVsYXItbnVtcztcIj4ke2xhdH3CsDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPVwiZGlzcGxheTogZmxleDsganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gc3R5bGU9XCJjb2xvcjogI2EwYTBhMDsgZm9udC13ZWlnaHQ6IDQwMDtcIj5Mbmc6PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gc3R5bGU9XCJjb2xvcjogd2hpdGU7IGZvbnQtd2VpZ2h0OiA1MDA7IGZvbnQtdmFyaWFudC1udW1lcmljOiB0YWJ1bGFyLW51bXM7XCI+JHtsbmd9wrA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIGA7XG4gICAgICAgICAgICAgICAgICAgIGNvb3JkRGlzcGxheS5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCBDZXNpdW0uU2NyZWVuU3BhY2VFdmVudFR5cGUuTU9VU0VfTU9WRSk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHsgc2V0TWFwRXJyb3IoZS5tZXNzYWdlKTsgfVxuXG4gICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgICBpZiAobWVhc3VyZW1lbnRIYW5kbGVyUmVmLmN1cnJlbnQpIHtcbiAgICAgICAgICAgICAgICBtZWFzdXJlbWVudEhhbmRsZXJSZWYuY3VycmVudC5kZXN0cm95KCk7XG4gICAgICAgICAgICAgICAgbWVhc3VyZW1lbnRIYW5kbGVyUmVmLmN1cnJlbnQgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGNvb3JkSGFuZGxlciAmJiAhY29vcmRIYW5kbGVyLmlzRGVzdHJveWVkKCkpIHtcbiAgICAgICAgICAgICAgICBjb29yZEhhbmRsZXIuZGVzdHJveSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGNvb3JkRGlzcGxheSAmJiBjb29yZERpc3BsYXkucGFyZW50Tm9kZSkge1xuICAgICAgICAgICAgICAgIGNvb3JkRGlzcGxheS5yZW1vdmUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNlc2l1bVZpZXdlclJlZi5jdXJyZW50Py5kZXN0cm95KCk7XG4gICAgICAgIH07XG4gICAgfSwgW2Nlc2l1bUxvYWRlZF0pO1xuXG4gICAgLy8gVG9vbHRpcCBIYW5kbGVyXG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgaWYgKCFtYXBMb2FkZWQgfHwgIWNlc2l1bVZpZXdlclJlZi5jdXJyZW50KSByZXR1cm47XG4gICAgICAgIGNvbnN0IHZpZXdlciA9IGNlc2l1bVZpZXdlclJlZi5jdXJyZW50O1xuICAgICAgICBjb25zdCBDZXNpdW0gPSB3aW5kb3cuQ2VzaXVtO1xuICAgICAgICBjb25zdCBoYW5kbGVyID0gbmV3IENlc2l1bS5TY3JlZW5TcGFjZUV2ZW50SGFuZGxlcih2aWV3ZXIuc2NlbmUuY2FudmFzKTtcblxuICAgICAgICBjb25zdCB0b29sdGlwID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIHRvb2x0aXAuc3R5bGUuY3NzVGV4dCA9IGBcbiAgICAgICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsgZGlzcGxheTogbm9uZTsgcG9pbnRlci1ldmVudHM6IG5vbmU7XG4gICAgICAgICAgICBiYWNrZ3JvdW5kOiByZ2JhKDIwLCAyMCwgMzAsIDAuOTUpOyBjb2xvcjogd2hpdGU7XG4gICAgICAgICAgICBwYWRkaW5nOiA4cHggMTJweDsgYm9yZGVyLXJhZGl1czogNnB4O1xuICAgICAgICAgICAgZm9udC1mYW1pbHk6ICdJbnRlcicsIHNhbnMtc2VyaWY7IGZvbnQtc2l6ZTogMTJweDtcbiAgICAgICAgICAgIGJveC1zaGFkb3c6IDAgNHB4IDEycHggcmdiYSgwLDAsMCwwLjQpO1xuICAgICAgICAgICAgYm9yZGVyOiAxcHggc29saWQgcmdiYSgyNTUsMjU1LDI1NSwwLjE1KTtcbiAgICAgICAgICAgIHotaW5kZXg6IDEwMDAwOyBtYXgtd2lkdGg6IDMwMHB4O1xuICAgICAgICBgO1xuICAgICAgICB2aWV3ZXIuY29udGFpbmVyLmFwcGVuZENoaWxkKHRvb2x0aXApO1xuXG4gICAgICAgIGhhbmRsZXIuc2V0SW5wdXRBY3Rpb24oKG1vdmVtZW50KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBzdGVwID0gZ2V0VHVybkN1cnJlbnRTdGVwPy4oKTtcbiAgICAgICAgICAgIGlmIChzdGVwID09PSAnc2VsZWN0aW5nX3NvdXJjZScgfHwgc3RlcCA9PT0gJ3NlbGVjdGluZ19kZXN0aW5hdGlvbicpIHtcbiAgICAgICAgICAgICAgICB0b29sdGlwLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICAgICAgICAgICAgdmlld2VyLmNvbnRhaW5lci5zdHlsZS5jdXJzb3IgPSAnZGVmYXVsdCc7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCBwaWNrZWRPYmplY3QgPSB2aWV3ZXIuc2NlbmUucGljayhtb3ZlbWVudC5lbmRQb3NpdGlvbik7XG4gICAgICAgICAgICBpZiAocGlja2VkT2JqZWN0ICYmIHBpY2tlZE9iamVjdC5pZCAmJiBwaWNrZWRPYmplY3QuaWQucHJvcGVydGllcykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNvbnRlbnQgPSBmb3JtYXRUb29sdGlwQ29udGVudChwaWNrZWRPYmplY3QuaWQpO1xuICAgICAgICAgICAgICAgIGlmIChjb250ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIHRvb2x0aXAuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG4gICAgICAgICAgICAgICAgICAgIHRvb2x0aXAuaW5uZXJIVE1MID0gY29udGVudDtcbiAgICAgICAgICAgICAgICAgICAgLy8gUG9zaXRpb24gdG9vbHRpcCBuZWFyIG1vdXNlIGJ1dCBub3QgdW5kZXIgaXRcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgeCA9IG1vdmVtZW50LmVuZFBvc2l0aW9uLnggKyAxNTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgeSA9IG1vdmVtZW50LmVuZFBvc2l0aW9uLnkgKyAxNTtcbiAgICAgICAgICAgICAgICAgICAgdG9vbHRpcC5zdHlsZS5sZWZ0ID0gYCR7eH1weGA7XG4gICAgICAgICAgICAgICAgICAgIHRvb2x0aXAuc3R5bGUudG9wID0gYCR7eX1weGA7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gS2VlcCB3aXRoaW4gYm91bmRzXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvbnRhaW5lclJlY3QgPSB2aWV3ZXIuY29udGFpbmVyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoeCArIHRvb2x0aXAub2Zmc2V0V2lkdGggPiBjb250YWluZXJSZWN0LndpZHRoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0b29sdGlwLnN0eWxlLmxlZnQgPSBgJHttb3ZlbWVudC5lbmRQb3NpdGlvbi54IC0gdG9vbHRpcC5vZmZzZXRXaWR0aCAtIDEwfXB4YDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoeSArIHRvb2x0aXAub2Zmc2V0SGVpZ2h0ID4gY29udGFpbmVyUmVjdC5oZWlnaHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvb2x0aXAuc3R5bGUudG9wID0gYCR7bW92ZW1lbnQuZW5kUG9zaXRpb24ueSAtIHRvb2x0aXAub2Zmc2V0SGVpZ2h0IC0gMTB9cHhgO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgdmlld2VyLmNvbnRhaW5lci5zdHlsZS5jdXJzb3IgPSAncG9pbnRlcic7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0b29sdGlwLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICAgICAgICB2aWV3ZXIuY29udGFpbmVyLnN0eWxlLmN1cnNvciA9ICdkZWZhdWx0JztcbiAgICAgICAgfSwgQ2VzaXVtLlNjcmVlblNwYWNlRXZlbnRUeXBlLk1PVVNFX01PVkUpO1xuXG4gICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgICBoYW5kbGVyLmRlc3Ryb3koKTtcbiAgICAgICAgICAgIGlmICh0b29sdGlwLnBhcmVudE5vZGUpIHRvb2x0aXAucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0b29sdGlwKTtcbiAgICAgICAgfTtcbiAgICB9LCBbbWFwTG9hZGVkXSk7XG5cbiAgICAvLyBDbGljayBIYW5kbGVyIGZvciBEaWFsb2dcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAoIW1hcExvYWRlZCB8fCAhY2VzaXVtVmlld2VyUmVmLmN1cnJlbnQpIHJldHVybjtcbiAgICAgICAgY29uc3Qgdmlld2VyID0gY2VzaXVtVmlld2VyUmVmLmN1cnJlbnQ7XG4gICAgICAgIGNvbnN0IENlc2l1bSA9IHdpbmRvdy5DZXNpdW07XG4gICAgICAgIGNvbnN0IGhhbmRsZXIgPSBuZXcgQ2VzaXVtLlNjcmVlblNwYWNlRXZlbnRIYW5kbGVyKHZpZXdlci5zY2VuZS5jYW52YXMpO1xuXG4gICAgICAgIGhhbmRsZXIuc2V0SW5wdXRBY3Rpb24oKGNsaWNrKSA9PiB7XG4gICAgICAgICAgICAvLyBTaG9ydC1jaXJjdWl0IHRvIHR1cm4tcGF0aCBzZWxlY3Rpb246IG5vIGluZm8gZGlhbG9nIHdoaWxlIHNlbGVjdGluZ1xuICAgICAgICAgICAgY29uc3Qgc3RlcCA9IGdldFR1cm5DdXJyZW50U3RlcD8uKCk7XG4gICAgICAgICAgICBpZiAoc3RlcCA9PT0gJ3NlbGVjdGluZ19zb3VyY2UnIHx8IHN0ZXAgPT09ICdzZWxlY3RpbmdfZGVzdGluYXRpb24nKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZHJpbGwgPSB2aWV3ZXIuc2NlbmUuZHJpbGxQaWNrKGNsaWNrLnBvc2l0aW9uKTtcbiAgICAgICAgICAgICAgICBjb25zdCBwaWNrZWQgPSAoZHJpbGwgJiYgZHJpbGxbMF0pIHx8IHZpZXdlci5zY2VuZS5waWNrKGNsaWNrLnBvc2l0aW9uKTtcbiAgICAgICAgICAgICAgICBpZiAocGlja2VkICYmIHBpY2tlZC5pZCkge1xuICAgICAgICAgICAgICAgICAgICBoYW5kbGVUdXJuUGF0aENsaWNrKHBpY2tlZC5pZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybjsgLy8gYWx3YXlzIHN1cHByZXNzIGluZm8gZGlhbG9nIHdoaWxlIHNlbGVjdGluZ1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBMb29rIGF0ICphbGwqIHByaW1pdGl2ZXMgdW5kZXIgdGhlIGN1cnNvclxuICAgICAgICAgICAgY29uc3QgcGlja2VkID0gdmlld2VyLnNjZW5lLmRyaWxsUGljayhjbGljay5wb3NpdGlvbikgfHwgW107XG5cbiAgICAgICAgICAgIC8vIFByZWZlciBsb2NhdGlvbnMgLyBpbnRlcnNlY3Rpb25zIG92ZXIgcm9hZHMgd2hlbiBvdmVybGFwcGluZ1xuICAgICAgICAgICAgbGV0IHBpY2tlZE9iamVjdCA9XG4gICAgICAgICAgICAgICAgcGlja2VkLmZpbmQobyA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghby5pZCB8fCAhby5pZC5wcm9wZXJ0aWVzIHx8ICFvLmlkLnByb3BlcnRpZXMuY2F0ZWdvcnkpIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY2F0UHJvcCA9IG8uaWQucHJvcGVydGllcy5jYXRlZ29yeTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY2F0ID0gY2F0UHJvcC5nZXRWYWx1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgPyBjYXRQcm9wLmdldFZhbHVlKHdpbmRvdy5DZXNpdW0uSnVsaWFuRGF0ZS5ub3coKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIDogY2F0UHJvcDtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNhdCA9PT0gJ2Rpc3BhdGNoX2xvY2F0aW9uJyB8fCBjYXQgPT09ICdkaXNwYXRjaF9pbnRlcnNlY3Rpb24nO1xuICAgICAgICAgICAgICAgIH0pIHx8IHBpY2tlZFswXTtcblxuICAgICAgICAgICAgaWYgKENlc2l1bS5kZWZpbmVkKHBpY2tlZE9iamVjdCkgJiYgcGlja2VkT2JqZWN0LmlkICYmIHBpY2tlZE9iamVjdC5pZC5wcm9wZXJ0aWVzKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZW50aXR5ID0gcGlja2VkT2JqZWN0LmlkO1xuICAgICAgICAgICAgICAgIGNvbnN0IGFsbFByb3BlcnRpZXMgPSB7fTtcblxuICAgICAgICAgICAgICAgIC8vIEV4dHJhY3QgcHJvcGVydGllc1xuICAgICAgICAgICAgICAgIGNvbnN0IHByb3BlcnR5TmFtZXMgPSBlbnRpdHkucHJvcGVydGllcy5wcm9wZXJ0eU5hbWVzIHx8IE9iamVjdC5rZXlzKGVudGl0eS5wcm9wZXJ0aWVzKTtcbiAgICAgICAgICAgICAgICBwcm9wZXJ0eU5hbWVzLmZvckVhY2gocHJvcE5hbWUgPT4ge1xuICAgICAgICAgICAgICAgICAgICAvLyBTa2lwIGludGVybmFsIENlc2l1bSBwcm9wZXJ0aWVzXG4gICAgICAgICAgICAgICAgICAgIGlmIChwcm9wTmFtZS5zdGFydHNXaXRoKCdfJykgfHwgcHJvcE5hbWUgPT09ICdwcm9wZXJ0eU5hbWVzJyB8fCBwcm9wTmFtZSA9PT0gJ2RlZmluaXRpb25DaGFuZ2VkJyB8fCBwcm9wTmFtZSA9PT0gJ2NvbG9yJyB8fCBwcm9wTmFtZSA9PT0gJ3N0eWxlX3JvbGUnKSByZXR1cm47XG5cbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHByb3AgPSBlbnRpdHkucHJvcGVydGllc1twcm9wTmFtZV07XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocHJvcCAmJiB0eXBlb2YgcHJvcC5nZXRWYWx1ZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHZhbCA9IHByb3AuZ2V0VmFsdWUoQ2VzaXVtLkp1bGlhbkRhdGUubm93KCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWwgIT09IHVuZGVmaW5lZCAmJiB2YWwgIT09IG51bGwpIGFsbFByb3BlcnRpZXNbcHJvcE5hbWVdID0gdmFsO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChwcm9wICE9PSB1bmRlZmluZWQgJiYgcHJvcCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsbFByb3BlcnRpZXNbcHJvcE5hbWVdID0gcHJvcDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkgeyB9XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAvLyBBbHNvIHRyeSBkaXJlY3QgcHJvcGVydGllcyBpZiBub3QgZm91bmQgYWJvdmVcbiAgICAgICAgICAgICAgICBpZiAoZW50aXR5LnByb3BlcnRpZXMuY2F0ZWdvcnkgJiYgIWFsbFByb3BlcnRpZXMuY2F0ZWdvcnkpIHtcbiAgICAgICAgICAgICAgICAgICAgYWxsUHJvcGVydGllcy5jYXRlZ29yeSA9IGVudGl0eS5wcm9wZXJ0aWVzLmNhdGVnb3J5LmdldFZhbHVlID8gZW50aXR5LnByb3BlcnRpZXMuY2F0ZWdvcnkuZ2V0VmFsdWUoKSA6IGVudGl0eS5wcm9wZXJ0aWVzLmNhdGVnb3J5O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoZW50aXR5LnByb3BlcnRpZXMubmFtZSAmJiAhYWxsUHJvcGVydGllcy5uYW1lKSB7XG4gICAgICAgICAgICAgICAgICAgIGFsbFByb3BlcnRpZXMubmFtZSA9IGVudGl0eS5wcm9wZXJ0aWVzLm5hbWUuZ2V0VmFsdWUgPyBlbnRpdHkucHJvcGVydGllcy5uYW1lLmdldFZhbHVlKCkgOiBlbnRpdHkucHJvcGVydGllcy5uYW1lO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIENsZWFyIHByZXZpb3VzIGhpZ2hsaWdodHNcbiAgICAgICAgICAgICAgICB2aWV3ZXIuZW50aXRpZXMudmFsdWVzLmZvckVhY2gocHJldkVudGl0eSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChwcmV2RW50aXR5Ll9vcmlnaW5hbE1hdGVyaWFsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocHJldkVudGl0eS5jb3JyaWRvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByZXZFbnRpdHkuY29ycmlkb3IubWF0ZXJpYWwgPSBwcmV2RW50aXR5Ll9vcmlnaW5hbE1hdGVyaWFsO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByZXZFbnRpdHkuY29ycmlkb3Iub3V0bGluZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChwcmV2RW50aXR5LnBvbHlnb24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmV2RW50aXR5LnBvbHlnb24ubWF0ZXJpYWwgPSBwcmV2RW50aXR5Ll9vcmlnaW5hbE1hdGVyaWFsO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByZXZFbnRpdHkucG9seWdvbi5vdXRsaW5lID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgcHJldkVudGl0eS5fb3JpZ2luYWxNYXRlcmlhbDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgLy8gSGlnaGxpZ2h0IGNsaWNrZWQgZW50aXR5XG4gICAgICAgICAgICAgICAgaWYgKGVudGl0eS5jb3JyaWRvcikge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWVudGl0eS5fb3JpZ2luYWxNYXRlcmlhbCkgZW50aXR5Ll9vcmlnaW5hbE1hdGVyaWFsID0gZW50aXR5LmNvcnJpZG9yLm1hdGVyaWFsO1xuICAgICAgICAgICAgICAgICAgICBlbnRpdHkuY29ycmlkb3IubWF0ZXJpYWwgPSBDZXNpdW0uQ29sb3IuQ1lBTi53aXRoQWxwaGEoMS4wKTtcbiAgICAgICAgICAgICAgICAgICAgZW50aXR5LmNvcnJpZG9yLm91dGxpbmUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBlbnRpdHkuY29ycmlkb3Iub3V0bGluZUNvbG9yID0gQ2VzaXVtLkNvbG9yLllFTExPVztcbiAgICAgICAgICAgICAgICAgICAgZW50aXR5LmNvcnJpZG9yLm91dGxpbmVXaWR0aCA9IDM7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChlbnRpdHkucG9seWdvbikge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWVudGl0eS5fb3JpZ2luYWxNYXRlcmlhbCkgZW50aXR5Ll9vcmlnaW5hbE1hdGVyaWFsID0gZW50aXR5LnBvbHlnb24ubWF0ZXJpYWw7XG4gICAgICAgICAgICAgICAgICAgIGVudGl0eS5wb2x5Z29uLm1hdGVyaWFsID0gQ2VzaXVtLkNvbG9yLkNZQU4ud2l0aEFscGhhKDAuOSk7XG4gICAgICAgICAgICAgICAgICAgIGVudGl0eS5wb2x5Z29uLm91dGxpbmUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBlbnRpdHkucG9seWdvbi5vdXRsaW5lQ29sb3IgPSBDZXNpdW0uQ29sb3IuWUVMTE9XO1xuICAgICAgICAgICAgICAgICAgICBlbnRpdHkucG9seWdvbi5vdXRsaW5lV2lkdGggPSAzO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHNldERpYWxvZ0RhdGEoe1xuICAgICAgICAgICAgICAgICAgICBjYXRlZ29yeTogYWxsUHJvcGVydGllcy5jYXRlZ29yeSxcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogYWxsUHJvcGVydGllcy5uYW1lIHx8ICdVbmtub3duJyxcbiAgICAgICAgICAgICAgICAgICAgYWxsUHJvcGVydGllczogYWxsUHJvcGVydGllc1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHNldERpYWxvZ09wZW4odHJ1ZSk7XG5cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gQ2xpY2tlZCBlbXB0eSBzcGFjZVxuICAgICAgICAgICAgICAgIHNldERpYWxvZ09wZW4oZmFsc2UpO1xuICAgICAgICAgICAgICAgIHNldERpYWxvZ0RhdGEobnVsbCk7XG5cbiAgICAgICAgICAgICAgICAvLyBSZXNldCBoaWdobGlnaHRzXG4gICAgICAgICAgICAgICAgdmlld2VyLmVudGl0aWVzLnZhbHVlcy5mb3JFYWNoKHByZXZFbnRpdHkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAocHJldkVudGl0eS5fb3JpZ2luYWxNYXRlcmlhbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHByZXZFbnRpdHkuY29ycmlkb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmV2RW50aXR5LmNvcnJpZG9yLm1hdGVyaWFsID0gcHJldkVudGl0eS5fb3JpZ2luYWxNYXRlcmlhbDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmV2RW50aXR5LmNvcnJpZG9yLm91dGxpbmUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAocHJldkVudGl0eS5wb2x5Z29uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJldkVudGl0eS5wb2x5Z29uLm1hdGVyaWFsID0gcHJldkVudGl0eS5fb3JpZ2luYWxNYXRlcmlhbDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmV2RW50aXR5LnBvbHlnb24ub3V0bGluZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHByZXZFbnRpdHkuX29yaWdpbmFsTWF0ZXJpYWw7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgQ2VzaXVtLlNjcmVlblNwYWNlRXZlbnRUeXBlLkxFRlRfQ0xJQ0spO1xuXG4gICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgICBoYW5kbGVyLmRlc3Ryb3koKTtcbiAgICAgICAgfTtcbiAgICB9LCBbbWFwTG9hZGVkXSk7XG5cbiAgICAvLyBDZW50ZXIgcG9pbnRzIHJlbmRlcmVyIChtYWdlbnRhIG1hcmtlcnMsIGxpa2UgRnJvbnRydW5uZXIpXG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgY29uc3Qgdmlld2VyID0gY2VzaXVtVmlld2VyUmVmLmN1cnJlbnQ7XG4gICAgICAgIGlmICghdmlld2VyIHx8ICF2aWV3ZXIuZW50aXRpZXMpIHJldHVybjtcblxuICAgICAgICAvLyBjbGVhciBvbGRcbiAgICAgICAgaWYgKGNlbnRlclBvaW50RW50aXRpZXNSZWYuY3VycmVudC5sZW5ndGgpIHtcbiAgICAgICAgICAgIGNlbnRlclBvaW50RW50aXRpZXNSZWYuY3VycmVudC5mb3JFYWNoKGUgPT4ge1xuICAgICAgICAgICAgICAgIHRyeSB7IHZpZXdlci5lbnRpdGllcy5yZW1vdmUoZSk7IH0gY2F0Y2ggKF8pIHsgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjZW50ZXJQb2ludEVudGl0aWVzUmVmLmN1cnJlbnQgPSBbXTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghc2hvd0NlbnRlclBvaW50cyB8fCAhQXJyYXkuaXNBcnJheShjZW50ZXJQb2ludHMpKSB7XG4gICAgICAgICAgICB2aWV3ZXIuc2NlbmU/LnJlcXVlc3RSZW5kZXIoKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IENlc2l1bSA9IHdpbmRvdy5DZXNpdW07XG4gICAgICAgIGNlbnRlclBvaW50cy5mb3JFYWNoKChjcCkgPT4ge1xuICAgICAgICAgICAgaWYgKGNwLmxvbiA9PSBudWxsIHx8IGNwLmxhdCA9PSBudWxsKSByZXR1cm47XG4gICAgICAgICAgICBjb25zdCBwb3MgPSBDZXNpdW0uQ2FydGVzaWFuMy5mcm9tRGVncmVlcyhjcC5sb24sIGNwLmxhdCwgMi4wKTtcbiAgICAgICAgICAgIGNvbnN0IGVudCA9IHZpZXdlci5lbnRpdGllcy5hZGQoe1xuICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBwb3MsXG4gICAgICAgICAgICAgICAgcG9pbnQ6IHtcbiAgICAgICAgICAgICAgICAgICAgcGl4ZWxTaXplOiAyNSxcbiAgICAgICAgICAgICAgICAgICAgY29sb3I6IENlc2l1bS5Db2xvci5NQUdFTlRBLFxuICAgICAgICAgICAgICAgICAgICBvdXRsaW5lQ29sb3I6IENlc2l1bS5Db2xvci5XSElURSxcbiAgICAgICAgICAgICAgICAgICAgb3V0bGluZVdpZHRoOiA2LFxuICAgICAgICAgICAgICAgICAgICBoZWlnaHRSZWZlcmVuY2U6IENlc2l1bS5IZWlnaHRSZWZlcmVuY2UuUkVMQVRJVkVfVE9fR1JPVU5ELFxuICAgICAgICAgICAgICAgICAgICBkaXNhYmxlRGVwdGhUZXN0RGlzdGFuY2U6IE51bWJlci5QT1NJVElWRV9JTkZJTklUWSxcbiAgICAgICAgICAgICAgICAgICAgc2NhbGVCeURpc3RhbmNlOiBuZXcgQ2VzaXVtLk5lYXJGYXJTY2FsYXIoMS41ZTIsIDMuMCwgMS41ZTcsIDEuNSksXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBjeWxpbmRlcjoge1xuICAgICAgICAgICAgICAgICAgICBsZW5ndGg6IDIuMCxcbiAgICAgICAgICAgICAgICAgICAgdG9wUmFkaXVzOiAwLjgsXG4gICAgICAgICAgICAgICAgICAgIGJvdHRvbVJhZGl1czogMC44LFxuICAgICAgICAgICAgICAgICAgICBtYXRlcmlhbDogQ2VzaXVtLkNvbG9yLk1BR0VOVEEud2l0aEFscGhhKDAuOSksXG4gICAgICAgICAgICAgICAgICAgIG91dGxpbmU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIG91dGxpbmVDb2xvcjogQ2VzaXVtLkNvbG9yLldISVRFLFxuICAgICAgICAgICAgICAgICAgICBvdXRsaW5lV2lkdGg6IDIsXG4gICAgICAgICAgICAgICAgICAgIGhlaWdodFJlZmVyZW5jZTogQ2VzaXVtLkhlaWdodFJlZmVyZW5jZS5SRUxBVElWRV9UT19HUk9VTkQsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzOiB7XG4gICAgICAgICAgICAgICAgICAgIGNhdGVnb3J5OiAncm9hZF9pbnRlcnNlY3Rpb25fY2VudGVyJyxcbiAgICAgICAgICAgICAgICAgICAgcm9hZF9pZDogY3Aucm9hZF9pZCxcbiAgICAgICAgICAgICAgICAgICAgaW50ZXJzZWN0aW9uX2lkOiBjcC5pbnRlcnNlY3Rpb25faWQsXG4gICAgICAgICAgICAgICAgICAgIGludGVyc2VjdGlvbl9uYW1lOiBjcC5pbnRlcnNlY3Rpb25fbmFtZSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIG5hbWU6IGBDZW50ZXIgUG9pbnQgJHtjcC5pbnRlcnNlY3Rpb25fbmFtZSB8fCAnJ30gKCR7Y3Aucm9hZF9pZCB8fCAnJ30pYCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgY2VudGVyUG9pbnRFbnRpdGllc1JlZi5jdXJyZW50LnB1c2goZW50KTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdmlld2VyLnNjZW5lPy5yZXF1ZXN0UmVuZGVyKCk7XG4gICAgfSwgW2NlbnRlclBvaW50cywgc2hvd0NlbnRlclBvaW50c10pO1xuXG4gICAgLy8gQmFzZSBMYXllciBMb2dpY1xuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGlmICghY2VzaXVtVmlld2VyUmVmLmN1cnJlbnQgfHwgIXdpbmRvdy5DZXNpdW0pIHJldHVybjtcbiAgICAgICAgY29uc3Qgdmlld2VyID0gY2VzaXVtVmlld2VyUmVmLmN1cnJlbnQ7XG4gICAgICAgIGNvbnN0IENlc2l1bSA9IHdpbmRvdy5DZXNpdW07XG4gICAgICAgIGxldCBjYW5jZWxsZWQgPSBmYWxzZTtcblxuICAgICAgICBjb25zdCB1cGRhdGVCYXNlTGF5ZXIgPSBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICB2aWV3ZXIuaW1hZ2VyeUxheWVycy5yZW1vdmVBbGwoKTtcblxuICAgICAgICAgICAgbGV0IHByb3ZpZGVyO1xuICAgICAgICAgICAgc3dpdGNoIChiYXNlTGF5ZXIpIHtcbiAgICAgICAgICAgICAgICBjYXNlICduaWdodCc6XG4gICAgICAgICAgICAgICAgICAgIHByb3ZpZGVyID0gbmV3IENlc2l1bS5VcmxUZW1wbGF0ZUltYWdlcnlQcm92aWRlcih7XG4gICAgICAgICAgICAgICAgICAgICAgICB1cmw6ICdodHRwczovL2EuYmFzZW1hcHMuY2FydG9jZG4uY29tL2RhcmtfYWxsL3t6fS97eH0ve3l9LnBuZycsXG4gICAgICAgICAgICAgICAgICAgICAgICBjcmVkaXQ6ICfCqSBPcGVuU3RyZWV0TWFwIGNvbnRyaWJ1dG9ycywgwqkgQ0FSVE8nXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdkYXknOlxuICAgICAgICAgICAgICAgICAgICBwcm92aWRlciA9IG5ldyBDZXNpdW0uVXJsVGVtcGxhdGVJbWFnZXJ5UHJvdmlkZXIoe1xuICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiAnaHR0cHM6Ly9zZXJ2ZXIuYXJjZ2lzb25saW5lLmNvbS9BcmNHSVMvcmVzdC9zZXJ2aWNlcy9Xb3JsZF9JbWFnZXJ5L01hcFNlcnZlci90aWxlL3t6fS97eX0ve3h9JyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNyZWRpdDogJ8KpIEVzcmksIERpZ2l0YWxHbG9iZSwgR2VvRXllLCBFYXJ0aHN0YXIgR2VvZ3JhcGhpY3MsIENORVMvQWlyYnVzIERTLCBVU0RBLCBVU0dTLCBBZXJvR1JJRCwgSUdOLCBhbmQgdGhlIEdJUyBVc2VyIENvbW11bml0eSdcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ3RvcG9ncmFwaGljJzpcbiAgICAgICAgICAgICAgICAgICAgcHJvdmlkZXIgPSBuZXcgQ2VzaXVtLlVybFRlbXBsYXRlSW1hZ2VyeVByb3ZpZGVyKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHVybDogJ2h0dHBzOi8ve3N9LnRpbGUub3BlbnRvcG9tYXAub3JnL3t6fS97eH0ve3l9LnBuZycsXG4gICAgICAgICAgICAgICAgICAgICAgICBjcmVkaXQ6ICfCqSBPcGVuVG9wb01hcCBjb250cmlidXRvcnMnLFxuICAgICAgICAgICAgICAgICAgICAgICAgc3ViZG9tYWluczogWydhJywgJ2InLCAnYyddXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICd0ZXJyYWluJzpcbiAgICAgICAgICAgICAgICAgICAgcHJvdmlkZXIgPSBuZXcgQ2VzaXVtLlVybFRlbXBsYXRlSW1hZ2VyeVByb3ZpZGVyKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHVybDogJ2h0dHBzOi8vdGlsZXMuc3RhZGlhbWFwcy5jb20vdGlsZXMvc3RhbWVuX3RlcnJhaW4ve3p9L3t4fS97eX0ucG5nJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNyZWRpdDogJ8KpIFN0YWRpYSBNYXBzIMKpIFN0YW1lbiBEZXNpZ24gwqkgT3Blbk1hcFRpbGVzIMKpIE9wZW5TdHJlZXRNYXAgY29udHJpYnV0b3JzJ1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgcHJvdmlkZXIgPSBuZXcgQ2VzaXVtLlVybFRlbXBsYXRlSW1hZ2VyeVByb3ZpZGVyKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHVybDogJ2h0dHBzOi8vYS5iYXNlbWFwcy5jYXJ0b2Nkbi5jb20vZGFya19hbGwve3p9L3t4fS97eX0ucG5nJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNyZWRpdDogJ8KpIE9wZW5TdHJlZXRNYXAgY29udHJpYnV0b3JzLCDCqSBDQVJUTydcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICghY2FuY2VsbGVkKSB7XG4gICAgICAgICAgICAgICAgdmlld2VyLmltYWdlcnlMYXllcnMuYWRkSW1hZ2VyeVByb3ZpZGVyKHByb3ZpZGVyKTtcbiAgICAgICAgICAgICAgICAvLyBFbnN1cmUgYmFzZSBjb2xvciBpcyBkYXJrIGZvciBuaWdodCBtb2RlIG9yIGdlbmVyYWwgY29uc2lzdGVuY3lcbiAgICAgICAgICAgICAgICB2aWV3ZXIuc2NlbmUuZ2xvYmUuYmFzZUNvbG9yID0gQ2VzaXVtLkNvbG9yLmZyb21Dc3NDb2xvclN0cmluZygnIzFhMWEyZScpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIHVwZGF0ZUJhc2VMYXllcigpO1xuICAgICAgICByZXR1cm4gKCkgPT4geyBjYW5jZWxsZWQgPSB0cnVlOyB9O1xuICAgIH0sIFtiYXNlTGF5ZXIsIG1hcExvYWRlZF0pO1xuXG4gICAgLy8gU2NlbmUgbW9kZSB0b2dnbGUgKDJEIHZzIDNEKVxuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGlmICghbWFwTG9hZGVkIHx8ICFjZXNpdW1WaWV3ZXJSZWYuY3VycmVudCB8fCAhd2luZG93LkNlc2l1bSkgcmV0dXJuO1xuICAgICAgICBjb25zdCB2aWV3ZXIgPSBjZXNpdW1WaWV3ZXJSZWYuY3VycmVudDtcbiAgICAgICAgY29uc3QgQ2VzaXVtID0gd2luZG93LkNlc2l1bTtcbiAgICAgICAgaWYgKHNjZW5lTW9kZSA9PT0gJzJkJykge1xuICAgICAgICAgICAgdmlld2VyLnNjZW5lLm1vcnBoVG8yRCgwKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZpZXdlci5zY2VuZS5tb3JwaFRvM0QoMCk7XG4gICAgICAgIH1cbiAgICB9LCBbc2NlbmVNb2RlLCBtYXBMb2FkZWRdKTtcblxuICAgIC8vIExvYWQgRGF0YSAoY29tYmluZWQgQVBJKVxuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGlmICghbWFwTG9hZGVkKSByZXR1cm47XG4gICAgICAgIGNvbnN0IGxvYWQgPSBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IGZldGNoKCcvYXBpL2NvbWJpbmVkLW1hcC1kYXRhJyk7XG4gICAgICAgICAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlcy5qc29uKCk7XG5cbiAgICAgICAgICAgICAgICAvLyBTaG93IGV2ZXJ5dGhpbmcgZnJvbSB0aGUgY29tYmluZWQgQVBJIChib3RoIGRpc3BhdGNoIGFuZCBmcm9udHJ1bm5lcilcbiAgICAgICAgICAgICAgICBjb25zdCByb2FkcyA9IGRhdGE/LnJvYWRzIHx8IFtdO1xuICAgICAgICAgICAgICAgIGNvbnN0IGludGVyc2VjdGlvbnMgPSBkYXRhPy5pbnRlcnNlY3Rpb25zIHx8IFtdO1xuICAgICAgICAgICAgICAgIGNvbnN0IGluZnJhc3RydWN0dXJlID0gZGF0YT8uaW5mcmFzdHJ1Y3R1cmUgfHwgW107XG4gICAgICAgICAgICAgICAgY29uc3QgYXBpU2VnbWVudHMgPSBkYXRhPy5zZWdtZW50cyB8fCBbXTtcblxuICAgICAgICAgICAgICAgIGNvbnN0IG1hcHBlZFNlZ21lbnRzID0gKGFwaVNlZ21lbnRzLmxlbmd0aCA/IGFwaVNlZ21lbnRzIDogcm9hZHMpLm1hcCgocykgPT4gKHtcbiAgICAgICAgICAgICAgICAgICAgbGFuZV9pZDogcy5sYW5lX2lkIHx8IHMucm9hZF9pZCxcbiAgICAgICAgICAgICAgICAgICAgcm9hZF9pZDogcy5yb2FkX2lkIHx8IHMubGFuZV9pZCxcbiAgICAgICAgICAgICAgICAgICAgZ2VvbWV0cnk6IHMuZ2VvbWV0cnlfZ2VvanNvbiB8fCBzLmdlb21ldHJ5IHx8IHMuY2VudGVybGluZV9nZW9qc29uLFxuICAgICAgICAgICAgICAgICAgICBpc19jbG9zZWQ6IHMuaXNfY2xvc2VkLFxuICAgICAgICAgICAgICAgICAgICBkaXJlY3Rpb246IHMuZGlyZWN0aW9uID8/IG51bGwsXG4gICAgICAgICAgICAgICAgICAgIGxlbmd0aF9tOiBzLmxlbmd0aF9tID8/IG51bGwsXG4gICAgICAgICAgICAgICAgfSkpO1xuXG4gICAgICAgICAgICAgICAgY29uc3QgbWFwcGVkTG9jYXRpb25zID0gaW5mcmFzdHJ1Y3R1cmVcbiAgICAgICAgICAgICAgICAgICAgLm1hcCgocCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGxhdCA9IG51bGwsIGxvbiA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGdqID0gcC5wb2ludF9nZW9qc29uID8gSlNPTi5wYXJzZShwLnBvaW50X2dlb2pzb24pIDogbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZ2ogJiYgZ2oudHlwZSA9PT0gJ1BvaW50JyAmJiBBcnJheS5pc0FycmF5KGdqLmNvb3JkaW5hdGVzKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbbG9uLCBsYXRdID0gZ2ouY29vcmRpbmF0ZXM7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoXykgeyB9XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2F0aW9uX2lkOiBwLmxvY2F0aW9uX2lkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2F0aW9uX25hbWU6IHAubG9jYXRpb25fbmFtZSB8fCAnJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXRpdHVkZTogbGF0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvbmdpdHVkZTogbG9uLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdlb21ldHJ5OiBwLmdlb21fZ2VvanNvbiB8fCBwLmdlb21ldHJ5IHx8IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdW5pdF90eXBlOiBwLnVuaXRfdHlwZSB8fCBwLmxvY2F0aW9uX2NhdGVnb3J5IHx8IHAudW5pdF90eXBlX2lkIHx8IHAudW5pdF9pZCB8fCBwLnNvdXJjZSB8fCAnaW5mcmFzdHJ1Y3R1cmUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2F0aW9uX2NhdGVnb3J5OiBwLmxvY2F0aW9uX2NhdGVnb3J5IHx8IHAudW5pdF90eXBlIHx8IHAudW5pdF90eXBlX2lkIHx8IHAudW5pdF9pZCB8fCBwLnNvdXJjZSB8fCAnaW5mcmFzdHJ1Y3R1cmUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVuaXRfdHlwZV9pZDogcC51bml0X3R5cGVfaWQgfHwgcC51bml0X2lkIHx8IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc291cmNlOiBwLnNvdXJjZSB8fCAnJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgIC5maWx0ZXIoKHApID0+IE51bWJlci5pc0Zpbml0ZShwLmxhdGl0dWRlKSAmJiBOdW1iZXIuaXNGaW5pdGUocC5sb25naXR1ZGUpKTtcblxuICAgICAgICAgICAgICAgIGNvbnN0IG1hcHBlZEludGVyc2VjdGlvbnMgPSBpbnRlcnNlY3Rpb25zLm1hcCgoaSkgPT4gKHtcbiAgICAgICAgICAgICAgICAgICAgLi4uaSxcbiAgICAgICAgICAgICAgICAgICAgZ2VvbWV0cnk6IGkuZ2VvbV9nZW9qc29uIHx8IGkuZ2VvbWV0cnksXG4gICAgICAgICAgICAgICAgfSkpO1xuXG4gICAgICAgICAgICAgICAgLy8gRGVidWc6IGxvZyBjb3VudHMgYW5kIHRvcCB0eXBlc1xuICAgICAgICAgICAgICAgIGNvbnN0IHR5cGVDb3VudHMgPSB7fTtcbiAgICAgICAgICAgICAgICBtYXBwZWRMb2NhdGlvbnMuZm9yRWFjaCgobG9jKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHQgPSByZXNvbHZlRGlzcGF0Y2hMb2NhdGlvblR5cGUobG9jKTtcbiAgICAgICAgICAgICAgICAgICAgdHlwZUNvdW50c1t0XSA9ICh0eXBlQ291bnRzW3RdIHx8IDApICsgMTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAvLyBMb2cgYSBmZXcgc2FtcGxlIGxvY2F0aW9ucyB3aXRoIHJlc29sdmVkIHR5cGVcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnW0NvbWJpbmVkTWFwXVtEYXRhXScsIHtcbiAgICAgICAgICAgICAgICAgICAgcm9hZHM6IHJvYWRzLmxlbmd0aCxcbiAgICAgICAgICAgICAgICAgICAgc2VnbWVudHM6IG1hcHBlZFNlZ21lbnRzLmxlbmd0aCxcbiAgICAgICAgICAgICAgICAgICAgaW50ZXJzZWN0aW9uczogbWFwcGVkSW50ZXJzZWN0aW9ucy5sZW5ndGgsXG4gICAgICAgICAgICAgICAgICAgIGluZnJhc3RydWN0dXJlOiBtYXBwZWRMb2NhdGlvbnMubGVuZ3RoLFxuICAgICAgICAgICAgICAgICAgICB0eXBlQ291bnRzLFxuICAgICAgICAgICAgICAgICAgICBzYW1wbGVzOiBtYXBwZWRMb2NhdGlvbnMuc2xpY2UoMCwgNSkubWFwKChsb2MpID0+ICh7XG4gICAgICAgICAgICAgICAgICAgICAgICBsb2NhdGlvbl9pZDogbG9jLmxvY2F0aW9uX2lkLFxuICAgICAgICAgICAgICAgICAgICAgICAgc291cmNlOiBsb2Muc291cmNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgdW5pdF90eXBlOiBsb2MudW5pdF90eXBlLFxuICAgICAgICAgICAgICAgICAgICAgICAgdW5pdF90eXBlX2lkOiBsb2MudW5pdF90eXBlX2lkLFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZWRfdHlwZTogcmVzb2x2ZURpc3BhdGNoTG9jYXRpb25UeXBlKGxvYyksXG4gICAgICAgICAgICAgICAgICAgIH0pKSxcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIHNldExvY2F0aW9ucyhtYXBwZWRMb2NhdGlvbnMpO1xuICAgICAgICAgICAgICAgIHNldFNlZ21lbnRzKG1hcHBlZFNlZ21lbnRzKTtcbiAgICAgICAgICAgICAgICBzZXRUcm9sbGV5U2VnbWVudHMoZGF0YT8udHJvbGxleVNlZ21lbnRzIHx8IFtdKTtcbiAgICAgICAgICAgICAgICBzZXRXYXRlcmluZ1N0YXRpb25zKGRhdGE/LndhdGVyaW5nU3RhdGlvbnMgfHwgW10pO1xuICAgICAgICAgICAgICAgIHNldFNwZWVkTW9uaXRvcmluZyhkYXRhPy5zcGVlZE1vbml0b3JpbmcgfHwgW10pO1xuICAgICAgICAgICAgICAgIHNldEludGVyc2VjdGlvbnMobWFwcGVkSW50ZXJzZWN0aW9ucyk7XG5cbiAgICAgICAgICAgICAgICAvLyBCdWlsZCB2aXNpYmxlIHR5cGVzIGZyb20gdGhlIHJlc29sdmVkIHR5cGVzIHByZXNlbnQgaW4gdGhlIHBheWxvYWRcbiAgICAgICAgICAgICAgICBjb25zdCByZXNvbHZlZFR5cGVzID0gQXJyYXkuZnJvbShuZXcgU2V0KG1hcHBlZExvY2F0aW9ucy5tYXAoKGxvYykgPT4gcmVzb2x2ZURpc3BhdGNoTG9jYXRpb25UeXBlKGxvYykpKSk7XG5cbiAgICAgICAgICAgICAgICBjb25zdCB2aXNpYmxlU2V0ID0gbmV3IFNldCgpO1xuICAgICAgICAgICAgICAgIHJlc29sdmVkVHlwZXMuZm9yRWFjaCh0ID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qga2V5ID0gU3RyaW5nKHQpLnRyaW0oKS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBpc051bWVyaWMgPSAvXlswLTldKyQvLnRlc3Qoa2V5KTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKFNRVUFSRV9UWVBFUy5oYXMoa2V5KSB8fCBpc051bWVyaWMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZpc2libGVTZXQuYWRkKHQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgU1FVQVJFX1RZUEVTLmZvckVhY2godCA9PiB2aXNpYmxlU2V0LmFkZCh0KSk7XG4gICAgICAgICAgICAgICAgc2V0VmlzaWJsZUxvY2F0aW9uVHlwZXModmlzaWJsZVNldCk7XG5cbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhgW0NvbWJpbmVkTWFwXSBMb2FkZWQgZGF0YTpcbiAgICAgICAgICAgICAgICAgIC0gTG9jYXRpb25zOiAke21hcHBlZExvY2F0aW9ucy5sZW5ndGh9XG4gICAgICAgICAgICAgICAgICAtIFNlZ21lbnRzOiAke21hcHBlZFNlZ21lbnRzLmxlbmd0aH1cbiAgICAgICAgICAgICAgICAgIC0gSW50ZXJzZWN0aW9uczogJHttYXBwZWRJbnRlcnNlY3Rpb25zLmxlbmd0aH1gKTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHsgY29uc29sZS5lcnJvcihlKTsgfVxuICAgICAgICB9O1xuICAgICAgICBsb2FkKCk7XG4gICAgfSwgW21hcExvYWRlZF0pO1xuXG4gICAgLy8gUmVuZGVyXG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgaWYgKCFjZXNpdW1WaWV3ZXJSZWYuY3VycmVudCB8fCAhd2luZG93LkNlc2l1bSkgcmV0dXJuO1xuICAgICAgICBjb25zdCB2aWV3ZXIgPSBjZXNpdW1WaWV3ZXJSZWYuY3VycmVudDtcbiAgICAgICAgY29uc3QgQ2VzaXVtID0gd2luZG93LkNlc2l1bTtcblxuICAgICAgICAvLyBDbGVhciBleGlzdGluZyBlbnRpdGllc1xuICAgICAgICB2aWV3ZXIuZW50aXRpZXMucmVtb3ZlQWxsKCk7XG5cbiAgICAgICAgLy8gSGVscGVyIGZ1bmN0aW9uIHRvIGNvbXB1dGUgYW4gb2Zmc2V0IHBvbHlsaW5lIChmb3Igcm9hZCBlZGdlcylcbiAgICAgICAgY29uc3QgY29tcHV0ZU9mZnNldExpbmUgPSAocG9zaXRpb25zLCBvZmZzZXRNZXRlcnMpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IENlc2l1bSA9IHdpbmRvdy5DZXNpdW07XG4gICAgICAgICAgICBjb25zdCBlbGxpcHNvaWQgPSBDZXNpdW0uRWxsaXBzb2lkLldHUzg0O1xuXG4gICAgICAgICAgICBjb25zdCBvZmZzZXRQb3NpdGlvbnMgPSBbXTtcbiAgICAgICAgICAgIGNvbnN0IGRpcmVjdGlvbiA9IG5ldyBDZXNpdW0uQ2FydGVzaWFuMygpO1xuICAgICAgICAgICAgY29uc3QgdXAgPSBuZXcgQ2VzaXVtLkNhcnRlc2lhbjMoKTtcbiAgICAgICAgICAgIGNvbnN0IHJpZ2h0ID0gbmV3IENlc2l1bS5DYXJ0ZXNpYW4zKCk7XG5cbiAgICAgICAgICAgIGNvbnN0IG4gPSBwb3NpdGlvbnMubGVuZ3RoO1xuICAgICAgICAgICAgaWYgKG4gPT09IDApIHJldHVybiBvZmZzZXRQb3NpdGlvbnM7XG4gICAgICAgICAgICBpZiAobiA9PT0gMSkge1xuICAgICAgICAgICAgICAgIG9mZnNldFBvc2l0aW9ucy5wdXNoKHBvc2l0aW9uc1swXSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG9mZnNldFBvc2l0aW9ucztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBuOyBpKyspIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjdXIgPSBwb3NpdGlvbnNbaV07XG5cbiAgICAgICAgICAgICAgICAvLyAtLS0tIGNob29zZSBhIGZvcndhcmQgdmVjdG9yIHdpdGggQ09OU0lTVEVOVCBvcmllbnRhdGlvbiAtLS0tXG4gICAgICAgICAgICAgICAgaWYgKGkgPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gZmlyc3Q6IHVzZSBuZXh0IC0gY3VycmVudFxuICAgICAgICAgICAgICAgICAgICBDZXNpdW0uQ2FydGVzaWFuMy5zdWJ0cmFjdChwb3NpdGlvbnNbMV0sIGN1ciwgZGlyZWN0aW9uKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGkgPT09IG4gLSAxKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGxhc3Q6IHVzZSBjdXJyZW50IC0gcHJldmlvdXNcbiAgICAgICAgICAgICAgICAgICAgQ2VzaXVtLkNhcnRlc2lhbjMuc3VidHJhY3QoY3VyLCBwb3NpdGlvbnNbbiAtIDJdLCBkaXJlY3Rpb24pO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIG1pZGRsZTogYXZlcmFnZSBwcmV2IGFuZCBuZXh0IGRpcmVjdGlvbnMgZm9yIHNtb290aGVyIGNvcm5lcnNcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZDEgPSBuZXcgQ2VzaXVtLkNhcnRlc2lhbjMoKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZDIgPSBuZXcgQ2VzaXVtLkNhcnRlc2lhbjMoKTtcbiAgICAgICAgICAgICAgICAgICAgQ2VzaXVtLkNhcnRlc2lhbjMuc3VidHJhY3QoY3VyLCBwb3NpdGlvbnNbaSAtIDFdLCBkMSk7XG4gICAgICAgICAgICAgICAgICAgIENlc2l1bS5DYXJ0ZXNpYW4zLnN1YnRyYWN0KHBvc2l0aW9uc1tpICsgMV0sIGN1ciwgZDIpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoQ2VzaXVtLkNhcnRlc2lhbjMubWFnbml0dWRlU3F1YXJlZChkMSkgPiBDZXNpdW0uTWF0aC5FUFNJTE9OMTApIENlc2l1bS5DYXJ0ZXNpYW4zLm5vcm1hbGl6ZShkMSwgZDEpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoQ2VzaXVtLkNhcnRlc2lhbjMubWFnbml0dWRlU3F1YXJlZChkMikgPiBDZXNpdW0uTWF0aC5FUFNJTE9OMTApIENlc2l1bS5DYXJ0ZXNpYW4zLm5vcm1hbGl6ZShkMiwgZDIpO1xuICAgICAgICAgICAgICAgICAgICBDZXNpdW0uQ2FydGVzaWFuMy5hZGQoZDEsIGQyLCBkaXJlY3Rpb24pO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIHplcm8tbGVuZ3RoIHNhZmV0eVxuICAgICAgICAgICAgICAgIGlmIChDZXNpdW0uQ2FydGVzaWFuMy5tYWduaXR1ZGVTcXVhcmVkKGRpcmVjdGlvbikgPCBDZXNpdW0uTWF0aC5FUFNJTE9OMTApIHtcbiAgICAgICAgICAgICAgICAgICAgb2Zmc2V0UG9zaXRpb25zLnB1c2goY3VyKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgQ2VzaXVtLkNhcnRlc2lhbjMubm9ybWFsaXplKGRpcmVjdGlvbiwgZGlyZWN0aW9uKTtcbiAgICAgICAgICAgICAgICBpZiAoaXNOYU4oZGlyZWN0aW9uLngpIHx8IGlzTmFOKGRpcmVjdGlvbi55KSB8fCBpc05hTihkaXJlY3Rpb24ueikpIHtcbiAgICAgICAgICAgICAgICAgICAgb2Zmc2V0UG9zaXRpb25zLnB1c2goY3VyKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gbG9jYWwgXCJ1cFwiIChub3JtYWwgdG8gZWxsaXBzb2lkIGF0IHRoaXMgcG9pbnQpXG4gICAgICAgICAgICAgICAgZWxsaXBzb2lkLmdlb2RldGljU3VyZmFjZU5vcm1hbChjdXIsIHVwKTtcblxuICAgICAgICAgICAgICAgIC8vIHJpZ2h0ID0gZGlyZWN0aW9uIHggdXAgIChwZXJwZW5kaWN1bGFyIHRvIHJvYWQsIHRhbmdlbnQgdG8gZ3JvdW5kKVxuICAgICAgICAgICAgICAgIENlc2l1bS5DYXJ0ZXNpYW4zLmNyb3NzKGRpcmVjdGlvbiwgdXAsIHJpZ2h0KTtcbiAgICAgICAgICAgICAgICBpZiAoQ2VzaXVtLkNhcnRlc2lhbjMubWFnbml0dWRlU3F1YXJlZChyaWdodCkgPCBDZXNpdW0uTWF0aC5FUFNJTE9OMTApIHtcbiAgICAgICAgICAgICAgICAgICAgb2Zmc2V0UG9zaXRpb25zLnB1c2goY3VyKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIENlc2l1bS5DYXJ0ZXNpYW4zLm5vcm1hbGl6ZShyaWdodCwgcmlnaHQpO1xuICAgICAgICAgICAgICAgIGlmIChpc05hTihyaWdodC54KSB8fCBpc05hTihyaWdodC55KSB8fCBpc05hTihyaWdodC56KSkge1xuICAgICAgICAgICAgICAgICAgICBvZmZzZXRQb3NpdGlvbnMucHVzaChjdXIpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBjb25zdCBvZmZzZXQgPSBDZXNpdW0uQ2FydGVzaWFuMy5tdWx0aXBseUJ5U2NhbGFyKFxuICAgICAgICAgICAgICAgICAgICByaWdodCxcbiAgICAgICAgICAgICAgICAgICAgb2Zmc2V0TWV0ZXJzLFxuICAgICAgICAgICAgICAgICAgICBuZXcgQ2VzaXVtLkNhcnRlc2lhbjMoKVxuICAgICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgICAgICBjb25zdCBmaW5hbFBvcyA9IENlc2l1bS5DYXJ0ZXNpYW4zLmFkZChjdXIsIG9mZnNldCwgbmV3IENlc2l1bS5DYXJ0ZXNpYW4zKCkpO1xuICAgICAgICAgICAgICAgIGlmIChpc05hTihmaW5hbFBvcy54KSB8fCBpc05hTihmaW5hbFBvcy55KSB8fCBpc05hTihmaW5hbFBvcy56KSkge1xuICAgICAgICAgICAgICAgICAgICBvZmZzZXRQb3NpdGlvbnMucHVzaChjdXIpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIG9mZnNldFBvc2l0aW9ucy5wdXNoKGZpbmFsUG9zKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBvZmZzZXRQb3NpdGlvbnM7XG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gSGVscGVyOiBGaWx0ZXIgdW5pcXVlIHBvc2l0aW9ucyB0byBwcmV2ZW50IHplcm8tbGVuZ3RoIHNlZ21lbnRzXG4gICAgICAgIGNvbnN0IGZpbHRlclVuaXF1ZVBvc2l0aW9ucyA9IChwb3NpdGlvbnMpID0+IHtcbiAgICAgICAgICAgIGlmICghcG9zaXRpb25zIHx8IHBvc2l0aW9ucy5sZW5ndGggPCAyKSByZXR1cm4gcG9zaXRpb25zO1xuICAgICAgICAgICAgcmV0dXJuIHBvc2l0aW9ucy5maWx0ZXIoKHAsIGlkeCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChpZHggPT09IDApIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIGNvbnN0IHByZXYgPSBwb3NpdGlvbnNbaWR4IC0gMV07XG4gICAgICAgICAgICAgICAgcmV0dXJuIENlc2l1bS5DYXJ0ZXNpYW4zLmRpc3RhbmNlU3F1YXJlZChwLCBwcmV2KSA+IDAuMDAwMTsgLy8gMWNtXjIgdGhyZXNob2xkXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcblxuICAgICAgICAvLyBIZWxwZXI6IGJlYXJpbmcgKGhlYWRpbmcpIG9mIHRoZSBuZWFyZXN0IHJvYWQgc2VnbWVudCB0byBhIGxvY2F0aW9uLlxuICAgICAgICAvLyBSZXR1cm5zIGhlYWRpbmcgaW4gcmFkaWFucywgbWVhc3VyZWQgY2xvY2t3aXNlIGZyb20gTk9SVEguXG4gICAgICAgIGNvbnN0IGdldE5lYXJlc3RSb2FkQmVhcmluZyA9IChsb2NhdGlvbiwgc2VnbWVudHMpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGxvY0NhcnQgPSBDZXNpdW0uQ2FydGVzaWFuMy5mcm9tRGVncmVlcyhcbiAgICAgICAgICAgICAgICBsb2NhdGlvbi5sb25naXR1ZGUsXG4gICAgICAgICAgICAgICAgbG9jYXRpb24ubGF0aXR1ZGVcbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIGxldCBtaW5EaXN0YW5jZSA9IEluZmluaXR5O1xuICAgICAgICAgICAgbGV0IGJlc3RCZWFyaW5nID0gMDtcblxuICAgICAgICAgICAgc2VnbWVudHMuZm9yRWFjaCgocykgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGcgPVxuICAgICAgICAgICAgICAgICAgICB0eXBlb2Ygcy5nZW9tZXRyeSA9PT0gXCJzdHJpbmdcIiA/IEpTT04ucGFyc2Uocy5nZW9tZXRyeSkgOiBzLmdlb21ldHJ5O1xuICAgICAgICAgICAgICAgIGlmICghZz8uY29vcmRpbmF0ZXMgfHwgZy5jb29yZGluYXRlcy5sZW5ndGggPCAyKSByZXR1cm47XG5cbiAgICAgICAgICAgICAgICBjb25zdCBjb29yZHMgPSBnLmNvb3JkaW5hdGVzO1xuXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjb29yZHMubGVuZ3RoIC0gMTsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGMxUmF3ID0gY29vcmRzW2ldO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBjMlJhdyA9IGNvb3Jkc1tpICsgMV07XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKCFOdW1iZXIuaXNGaW5pdGUoYzFSYXdbMF0pIHx8ICFOdW1iZXIuaXNGaW5pdGUoYzFSYXdbMV0pIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAhTnVtYmVyLmlzRmluaXRlKGMyUmF3WzBdKSB8fCAhTnVtYmVyLmlzRmluaXRlKGMyUmF3WzFdKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBjb25zdCBwMSA9IENlc2l1bS5DYXJ0ZXNpYW4zLmZyb21EZWdyZWVzKGMxUmF3WzBdLCBjMVJhd1sxXSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHAyID0gQ2VzaXVtLkNhcnRlc2lhbjMuZnJvbURlZ3JlZXMoYzJSYXdbMF0sIGMyUmF3WzFdKTtcblxuICAgICAgICAgICAgICAgICAgICAvLyB1c2Ugc2VnbWVudCBtaWRwb2ludCBhcyBcInBvc2l0aW9uXCIgdG8gY29tcGFyZSBkaXN0YW5jZVxuICAgICAgICAgICAgICAgICAgICBjb25zdCBtaWQgPSBDZXNpdW0uQ2FydGVzaWFuMy5tdWx0aXBseUJ5U2NhbGFyKFxuICAgICAgICAgICAgICAgICAgICAgICAgQ2VzaXVtLkNhcnRlc2lhbjMuYWRkKHAxLCBwMiwgbmV3IENlc2l1bS5DYXJ0ZXNpYW4zKCkpLFxuICAgICAgICAgICAgICAgICAgICAgICAgMC41LFxuICAgICAgICAgICAgICAgICAgICAgICAgbmV3IENlc2l1bS5DYXJ0ZXNpYW4zKClcbiAgICAgICAgICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgICAgICAgICBjb25zdCBkaXN0U3EgPSBDZXNpdW0uQ2FydGVzaWFuMy5kaXN0YW5jZVNxdWFyZWQobG9jQ2FydCwgbWlkKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRpc3RTcSA+PSBtaW5EaXN0YW5jZSkgY29udGludWU7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gY2xvc2VyIC0+IHVwZGF0ZSBiZWFyaW5nXG4gICAgICAgICAgICAgICAgICAgIG1pbkRpc3RhbmNlID0gZGlzdFNxO1xuXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGMxID0gQ2VzaXVtLkNhcnRvZ3JhcGhpYy5mcm9tRGVncmVlcyhjMVJhd1swXSwgYzFSYXdbMV0pO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBjMiA9IENlc2l1bS5DYXJ0b2dyYXBoaWMuZnJvbURlZ3JlZXMoYzJSYXdbMF0sIGMyUmF3WzFdKTtcblxuICAgICAgICAgICAgICAgICAgICBjb25zdCBkTG9uID0gYzIubG9uZ2l0dWRlIC0gYzEubG9uZ2l0dWRlO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB5ID0gTWF0aC5zaW4oZExvbikgKiBNYXRoLmNvcyhjMi5sYXRpdHVkZSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHggPVxuICAgICAgICAgICAgICAgICAgICAgICAgTWF0aC5jb3MoYzEubGF0aXR1ZGUpICogTWF0aC5zaW4oYzIubGF0aXR1ZGUpIC1cbiAgICAgICAgICAgICAgICAgICAgICAgIE1hdGguc2luKGMxLmxhdGl0dWRlKSAqXG4gICAgICAgICAgICAgICAgICAgICAgICBNYXRoLmNvcyhjMi5sYXRpdHVkZSkgKlxuICAgICAgICAgICAgICAgICAgICAgICAgTWF0aC5jb3MoZExvbik7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gaGVhZGluZyBmcm9tIE5PUlRILCBjbG9ja3dpc2UsIGluIHJhZGlhbnNcbiAgICAgICAgICAgICAgICAgICAgYmVzdEJlYXJpbmcgPSBNYXRoLmF0YW4yKHksIHgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICByZXR1cm4gaXNOYU4oYmVzdEJlYXJpbmcpID8gMCA6IGJlc3RCZWFyaW5nO1xuICAgICAgICB9O1xuXG4gICAgICAgIC8vIEhlbHBlcjogNTBtIHggNTBtIHNxdWFyZSBwb2x5Z29uLCByb3RhdGVkIGJ5IGFuZ2xlRnJvbUVhc3QgKHJhZGlhbnMpLCBpbiBFTlUgZnJhbWVcbiAgICAgICAgY29uc3QgY29tcHV0ZVNxdWFyZVBvbHlnb24gPSAoY2VudGVyQ2FydGVzaWFuLCBzaXplTWV0ZXJzLCBhbmdsZUZyb21FYXN0KSA9PiB7XG4gICAgICAgICAgICBpZiAoaXNOYU4oYW5nbGVGcm9tRWFzdCkgfHwgIWNlbnRlckNhcnRlc2lhbikgcmV0dXJuIG51bGw7XG5cbiAgICAgICAgICAgIGNvbnN0IGhhbGYgPSBzaXplTWV0ZXJzIC8gMi4wO1xuXG4gICAgICAgICAgICAvLyBFTlUgKEVhc3QtTm9ydGgtVXApIGxvY2FsIGZyYW1lIGF0IHRoZSBjZW50ZXJcbiAgICAgICAgICAgIGNvbnN0IHRyYW5zZm9ybSA9IENlc2l1bS5UcmFuc2Zvcm1zLmVhc3ROb3J0aFVwVG9GaXhlZEZyYW1lKFxuICAgICAgICAgICAgICAgIGNlbnRlckNhcnRlc2lhblxuICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgY29uc3QgY29zID0gTWF0aC5jb3MoYW5nbGVGcm9tRWFzdCk7XG4gICAgICAgICAgICBjb25zdCBzaW4gPSBNYXRoLnNpbihhbmdsZUZyb21FYXN0KTtcblxuICAgICAgICAgICAgLy8gc3F1YXJlIGNvcm5lcnMgaW4gbG9jYWwgRU5VIGJlZm9yZSByb3RhdGlvbiAobWV0ZXJzKVxuICAgICAgICAgICAgY29uc3QgYmFzZUNvcm5lcnMgPSBbXG4gICAgICAgICAgICAgICAgeyB4OiAtaGFsZiwgeTogLWhhbGYgfSxcbiAgICAgICAgICAgICAgICB7IHg6IGhhbGYsIHk6IC1oYWxmIH0sXG4gICAgICAgICAgICAgICAgeyB4OiBoYWxmLCB5OiBoYWxmIH0sXG4gICAgICAgICAgICAgICAgeyB4OiAtaGFsZiwgeTogaGFsZiB9XG4gICAgICAgICAgICBdO1xuXG4gICAgICAgICAgICBjb25zdCByZXN1bHQgPSBiYXNlQ29ybmVycy5tYXAoKGMpID0+IHtcbiAgICAgICAgICAgICAgICAvLyByb3RhdGUgaW4gRU5VXG4gICAgICAgICAgICAgICAgY29uc3QgcnggPSBjLnggKiBjb3MgLSBjLnkgKiBzaW47XG4gICAgICAgICAgICAgICAgY29uc3QgcnkgPSBjLnggKiBzaW4gKyBjLnkgKiBjb3M7XG5cbiAgICAgICAgICAgICAgICBjb25zdCBsb2NhbFBvcyA9IG5ldyBDZXNpdW0uQ2FydGVzaWFuMyhyeCwgcnksIDAuMCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIENlc2l1bS5NYXRyaXg0Lm11bHRpcGx5QnlQb2ludChcbiAgICAgICAgICAgICAgICAgICAgdHJhbnNmb3JtLFxuICAgICAgICAgICAgICAgICAgICBsb2NhbFBvcyxcbiAgICAgICAgICAgICAgICAgICAgbmV3IENlc2l1bS5DYXJ0ZXNpYW4zKClcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIC8vIFZhbGlkYXRlIHJlc3VsdCBmb3IgTmFOc1xuICAgICAgICAgICAgZm9yIChjb25zdCBwIG9mIHJlc3VsdCkge1xuICAgICAgICAgICAgICAgIGlmIChpc05hTihwLngpIHx8IGlzTmFOKHAueSkgfHwgaXNOYU4ocC56KSkgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9O1xuXG4gICAgICAgIC8vIEV4YWN0IHRoZW1lIChvbmx5IHVzaW5nIHRoZSBjb2xvcnMgbm93KVxuICAgICAgICBjb25zdCBOSUdIVF9USEVNRSA9IHtcbiAgICAgICAgICAgIC8vIERhcmsgYXNwaGFsdCBzdXJmYWNlczsgZWRnZSBjb2xvciBjYXJyaWVzIHN0YXR1c1xuICAgICAgICAgICAgcm9hZFN1cmZhY2VDb2xvck9wZW46ICcjMkMyRjNBJyxcbiAgICAgICAgICAgIHJvYWRTdXJmYWNlQ29sb3JDbG9zZWQ6ICcjMkMyRjNBJyxcbiAgICAgICAgICAgIHJvYWRTdXJmYWNlQWxwaGE6IDAuOTgsXG4gICAgICAgICAgICByb2FkU2hvdWxkZXJDb2xvck9wZW46ICcjMkMyRjNBJyxcbiAgICAgICAgICAgIHJvYWRTaG91bGRlckNvbG9yQ2xvc2VkOiAnIzJDMkYzQScsXG4gICAgICAgICAgICByb2FkU2hvdWxkZXJBbHBoYTogMC45OCxcbiAgICAgICAgICAgIHBvbHlnb25PdXRsaW5lQ29sb3I6ICcjQTBBMEEwJyxcbiAgICAgICAgICAgIHBvbHlnb25PdXRsaW5lQWxwaGE6IDAuOTUsXG4gICAgICAgICAgICBwb2x5Z29uT3V0bGluZVdpZHRoOiAyLjIsXG4gICAgICAgICAgICAvLyBJbnRlcnNlY3Rpb24gc3R5bGluZzogcmVkIGZpbGwsIHdoaXRlIG91dGxpbmVcbiAgICAgICAgICAgIGludGVyc2VjdGlvbkZpbGxDb2xvcjogJyNFNzRDM0MnLFxuICAgICAgICAgICAgaW50ZXJzZWN0aW9uRmlsbEFscGhhOiAxLjAsXG4gICAgICAgICAgICBpbnRlcnNlY3Rpb25PdXRsaW5lQ29sb3I6ICcjRkZGRkZGJyxcbiAgICAgICAgICAgIGludGVyc2VjdGlvbk91dGxpbmVBbHBoYTogMS4wLFxuICAgICAgICB9O1xuXG4gICAgICAgIC8vIC0tLS0tIGNyb3NzLXNlY3Rpb24gY29uc3RhbnRzIC0tLS0tXG4gICAgICAgIC8vIHRvdGFsIHdpZHRoIChmb3J3YXJkICsgYmFja3dhcmQgKyBjZW50cmUgd2hpdGUgbGluZSlcbiAgICAgICAgY29uc3QgVE9UQUxfUk9BRF9XSURUSCA9IDQwLjA7ICAgICAgLy8gbWV0cmVzXG4gICAgICAgIGNvbnN0IENFTlRFUkxJTkVfV0lEVEggPSAxLjA7ICAgICAgIC8vIG1ldHJlc1xuXG4gICAgICAgIC8vIGVhY2ggZGlyZWN0aW9uIChpbmNsLiBpdHMgc2hvdWxkZXIpIGdldHMgaGFsZiBvZiB0aGUgcmVtYWluaW5nIHdpZHRoXG4gICAgICAgIGNvbnN0IExBTkVfVE9UQUxfV0lEVEggPSAoVE9UQUxfUk9BRF9XSURUSCAtIENFTlRFUkxJTkVfV0lEVEgpIC8gMi4wOyAvLyAxOS41IG1cbiAgICAgICAgY29uc3QgSEFMRl9MQU5FX1RPVEFMX1dJRFRIID0gTEFORV9UT1RBTF9XSURUSCAvIDIuMDsgICAgICAgICAgICAgICAgIC8vIDkuNzUgbVxuXG4gICAgICAgIC8vIG1ha2UgdGhlIGFzcGhhbHQgc2xpZ2h0bHkgbmFycm93ZXIgdGhhbiB0aGUgbGFuZSAoc28gdGhlcmUgaXMgYSBzdWJ0bGUgc2hvdWxkZXIpXG4gICAgICAgIGNvbnN0IExBTkVfU0hPVUxERVJfUEFERElORyA9IDEuMDsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBtIGVhY2ggc2lkZVxuICAgICAgICBjb25zdCBMQU5FX1NVUkZBQ0VfV0lEVEggPSBMQU5FX1RPVEFMX1dJRFRIIC0gMiAqIExBTkVfU0hPVUxERVJfUEFERElORzsgLy8gMTcuNSBtXG5cbiAgICAgICAgLy8gZGlzdGFuY2UgZnJvbSB0aGUgZ2xvYmFsIGNlbnRyZWxpbmUgdG8gdGhlIGNlbnRyZSBvZiBlYWNoIGNhcnJpYWdld2F5XG4gICAgICAgIC8vID0gaGFsZiBjZW50cmVsaW5lICsgaGFsZiBsYW5lIHdpZHRoXG4gICAgICAgIGNvbnN0IExBTkVfQ0VOVEVSX09GRlNFVF9NQUcgPVxuICAgICAgICAgICAgQ0VOVEVSTElORV9XSURUSCAvIDIuMCArIEhBTEZfTEFORV9UT1RBTF9XSURUSDsgIC8vIDAuNSArIDkuNzUgPSAxMC4yNSBtXG5cbiAgICAgICAgLy8gUk9BRCBTRUdNRU5UU1xuICAgICAgICBzZWdtZW50cy5mb3JFYWNoKChzKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBjbG9zZWQgPSBpc0Rpc3BhdGNoU2VnbWVudENsb3NlZChzKTtcbiAgICAgICAgICAgIGlmICghKChjbG9zZWQgJiYgc2hvd0Nsb3NlZFJvYWRzKSB8fCAoIWNsb3NlZCAmJiBzaG93T3BlblJvYWRzKSkpIHJldHVybjtcblxuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCBzdXJmYWNlQ29sb3IgPSBDZXNpdW0uQ29sb3JcbiAgICAgICAgICAgICAgICAgICAgLmZyb21Dc3NDb2xvclN0cmluZyhjbG9zZWQgPyBOSUdIVF9USEVNRS5yb2FkU3VyZmFjZUNvbG9yQ2xvc2VkIDogTklHSFRfVEhFTUUucm9hZFN1cmZhY2VDb2xvck9wZW4pXG4gICAgICAgICAgICAgICAgICAgIC53aXRoQWxwaGEoTklHSFRfVEhFTUUucm9hZFN1cmZhY2VBbHBoYSk7XG5cbiAgICAgICAgICAgICAgICBjb25zdCBzaG91bGRlckNvbG9yID0gQ2VzaXVtLkNvbG9yXG4gICAgICAgICAgICAgICAgICAgIC5mcm9tQ3NzQ29sb3JTdHJpbmcoY2xvc2VkID8gTklHSFRfVEhFTUUucm9hZFNob3VsZGVyQ29sb3JDbG9zZWQgOiBOSUdIVF9USEVNRS5yb2FkU2hvdWxkZXJDb2xvck9wZW4pXG4gICAgICAgICAgICAgICAgICAgIC53aXRoQWxwaGEoTklHSFRfVEhFTUUucm9hZFNob3VsZGVyQWxwaGEpO1xuXG4gICAgICAgICAgICAgICAgY29uc3QgZWRnZUNvbG9yID0gY2xvc2VkXG4gICAgICAgICAgICAgICAgICAgID8gQ2VzaXVtLkNvbG9yLmZyb21Dc3NDb2xvclN0cmluZygnI0U3NEMzQycpXG4gICAgICAgICAgICAgICAgICAgIDogQ2VzaXVtLkNvbG9yLmZyb21Dc3NDb2xvclN0cmluZygnI0ZGRDYwMCcpO1xuXG4gICAgICAgICAgICAgICAgY29uc3QgY2VudGVybGluZUNvbG9yID0gQ2VzaXVtLkNvbG9yLldISVRFO1xuXG4gICAgICAgICAgICAgICAgY29uc3QgZyA9IHR5cGVvZiBzLmdlb21ldHJ5ID09PSAnc3RyaW5nJyA/IEpTT04ucGFyc2Uocy5nZW9tZXRyeSkgOiBzLmdlb21ldHJ5O1xuICAgICAgICAgICAgICAgIGlmICghZz8uY29vcmRpbmF0ZXMpIHJldHVybjtcblxuICAgICAgICAgICAgICAgIC8vIElmIEZyb250cnVubmVyIHJvYWQgZ2VvbWV0cmllcyBhcnJpdmUgYXMgcG9seWdvbnMsIHJlbmRlciB0aGVtIGFzIGZpbGxlZCBwb2x5Z29ucy5cbiAgICAgICAgICAgICAgICBpZiAoZy50eXBlID09PSAnUG9seWdvbicgfHwgZy50eXBlID09PSAnTXVsdGlQb2x5Z29uJykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBwb2x5cyA9IGcudHlwZSA9PT0gJ1BvbHlnb24nID8gW2cuY29vcmRpbmF0ZXNdIDogZy5jb29yZGluYXRlcztcbiAgICAgICAgICAgICAgICAgICAgcG9seXMuZm9yRWFjaCgoY29vcmRzKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBoaWVyYXJjaHkgPSBwYXJzZVBvbHlnb25IaWVyYXJjaHkoeyB0eXBlOiAnUG9seWdvbicsIGNvb3JkaW5hdGVzOiBjb29yZHMgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGllcmFyY2h5ICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGllcmFyY2h5LnBvc2l0aW9ucyAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhpZXJhcmNoeS5wb3NpdGlvbnMubGVuZ3RoID49IDMgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcmVQb3NpdGlvbnNWYWxpZChoaWVyYXJjaHkucG9zaXRpb25zKVxuICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmlld2VyLmVudGl0aWVzLmFkZCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvbHlnb246IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhpZXJhcmNoeSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hdGVyaWFsOiBzdXJmYWNlQ29sb3IsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvdXRsaW5lOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3V0bGluZUNvbG9yOiBlZGdlQ29sb3IsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IDAuMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvcGVydGllczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2F0ZWdvcnk6ICdmcm9udHJ1bm5lcl9yb2FkX3BvbHlnb24nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4ucyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjsgLy8gaGFuZGxlZCBwb2x5Z29uIGNhc2U7IHNraXAgY29ycmlkb3IgcmVuZGVyaW5nXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgbGV0IGFsbExpbmVTdHJpbmdzID0gW107XG4gICAgICAgICAgICAgICAgaWYgKGcudHlwZSA9PT0gJ011bHRpTGluZVN0cmluZycpIHtcbiAgICAgICAgICAgICAgICAgICAgYWxsTGluZVN0cmluZ3MgPSBnLmNvb3JkaW5hdGVzO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZy50eXBlID09PSAnTGluZVN0cmluZycpIHtcbiAgICAgICAgICAgICAgICAgICAgYWxsTGluZVN0cmluZ3MgPSBbZy5jb29yZGluYXRlc107XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGFsbExpbmVTdHJpbmdzLmZvckVhY2goKGNvb3JkaW5hdGVzKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFZhbGlkYXRlIGNvb3JkaW5hdGVzIHN0cnVjdHVyZVxuICAgICAgICAgICAgICAgICAgICBpZiAoIWNvb3JkaW5hdGVzIHx8ICFBcnJheS5pc0FycmF5KGNvb3JkaW5hdGVzKSB8fCBjb29yZGluYXRlcy5sZW5ndGggPCAyKSByZXR1cm47XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gRmlsdGVyIGludmFsaWQgY29vcmRpbmF0ZXMgKE5hTiwgZXRjKVxuICAgICAgICAgICAgICAgICAgICBjb25zdCB2YWxpZENvb3JkcyA9IGNvb3JkaW5hdGVzLmZpbHRlcihjID0+XG4gICAgICAgICAgICAgICAgICAgICAgICBBcnJheS5pc0FycmF5KGMpICYmIGMubGVuZ3RoID49IDIgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgIE51bWJlci5pc0Zpbml0ZShjWzBdKSAmJiBOdW1iZXIuaXNGaW5pdGUoY1sxXSlcbiAgICAgICAgICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAodmFsaWRDb29yZHMubGVuZ3RoIDwgMikgcmV0dXJuO1xuXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJhd1Bvc2l0aW9ucyA9IHZhbGlkQ29vcmRzLm1hcCgoYykgPT5cbiAgICAgICAgICAgICAgICAgICAgICAgIENlc2l1bS5DYXJ0ZXNpYW4zLmZyb21EZWdyZWVzKGNbMF0sIGNbMV0pXG4gICAgICAgICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gRmlsdGVyIGR1cGxpY2F0ZXMgYW5kIHBvaW50cyB0aGF0IGFyZSB0b28gY2xvc2UgKHdpdGhpbiAxY20pXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHBvc2l0aW9ucyA9IGZpbHRlclVuaXF1ZVBvc2l0aW9ucyhyYXdQb3NpdGlvbnMpO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChwb3NpdGlvbnMubGVuZ3RoIDwgMikgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAvLyBFeHRyYSBndWFyZCBmb3IgTmFOcy9kZWdlbmVyYWN5XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHNwYW5PayA9IHBvc2l0aW9ucy5ldmVyeShwID0+IE51bWJlci5pc0Zpbml0ZShwLngpICYmIE51bWJlci5pc0Zpbml0ZShwLnkpICYmIE51bWJlci5pc0Zpbml0ZShwLnopKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFzcGFuT2spIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYmJveCA9IHBvc2l0aW9ucy5yZWR1Y2UoKGFjYywgcCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgYWNjLm1pblggPSBNYXRoLm1pbihhY2MubWluWCwgcC54KTsgYWNjLm1heFggPSBNYXRoLm1heChhY2MubWF4WCwgcC54KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFjYy5taW5ZID0gTWF0aC5taW4oYWNjLm1pblksIHAueSk7IGFjYy5tYXhZID0gTWF0aC5tYXgoYWNjLm1heFksIHAueSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBhY2MubWluWiA9IE1hdGgubWluKGFjYy5taW5aLCBwLnopOyBhY2MubWF4WiA9IE1hdGgubWF4KGFjYy5tYXhaLCBwLnopO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFjYztcbiAgICAgICAgICAgICAgICAgICAgfSwgeyBtaW5YOiBJbmZpbml0eSwgbWF4WDogLUluZmluaXR5LCBtaW5ZOiBJbmZpbml0eSwgbWF4WTogLUluZmluaXR5LCBtaW5aOiBJbmZpbml0eSwgbWF4WjogLUluZmluaXR5IH0pO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBzcGFuID0gTWF0aC5tYXgoYmJveC5tYXhYIC0gYmJveC5taW5YLCBiYm94Lm1heFkgLSBiYm94Lm1pblksIGJib3gubWF4WiAtIGJib3gubWluWik7XG4gICAgICAgICAgICAgICAgICAgIGlmICghTnVtYmVyLmlzRmluaXRlKHNwYW4pIHx8IHNwYW4gPCAwLjEpIHJldHVybjtcblxuICAgICAgICAgICAgICAgICAgICAvLyAtLS0tLSBkZWNpZGUgd2hpY2ggc2lkZSB0aGlzIGxhbmUgc2l0cyBvbiAtLS0tLVxuICAgICAgICAgICAgICAgICAgICBjb25zdCBkaXIgPSAocy5kaXJlY3Rpb24gfHwgJycpLnRvU3RyaW5nKCkudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGRpclNpZ24gPSAwOyAvLyAwID0gY2VudHJlZCAoaWYgbm8gZGlyZWN0aW9uKSwgKzEgPSBvbmUgc2lkZSwgLTEgPSBvcHBvc2l0ZVxuICAgICAgICAgICAgICAgICAgICBpZiAoZGlyLmluY2x1ZGVzKCdmb3J3YXJkJykpIGRpclNpZ24gPSAxO1xuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChkaXIuaW5jbHVkZXMoJ2JhY2t3YXJkJykpIGRpclNpZ24gPSAtMTtcblxuICAgICAgICAgICAgICAgICAgICBjb25zdCBsYW5lQ2VudGVyT2Zmc2V0ID0gZGlyU2lnbiAqIExBTkVfQ0VOVEVSX09GRlNFVF9NQUc7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gY2VudHJlbGluZSBvZiB0aGlzICpsYW5lKiAoc2hpZnRlZCBsZWZ0L3JpZ2h0IGZyb20gZ2xvYmFsIGNlbnRyZWxpbmUpXG4gICAgICAgICAgICAgICAgICAgIGxldCBsYW5lUG9zaXRpb25zID1cbiAgICAgICAgICAgICAgICAgICAgICAgIGxhbmVDZW50ZXJPZmZzZXQgPT09IDBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IHBvc2l0aW9uc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogY29tcHV0ZU9mZnNldExpbmUocG9zaXRpb25zLCBsYW5lQ2VudGVyT2Zmc2V0KTtcblxuICAgICAgICAgICAgICAgICAgICAvLyBGaW5hbCBmaWx0ZXIgdG8gZW5zdXJlIG5vIGR1cGxpY2F0ZXMgYWZ0ZXIgb2Zmc2V0IGNhbGN1bGF0aW9uXG4gICAgICAgICAgICAgICAgICAgIGxhbmVQb3NpdGlvbnMgPSBmaWx0ZXJVbmlxdWVQb3NpdGlvbnMobGFuZVBvc2l0aW9ucyk7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gVmVyaWZ5IGxhbmVQb3NpdGlvbnMgYWZ0ZXIgb2Zmc2V0IGNhbGN1bGF0aW9uXG4gICAgICAgICAgICAgICAgICAgIGlmICghbGFuZVBvc2l0aW9ucyB8fCBsYW5lUG9zaXRpb25zLmxlbmd0aCA8IDIpIHJldHVybjtcblxuICAgICAgICAgICAgICAgICAgICAvLyBDb2xvdXJzOiBkYXJrIGZpbGwsIGVkZ2VzIGluZGljYXRlIHN0YXR1cyAob3BlbiB5ZWxsb3csIGNsb3NlZCByZWQpXG4gICAgICAgICAgICAgICAgICAgIC8vIDEuIExhbmUgc2hvdWxkZXIgKGZ1bGwgbGFuZSB3aWR0aCwgc2hpZnRlZCB0byBpdHMgc2lkZSlcbiAgICAgICAgICAgICAgICAgICAgdmlld2VyLmVudGl0aWVzLmFkZCh7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb3JyaWRvcjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uczogbGFuZVBvc2l0aW9ucyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogTEFORV9UT1RBTF9XSURUSCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXRlcmlhbDogc2hvdWxkZXJDb2xvcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IDAuMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb3JuZXJUeXBlOiBDZXNpdW0uQ29ybmVyVHlwZS5NSVRFUkVELFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG91dGxpbmU6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb3BlcnRpZXM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXRlZ29yeTogJ2Rpc3BhdGNoX3NlZ21lbnQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlX3JvbGU6ICdyb2FkX3Nob3VsZGVyJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5zLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gMi4gTGFuZSBhc3BoYWx0IHN1cmZhY2UgKHNsaWdodGx5IG5hcnJvd2VyKVxuICAgICAgICAgICAgICAgICAgICB2aWV3ZXIuZW50aXRpZXMuYWRkKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvcnJpZG9yOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb25zOiBsYW5lUG9zaXRpb25zLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiBMQU5FX1NVUkZBQ0VfV0lEVEgsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF0ZXJpYWw6IHN1cmZhY2VDb2xvcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IDAuMTgsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29ybmVyVHlwZTogQ2VzaXVtLkNvcm5lclR5cGUuTUlURVJFRCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvdXRsaW5lOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2F0ZWdvcnk6ICdkaXNwYXRjaF9zZWdtZW50JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZV9yb2xlOiAncm9hZF9zdXJmYWNlJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5zLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gMy4gQ2VudGVybGluZSAoZGFzaGVkIGxpbmUpXG4gICAgICAgICAgICAgICAgICAgIHZpZXdlci5lbnRpdGllcy5hZGQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgcG9seWxpbmU6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbnM6IGxhbmVQb3NpdGlvbnMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6IENFTlRFUkxJTkVfV0lEVEgsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF0ZXJpYWw6IG5ldyBDZXNpdW0uUG9seWxpbmVEYXNoTWF0ZXJpYWxQcm9wZXJ0eSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiBjZW50ZXJsaW5lQ29sb3IsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhc2hMZW5ndGg6IDE2LjAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJjVHlwZTogQ2VzaXVtLkFyY1R5cGUuR0VPREVTSUMsXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgcHJvcGVydGllczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhdGVnb3J5OiAnZGlzcGF0Y2hfc2VnbWVudCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGVfcm9sZTogJ3JvYWRfY2VudGVybGluZScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4ucyxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIDQuIEVkZ2VzIChzb2xpZCBsaW5lcylcbiAgICAgICAgICAgICAgICAgICAgLy8gTGVmdCBlZGdlXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGxlZnRFZGdlT2Zmc2V0ID0gLUhBTEZfTEFORV9UT1RBTF9XSURUSDtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGxlZnRFZGdlUG9zaXRpb25zID0gY29tcHV0ZU9mZnNldExpbmUobGFuZVBvc2l0aW9ucywgbGVmdEVkZ2VPZmZzZXQpO1xuICAgICAgICAgICAgICAgICAgICBsZWZ0RWRnZVBvc2l0aW9ucyA9IGZpbHRlclVuaXF1ZVBvc2l0aW9ucyhsZWZ0RWRnZVBvc2l0aW9ucyk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGxlZnRFZGdlUG9zaXRpb25zICYmIGxlZnRFZGdlUG9zaXRpb25zLmxlbmd0aCA+PSAyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2aWV3ZXIuZW50aXRpZXMuYWRkKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb2x5bGluZToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbnM6IGxlZnRFZGdlUG9zaXRpb25zLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogMi4wLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXRlcmlhbDogZWRnZUNvbG9yLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcmNUeXBlOiBDZXNpdW0uQXJjVHlwZS5HRU9ERVNJQyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3BlcnRpZXM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2F0ZWdvcnk6ICdkaXNwYXRjaF9zZWdtZW50JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGVfcm9sZTogJ3JvYWRfZWRnZV9sZWZ0JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4ucyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAvLyBSaWdodCBlZGdlXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJpZ2h0RWRnZU9mZnNldCA9IEhBTEZfTEFORV9UT1RBTF9XSURUSDtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHJpZ2h0RWRnZVBvc2l0aW9ucyA9IGNvbXB1dGVPZmZzZXRMaW5lKGxhbmVQb3NpdGlvbnMsIHJpZ2h0RWRnZU9mZnNldCk7XG4gICAgICAgICAgICAgICAgICAgIHJpZ2h0RWRnZVBvc2l0aW9ucyA9IGZpbHRlclVuaXF1ZVBvc2l0aW9ucyhyaWdodEVkZ2VQb3NpdGlvbnMpO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChyaWdodEVkZ2VQb3NpdGlvbnMgJiYgcmlnaHRFZGdlUG9zaXRpb25zLmxlbmd0aCA+PSAyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2aWV3ZXIuZW50aXRpZXMuYWRkKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb2x5bGluZToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbnM6IHJpZ2h0RWRnZVBvc2l0aW9ucyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6IDIuMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF0ZXJpYWw6IGVkZ2VDb2xvcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJjVHlwZTogQ2VzaXVtLkFyY1R5cGUuR0VPREVTSUMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhdGVnb3J5OiAnZGlzcGF0Y2hfc2VnbWVudCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlX3JvbGU6ICdyb2FkX2VkZ2VfcmlnaHQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5zLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSBjYXRjaCAoZSkgeyBjb25zb2xlLmVycm9yKCdFcnJvciByZW5kZXJpbmcgc2VnbWVudCcsIHMsIGUpOyB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIE9USEVSIExBWUVSUyAodHJvbGxleSwgaW50ZXJzZWN0aW9ucywgZXRjLilcbiAgICAgICAgaWYgKHNob3dUcm9sbGV5KSB7XG4gICAgICAgICAgICB0cm9sbGV5U2VnbWVudHMuZm9yRWFjaCgodCkgPT4ge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghTnVtYmVyLmlzRmluaXRlKHQuc3RhcnRfbG9uZ2l0dWRlKSB8fCAhTnVtYmVyLmlzRmluaXRlKHQuc3RhcnRfbGF0aXR1ZGUpIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAhTnVtYmVyLmlzRmluaXRlKHQuZW5kX2xvbmdpdHVkZSkgfHwgIU51bWJlci5pc0Zpbml0ZSh0LmVuZF9sYXRpdHVkZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIHZpZXdlci5lbnRpdGllcy5hZGQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgcG9seWxpbmU6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbnM6IENlc2l1bS5DYXJ0ZXNpYW4zLmZyb21EZWdyZWVzQXJyYXkoW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0LnN0YXJ0X2xvbmdpdHVkZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdC5zdGFydF9sYXRpdHVkZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdC5lbmRfbG9uZ2l0dWRlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0LmVuZF9sYXRpdHVkZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiA1LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hdGVyaWFsOiBDZXNpdW0uQ29sb3IuZnJvbUNzc0NvbG9yU3RyaW5nKFwiI0ZGNkI2QlwiKS53aXRoQWxwaGEoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDAuOVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzOiB7IGNhdGVnb3J5OiBcImRpc3BhdGNoX3Ryb2xsZXlcIiwgLi4udCB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIHJlbmRlcmluZyB0cm9sbGV5IHNlZ21lbnRcIiwgdCwgZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoc2hvd0ludGVyc2VjdGlvbnMpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGBSZW5kZXJpbmcgJHtpbnRlcnNlY3Rpb25zLmxlbmd0aH0gaW50ZXJzZWN0aW9uc2ApO1xuICAgICAgICAgICAgaW50ZXJzZWN0aW9ucy5mb3JFYWNoKChpKSA9PiB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmF3ID0gaS5nZW9tX2dlb2pzb24gfHwgaS5nZW9tZXRyeTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaGllcmFyY2h5ID0gcGFyc2VQb2x5Z29uSGllcmFyY2h5KHJhdyk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICFoaWVyYXJjaHkgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICFoaWVyYXJjaHkucG9zaXRpb25zIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICBoaWVyYXJjaHkucG9zaXRpb25zLmxlbmd0aCA8IDMgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICFhcmVQb3NpdGlvbnNWYWxpZChoaWVyYXJjaHkucG9zaXRpb25zKVxuICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIHZpZXdlci5lbnRpdGllcy5hZGQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgcG9seWdvbjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhpZXJhcmNoeSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXRlcmlhbDogQ2VzaXVtLkNvbG9yLmZyb21Dc3NDb2xvclN0cmluZyhOSUdIVF9USEVNRS5pbnRlcnNlY3Rpb25GaWxsQ29sb3IpLndpdGhBbHBoYShOSUdIVF9USEVNRS5pbnRlcnNlY3Rpb25GaWxsQWxwaGEpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogMC42LCAvLyBMaWZ0IHNsaWdodGx5IGFib3ZlIHJvYWRzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3V0bGluZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvdXRsaW5lQ29sb3I6IENlc2l1bS5Db2xvci5mcm9tQ3NzQ29sb3JTdHJpbmcoTklHSFRfVEhFTUUuaW50ZXJzZWN0aW9uT3V0bGluZUNvbG9yKS53aXRoQWxwaGEoTklHSFRfVEhFTUUuaW50ZXJzZWN0aW9uT3V0bGluZUFscGhhKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvdXRsaW5lV2lkdGg6IE5JR0hUX1RIRU1FLnBvbHlnb25PdXRsaW5lV2lkdGgsXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgcHJvcGVydGllczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhdGVnb3J5OiBcImRpc3BhdGNoX2ludGVyc2VjdGlvblwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFydF9pbmRleDogMFxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJCYWQgaW50ZXJzZWN0aW9uIGdlb21ldHJ5XCIsIGksIGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgbG9jYXRpb25zLmZvckVhY2goKGwpID0+IHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgaWYgKCFOdW1iZXIuaXNGaW5pdGUobC5sYXRpdHVkZSkgfHwgIU51bWJlci5pc0Zpbml0ZShsLmxvbmdpdHVkZSkpIHJldHVybjtcblxuICAgICAgICAgICAgICAgIGNvbnN0IHR5cGUgPSByZXNvbHZlRGlzcGF0Y2hMb2NhdGlvblR5cGUobCk7XG5cbiAgICAgICAgICAgICAgICBjb25zdCB0eXBlTG93ZXIgPSAodHlwZSB8fCAnJykudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgICAgICAgICBjb25zdCBzb3VyY2VMb3dlciA9IChsLnNvdXJjZSB8fCAnJykudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgICAgICAgICBjb25zdCBpc051bWVyaWNUeXBlID0gL15bMC05XSskLy50ZXN0KHR5cGVMb3dlcik7XG5cbiAgICAgICAgICAgICAgICBpZiAoIXZpc2libGVMb2NhdGlvblR5cGVzLmhhcyh0eXBlKSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZygnW0NvbWJpbmVkTWFwXVtMb2NhdGlvbnNdIFNraXAgdHlwZSBub3QgdmlzaWJsZScsIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgIHR5cGUsXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICBsb2NhdGlvbl9pZDogbC5sb2NhdGlvbl9pZCxcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgIHVuaXRfdHlwZTogbC51bml0X3R5cGUsXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICB1bml0X3R5cGVfaWQ6IGwudW5pdF90eXBlX2lkLFxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgbG9jYXRpb25fY2F0ZWdvcnk6IGwubG9jYXRpb25fY2F0ZWdvcnksXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICBzb3VyY2U6IGwuc291cmNlLFxuICAgICAgICAgICAgICAgICAgICAvLyB9KTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGNvbnN0IGNvbG9yID0gQ2VzaXVtLkNvbG9yLmZyb21Dc3NDb2xvclN0cmluZyhcbiAgICAgICAgICAgICAgICAgICAgZ2V0RGlzcGF0Y2hMb2NhdGlvbkNvbG9yKHR5cGUpXG4gICAgICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgICAgIGNvbnN0IHBvc2l0aW9uID0gQ2VzaXVtLkNhcnRlc2lhbjMuZnJvbURlZ3JlZXMoXG4gICAgICAgICAgICAgICAgICAgIGwubG9uZ2l0dWRlLFxuICAgICAgICAgICAgICAgICAgICBsLmxhdGl0dWRlLFxuICAgICAgICAgICAgICAgICAgICAyLjAgICAgLy8gMm0gYWJvdmUgZ3JvdW5kIHNvIGxvY2F0aW9ucyBzaXQgY2xlYXJseSBhYm92ZSB0aGUgcm9hZCBzdXJmYWNlXG4gICAgICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgICAgIC8vIElmIGdlb21ldHJ5IGlzIGEgcG9seWdvbiwgcmVuZGVyIGl0OyBvdGhlcndpc2UgcmVuZGVyIHNxdWFyZS9wb2ludC5cbiAgICAgICAgICAgICAgICBjb25zdCByYXdHZW9tID0gbC5nZW9tZXRyeSA/ICh0eXBlb2YgbC5nZW9tZXRyeSA9PT0gJ3N0cmluZycgPyBsLmdlb21ldHJ5IDogSlNPTi5zdHJpbmdpZnkobC5nZW9tZXRyeSkpIDogbnVsbDtcbiAgICAgICAgICAgICAgICBpZiAocmF3R2VvbSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBoaWVyYXJjaHkgPSBwYXJzZVBvbHlnb25IaWVyYXJjaHkocmF3R2VvbSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChoaWVyYXJjaHkgJiYgaGllcmFyY2h5LnBvc2l0aW9ucyAmJiBoaWVyYXJjaHkucG9zaXRpb25zLmxlbmd0aCA+PSAzICYmIGFyZVBvc2l0aW9uc1ZhbGlkKGhpZXJhcmNoeS5wb3NpdGlvbnMpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2aWV3ZXIuZW50aXRpZXMuYWRkKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb2x5Z29uOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhpZXJhcmNoeSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF0ZXJpYWw6IGNvbG9yLndpdGhBbHBoYSgwLjkpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvdXRsaW5lOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvdXRsaW5lQ29sb3I6IENlc2l1bS5Db2xvci5XSElURSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGVyUG9zaXRpb25IZWlnaHQ6IHRydWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3BlcnRpZXM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2F0ZWdvcnk6IFwiZnJvbnRydW5uZXJfbG9jYXRpb25cIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4ubFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgY29uc3Qgc2hvd1NxdWFyZSA9IFNRVUFSRV9UWVBFUy5oYXModHlwZUxvd2VyKSB8fCBpc051bWVyaWNUeXBlO1xuICAgICAgICAgICAgICAgIGlmICghc2hvd1NxdWFyZSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47IC8vIHNraXAgYWxsIG5vbi10YXJnZXQgdHlwZXNcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBSZW5kZXIgc3F1YXJlIHBhZCBmb3IgYWxsb3dlZCB0eXBlc1xuICAgICAgICAgICAgICAgIGNvbnN0IGJlYXJpbmdGcm9tTm9ydGggPSBnZXROZWFyZXN0Um9hZEJlYXJpbmcobCwgc2VnbWVudHMpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGFuZ2xlRnJvbUVhc3QgPSAtYmVhcmluZ0Zyb21Ob3J0aDsgLy8gcGVycGVuZGljdWxhciB0byByb2FkXG5cbiAgICAgICAgICAgICAgICBjb25zdCBzcXVhcmVQb3NpdGlvbnMgPSBjb21wdXRlU3F1YXJlUG9seWdvbihcbiAgICAgICAgICAgICAgICAgICAgcG9zaXRpb24sXG4gICAgICAgICAgICAgICAgICAgIDQwLjAsICAgICAgICAgIC8vIHNpemUgaW4gbWV0ZXJzXG4gICAgICAgICAgICAgICAgICAgIGFuZ2xlRnJvbUVhc3RcbiAgICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAgICAgaWYgKHNxdWFyZVBvc2l0aW9ucyAmJiBhcmVQb3NpdGlvbnNWYWxpZChzcXVhcmVQb3NpdGlvbnMpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGhpZXJhcmNoeSA9IG5ldyBDZXNpdW0uUG9seWdvbkhpZXJhcmNoeShzcXVhcmVQb3NpdGlvbnMpO1xuICAgICAgICAgICAgICAgICAgICB2aWV3ZXIuZW50aXRpZXMuYWRkKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvbHlnb246IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoaWVyYXJjaHksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF0ZXJpYWw6IGNvbG9yLndpdGhBbHBoYSgxLjApLCAgIC8vIG9wYXF1ZTogZnVsbHkgaGlkZSByb2FkcyB1bmRlcm5lYXRoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3V0bGluZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvdXRsaW5lQ29sb3I6IENlc2l1bS5Db2xvci5XSElURSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwZXJQb3NpdGlvbkhlaWdodDogdHJ1ZSAgICAgICAgICAgLy8gdXNlIHRoZSBhY3R1YWwgaGVpZ2h0cyBpbiBoaWVyYXJjaHkgKOKJiDJtKVxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb3BlcnRpZXM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXRlZ29yeTogXCJkaXNwYXRjaF9sb2NhdGlvblwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmxcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJ1tDb21iaW5lZE1hcF1bTG9jYXRpb25zXSBJbnZhbGlkIHNxdWFyZSBnZW9tZXRyeSwgc2tpcHBpbmcnLCB7XG4gICAgICAgICAgICAgICAgICAgIC8vICAgICB0eXBlLFxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgbG9jYXRpb25faWQ6IGwubG9jYXRpb25faWQsXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICB1bml0X3R5cGU6IGwudW5pdF90eXBlLFxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgdW5pdF90eXBlX2lkOiBsLnVuaXRfdHlwZV9pZCxcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgIGxvY2F0aW9uX2NhdGVnb3J5OiBsLmxvY2F0aW9uX2NhdGVnb3J5LFxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgc291cmNlOiBsLnNvdXJjZSxcbiAgICAgICAgICAgICAgICAgICAgLy8gfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIElmIGludmFsaWQgc3F1YXJlLCBza2lwIChubyBwb2ludCBmYWxsYmFjaylcbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgcmVuZGVyaW5nIGxvY2F0aW9uXCIsIGwsIGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9LCBbXG4gICAgICAgIGxvY2F0aW9ucyxcbiAgICAgICAgc2VnbWVudHMsXG4gICAgICAgIHRyb2xsZXlTZWdtZW50cyxcbiAgICAgICAgd2F0ZXJpbmdTdGF0aW9ucyxcbiAgICAgICAgc3BlZWRNb25pdG9yaW5nLFxuICAgICAgICBpbnRlcnNlY3Rpb25zLFxuICAgICAgICBzaG93T3BlblJvYWRzLFxuICAgICAgICBzaG93Q2xvc2VkUm9hZHMsXG4gICAgICAgIHNob3dJbnRlcnNlY3Rpb25zLFxuICAgICAgICBzaG93VHJvbGxleSxcbiAgICAgICAgc2hvd1dhdGVyaW5nLFxuICAgICAgICBzaG93U3BlZWQsXG4gICAgICAgIHZpc2libGVMb2NhdGlvblR5cGVzXG4gICAgXSk7XG5cbiAgICBjb25zdCBnZXRDYXRlZ29yeURpc3BsYXlOYW1lID0gKGNvbnNvbGlkYXRlZENhdGVnb3J5KSA9PiB7XG4gICAgICAgIGNvbnN0IGRpc3BsYXlOYW1lcyA9IHtcbiAgICAgICAgICAgICdwaXQnOiAnUGl0IExvY2F0aW9ucycsXG4gICAgICAgICAgICAncGFya2luZyc6ICdQYXJraW5nIEJheScsXG4gICAgICAgICAgICAnY3J1c2hlcic6ICdDcnVzaGVyIE9wZXJhdGlvbnMnLFxuICAgICAgICAgICAgJ2Z1ZWwnOiAnRnVlbCBTdGF0aW9uJyxcbiAgICAgICAgICAgICdpbnRlcnNlY3Rpb24nOiAnUm9hZCBOZXR3b3JrcycsXG4gICAgICAgICAgICAnZHVtcCc6ICdEdW1wIFNpdGUnLFxuICAgICAgICAgICAgJ2JsYXN0JzogJ0JsYXN0IEFyZWEnLFxuICAgICAgICAgICAgJ3N0b2NrcGlsZSc6ICdTdG9ja3BpbGUnLFxuICAgICAgICAgICAgJ3dvcmtzaG9wJzogJ1dvcmtzaG9wJyxcbiAgICAgICAgICAgICdnYXRlJzogJ0dhdGUnLFxuICAgICAgICAgICAgJ2FjY2Vzcyc6ICdBY2Nlc3MgUG9pbnQnLFxuICAgICAgICAgICAgJ2RlZmF1bHQnOiAnT3RoZXInXG4gICAgICAgIH07XG5cbiAgICAgICAgaWYgKGRpc3BsYXlOYW1lc1tjb25zb2xpZGF0ZWRDYXRlZ29yeV0pIHtcbiAgICAgICAgICAgIHJldHVybiBkaXNwbGF5TmFtZXNbY29uc29saWRhdGVkQ2F0ZWdvcnldO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgY2F0ZWdvcnlTdHIgPSBTdHJpbmcoY29uc29saWRhdGVkQ2F0ZWdvcnkgfHwgJ090aGVyJyk7XG4gICAgICAgIHJldHVybiBjYXRlZ29yeVN0ci5zcGxpdCgnXycpLm1hcCh3b3JkID0+XG4gICAgICAgICAgICB3b3JkLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgd29yZC5zbGljZSgxKVxuICAgICAgICApLmpvaW4oJyAnKTtcbiAgICB9O1xuXG4gICAgLy8gLS0tIE1lYXN1cmVtZW50IGhlbHBlcnMgKG1pcnJvciBGcm9udHJ1bm5lciBiZWhhdmlvcikgLS0tXG4gICAgY29uc3QgcmVtb3ZlUHJldmlld0VudGl0aWVzID0gKHZpZXdlcikgPT4ge1xuICAgICAgICBpZiAoIXZpZXdlcikgcmV0dXJuO1xuICAgICAgICBjb25zdCByZWZzID0gW3ByZXZpZXdMaW5lRW50aXR5UmVmLCBwcmV2aWV3TGFiZWxFbnRpdHlSZWZdO1xuICAgICAgICByZWZzLmZvckVhY2gocmVmID0+IHtcbiAgICAgICAgICAgIGlmIChyZWYuY3VycmVudCkge1xuICAgICAgICAgICAgICAgIHRyeSB7IHZpZXdlci5lbnRpdGllcy5yZW1vdmUocmVmLmN1cnJlbnQpOyB9IGNhdGNoIChfKSB7IH1cbiAgICAgICAgICAgICAgICByZWYuY3VycmVudCA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICB2aWV3ZXIuc2NlbmU/LnJlcXVlc3RSZW5kZXIoKTtcbiAgICB9O1xuXG4gICAgY29uc3QgY2xlYXJNZWFzdXJlbWVudHMgPSAodmlld2VyKSA9PiB7XG4gICAgICAgIGlmICghdmlld2VyKSByZXR1cm47XG4gICAgICAgIG1lYXN1cmVtZW50RW50aXRpZXNSZWYuY3VycmVudC5mb3JFYWNoKGUgPT4geyB0cnkgeyB2aWV3ZXIuZW50aXRpZXMucmVtb3ZlKGUpOyB9IGNhdGNoIChfKSB7IH0gfSk7XG4gICAgICAgIG92ZXJsYXlFbnRpdGllc1JlZi5jdXJyZW50LmZvckVhY2goZSA9PiB7IHRyeSB7IHZpZXdlci5lbnRpdGllcy5yZW1vdmUoZSk7IH0gY2F0Y2ggKF8pIHsgfSB9KTtcbiAgICAgICAgcmVtb3ZlUHJldmlld0VudGl0aWVzKHZpZXdlcik7XG4gICAgICAgIG1lYXN1cmVtZW50RW50aXRpZXNSZWYuY3VycmVudCA9IFtdO1xuICAgICAgICBvdmVybGF5RW50aXRpZXNSZWYuY3VycmVudCA9IFtdO1xuICAgICAgICBtZWFzdXJlbWVudFBvaW50c1JlZi5jdXJyZW50ID0gW107XG4gICAgICAgIGFyZWFMb2NrZWRSZWYuY3VycmVudCA9IGZhbHNlO1xuICAgICAgICBtZWFzdXJlbWVudE1vZGVSZWYuY3VycmVudCA9ICdub25lJztcbiAgICAgICAgc2V0TWVhc3VyZW1lbnRNb2RlKCdub25lJyk7XG4gICAgICAgIHZpZXdlci5zY2VuZT8ucmVxdWVzdFJlbmRlcigpO1xuICAgIH07XG5cbiAgICBjb25zdCBkcmF3RGlzdGFuY2UgPSAodmlld2VyLCBwb2ludHMpID0+IHtcbiAgICAgICAgb3ZlcmxheUVudGl0aWVzUmVmLmN1cnJlbnQuZm9yRWFjaChlID0+IHsgdHJ5IHsgdmlld2VyLmVudGl0aWVzLnJlbW92ZShlKTsgfSBjYXRjaCAoXykgeyB9IH0pO1xuICAgICAgICBvdmVybGF5RW50aXRpZXNSZWYuY3VycmVudCA9IFtdO1xuICAgICAgICBjb25zdCBwb3NpdGlvbnMgPSBwb2ludHMubWFwKHAgPT4gcC5jYXJ0ZXNpYW4pO1xuICAgICAgICBjb25zdCBsaW5lID0gdmlld2VyLmVudGl0aWVzLmFkZCh7XG4gICAgICAgICAgICBwb2x5bGluZToge1xuICAgICAgICAgICAgICAgIHBvc2l0aW9ucyxcbiAgICAgICAgICAgICAgICB3aWR0aDogNCxcbiAgICAgICAgICAgICAgICBtYXRlcmlhbDogQ2VzaXVtLkNvbG9yLldISVRFLFxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgbWVhc3VyZW1lbnRFbnRpdGllc1JlZi5jdXJyZW50LnB1c2gobGluZSk7XG4gICAgICAgIG92ZXJsYXlFbnRpdGllc1JlZi5jdXJyZW50LnB1c2gobGluZSk7XG5cbiAgICAgICAgY29uc3QgZWxsaXBzb2lkID0gdmlld2VyLnNjZW5lLmdsb2JlLmVsbGlwc29pZDtcbiAgICAgICAgY29uc3QgYzEgPSBlbGxpcHNvaWQuY2FydGVzaWFuVG9DYXJ0b2dyYXBoaWMocG9zaXRpb25zWzBdKTtcbiAgICAgICAgY29uc3QgYzIgPSBlbGxpcHNvaWQuY2FydGVzaWFuVG9DYXJ0b2dyYXBoaWMocG9zaXRpb25zWzFdKTtcbiAgICAgICAgY29uc3QgZ2VvZGVzaWMgPSBuZXcgQ2VzaXVtLkVsbGlwc29pZEdlb2Rlc2ljKGMxLCBjMik7XG4gICAgICAgIGNvbnN0IGRpc3RhbmNlTWV0ZXJzID0gZ2VvZGVzaWMuc3VyZmFjZURpc3RhbmNlO1xuICAgICAgICBjb25zdCBkaXN0YW5jZUZlZXQgPSBkaXN0YW5jZU1ldGVycyAqIDMuMjgwODQ7XG5cbiAgICAgICAgaWYgKCFOdW1iZXIuaXNGaW5pdGUoZGlzdGFuY2VNZXRlcnMpIHx8IGRpc3RhbmNlTWV0ZXJzIDwgMC4wMSkge1xuICAgICAgICAgICAgLy8gZGlzY2FyZCBzZWNvbmQgcG9pbnRcbiAgICAgICAgICAgIGNvbnN0IGxhc3RQb2ludCA9IG1lYXN1cmVtZW50RW50aXRpZXNSZWYuY3VycmVudC5wb3AoKTtcbiAgICAgICAgICAgIHRyeSB7IHZpZXdlci5lbnRpdGllcy5yZW1vdmUobGFzdFBvaW50KTsgfSBjYXRjaCAoXykgeyB9XG4gICAgICAgICAgICBtZWFzdXJlbWVudFBvaW50c1JlZi5jdXJyZW50ID0gW3BvaW50c1swXV07XG4gICAgICAgICAgICB2aWV3ZXIuc2NlbmU/LnJlcXVlc3RSZW5kZXIoKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IG1ldGVyc1RleHQgPSBgJHtkaXN0YW5jZU1ldGVycy50b0ZpeGVkKDIpfSBtYDtcbiAgICAgICAgY29uc3QgZmVldFRleHQgPSBgJHtkaXN0YW5jZUZlZXQudG9GaXhlZCgyKX0gZnRgO1xuICAgICAgICBjb25zdCBtaWQgPSBDZXNpdW0uQ2FydGVzaWFuMy5sZXJwKHBvc2l0aW9uc1swXSwgcG9zaXRpb25zWzFdLCAwLjUsIG5ldyBDZXNpdW0uQ2FydGVzaWFuMygpKTtcblxuICAgICAgICBjb25zdCBsYWJlbDEgPSB2aWV3ZXIuZW50aXRpZXMuYWRkKHtcbiAgICAgICAgICAgIHBvc2l0aW9uOiBtaWQsXG4gICAgICAgICAgICBsYWJlbDoge1xuICAgICAgICAgICAgICAgIHRleHQ6IG1ldGVyc1RleHQsXG4gICAgICAgICAgICAgICAgZm9udDogJzIycHggYm9sZCBcIkFyaWFsXCIsIHNhbnMtc2VyaWYnLFxuICAgICAgICAgICAgICAgIGZpbGxDb2xvcjogQ2VzaXVtLkNvbG9yLllFTExPVyxcbiAgICAgICAgICAgICAgICBvdXRsaW5lQ29sb3I6IENlc2l1bS5Db2xvci5CTEFDSyxcbiAgICAgICAgICAgICAgICBvdXRsaW5lV2lkdGg6IDQsXG4gICAgICAgICAgICAgICAgc3R5bGU6IENlc2l1bS5MYWJlbFN0eWxlLkZJTExfQU5EX09VVExJTkUsXG4gICAgICAgICAgICAgICAgdmVydGljYWxPcmlnaW46IENlc2l1bS5WZXJ0aWNhbE9yaWdpbi5DRU5URVIsXG4gICAgICAgICAgICAgICAgaG9yaXpvbnRhbE9yaWdpbjogQ2VzaXVtLkhvcml6b250YWxPcmlnaW4uQ0VOVEVSLFxuICAgICAgICAgICAgICAgIHBpeGVsT2Zmc2V0OiBuZXcgQ2VzaXVtLkNhcnRlc2lhbjIoMCwgLTMwKSxcbiAgICAgICAgICAgICAgICBkaXNhYmxlRGVwdGhUZXN0RGlzdGFuY2U6IE51bWJlci5QT1NJVElWRV9JTkZJTklUWSxcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IGxhYmVsMiA9IHZpZXdlci5lbnRpdGllcy5hZGQoe1xuICAgICAgICAgICAgcG9zaXRpb246IG1pZCxcbiAgICAgICAgICAgIGxhYmVsOiB7XG4gICAgICAgICAgICAgICAgdGV4dDogZmVldFRleHQsXG4gICAgICAgICAgICAgICAgZm9udDogJzIwcHggYm9sZCBcIkFyaWFsXCIsIHNhbnMtc2VyaWYnLFxuICAgICAgICAgICAgICAgIGZpbGxDb2xvcjogQ2VzaXVtLkNvbG9yLldISVRFLFxuICAgICAgICAgICAgICAgIG91dGxpbmVDb2xvcjogQ2VzaXVtLkNvbG9yLkJMQUNLLFxuICAgICAgICAgICAgICAgIG91dGxpbmVXaWR0aDogNCxcbiAgICAgICAgICAgICAgICBzdHlsZTogQ2VzaXVtLkxhYmVsU3R5bGUuRklMTF9BTkRfT1VUTElORSxcbiAgICAgICAgICAgICAgICB2ZXJ0aWNhbE9yaWdpbjogQ2VzaXVtLlZlcnRpY2FsT3JpZ2luLkNFTlRFUixcbiAgICAgICAgICAgICAgICBob3Jpem9udGFsT3JpZ2luOiBDZXNpdW0uSG9yaXpvbnRhbE9yaWdpbi5DRU5URVIsXG4gICAgICAgICAgICAgICAgcGl4ZWxPZmZzZXQ6IG5ldyBDZXNpdW0uQ2FydGVzaWFuMigwLCAzMCksXG4gICAgICAgICAgICAgICAgZGlzYWJsZURlcHRoVGVzdERpc3RhbmNlOiBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFksXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBtZWFzdXJlbWVudEVudGl0aWVzUmVmLmN1cnJlbnQucHVzaChsYWJlbDEsIGxhYmVsMik7XG4gICAgICAgIG92ZXJsYXlFbnRpdGllc1JlZi5jdXJyZW50LnB1c2gobGFiZWwxLCBsYWJlbDIpO1xuXG4gICAgICAgIGFyZWFMb2NrZWRSZWYuY3VycmVudCA9IHRydWU7XG4gICAgICAgIG1lYXN1cmVtZW50TW9kZVJlZi5jdXJyZW50ID0gJ25vbmUnO1xuICAgICAgICBzZXRNZWFzdXJlbWVudE1vZGUoJ25vbmUnKTtcbiAgICAgICAgdmlld2VyLnNjZW5lPy5yZXF1ZXN0UmVuZGVyKCk7XG4gICAgfTtcblxuICAgIGNvbnN0IGRyYXdBcmVhUHJldmlldyA9ICh2aWV3ZXIsIHBvaW50cykgPT4ge1xuICAgICAgICBvdmVybGF5RW50aXRpZXNSZWYuY3VycmVudC5mb3JFYWNoKGUgPT4geyB0cnkgeyB2aWV3ZXIuZW50aXRpZXMucmVtb3ZlKGUpOyB9IGNhdGNoIChfKSB7IH0gfSk7XG4gICAgICAgIG92ZXJsYXlFbnRpdGllc1JlZi5jdXJyZW50ID0gW107XG4gICAgICAgIGlmIChwb2ludHMubGVuZ3RoIDwgMikgcmV0dXJuO1xuICAgICAgICBjb25zdCBwb3NpdGlvbnMgPSBwb2ludHMubWFwKHAgPT4gcC5jYXJ0ZXNpYW4pO1xuICAgICAgICBjb25zdCBwb2x5bGluZSA9IHZpZXdlci5lbnRpdGllcy5hZGQoe1xuICAgICAgICAgICAgcG9seWxpbmU6IHtcbiAgICAgICAgICAgICAgICBwb3NpdGlvbnMsXG4gICAgICAgICAgICAgICAgd2lkdGg6IDIsXG4gICAgICAgICAgICAgICAgbWF0ZXJpYWw6IENlc2l1bS5Db2xvci5DWUFOLndpdGhBbHBoYSgwLjgpLFxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgb3ZlcmxheUVudGl0aWVzUmVmLmN1cnJlbnQucHVzaChwb2x5bGluZSk7XG4gICAgICAgIHZpZXdlci5zY2VuZT8ucmVxdWVzdFJlbmRlcigpO1xuICAgIH07XG5cbiAgICBjb25zdCBjb21wdXRlQXJlYSA9IChwb3NpdGlvbnMsIGVsbGlwc29pZCkgPT4ge1xuICAgICAgICBjb25zdCBvcmlnaW4gPSBwb3NpdGlvbnNbMF07XG4gICAgICAgIGNvbnN0IGVudSA9IENlc2l1bS5UcmFuc2Zvcm1zLmVhc3ROb3J0aFVwVG9GaXhlZEZyYW1lKG9yaWdpbiwgZWxsaXBzb2lkKTtcbiAgICAgICAgY29uc3QgaW52ID0gQ2VzaXVtLk1hdHJpeDQuaW52ZXJzZVRyYW5zZm9ybWF0aW9uKGVudSwgbmV3IENlc2l1bS5NYXRyaXg0KCkpO1xuICAgICAgICBjb25zdCBsb2NhbCA9IHBvc2l0aW9ucy5tYXAocCA9PiB7XG4gICAgICAgICAgICBjb25zdCBkaWZmID0gQ2VzaXVtLkNhcnRlc2lhbjMuc3VidHJhY3QocCwgb3JpZ2luLCBuZXcgQ2VzaXVtLkNhcnRlc2lhbjMoKSk7XG4gICAgICAgICAgICByZXR1cm4gQ2VzaXVtLk1hdHJpeDQubXVsdGlwbHlCeVBvaW50QXNWZWN0b3IoaW52LCBkaWZmLCBuZXcgQ2VzaXVtLkNhcnRlc2lhbjMoKSk7XG4gICAgICAgIH0pO1xuICAgICAgICBsZXQgYXJlYSA9IDA7XG4gICAgICAgIGZvciAobGV0IGkgPSAwLCBqID0gbG9jYWwubGVuZ3RoIC0gMTsgaSA8IGxvY2FsLmxlbmd0aDsgaiA9IGkrKykge1xuICAgICAgICAgICAgYXJlYSArPSBsb2NhbFtqXS54ICogbG9jYWxbaV0ueSAtIGxvY2FsW2ldLnggKiBsb2NhbFtqXS55O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBNYXRoLmFicyhhcmVhKSAqIDAuNTtcbiAgICB9O1xuXG4gICAgY29uc3QgZmluYWxpemVBcmVhTWVhc3VyZW1lbnQgPSAodmlld2VyKSA9PiB7XG4gICAgICAgIGNvbnN0IHB0cyA9IG1lYXN1cmVtZW50UG9pbnRzUmVmLmN1cnJlbnQ7XG4gICAgICAgIGlmICghdmlld2VyIHx8IHB0cy5sZW5ndGggPCAzIHx8IGFyZWFMb2NrZWRSZWYuY3VycmVudCkgcmV0dXJuO1xuICAgICAgICBvdmVybGF5RW50aXRpZXNSZWYuY3VycmVudC5mb3JFYWNoKGUgPT4geyB0cnkgeyB2aWV3ZXIuZW50aXRpZXMucmVtb3ZlKGUpOyB9IGNhdGNoIChfKSB7IH0gfSk7XG4gICAgICAgIG92ZXJsYXlFbnRpdGllc1JlZi5jdXJyZW50ID0gW107XG4gICAgICAgIHJlbW92ZVByZXZpZXdFbnRpdGllcyh2aWV3ZXIpO1xuXG4gICAgICAgIGNvbnN0IHBvc2l0aW9ucyA9IHB0cy5tYXAocCA9PiBwLmNhcnRlc2lhbik7XG4gICAgICAgIGlmICghYXJlUG9zaXRpb25zVmFsaWQocG9zaXRpb25zKSkge1xuICAgICAgICAgICAgbWVhc3VyZW1lbnRQb2ludHNSZWYuY3VycmVudCA9IHB0cy5zbGljZSgwLCAxKTtcbiAgICAgICAgICAgIHZpZXdlci5zY2VuZT8ucmVxdWVzdFJlbmRlcigpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHBvbHkgPSB2aWV3ZXIuZW50aXRpZXMuYWRkKHtcbiAgICAgICAgICAgIHBvbHlnb246IHtcbiAgICAgICAgICAgICAgICBoaWVyYXJjaHk6IG5ldyBDZXNpdW0uUG9seWdvbkhpZXJhcmNoeShwb3NpdGlvbnMpLFxuICAgICAgICAgICAgICAgIG1hdGVyaWFsOiBDZXNpdW0uQ29sb3IuWUVMTE9XLndpdGhBbHBoYSgwLjI1KSxcbiAgICAgICAgICAgICAgICBvdXRsaW5lOiB0cnVlLFxuICAgICAgICAgICAgICAgIG91dGxpbmVDb2xvcjogQ2VzaXVtLkNvbG9yLllFTExPVyxcbiAgICAgICAgICAgICAgICBvdXRsaW5lV2lkdGg6IDIsXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBtZWFzdXJlbWVudEVudGl0aWVzUmVmLmN1cnJlbnQucHVzaChwb2x5KTtcbiAgICAgICAgb3ZlcmxheUVudGl0aWVzUmVmLmN1cnJlbnQucHVzaChwb2x5KTtcblxuICAgICAgICBjb25zdCBlbGxpcHNvaWQgPSB2aWV3ZXIuc2NlbmUuZ2xvYmUuZWxsaXBzb2lkO1xuICAgICAgICBjb25zdCBhcmVhU3FtID0gY29tcHV0ZUFyZWEocG9zaXRpb25zLCBlbGxpcHNvaWQpO1xuICAgICAgICBjb25zdCBhcmVhU3FmdCA9IGFyZWFTcW0gKiAxMC43NjM5O1xuICAgICAgICBjb25zdCBjZW50cm9pZCA9IHBvc2l0aW9ucy5yZWR1Y2UoKGFjYywgY3VyKSA9PiBDZXNpdW0uQ2FydGVzaWFuMy5hZGQoYWNjLCBjdXIsIGFjYyksIG5ldyBDZXNpdW0uQ2FydGVzaWFuMygpKTtcbiAgICAgICAgQ2VzaXVtLkNhcnRlc2lhbjMubXVsdGlwbHlCeVNjYWxhcihjZW50cm9pZCwgMSAvIHBvc2l0aW9ucy5sZW5ndGgsIGNlbnRyb2lkKTtcblxuICAgICAgICBjb25zdCBsYWJlbCA9IHZpZXdlci5lbnRpdGllcy5hZGQoe1xuICAgICAgICAgICAgcG9zaXRpb246IGNlbnRyb2lkLFxuICAgICAgICAgICAgbGFiZWw6IHtcbiAgICAgICAgICAgICAgICB0ZXh0OiBgJHthcmVhU3FtLnRvRml4ZWQoMil9IG3CsiAvICR7YXJlYVNxZnQudG9GaXhlZCgyKX0gZnTCsmAsXG4gICAgICAgICAgICAgICAgZm9udDogJzIwcHggYm9sZCBcIkFyaWFsXCIsIHNhbnMtc2VyaWYnLFxuICAgICAgICAgICAgICAgIGZpbGxDb2xvcjogQ2VzaXVtLkNvbG9yLllFTExPVyxcbiAgICAgICAgICAgICAgICBvdXRsaW5lQ29sb3I6IENlc2l1bS5Db2xvci5CTEFDSyxcbiAgICAgICAgICAgICAgICBvdXRsaW5lV2lkdGg6IDQsXG4gICAgICAgICAgICAgICAgc3R5bGU6IENlc2l1bS5MYWJlbFN0eWxlLkZJTExfQU5EX09VVExJTkUsXG4gICAgICAgICAgICAgICAgdmVydGljYWxPcmlnaW46IENlc2l1bS5WZXJ0aWNhbE9yaWdpbi5DRU5URVIsXG4gICAgICAgICAgICAgICAgaG9yaXpvbnRhbE9yaWdpbjogQ2VzaXVtLkhvcml6b250YWxPcmlnaW4uQ0VOVEVSLFxuICAgICAgICAgICAgICAgIHBpeGVsT2Zmc2V0OiBuZXcgQ2VzaXVtLkNhcnRlc2lhbjIoMCwgLTIwKSxcbiAgICAgICAgICAgICAgICBkaXNhYmxlRGVwdGhUZXN0RGlzdGFuY2U6IE51bWJlci5QT1NJVElWRV9JTkZJTklUWSxcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIG1lYXN1cmVtZW50RW50aXRpZXNSZWYuY3VycmVudC5wdXNoKGxhYmVsKTtcbiAgICAgICAgb3ZlcmxheUVudGl0aWVzUmVmLmN1cnJlbnQucHVzaChsYWJlbCk7XG5cbiAgICAgICAgYXJlYUxvY2tlZFJlZi5jdXJyZW50ID0gdHJ1ZTtcbiAgICAgICAgbWVhc3VyZW1lbnRNb2RlUmVmLmN1cnJlbnQgPSAnbm9uZSc7XG4gICAgICAgIHNldE1lYXN1cmVtZW50TW9kZSgnbm9uZScpO1xuICAgICAgICB2aWV3ZXIuc2NlbmU/LnJlcXVlc3RSZW5kZXIoKTtcbiAgICB9O1xuXG4gICAgY29uc3QgdXBkYXRlUHJldmlld0xpbmUgPSAodmlld2VyLCBjdXJzb3JDYXJ0ZXNpYW4pID0+IHtcbiAgICAgICAgaWYgKCF2aWV3ZXIpIHJldHVybjtcbiAgICAgICAgaWYgKGFyZWFMb2NrZWRSZWYuY3VycmVudCkge1xuICAgICAgICAgICAgcmVtb3ZlUHJldmlld0VudGl0aWVzKHZpZXdlcik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbW9kZSA9IG1lYXN1cmVtZW50TW9kZVJlZi5jdXJyZW50O1xuICAgICAgICBjb25zdCBwdHMgPSBtZWFzdXJlbWVudFBvaW50c1JlZi5jdXJyZW50O1xuICAgICAgICBpZiAobW9kZSAhPT0gJ2Rpc3RhbmNlJyB8fCBwdHMubGVuZ3RoICE9PSAxKSB7XG4gICAgICAgICAgICByZW1vdmVQcmV2aWV3RW50aXRpZXModmlld2VyKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWN1cnNvckNhcnRlc2lhbikge1xuICAgICAgICAgICAgcmVtb3ZlUHJldmlld0VudGl0aWVzKHZpZXdlcik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBmaXJzdCA9IHB0c1swXS5jYXJ0ZXNpYW47XG4gICAgICAgIHJlbW92ZVByZXZpZXdFbnRpdGllcyh2aWV3ZXIpO1xuXG4gICAgICAgIHByZXZpZXdMaW5lRW50aXR5UmVmLmN1cnJlbnQgPSB2aWV3ZXIuZW50aXRpZXMuYWRkKHtcbiAgICAgICAgICAgIHBvbHlsaW5lOiB7XG4gICAgICAgICAgICAgICAgcG9zaXRpb25zOiBbZmlyc3QsIGN1cnNvckNhcnRlc2lhbl0sXG4gICAgICAgICAgICAgICAgd2lkdGg6IDMsXG4gICAgICAgICAgICAgICAgbWF0ZXJpYWw6IENlc2l1bS5Db2xvci5ZRUxMT1cud2l0aEFscGhhKDAuOCksXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNvbnN0IGVsbGlwc29pZCA9IHZpZXdlci5zY2VuZS5nbG9iZS5lbGxpcHNvaWQ7XG4gICAgICAgIGNvbnN0IGMxID0gZWxsaXBzb2lkLmNhcnRlc2lhblRvQ2FydG9ncmFwaGljKGZpcnN0KTtcbiAgICAgICAgY29uc3QgYzIgPSBlbGxpcHNvaWQuY2FydGVzaWFuVG9DYXJ0b2dyYXBoaWMoY3Vyc29yQ2FydGVzaWFuKTtcbiAgICAgICAgY29uc3QgZ2VvZGVzaWMgPSBuZXcgQ2VzaXVtLkVsbGlwc29pZEdlb2Rlc2ljKGMxLCBjMik7XG4gICAgICAgIGNvbnN0IGRpc3RhbmNlTWV0ZXJzID0gZ2VvZGVzaWMuc3VyZmFjZURpc3RhbmNlO1xuICAgICAgICBjb25zdCBkaXN0YW5jZUZlZXQgPSBkaXN0YW5jZU1ldGVycyAqIDMuMjgwODQ7XG4gICAgICAgIGNvbnN0IHRleHQgPSBgJHtkaXN0YW5jZU1ldGVycy50b0ZpeGVkKDIpfSBtIC8gJHtkaXN0YW5jZUZlZXQudG9GaXhlZCgyKX0gZnRgO1xuXG4gICAgICAgIGNvbnN0IG1pZCA9IENlc2l1bS5DYXJ0ZXNpYW4zLmxlcnAoZmlyc3QsIGN1cnNvckNhcnRlc2lhbiwgMC41LCBuZXcgQ2VzaXVtLkNhcnRlc2lhbjMoKSk7XG4gICAgICAgIHByZXZpZXdMYWJlbEVudGl0eVJlZi5jdXJyZW50ID0gdmlld2VyLmVudGl0aWVzLmFkZCh7XG4gICAgICAgICAgICBwb3NpdGlvbjogbWlkLFxuICAgICAgICAgICAgbGFiZWw6IHtcbiAgICAgICAgICAgICAgICB0ZXh0LFxuICAgICAgICAgICAgICAgIGZvbnQ6ICcyMHB4IGJvbGQgXFxcIkFyaWFsXFxcIiwgc2Fucy1zZXJpZicsXG4gICAgICAgICAgICAgICAgZmlsbENvbG9yOiBDZXNpdW0uQ29sb3IuWUVMTE9XLFxuICAgICAgICAgICAgICAgIG91dGxpbmVDb2xvcjogQ2VzaXVtLkNvbG9yLkJMQUNLLFxuICAgICAgICAgICAgICAgIG91dGxpbmVXaWR0aDogNCxcbiAgICAgICAgICAgICAgICBzdHlsZTogQ2VzaXVtLkxhYmVsU3R5bGUuRklMTF9BTkRfT1VUTElORSxcbiAgICAgICAgICAgICAgICB2ZXJ0aWNhbE9yaWdpbjogQ2VzaXVtLlZlcnRpY2FsT3JpZ2luLkNFTlRFUixcbiAgICAgICAgICAgICAgICBwaXhlbE9mZnNldDogbmV3IENlc2l1bS5DYXJ0ZXNpYW4yKDAsIC0yNSksXG4gICAgICAgICAgICAgICAgZGlzYWJsZURlcHRoVGVzdERpc3RhbmNlOiBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFksXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICB2aWV3ZXIuc2NlbmU/LnJlcXVlc3RSZW5kZXIoKTtcbiAgICB9O1xuXG4gICAgY29uc3QgYWRkTWVhc3VyZW1lbnRQb2ludCA9ICh2aWV3ZXIsIGNhcnRlc2lhbikgPT4ge1xuICAgICAgICBpZiAoIXZpZXdlciB8fCAhY2FydGVzaWFuKSByZXR1cm47XG4gICAgICAgIGlmIChhcmVhTG9ja2VkUmVmLmN1cnJlbnQpIHJldHVybjtcbiAgICAgICAgY29uc3QgbW9kZSA9IG1lYXN1cmVtZW50TW9kZVJlZi5jdXJyZW50O1xuICAgICAgICBpZiAobW9kZSA9PT0gJ25vbmUnKSByZXR1cm47XG5cbiAgICAgICAgY29uc3QgbmV3UG9pbnQgPSB7IGlkOiB1dWlkdjQoKSwgY2FydGVzaWFuIH07XG4gICAgICAgIGNvbnN0IG5ld1BvaW50cyA9IFsuLi5tZWFzdXJlbWVudFBvaW50c1JlZi5jdXJyZW50LCBuZXdQb2ludF07XG4gICAgICAgIG1lYXN1cmVtZW50UG9pbnRzUmVmLmN1cnJlbnQgPSBuZXdQb2ludHM7XG5cbiAgICAgICAgY29uc3QgcG9pbnRFbnRpdHkgPSB2aWV3ZXIuZW50aXRpZXMuYWRkKHtcbiAgICAgICAgICAgIHBvc2l0aW9uOiBjYXJ0ZXNpYW4sXG4gICAgICAgICAgICBwb2ludDoge1xuICAgICAgICAgICAgICAgIHBpeGVsU2l6ZTogMTIsXG4gICAgICAgICAgICAgICAgY29sb3I6IENlc2l1bS5Db2xvci5XSElURSxcbiAgICAgICAgICAgICAgICBvdXRsaW5lQ29sb3I6IENlc2l1bS5Db2xvci5DWUFOLFxuICAgICAgICAgICAgICAgIG91dGxpbmVXaWR0aDogMyxcbiAgICAgICAgICAgICAgICBoZWlnaHRSZWZlcmVuY2U6IENlc2l1bS5IZWlnaHRSZWZlcmVuY2UuQ0xBTVBfVE9fR1JPVU5ELFxuICAgICAgICAgICAgICAgIGRpc2FibGVEZXB0aFRlc3REaXN0YW5jZTogTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZLFxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgbWVhc3VyZW1lbnRFbnRpdGllc1JlZi5jdXJyZW50LnB1c2gocG9pbnRFbnRpdHkpO1xuXG4gICAgICAgIGlmIChtb2RlID09PSAnZGlzdGFuY2UnICYmIG5ld1BvaW50cy5sZW5ndGggPT09IDIpIHtcbiAgICAgICAgICAgIHJlbW92ZVByZXZpZXdFbnRpdGllcyh2aWV3ZXIpO1xuICAgICAgICAgICAgZHJhd0Rpc3RhbmNlKHZpZXdlciwgbmV3UG9pbnRzKTtcbiAgICAgICAgfSBlbHNlIGlmIChtb2RlID09PSAnYXJlYScgJiYgbmV3UG9pbnRzLmxlbmd0aCA+PSAyKSB7XG4gICAgICAgICAgICBkcmF3QXJlYVByZXZpZXcodmlld2VyLCBuZXdQb2ludHMpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IGhhbmRsZU1lYXN1cmVDaGFuZ2UgPSAobW9kZSkgPT4ge1xuICAgICAgICBpZiAobW9kZSA9PT0gJ2NsZWFyJykge1xuICAgICAgICAgICAgZnJDbGVhck1lYXN1cmVtZW50cygpO1xuICAgICAgICAgICAgc2V0TWVhc3VyZW1lbnRNb2RlKCdub25lJyk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgZnJTdGFydE1lYXN1cmVtZW50KG1vZGUpO1xuICAgICAgICBzZXRNZWFzdXJlbWVudE1vZGUobW9kZSk7XG4gICAgfTtcblxuICAgIGlmIChtYXBFcnJvcikgcmV0dXJuIDxkaXYgc3R5bGU9e3sgY29sb3I6ICd3aGl0ZScsIHBhZGRpbmc6IDIwIH19PkVycm9yOiB7bWFwRXJyb3J9PC9kaXY+O1xuXG4gICAgcmV0dXJuIChcbiAgICAgICAgPD5cbiAgICAgICAgICAgIDxTY3JpcHQgc3JjPVwiaHR0cHM6Ly9jZG5qcy5jbG91ZGZsYXJlLmNvbS9hamF4L2xpYnMvY2VzaXVtLzEuMTI2LjAvQ2VzaXVtLmpzXCIgb25Mb2FkPXsoKSA9PiBzZXRDZXNpdW1Mb2FkZWQodHJ1ZSl9IC8+XG4gICAgICAgICAgICA8VG9wTWVudUJhclxuICAgICAgICAgICAgICAgIG9uQ29tcHV0ZVBhdGg9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgb3BlblR1cm5EaWFsb2coKTtcbiAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgIG9uTWFuYWdlUHJvZmlsZXM9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdmFsID0gd2luZG93LnByb21wdCgnRW50ZXIgUm9hZCBJRCB0byB2aWV3IHByb2ZpbGUnKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbCAmJiB2YWwudHJpbSgpLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldFNlbGVjdGVkUm9hZElkKHZhbC50cmltKCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0U2hvd1Byb2ZpbGVWaWV3ZXIodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgIG9uTWVhc3VyZURpc3RhbmNlPXsoKSA9PiBoYW5kbGVNZWFzdXJlQ2hhbmdlKCdkaXN0YW5jZScpfVxuICAgICAgICAgICAgICAgIG9uTWVhc3VyZUFyZWE9eygpID0+IGhhbmRsZU1lYXN1cmVDaGFuZ2UoJ2FyZWEnKX1cbiAgICAgICAgICAgICAgICBjdXJyZW50QmFzZUxheWVyPXtiYXNlTGF5ZXJ9XG4gICAgICAgICAgICAgICAgb25DaGFuZ2VCYXNlTGF5ZXI9e3NldEJhc2VMYXllcn1cbiAgICAgICAgICAgICAgICBjdXJyZW50U2NlbmVNb2RlPXtzY2VuZU1vZGV9XG4gICAgICAgICAgICAgICAgb25DaGFuZ2VTY2VuZU1vZGU9e3NldFNjZW5lTW9kZX1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgICB7dHVybkRpYWxvZ09wZW4gJiYgKFxuICAgICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgICAgIDxUdXJuUGF0aFN0YXR1c0Jhbm5lclxuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFN0ZXA9e3R1cm5DdXJyZW50U3RlcH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkU291cmNlUm9hZD17dHVyblNvdXJjZVJvYWR9XG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZERlc3RpbmF0aW9uUm9hZD17dHVybkRlc3RSb2FkfVxuICAgICAgICAgICAgICAgICAgICAgICAgb25DYW5jZWw9e2Nsb3NlVHVybkRpYWxvZ31cbiAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgPFR1cm5QYXRoRGlhbG9nXG4gICAgICAgICAgICAgICAgICAgICAgICBpc09wZW49e3R1cm5EaWFsb2dPcGVufVxuICAgICAgICAgICAgICAgICAgICAgICAgb25DbG9zZT17Y2xvc2VUdXJuRGlhbG9nfVxuICAgICAgICAgICAgICAgICAgICAgICAgb25TdGFydFNlbGVjdGlvbj17KGNvbmZpZykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0VHVyblNlbGVjdGlvbihjb25maWcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgIHZlaGljbGVQcm9maWxlcz17e319XG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50U3RlcD17dHVybkN1cnJlbnRTdGVwfVxuICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgcG9zaXRpb246ICdmaXhlZCcsIHRvcDogNDAsIGxlZnQ6IDAsIHJpZ2h0OiAwLCBib3R0b206IDAsIG92ZXJmbG93OiAnaGlkZGVuJywgYmFja2dyb3VuZDogJyMwMDAnIH19PlxuICAgICAgICAgICAgICAgIDxkaXYgcmVmPXttYXBDb250YWluZXJ9IHN0eWxlPXt7IHBvc2l0aW9uOiAnYWJzb2x1dGUnLCBpbnNldDogMCwgYmFja2dyb3VuZDogJyMxYTFhMmUnIH19IC8+XG5cbiAgICAgICAgICAgICAgICB7LyogU2lkZWJhciAtIFJpZ2h0IFNpZGUgKi99XG4gICAgICAgICAgICAgICAgey8qIFNpZGViYXIgKGNvcHkgc3R5bGluZyBmcm9tIEZyb250cnVubmVyIGxlZ2VuZCkgKi99XG4gICAgICAgICAgICAgICAgPGRpdiBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiAnbm9uZScsXG4gICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLCB0b3A6IDIwLCByaWdodDogMjAsIHdpZHRoOiAzMDAsXG4gICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogJ3JnYmEoNDAsIDQwLCA0MCwgMC43NSknLFxuICAgICAgICAgICAgICAgICAgICBib3JkZXI6ICcxcHggc29saWQgcmdiYSgxMjAsIDEyMCwgMTIwLCAwLjYpJyxcbiAgICAgICAgICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiAnOHB4JyxcbiAgICAgICAgICAgICAgICAgICAgYm94U2hhZG93OiAnMCA0cHggMjBweCByZ2JhKDAsIDAsIDAsIDAuNCknLFxuICAgICAgICAgICAgICAgICAgICBiYWNrZHJvcEZpbHRlcjogJ2JsdXIoMTVweCknLFxuICAgICAgICAgICAgICAgICAgICB6SW5kZXg6IDEwMDAsXG4gICAgICAgICAgICAgICAgICAgIGZvbnRGYW1pbHk6IGAnSW50ZXInLCdTZWdvZSBVSScsQXJpYWwsc2Fucy1zZXJpZmAsXG4gICAgICAgICAgICAgICAgICAgIG92ZXJmbG93OiAnaGlkZGVuJ1xuICAgICAgICAgICAgICAgIH19PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICdyZ2JhKDMwLCAzMCwgMzAsIDAuOCknLFxuICAgICAgICAgICAgICAgICAgICAgICAgcGFkZGluZzogJzEycHggMTZweCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBib3JkZXJSYWRpdXM6ICc4cHggOHB4IDAgMCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiAnZmxleCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBhbGlnbkl0ZW1zOiAnY2VudGVyJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGp1c3RpZnlDb250ZW50OiAnc3BhY2UtYmV0d2VlbidcbiAgICAgICAgICAgICAgICAgICAgfX0+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IGRpc3BsYXk6ICdmbGV4JywgYWxpZ25JdGVtczogJ2NlbnRlcicsIGdhcDogJzEwcHgnIH19PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6ICcyMHB4JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiAnMjBweCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogJyMzNDk4ZGInLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib3JkZXJSYWRpdXM6ICc0cHgnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiAnZmxleCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsaWduSXRlbXM6ICdjZW50ZXInLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBqdXN0aWZ5Q29udGVudDogJ2NlbnRlcidcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBzdHlsZT17eyBjb2xvcjogJ3doaXRlJywgZm9udFdlaWdodDogJzYwMCcsIGZvbnRTaXplOiAnMTRweCcgfX0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERpc3BhdGNoIE1hcFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBkaXNwbGF5OiAnZmxleCcsIGFsaWduSXRlbXM6ICdjZW50ZXInLCBnYXA6ICc4cHgnIH19PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogJ3JnYmEoNTIsIDE1MiwgMjE5LCAwLjMpJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlcjogJzFweCBzb2xpZCByZ2JhKDUyLCAxNTIsIDIxOSwgMC41KScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib3JkZXJSYWRpdXM6ICc0cHgnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6ICcjMzQ5OGRiJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnNvcjogJ3BvaW50ZXInLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFkZGluZzogJzRweCA4cHgnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9udFNpemU6ICcxMnB4JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvbnRXZWlnaHQ6ICc1MDAnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogJ2ZsZXgnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxpZ25JdGVtczogJ2NlbnRlcicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBnYXA6ICc0cHgnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNpdGlvbjogJ2FsbCAwLjJzJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXtyZWNlbnRlclZpZXd9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uTW91c2VFbnRlcj17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUudGFyZ2V0LnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICdyZ2JhKDUyLCAxNTIsIDIxOSwgMC41KSc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uTW91c2VMZWF2ZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUudGFyZ2V0LnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICdyZ2JhKDUyLCAxNTIsIDIxOSwgMC4zKSc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlPVwiUmVjZW50ZXIgbWFwIG9uIGN1cnJlbnQgZGF0YVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3ZnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWR0aD1cIjE2XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodD1cIjE2XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZpZXdCb3g9XCIwIDAgMTYgMTZcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgZGlzcGxheTogJ2lubGluZS1ibG9jaycsIHZlcnRpY2FsQWxpZ246ICdtaWRkbGUnIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxjaXJjbGUgY3g9XCI4XCIgY3k9XCI4XCIgcj1cIjcuNVwiIGZpbGw9XCIjMDAwXCIgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxjaXJjbGUgY3g9XCI4XCIgY3k9XCI4XCIgcj1cIjZcIiBmaWxsPVwibm9uZVwiIHN0cm9rZT1cIiNDQzU1MDBcIiBzdHJva2VXaWR0aD1cIjEuNVwiIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Y2lyY2xlIGN4PVwiOFwiIGN5PVwiOFwiIHI9XCIzXCIgZmlsbD1cIiNDQzU1MDBcIiAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHJlY3QgeD1cIjdcIiB5PVwiMFwiIHdpZHRoPVwiMlwiIGhlaWdodD1cIjNcIiBmaWxsPVwiI0NDNTUwMFwiIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cmVjdCB4PVwiN1wiIHk9XCIxM1wiIHdpZHRoPVwiMlwiIGhlaWdodD1cIjNcIiBmaWxsPVwiI0NDNTUwMFwiIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cmVjdCB4PVwiMFwiIHk9XCI3XCIgd2lkdGg9XCIzXCIgaGVpZ2h0PVwiMlwiIGZpbGw9XCIjQ0M1NTAwXCIgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxyZWN0IHg9XCIxM1wiIHk9XCI3XCIgd2lkdGg9XCIzXCIgaGVpZ2h0PVwiMlwiIGZpbGw9XCIjQ0M1NTAwXCIgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zdmc+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6ICd3aGl0ZScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb250U2l6ZTogJzE2cHgnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3Vyc29yOiAncG9pbnRlcicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOiAnNHB4JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zaXRpb246ICd0cmFuc2Zvcm0gMC4ycydcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIOKWvFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6ICcxMnB4JyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlckJvdHRvbTogJzFweCBzb2xpZCByZ2JhKDEyMCwgMTIwLCAxMjAsIDAuMyknLFxuICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiAncmdiYSg1MiwgMTUyLCAyMTksIDAuMSknXG4gICAgICAgICAgICAgICAgICAgIH19PlxuICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogJ2Jsb2NrJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXJnaW5Cb3R0b206ICc2cHgnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvbnRTaXplOiAnMTFweCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6ICcjYmRjM2M3JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb250V2VpZ2h0OiAnNjAwJ1xuICAgICAgICAgICAgICAgICAgICAgICAgfX0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgQmFzZSBMYXllclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxzZWxlY3RcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17YmFzZUxheWVyfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0QmFzZUxheWVyKGUudGFyZ2V0LnZhbHVlKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogJzEwMCUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOiAnNnB4IDhweCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogJ3JnYmEoNDAsIDQwLCA0MCwgMC45KScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiAnd2hpdGUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib3JkZXI6ICcxcHggc29saWQgcmdiYSgxMjAsIDEyMCwgMTIwLCAwLjQpJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiAnNHB4JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9udFNpemU6ICcxMnB4JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3Vyc29yOiAncG9pbnRlcicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG91dGxpbmU6ICdub25lJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cIm5pZ2h0XCI+TmlnaHQgTW9kZSAoRGFyayk8L29wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwiZGF5XCI+RGF5IE1vZGUgKFNhdGVsbGl0ZSk8L29wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwidG9wb2dyYXBoaWNcIj5Ub3BvZ3JhcGhpYzwvb3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJ0ZXJyYWluXCI+VGVycmFpbjwvb3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9zZWxlY3Q+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgICAgICAgIHsvKiBTZWN0aW9ucyAqL31cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICAgICAgcGFkZGluZzogJzEycHgnLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6ICd3aGl0ZScsXG4gICAgICAgICAgICAgICAgICAgICAgICBmb250U2l6ZTogJzEycHgnLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWF4SGVpZ2h0OiAnMzIwcHgnLFxuICAgICAgICAgICAgICAgICAgICAgICAgb3ZlcmZsb3dZOiAnYXV0bycsXG4gICAgICAgICAgICAgICAgICAgICAgICBvdmVyZmxvd1g6ICdoaWRkZW4nLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2Nyb2xsYmFyV2lkdGg6ICd0aGluJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNjcm9sbGJhckNvbG9yOiAncmdiYSgxMjAsIDEyMCwgMTIwLCAwLjYpIHJnYmEoNDAsIDQwLCA0MCwgMC4zKSdcbiAgICAgICAgICAgICAgICAgICAgfX0+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIHsvKiBDbG9zZSBtYXAgd3JhcHBlciAqL31cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgey8qIEVudGl0eSBJbmZvcm1hdGlvbiBEaWFsb2cgKi99XG4gICAgICAgICAgICB7ZGlhbG9nT3BlbiAmJiBkaWFsb2dEYXRhICYmIChcbiAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogJ2ZpeGVkJywgdG9wOiAwLCBsZWZ0OiAwLCByaWdodDogMCwgYm90dG9tOiAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiAncmdiYSgwLCAwLCAwLCAwLjcpJywgZGlzcGxheTogJ2ZsZXgnLFxuICAgICAgICAgICAgICAgICAgICAgICAgYWxpZ25JdGVtczogJ2NlbnRlcicsIGp1c3RpZnlDb250ZW50OiAnY2VudGVyJywgekluZGV4OiAxMDAwMCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tkcm9wRmlsdGVyOiAnYmx1cig1cHgpJ1xuICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7IHNldERpYWxvZ09wZW4oZmFsc2UpOyBzZXREaWFsb2dEYXRhKG51bGwpOyB9fVxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICcjMWUxZTFlJywgYm9yZGVyUmFkaXVzOiAnOHB4JywgcGFkZGluZzogJzE2cHgnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1heFdpZHRoOiAnNjAwcHgnLCBtYXhIZWlnaHQ6ICc3MHZoJywgd2lkdGg6ICc4NSUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJveFNoYWRvdzogJzAgOHB4IDMycHggcmdiYSgwLCAwLCAwLCAwLjUpJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBib3JkZXI6ICcxcHggc29saWQgcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjEpJywgb3ZlcmZsb3c6ICdoaWRkZW4nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6ICdmbGV4JywgZmxleERpcmVjdGlvbjogJ2NvbHVtbidcbiAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoZSkgPT4gZS5zdG9wUHJvcGFnYXRpb24oKX1cbiAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgey8qIEhlYWRlciAqL31cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiAnZmxleCcsIGp1c3RpZnlDb250ZW50OiAnc3BhY2UtYmV0d2VlbicsIGFsaWduSXRlbXM6ICdjZW50ZXInLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hcmdpbkJvdHRvbTogJzEycHgnLCBwYWRkaW5nQm90dG9tOiAnMTBweCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9yZGVyQm90dG9tOiAnMXB4IHNvbGlkIHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4yKSdcbiAgICAgICAgICAgICAgICAgICAgICAgIH19PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMiBzdHlsZT17eyBjb2xvcjogJyNmZmYnLCBtYXJnaW46IDAsIGZvbnRTaXplOiAnMTZweCcsIGZvbnRXZWlnaHQ6ICc2MDAnIH19PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RpYWxvZ0RhdGEuY2F0ZWdvcnkgPT09ICdpbnRlcnNlY3Rpb24nID8gJ/CfmqYnIDogJ/Cfk40nfSB7ZGlhbG9nRGF0YS5uYW1lfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2gyPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBzdHlsZT17eyBjb2xvcjogJyNiZGMzYzcnLCBtYXJnaW46ICcycHggMCAwIDAnLCBmb250U2l6ZTogJzExcHgnLCB0ZXh0VHJhbnNmb3JtOiAnY2FwaXRhbGl6ZScgfX0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Z2V0Q2F0ZWdvcnlEaXNwbGF5TmFtZShkaWFsb2dEYXRhLmNhdGVnb3J5KX0gSW5mb3JtYXRpb25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4geyBzZXREaWFsb2dPcGVuKGZhbHNlKTsgc2V0RGlhbG9nRGF0YShudWxsKTsgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6ICdyZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMSknLCBib3JkZXI6ICcxcHggc29saWQgcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjIpJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlclJhZGl1czogJzRweCcsIGNvbG9yOiAnI2ZmZicsIGN1cnNvcjogJ3BvaW50ZXInLCBwYWRkaW5nOiAnNnB4IDEycHgnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9udFNpemU6ICcxMnB4JywgZm9udFdlaWdodDogJzUwMCdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIOKclVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHsvKiBDb250ZW50ICovfVxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBvdmVyZmxvd1k6ICdhdXRvJywgZmxleDogMSwgcGFkZGluZ1JpZ2h0OiAnNnB4JyB9fT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7LyogU2hvdyBWaWV3IFByb2ZpbGUgYnV0dG9uIGZvciByb2FkIHNlZ21lbnRzICovfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkaWFsb2dEYXRhLmNhdGVnb3J5ID09PSAnZGlzcGF0Y2hfc2VnbWVudCcgJiYgZGlhbG9nRGF0YS5hbGxQcm9wZXJ0aWVzLnJvYWRfaWQgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IG1hcmdpbkJvdHRvbTogJzE2cHgnLCBwYWRkaW5nOiAnMTJweCcsIGJhY2tncm91bmRDb2xvcjogJ3JnYmEoNTIsIDE1MiwgMjE5LCAwLjEpJywgYm9yZGVyUmFkaXVzOiAnNnB4JywgYm9yZGVyOiAnMXB4IHNvbGlkIHJnYmEoNTIsIDE1MiwgMjE5LCAwLjMpJyB9fT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldERpYWxvZ09wZW4oZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRTZWxlY3RlZFJvYWRJZChkaWFsb2dEYXRhLmFsbFByb3BlcnRpZXMucm9hZF9pZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFNob3dQcm9maWxlVmlld2VyKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6ICcxMDAlJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZDogJyM0RUNEQzQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogJ3doaXRlJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9yZGVyOiAnbm9uZScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6ICcxMnB4JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiAnNnB4JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3Vyc29yOiAncG9pbnRlcicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvbnRXZWlnaHQ6ICdib2xkJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9udFNpemU6ICcxNHB4JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogJ2ZsZXgnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGlnbkl0ZW1zOiAnY2VudGVyJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAganVzdGlmeUNvbnRlbnQ6ICdjZW50ZXInLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBnYXA6ICc4cHgnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDwn5OKIFZpZXcgUHJvZmlsZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBkaXNwbGF5OiAnZ3JpZCcsIGdyaWRUZW1wbGF0ZUNvbHVtbnM6ICdyZXBlYXQoYXV0by1maXQsIG1pbm1heCgyMDBweCwgMWZyKSknLCBnYXA6ICc4cHgnIH19PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7T2JqZWN0LmVudHJpZXMoZGlhbG9nRGF0YS5hbGxQcm9wZXJ0aWVzKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmZpbHRlcigoW2tleV0pID0+ICFbJ2xpbmVzdHJpbmcnLCAncG9seWdvbicsICdnZW9tZXRyeScsICdnZW9tZXRyeV8zZCcsICdwcm9wZXJ0eU5hbWVzJywgJ2RlZmluaXRpb25DaGFuZ2VkJywgJ19saXN0ZW5lcnMnLCAnY29sb3InLCAnc3R5bGVfcm9sZSddLmluY2x1ZGVzKGtleSkgJiYgIWtleS5zdGFydHNXaXRoKCdfJykpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAubWFwKChba2V5LCB2YWx1ZV0pID0+IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGtleT17a2V5fSBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICdyZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMDUpJywgcGFkZGluZzogJzhweCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlclJhZGl1czogJzZweCcsIGJvcmRlcjogJzFweCBzb2xpZCByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMSknXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgY29sb3I6ICcjYmRjM2M3JywgZm9udFNpemU6ICcxMHB4JywgZm9udFdlaWdodDogJzYwMCcsIHRleHRUcmFuc2Zvcm06ICd1cHBlcmNhc2UnLCBtYXJnaW5Cb3R0b206ICc0cHgnIH19PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2tleS5yZXBsYWNlKC9fL2csICcgJyl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IGNvbG9yOiAnI2ZmZicsIGZvbnRTaXplOiAnMTJweCcsIHdvcmRCcmVhazogJ2JyZWFrLXdvcmQnLCBmb250RmFtaWx5OiAnbW9ub3NwYWNlJywgd2hpdGVTcGFjZTogJ3ByZS13cmFwJyB9fT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtTdHJpbmcodmFsdWUpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIHtzaG93UHJvZmlsZVZpZXdlciAmJiBzZWxlY3RlZFJvYWRJZCAmJiAoXG4gICAgICAgICAgICAgICAgPFJvYWRQcm9maWxlVmlld2VyXG4gICAgICAgICAgICAgICAgICAgIHJvYWRJZD17c2VsZWN0ZWRSb2FkSWR9XG4gICAgICAgICAgICAgICAgICAgIG9uQ2xvc2U9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldFNob3dQcm9maWxlVmlld2VyKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldFNlbGVjdGVkUm9hZElkKG51bGwpO1xuICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICApfVxuICAgICAgICAgICAgPHN0eWxlIGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MPXt7XG4gICAgICAgICAgICAgICAgX19odG1sOiBgXG4gICAgICAgICAgICAgICAgLmNlc2l1bS12aWV3ZXItYm90dG9tLCAuY2VzaXVtLXZpZXdlci1jZXNpdW1XaWRnZXRDb250YWluZXIgLmNlc2l1bS13aWRnZXQtY3JlZGl0cyxcbiAgICAgICAgICAgICAgICAuY2VzaXVtLXZpZXdlci1jZXNpdW1Mb2dvQ29udGFpbmVyLCAuY2VzaXVtLWNyZWRpdC1sb2dvQ29udGFpbmVyLCAuY2VzaXVtLWNyZWRpdC1leHBhbmQtbGluayxcbiAgICAgICAgICAgICAgICAuY2VzaXVtLXZpZXdlci1jcmVkaXRUZXh0Q29udGFpbmVyIHsgZGlzcGxheTogbm9uZSAhaW1wb3J0YW50OyB9XG4gICAgICAgICAgICAgICAgYVtocmVmKj1cImNlc2l1bS5jb21cIl0sIGFbaHJlZio9XCJjZXNpdW1pb24uY29tXCJdIHsgZGlzcGxheTogbm9uZSAhaW1wb3J0YW50OyB9XG4gICAgICAgICAgICAgICAgLmNlc2l1bS13aWRnZXQtY3JlZGl0cyB7IGRpc3BsYXk6IG5vbmUgIWltcG9ydGFudDsgfVxuICAgICAgICAgICAgYH19IC8+XG4gICAgICAgIDwvPlxuICAgICk7XG59XG5cbiJdLCJuYW1lcyI6WyJSZWFjdCIsInVzZVN0YXRlIiwidXNlRWZmZWN0IiwidXNlUmVmIiwidXNlTWVtbyIsIlNjcmlwdCIsInJhbmRvbVVVSUQiLCJ1dWlkdjQiLCJUb3BNZW51QmFyIiwiVHVyblBhdGhEaWFsb2ciLCJUdXJuUGF0aFN0YXR1c0Jhbm5lciIsInVzZVR1cm5QYXRoTWFuYWdlciIsInVzZU1lYXN1cmVtZW50VG9vbCIsIlJvYWRQcm9maWxlVmlld2VyIiwiRElTUEFUQ0hfTE9DQVRJT05fQ09MT1JfTUFQIiwiU1FVQVJFX1RZUEVTIiwiU2V0IiwiREVGQVVMVF9ISURERU5fTE9DQVRJT05fVFlQRVMiLCJyZXNvbHZlRGlzcGF0Y2hMb2NhdGlvblR5cGUiLCJsb2NhdGlvbiIsInJhd1ZhbHVlIiwidW5pdF90eXBlIiwibG9jYXRpb25fY2F0ZWdvcnkiLCJ1bml0X3R5cGVfaWQiLCJjYXRlZ29yeSIsInNvdXJjZSIsInRyaW1tZWQiLCJ0cmltIiwibGVuZ3RoIiwiZ2V0RGlzcGF0Y2hMb2NhdGlvbkNvbG9yIiwibG9jYXRpb25UeXBlIiwiZGVmYXVsdCIsInRvTG93ZXJDYXNlIiwicmluZ0FyZWEyRCIsImNvb3JkcyIsIkFycmF5IiwiaXNBcnJheSIsImFyZWEiLCJuIiwiaSIsIngxIiwieTEiLCJ4MiIsInkyIiwiTWF0aCIsImFicyIsInBhcnNlUG9seWdvbkhpZXJhcmNoeSIsImdlb2pzb24iLCJ3aW5kb3ciLCJDZXNpdW0iLCJnaiIsIkpTT04iLCJwYXJzZSIsImNvb3JkaW5hdGVzIiwicmluZ3MiLCJ0eXBlIiwib3V0ZXIiLCJmaWx0ZXIiLCJjIiwiTnVtYmVyIiwiaXNGaW5pdGUiLCJmeCIsImZ5IiwibHgiLCJseSIsInNsaWNlIiwiY2xlYW5lZCIsImN1ciIsInB1c2giLCJhcmVhMkQiLCJwb3NpdGlvbnMiLCJDYXJ0ZXNpYW4zIiwiZnJvbURlZ3JlZXNBcnJheSIsImZsYXQiLCJtaW5YIiwiSW5maW5pdHkiLCJtYXhYIiwibWluWSIsIm1heFkiLCJtaW5aIiwibWF4WiIsInAiLCJ4IiwieSIsInoiLCJzcGFuIiwibWF4IiwiUG9seWdvbkhpZXJhcmNoeSIsImFyZVBvc2l0aW9uc1ZhbGlkIiwiaXNEaXNwYXRjaFNlZ21lbnRDbG9zZWQiLCJzZWdtZW50IiwidmFsdWUiLCJpc19jbG9zZWQiLCJyZW5kZXJUb29sdGlwSXRlbXMiLCJpdGVtcyIsImNvbXBhY3QiLCJCb29sZWFuIiwibWFwIiwicmF3IiwiaXRlbSIsIlN0cmluZyIsImluY2x1ZGVzIiwibGFiZWwiLCJyZXBsYWNlIiwicmF3TGFiZWwiLCJyZXN0Iiwic3BsaXQiLCJqb2luIiwiZm9ybWF0VG9vbHRpcENvbnRlbnQiLCJlbnRpdHkiLCJwcm9wZXJ0aWVzIiwiZ2V0UHJvcCIsImtleSIsInByb3AiLCJ1bmRlZmluZWQiLCJnZXRWYWx1ZSIsIkp1bGlhbkRhdGUiLCJub3ciLCJyb3VuZCIsImNsb3NlZCIsInJvYWRzIiwiRGlzcGF0Y2hDZXNpdW1NYXAiLCJtYXBDb250YWluZXIiLCJjZXNpdW1WaWV3ZXJSZWYiLCJtZWFzdXJlbWVudEhhbmRsZXJSZWYiLCJtYXBMb2FkZWQiLCJzZXRNYXBMb2FkZWQiLCJtYXBFcnJvciIsInNldE1hcEVycm9yIiwiY2VzaXVtTG9hZGVkIiwic2V0Q2VzaXVtTG9hZGVkIiwiZGlhbG9nT3BlbiIsInNldERpYWxvZ09wZW4iLCJkaWFsb2dEYXRhIiwic2V0RGlhbG9nRGF0YSIsInNob3dQcm9maWxlVmlld2VyIiwic2V0U2hvd1Byb2ZpbGVWaWV3ZXIiLCJzZWxlY3RlZFJvYWRJZCIsInNldFNlbGVjdGVkUm9hZElkIiwibG9jYXRpb25zIiwic2V0TG9jYXRpb25zIiwic2VnbWVudHMiLCJzZXRTZWdtZW50cyIsInRyb2xsZXlTZWdtZW50cyIsInNldFRyb2xsZXlTZWdtZW50cyIsIndhdGVyaW5nU3RhdGlvbnMiLCJzZXRXYXRlcmluZ1N0YXRpb25zIiwic3BlZWRNb25pdG9yaW5nIiwic2V0U3BlZWRNb25pdG9yaW5nIiwiaW50ZXJzZWN0aW9ucyIsInNldEludGVyc2VjdGlvbnMiLCJjZW50ZXJQb2ludHMiLCJzZXRDZW50ZXJQb2ludHMiLCJjZW50ZXJQb2ludEVudGl0aWVzUmVmIiwiaXNEaWFsb2dPcGVuIiwidHVybkRpYWxvZ09wZW4iLCJjdXJyZW50U3RlcCIsInR1cm5DdXJyZW50U3RlcCIsImdldEN1cnJlbnRTdGVwIiwiZ2V0VHVybkN1cnJlbnRTdGVwIiwic2VsZWN0ZWRTb3VyY2VSb2FkIiwidHVyblNvdXJjZVJvYWQiLCJzZWxlY3RlZERlc3RpbmF0aW9uUm9hZCIsInR1cm5EZXN0Um9hZCIsIm9wZW5EaWFsb2ciLCJvcGVuVHVybkRpYWxvZyIsImNsb3NlRGlhbG9nIiwiY2xvc2VUdXJuRGlhbG9nIiwic3RhcnRTZWxlY3Rpb24iLCJzdGFydFR1cm5TZWxlY3Rpb24iLCJoYW5kbGVNYXBDbGljayIsImhhbmRsZVR1cm5QYXRoQ2xpY2siLCJyb2FkTmV0d29ya3NFeHBhbmRlZCIsInNldFJvYWROZXR3b3Jrc0V4cGFuZGVkIiwibG9jYXRpb25UeXBlc0V4cGFuZGVkIiwic2V0TG9jYXRpb25UeXBlc0V4cGFuZGVkIiwiYmFzZUxheWVyIiwic2V0QmFzZUxheWVyIiwic2NlbmVNb2RlIiwic2V0U2NlbmVNb2RlIiwibWVhc3VyZW1lbnRNb2RlIiwic2V0TWVhc3VyZW1lbnRNb2RlIiwic2hvd09wZW5Sb2FkcyIsInNldFNob3dPcGVuUm9hZHMiLCJzaG93Q2xvc2VkUm9hZHMiLCJzZXRTaG93Q2xvc2VkUm9hZHMiLCJzaG93SW50ZXJzZWN0aW9ucyIsInNldFNob3dJbnRlcnNlY3Rpb25zIiwic2hvd0NlbnRlclBvaW50cyIsInNldFNob3dDZW50ZXJQb2ludHMiLCJzaG93VHJvbGxleSIsInNldFNob3dUcm9sbGV5Iiwic2hvd1dhdGVyaW5nIiwic2V0U2hvd1dhdGVyaW5nIiwic2hvd1NwZWVkIiwic2V0U2hvd1NwZWVkIiwidmlzaWJsZUxvY2F0aW9uVHlwZXMiLCJzZXRWaXNpYmxlTG9jYXRpb25UeXBlcyIsImZyTWVhc3VyZW1lbnRNb2RlIiwic3RhcnRNZWFzdXJlbWVudCIsImZyU3RhcnRNZWFzdXJlbWVudCIsImNhbmNlbE1lYXN1cmVtZW50IiwiZnJDYW5jZWxNZWFzdXJlbWVudCIsImFkZE1lYXN1cmVtZW50UG9pbnQiLCJmckFkZFBvaW50IiwiY2xlYXJNZWFzdXJlbWVudHMiLCJmckNsZWFyTWVhc3VyZW1lbnRzIiwidXBkYXRlUHJldmlld0xpbmUiLCJmclVwZGF0ZVByZXZpZXciLCJmaW5hbGl6ZUFyZWFNZWFzdXJlbWVudCIsImZyRmluYWxpemVBcmVhIiwiZ2V0TWVhc3VyZW1lbnRNb2RlIiwiZnJHZXRNb2RlIiwicmVjZW50ZXJWaWV3Iiwidmlld2VyIiwiY3VycmVudCIsImNhbWVyYSIsImZseVRvIiwiZGVzdGluYXRpb24iLCJmcm9tRGVncmVlcyIsIm9yaWVudGF0aW9uIiwiaGVhZGluZyIsInBpdGNoIiwidG9SYWRpYW5zIiwicm9sbCIsImR1cmF0aW9uIiwic2VsZWN0aW5nIiwidG9vbHRpcCIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJzdHlsZSIsImRpc3BsYXkiLCJsb2NhdGlvbkNvdW50cyIsImNvdW50cyIsImZvckVhY2giLCJsIiwicm9hZENvdW50cyIsIm9wZW4iLCJzIiwiY2VudGVyUG9pbnRDb3VudCIsInRvZ2dsZUxvY2F0aW9uVHlwZSIsImNoZWNrZWQiLCJuZXdTZXQiLCJhZGQiLCJkZWxldGUiLCJJb24iLCJkZWZhdWx0QWNjZXNzVG9rZW4iLCJjb29yZEhhbmRsZXIiLCJjb29yZERpc3BsYXkiLCJWaWV3ZXIiLCJiYXNlTGF5ZXJQaWNrZXIiLCJnZW9jb2RlciIsImhvbWVCdXR0b24iLCJzY2VuZU1vZGVQaWNrZXIiLCJuYXZpZ2F0aW9uSGVscEJ1dHRvbiIsImFuaW1hdGlvbiIsInRpbWVsaW5lIiwiZnVsbHNjcmVlbkJ1dHRvbiIsInZyQnV0dG9uIiwiaW1hZ2VyeVByb3ZpZGVyIiwidGVycmFpblByb3ZpZGVyIiwiRWxsaXBzb2lkVGVycmFpblByb3ZpZGVyIiwic2VsZWN0aW9uSW5kaWNhdG9yIiwiaW5mb0JveCIsImNlc2l1bVdpZGdldCIsImNyZWRpdENvbnRhaW5lciIsInNldFZpZXciLCJjZXNpdW1WaWV3ZXIiLCJmZXRjaCIsInRoZW4iLCJyZXMiLCJqc29uIiwiZGF0YSIsImNhdGNoIiwiZXJyIiwiY29uc29sZSIsIndhcm4iLCJtZXNzYWdlIiwiaGFuZGxlciIsIlNjcmVlblNwYWNlRXZlbnRIYW5kbGVyIiwic2NlbmUiLCJjYW52YXMiLCJzZXRJbnB1dEFjdGlvbiIsIm1vdmVtZW50Iiwic3RlcCIsImRyaWxsIiwiZHJpbGxQaWNrIiwicG9zaXRpb24iLCJwaWNrZWQiLCJwaWNrIiwiaWQiLCJtb2RlIiwiZWxsaXBzb2lkIiwiZ2xvYmUiLCJjYXJ0ZXNpYW4iLCJwaWNrRWxsaXBzb2lkIiwicGlja1Bvc2l0aW9uIiwicmF5IiwiZ2V0UGlja1JheSIsImNhcnRvIiwiY2FydGVzaWFuVG9DYXJ0b2dyYXBoaWMiLCJjbGFtcGVkIiwiZnJvbVJhZGlhbnMiLCJsb25naXR1ZGUiLCJsYXRpdHVkZSIsIlNjcmVlblNwYWNlRXZlbnRUeXBlIiwiTEVGVF9DTElDSyIsImVuZFBvc2l0aW9uIiwiTU9VU0VfTU9WRSIsIlJJR0hUX0NMSUNLIiwiY3JlYXRlRWxlbWVudCIsImNzc1RleHQiLCJib2R5IiwiYXBwZW5kQ2hpbGQiLCJkZWZpbmVkIiwiY2FydCIsIkNhcnRvZ3JhcGhpYyIsImZyb21DYXJ0ZXNpYW4iLCJsbmciLCJ0b0RlZ3JlZXMiLCJ0b0ZpeGVkIiwibGF0IiwiaW5uZXJIVE1MIiwiZSIsImRlc3Ryb3kiLCJpc0Rlc3Ryb3llZCIsInBhcmVudE5vZGUiLCJyZW1vdmUiLCJjb250YWluZXIiLCJjdXJzb3IiLCJwaWNrZWRPYmplY3QiLCJjb250ZW50IiwibGVmdCIsInRvcCIsImNvbnRhaW5lclJlY3QiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJvZmZzZXRXaWR0aCIsIndpZHRoIiwib2Zmc2V0SGVpZ2h0IiwiaGVpZ2h0IiwicmVtb3ZlQ2hpbGQiLCJjbGljayIsImZpbmQiLCJvIiwiY2F0UHJvcCIsImNhdCIsImFsbFByb3BlcnRpZXMiLCJwcm9wZXJ0eU5hbWVzIiwiT2JqZWN0Iiwia2V5cyIsInByb3BOYW1lIiwic3RhcnRzV2l0aCIsInZhbCIsIm5hbWUiLCJlbnRpdGllcyIsInZhbHVlcyIsInByZXZFbnRpdHkiLCJfb3JpZ2luYWxNYXRlcmlhbCIsImNvcnJpZG9yIiwibWF0ZXJpYWwiLCJvdXRsaW5lIiwicG9seWdvbiIsIkNvbG9yIiwiQ1lBTiIsIndpdGhBbHBoYSIsIm91dGxpbmVDb2xvciIsIllFTExPVyIsIm91dGxpbmVXaWR0aCIsIl8iLCJyZXF1ZXN0UmVuZGVyIiwiY3AiLCJsb24iLCJwb3MiLCJlbnQiLCJwb2ludCIsInBpeGVsU2l6ZSIsImNvbG9yIiwiTUFHRU5UQSIsIldISVRFIiwiaGVpZ2h0UmVmZXJlbmNlIiwiSGVpZ2h0UmVmZXJlbmNlIiwiUkVMQVRJVkVfVE9fR1JPVU5EIiwiZGlzYWJsZURlcHRoVGVzdERpc3RhbmNlIiwiUE9TSVRJVkVfSU5GSU5JVFkiLCJzY2FsZUJ5RGlzdGFuY2UiLCJOZWFyRmFyU2NhbGFyIiwiY3lsaW5kZXIiLCJ0b3BSYWRpdXMiLCJib3R0b21SYWRpdXMiLCJyb2FkX2lkIiwiaW50ZXJzZWN0aW9uX2lkIiwiaW50ZXJzZWN0aW9uX25hbWUiLCJjYW5jZWxsZWQiLCJ1cGRhdGVCYXNlTGF5ZXIiLCJpbWFnZXJ5TGF5ZXJzIiwicmVtb3ZlQWxsIiwicHJvdmlkZXIiLCJVcmxUZW1wbGF0ZUltYWdlcnlQcm92aWRlciIsInVybCIsImNyZWRpdCIsInN1YmRvbWFpbnMiLCJhZGRJbWFnZXJ5UHJvdmlkZXIiLCJiYXNlQ29sb3IiLCJmcm9tQ3NzQ29sb3JTdHJpbmciLCJtb3JwaFRvMkQiLCJtb3JwaFRvM0QiLCJsb2FkIiwiaW5mcmFzdHJ1Y3R1cmUiLCJhcGlTZWdtZW50cyIsIm1hcHBlZFNlZ21lbnRzIiwibGFuZV9pZCIsImdlb21ldHJ5IiwiZ2VvbWV0cnlfZ2VvanNvbiIsImNlbnRlcmxpbmVfZ2VvanNvbiIsImRpcmVjdGlvbiIsImxlbmd0aF9tIiwibWFwcGVkTG9jYXRpb25zIiwicG9pbnRfZ2VvanNvbiIsImxvY2F0aW9uX2lkIiwibG9jYXRpb25fbmFtZSIsImdlb21fZ2VvanNvbiIsInVuaXRfaWQiLCJtYXBwZWRJbnRlcnNlY3Rpb25zIiwidHlwZUNvdW50cyIsImxvYyIsInQiLCJsb2ciLCJzYW1wbGVzIiwicmVzb2x2ZWRfdHlwZSIsInJlc29sdmVkVHlwZXMiLCJmcm9tIiwidmlzaWJsZVNldCIsImlzTnVtZXJpYyIsInRlc3QiLCJoYXMiLCJlcnJvciIsImNvbXB1dGVPZmZzZXRMaW5lIiwib2Zmc2V0TWV0ZXJzIiwiRWxsaXBzb2lkIiwiV0dTODQiLCJvZmZzZXRQb3NpdGlvbnMiLCJ1cCIsInJpZ2h0Iiwic3VidHJhY3QiLCJkMSIsImQyIiwibWFnbml0dWRlU3F1YXJlZCIsIkVQU0lMT04xMCIsIm5vcm1hbGl6ZSIsImlzTmFOIiwiZ2VvZGV0aWNTdXJmYWNlTm9ybWFsIiwiY3Jvc3MiLCJvZmZzZXQiLCJtdWx0aXBseUJ5U2NhbGFyIiwiZmluYWxQb3MiLCJmaWx0ZXJVbmlxdWVQb3NpdGlvbnMiLCJpZHgiLCJwcmV2IiwiZGlzdGFuY2VTcXVhcmVkIiwiZ2V0TmVhcmVzdFJvYWRCZWFyaW5nIiwibG9jQ2FydCIsIm1pbkRpc3RhbmNlIiwiYmVzdEJlYXJpbmciLCJnIiwiYzFSYXciLCJjMlJhdyIsInAxIiwicDIiLCJtaWQiLCJkaXN0U3EiLCJjMSIsImMyIiwiZExvbiIsInNpbiIsImNvcyIsImF0YW4yIiwiY29tcHV0ZVNxdWFyZVBvbHlnb24iLCJjZW50ZXJDYXJ0ZXNpYW4iLCJzaXplTWV0ZXJzIiwiYW5nbGVGcm9tRWFzdCIsImhhbGYiLCJ0cmFuc2Zvcm0iLCJUcmFuc2Zvcm1zIiwiZWFzdE5vcnRoVXBUb0ZpeGVkRnJhbWUiLCJiYXNlQ29ybmVycyIsInJlc3VsdCIsInJ4IiwicnkiLCJsb2NhbFBvcyIsIk1hdHJpeDQiLCJtdWx0aXBseUJ5UG9pbnQiLCJOSUdIVF9USEVNRSIsInJvYWRTdXJmYWNlQ29sb3JPcGVuIiwicm9hZFN1cmZhY2VDb2xvckNsb3NlZCIsInJvYWRTdXJmYWNlQWxwaGEiLCJyb2FkU2hvdWxkZXJDb2xvck9wZW4iLCJyb2FkU2hvdWxkZXJDb2xvckNsb3NlZCIsInJvYWRTaG91bGRlckFscGhhIiwicG9seWdvbk91dGxpbmVDb2xvciIsInBvbHlnb25PdXRsaW5lQWxwaGEiLCJwb2x5Z29uT3V0bGluZVdpZHRoIiwiaW50ZXJzZWN0aW9uRmlsbENvbG9yIiwiaW50ZXJzZWN0aW9uRmlsbEFscGhhIiwiaW50ZXJzZWN0aW9uT3V0bGluZUNvbG9yIiwiaW50ZXJzZWN0aW9uT3V0bGluZUFscGhhIiwiVE9UQUxfUk9BRF9XSURUSCIsIkNFTlRFUkxJTkVfV0lEVEgiLCJMQU5FX1RPVEFMX1dJRFRIIiwiSEFMRl9MQU5FX1RPVEFMX1dJRFRIIiwiTEFORV9TSE9VTERFUl9QQURESU5HIiwiTEFORV9TVVJGQUNFX1dJRFRIIiwiTEFORV9DRU5URVJfT0ZGU0VUX01BRyIsInN1cmZhY2VDb2xvciIsInNob3VsZGVyQ29sb3IiLCJlZGdlQ29sb3IiLCJjZW50ZXJsaW5lQ29sb3IiLCJwb2x5cyIsImhpZXJhcmNoeSIsImFsbExpbmVTdHJpbmdzIiwidmFsaWRDb29yZHMiLCJyYXdQb3NpdGlvbnMiLCJzcGFuT2siLCJldmVyeSIsImJib3giLCJyZWR1Y2UiLCJhY2MiLCJtaW4iLCJkaXIiLCJ0b1N0cmluZyIsImRpclNpZ24iLCJsYW5lQ2VudGVyT2Zmc2V0IiwibGFuZVBvc2l0aW9ucyIsImNvcm5lclR5cGUiLCJDb3JuZXJUeXBlIiwiTUlURVJFRCIsInN0eWxlX3JvbGUiLCJwb2x5bGluZSIsIlBvbHlsaW5lRGFzaE1hdGVyaWFsUHJvcGVydHkiLCJkYXNoTGVuZ3RoIiwiYXJjVHlwZSIsIkFyY1R5cGUiLCJHRU9ERVNJQyIsImxlZnRFZGdlT2Zmc2V0IiwibGVmdEVkZ2VQb3NpdGlvbnMiLCJyaWdodEVkZ2VPZmZzZXQiLCJyaWdodEVkZ2VQb3NpdGlvbnMiLCJzdGFydF9sb25naXR1ZGUiLCJzdGFydF9sYXRpdHVkZSIsImVuZF9sb25naXR1ZGUiLCJlbmRfbGF0aXR1ZGUiLCJwYXJ0X2luZGV4IiwidHlwZUxvd2VyIiwic291cmNlTG93ZXIiLCJpc051bWVyaWNUeXBlIiwicmF3R2VvbSIsInN0cmluZ2lmeSIsInBlclBvc2l0aW9uSGVpZ2h0Iiwic2hvd1NxdWFyZSIsImJlYXJpbmdGcm9tTm9ydGgiLCJzcXVhcmVQb3NpdGlvbnMiLCJnZXRDYXRlZ29yeURpc3BsYXlOYW1lIiwiY29uc29saWRhdGVkQ2F0ZWdvcnkiLCJkaXNwbGF5TmFtZXMiLCJjYXRlZ29yeVN0ciIsIndvcmQiLCJjaGFyQXQiLCJ0b1VwcGVyQ2FzZSIsInJlbW92ZVByZXZpZXdFbnRpdGllcyIsInJlZnMiLCJwcmV2aWV3TGluZUVudGl0eVJlZiIsInByZXZpZXdMYWJlbEVudGl0eVJlZiIsInJlZiIsIm1lYXN1cmVtZW50RW50aXRpZXNSZWYiLCJvdmVybGF5RW50aXRpZXNSZWYiLCJtZWFzdXJlbWVudFBvaW50c1JlZiIsImFyZWFMb2NrZWRSZWYiLCJtZWFzdXJlbWVudE1vZGVSZWYiLCJkcmF3RGlzdGFuY2UiLCJwb2ludHMiLCJsaW5lIiwiZ2VvZGVzaWMiLCJFbGxpcHNvaWRHZW9kZXNpYyIsImRpc3RhbmNlTWV0ZXJzIiwic3VyZmFjZURpc3RhbmNlIiwiZGlzdGFuY2VGZWV0IiwibGFzdFBvaW50IiwicG9wIiwibWV0ZXJzVGV4dCIsImZlZXRUZXh0IiwibGVycCIsImxhYmVsMSIsInRleHQiLCJmb250IiwiZmlsbENvbG9yIiwiQkxBQ0siLCJMYWJlbFN0eWxlIiwiRklMTF9BTkRfT1VUTElORSIsInZlcnRpY2FsT3JpZ2luIiwiVmVydGljYWxPcmlnaW4iLCJDRU5URVIiLCJob3Jpem9udGFsT3JpZ2luIiwiSG9yaXpvbnRhbE9yaWdpbiIsInBpeGVsT2Zmc2V0IiwiQ2FydGVzaWFuMiIsImxhYmVsMiIsImRyYXdBcmVhUHJldmlldyIsImNvbXB1dGVBcmVhIiwib3JpZ2luIiwiZW51IiwiaW52IiwiaW52ZXJzZVRyYW5zZm9ybWF0aW9uIiwibG9jYWwiLCJkaWZmIiwibXVsdGlwbHlCeVBvaW50QXNWZWN0b3IiLCJqIiwicHRzIiwicG9seSIsImFyZWFTcW0iLCJhcmVhU3FmdCIsImNlbnRyb2lkIiwiY3Vyc29yQ2FydGVzaWFuIiwiZmlyc3QiLCJuZXdQb2ludCIsIm5ld1BvaW50cyIsInBvaW50RW50aXR5IiwiQ0xBTVBfVE9fR1JPVU5EIiwiaGFuZGxlTWVhc3VyZUNoYW5nZSIsImRpdiIsInBhZGRpbmciLCJzcmMiLCJvbkxvYWQiLCJvbkNvbXB1dGVQYXRoIiwib25NYW5hZ2VQcm9maWxlcyIsInByb21wdCIsIm9uTWVhc3VyZURpc3RhbmNlIiwib25NZWFzdXJlQXJlYSIsImN1cnJlbnRCYXNlTGF5ZXIiLCJvbkNoYW5nZUJhc2VMYXllciIsImN1cnJlbnRTY2VuZU1vZGUiLCJvbkNoYW5nZVNjZW5lTW9kZSIsIm9uQ2FuY2VsIiwiaXNPcGVuIiwib25DbG9zZSIsIm9uU3RhcnRTZWxlY3Rpb24iLCJjb25maWciLCJ2ZWhpY2xlUHJvZmlsZXMiLCJib3R0b20iLCJvdmVyZmxvdyIsImJhY2tncm91bmQiLCJpbnNldCIsImJhY2tncm91bmRDb2xvciIsImJvcmRlciIsImJvcmRlclJhZGl1cyIsImJveFNoYWRvdyIsImJhY2tkcm9wRmlsdGVyIiwiekluZGV4IiwiZm9udEZhbWlseSIsImFsaWduSXRlbXMiLCJqdXN0aWZ5Q29udGVudCIsImdhcCIsImZvbnRXZWlnaHQiLCJmb250U2l6ZSIsImJ1dHRvbiIsInRyYW5zaXRpb24iLCJvbkNsaWNrIiwib25Nb3VzZUVudGVyIiwidGFyZ2V0Iiwib25Nb3VzZUxlYXZlIiwidGl0bGUiLCJzdmciLCJ2aWV3Qm94IiwidmVydGljYWxBbGlnbiIsImNpcmNsZSIsImN4IiwiY3kiLCJyIiwiZmlsbCIsInN0cm9rZSIsInN0cm9rZVdpZHRoIiwicmVjdCIsImJvcmRlckJvdHRvbSIsIm1hcmdpbkJvdHRvbSIsInNlbGVjdCIsIm9uQ2hhbmdlIiwib3B0aW9uIiwibWF4SGVpZ2h0Iiwib3ZlcmZsb3dZIiwib3ZlcmZsb3dYIiwic2Nyb2xsYmFyV2lkdGgiLCJzY3JvbGxiYXJDb2xvciIsIm1heFdpZHRoIiwiZmxleERpcmVjdGlvbiIsInN0b3BQcm9wYWdhdGlvbiIsInBhZGRpbmdCb3R0b20iLCJoMiIsIm1hcmdpbiIsInRleHRUcmFuc2Zvcm0iLCJmbGV4IiwicGFkZGluZ1JpZ2h0IiwiZ3JpZFRlbXBsYXRlQ29sdW1ucyIsImVudHJpZXMiLCJ3b3JkQnJlYWsiLCJ3aGl0ZVNwYWNlIiwicm9hZElkIiwiZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUwiLCJfX2h0bWwiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./components/CombinedMap.js\n");

/***/ }),

/***/ "./components/RoadProfileViewer.js":
/*!*****************************************!*\
  !*** ./components/RoadProfileViewer.js ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ RoadProfileViewer)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n\n\nconst REFERENCE_ELEVATION = 711; // meters\nfunction RoadProfileViewer({ roadId, onClose }) {\n    const [conditions, setConditions] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [totalRoadLength, setTotalRoadLength] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0);\n    const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const [editingId, setEditingId] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [editValue, setEditValue] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [saving, setSaving] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [splittingId, setSplittingId] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [splitPoint, setSplitPoint] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [addingNew, setAddingNew] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [newSegment, setNewSegment] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        lane_id: \"\",\n        start_measure: \"\",\n        end_measure: \"\",\n        condition_value: \"\"\n    });\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (roadId) {\n            fetchConditions();\n        }\n    }, [\n        roadId\n    ]);\n    const fetchConditions = async ()=>{\n        try {\n            setLoading(true);\n            const response = await fetch(`/api/lane-conditions?roadId=${roadId}`);\n            if (!response.ok) throw new Error(\"Failed to fetch conditions\");\n            const data = await response.json();\n            // Handle both old format (array) and new format (object with conditions and total_road_length)\n            if (Array.isArray(data)) {\n                setConditions(data);\n                setTotalRoadLength(0); // Will calculate from conditions\n            } else {\n                setConditions(data.conditions || []);\n                setTotalRoadLength(Number(data.total_road_length || 0));\n            }\n        } catch (error) {\n            console.error(\"Error fetching conditions:\", error);\n        } finally{\n            setLoading(false);\n        }\n    };\n    // Helper function to calculate elevation at a given cumulative road distance\n    // This properly maps lane segment conditions to cumulative road distance\n    const calculateElevationAtDistance = (cumulativeDistance, allConditions)=>{\n        let elevation = REFERENCE_ELEVATION;\n        let currentDistance = 0;\n        // Use adjusted conditions (already normalized, gap-free)\n        const laneGroups = {};\n        allConditions.forEach((cond)=>{\n            if (!laneGroups[cond.lane_id]) laneGroups[cond.lane_id] = [];\n            laneGroups[cond.lane_id].push(cond);\n        });\n        const laneEntries = Object.entries(laneGroups).map(([laneId, conds])=>{\n            const match = (laneId || \"\").match(/road_\\d+_(\\d+)_/);\n            const segNum = match ? parseInt(match[1], 10) : 999;\n            const laneLength = Math.max(...conds.map((c)=>Number(c.adj_end) || 0), 0);\n            return {\n                laneId,\n                conds,\n                segNum,\n                laneLength\n            };\n        }).sort((a, b)=>a.segNum - b.segNum);\n        for (const { conds, laneLength } of laneEntries){\n            const sortedConds = conds.sort((a, b)=>a.adj_start - b.adj_start);\n            const laneStartDistance = currentDistance;\n            for (const cond of sortedConds){\n                const condStartDist = laneStartDistance + (Number(cond.adj_start) || 0);\n                const condEndDist = laneStartDistance + (Number(cond.adj_end) || 0);\n                const slope = Number(cond.condition_value) || 0;\n                if (cumulativeDistance >= condStartDist && cumulativeDistance <= condEndDist) {\n                    const distInCondition = cumulativeDistance - condStartDist;\n                    elevation = elevation + distInCondition * slope / 100;\n                    return elevation;\n                } else if (cumulativeDistance > condEndDist) {\n                    const condLength = condEndDist - condStartDist;\n                    elevation = elevation + condLength * slope / 100;\n                }\n            }\n            currentDistance += laneLength;\n            if (currentDistance >= cumulativeDistance) break;\n        }\n        return elevation;\n    };\n    const normalizeConditions = (conds)=>{\n        if (!conds.length) return [];\n        const laneGroups = {};\n        conds.forEach((c)=>{\n            const start = Number(c.start_measure) || 0;\n            const end = Number(c.end_measure) || 0;\n            const slope = Number(c.condition_value) || 0;\n            const len = Number(c.lane_length) || 0;\n            const normalized = {\n                ...c,\n                start_measure: start,\n                end_measure: end,\n                condition_value: slope,\n                lane_length: len\n            };\n            if (!laneGroups[c.lane_id]) laneGroups[c.lane_id] = [];\n            laneGroups[c.lane_id].push(normalized);\n        });\n        // lane order\n        const laneEntries = Object.entries(laneGroups).map(([laneId, list])=>{\n            const match = (laneId || \"\").match(/road_\\d+_(\\d+)_/);\n            const segNum = match ? parseInt(match[1], 10) : 999;\n            return {\n                laneId,\n                list,\n                segNum\n            };\n        }).sort((a, b)=>a.segNum - b.segNum);\n        const laneStarts = new Map();\n        let cumulativeLane = 0;\n        const adjusted = [];\n        laneEntries.forEach(({ laneId, list })=>{\n            laneStarts.set(laneId, cumulativeLane);\n            const sorted = list.sort((a, b)=>a.start_measure - b.start_measure);\n            let cur = 0;\n            sorted.forEach((cond)=>{\n                const length = Math.max(0, cond.end_measure - cond.start_measure);\n                const adjStart = cur;\n                const adjEnd = adjStart + length;\n                adjusted.push({\n                    ...cond,\n                    adj_start: adjStart,\n                    adj_end: adjEnd,\n                    road_start: cumulativeLane + adjStart,\n                    road_end: cumulativeLane + adjEnd\n                });\n                cur = adjEnd;\n            });\n            const laneLen = Number(list[0]?.lane_length) || cur;\n            cumulativeLane += laneLen;\n        });\n        return {\n            adjusted,\n            totalLength: cumulativeLane\n        };\n    };\n    const normalized = normalizeConditions(conditions);\n    const adjustedConds = normalized?.adjusted || [];\n    const effectiveTotalLength = totalRoadLength > 0 ? totalRoadLength : normalized?.totalLength || 0;\n    const generateProfileData = ()=>{\n        if (!adjustedConds.length && effectiveTotalLength === 0) return [];\n        const distancePoints = new Set([\n            0,\n            effectiveTotalLength\n        ]);\n        adjustedConds.forEach((c)=>{\n            distancePoints.add(c.road_start);\n            distancePoints.add(c.road_end);\n        });\n        const sortedDistances = Array.from(distancePoints).sort((a, b)=>a - b);\n        const result = [];\n        sortedDistances.forEach((distance)=>{\n            const match = adjustedConds.find((c)=>distance >= c.road_start && distance <= c.road_end);\n            const elevation = calculateElevationAtDistance(distance, adjustedConds);\n            result.push({\n                distance,\n                elevation,\n                lane_id: match?.lane_id || null,\n                condition_id: match?.condition_id || null\n            });\n        });\n        return result;\n    };\n    const handleEdit = (condition)=>{\n        setEditingId(condition.condition_id);\n        setEditValue(condition.condition_value);\n    };\n    const handleSave = async (conditionId)=>{\n        try {\n            setSaving(true);\n            // Validate the input\n            const value = parseFloat(editValue);\n            if (isNaN(value)) {\n                alert(\"Please enter a valid number for the slope\");\n                return;\n            }\n            const response = await fetch(\"/api/lane-conditions\", {\n                method: \"PUT\",\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                },\n                body: JSON.stringify({\n                    condition_id: conditionId,\n                    condition_value: editValue\n                })\n            });\n            if (!response.ok) {\n                const errorData = await response.json().catch(()=>({}));\n                throw new Error(errorData.error || \"Failed to update\");\n            }\n            const result = await response.json();\n            console.log(\"Successfully updated condition:\", result);\n            // Refresh conditions to get updated data\n            await fetchConditions();\n            setEditingId(null);\n            setEditValue(\"\");\n        } catch (error) {\n            console.error(\"Error saving condition:\", error);\n            alert(`Failed to save slope value: ${error.message}`);\n        } finally{\n            setSaving(false);\n        }\n    };\n    const handleCancel = ()=>{\n        setEditingId(null);\n        setEditValue(\"\");\n        setSplittingId(null);\n        setSplitPoint(\"\");\n        setAddingNew(false);\n        setNewSegment({\n            lane_id: \"\",\n            start_measure: \"\",\n            end_measure: \"\",\n            condition_value: \"\"\n        });\n    };\n    const handleSplit = async (condition)=>{\n        const splitValue = parseFloat(splitPoint);\n        if (isNaN(splitValue) || splitValue <= condition.start_measure || splitValue >= condition.end_measure) {\n            alert(\"Please enter a valid split point between start and end measures\");\n            return;\n        }\n        try {\n            setSaving(true);\n            // Create first segment: start to split point\n            const response1 = await fetch(\"/api/lane-conditions\", {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                },\n                body: JSON.stringify({\n                    lane_id: condition.lane_id,\n                    start_measure: condition.start_measure,\n                    end_measure: splitValue,\n                    condition_value: condition.condition_value\n                })\n            });\n            // Create second segment: split point to end\n            const response2 = await fetch(\"/api/lane-conditions\", {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                },\n                body: JSON.stringify({\n                    lane_id: condition.lane_id,\n                    start_measure: splitValue,\n                    end_measure: condition.end_measure,\n                    condition_value: condition.condition_value\n                })\n            });\n            if (!response1.ok || !response2.ok) {\n                throw new Error(\"Failed to create split segments\");\n            }\n            // Delete original segment\n            await fetch(\"/api/lane-conditions\", {\n                method: \"DELETE\",\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                },\n                body: JSON.stringify({\n                    condition_id: condition.condition_id\n                })\n            });\n            await fetchConditions();\n            setSplittingId(null);\n            setSplitPoint(\"\");\n        } catch (error) {\n            console.error(\"Error splitting condition:\", error);\n            alert(`Failed to split segment: ${error.message}`);\n        } finally{\n            setSaving(false);\n        }\n    };\n    const handleDelete = async (conditionId)=>{\n        if (!confirm(\"Are you sure you want to delete this slope segment?\")) {\n            return;\n        }\n        try {\n            setSaving(true);\n            const response = await fetch(\"/api/lane-conditions\", {\n                method: \"DELETE\",\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                },\n                body: JSON.stringify({\n                    condition_id: conditionId\n                })\n            });\n            if (!response.ok) throw new Error(\"Failed to delete\");\n            await fetchConditions();\n        } catch (error) {\n            console.error(\"Error deleting condition:\", error);\n            alert(`Failed to delete segment: ${error.message}`);\n        } finally{\n            setSaving(false);\n        }\n    };\n    const handleAdd = async ()=>{\n        const { lane_id, start_measure, end_measure, condition_value } = newSegment;\n        if (!lane_id || !start_measure || !end_measure || !condition_value) {\n            alert(\"Please fill in all fields\");\n            return;\n        }\n        const start = parseFloat(start_measure);\n        const end = parseFloat(end_measure);\n        const value = parseFloat(condition_value);\n        if (isNaN(start) || isNaN(end) || isNaN(value)) {\n            alert(\"Please enter valid numbers\");\n            return;\n        }\n        if (start >= end) {\n            alert(\"Start measure must be less than end measure\");\n            return;\n        }\n        try {\n            setSaving(true);\n            const response = await fetch(\"/api/lane-conditions\", {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                },\n                body: JSON.stringify({\n                    lane_id,\n                    start_measure: start,\n                    end_measure: end,\n                    condition_value: value\n                })\n            });\n            if (!response.ok) throw new Error(\"Failed to create\");\n            await fetchConditions();\n            setAddingNew(false);\n            setNewSegment({\n                lane_id: \"\",\n                start_measure: \"\",\n                end_measure: \"\",\n                condition_value: \"\"\n            });\n        } catch (error) {\n            console.error(\"Error adding condition:\", error);\n            alert(`Failed to add segment: ${error.message}`);\n        } finally{\n            setSaving(false);\n        }\n    };\n    const profileData = generateProfileData();\n    // Distance domain: from lowest road start to highest road end\n    const minDistance = profileData.length ? Math.min(...profileData.map((p)=>p.distance)) : 0;\n    const maxDistance = profileData.length ? Math.max(...profileData.map((p)=>p.distance)) : 0;\n    // Elevation range based on actual profile, with a fallback band\n    const minElevation = profileData.length ? Math.min(...profileData.map((p)=>p.elevation)) : REFERENCE_ELEVATION - 50;\n    const maxElevation = profileData.length ? Math.max(...profileData.map((p)=>p.elevation)) : REFERENCE_ELEVATION + 50;\n    // Simple SVG chart\n    const chartWidth = 800;\n    const chartHeight = 400;\n    const padding = 60;\n    const plotWidth = chartWidth - 2 * padding;\n    const plotHeight = chartHeight - 2 * padding;\n    const elevationRange = maxElevation - minElevation || 1; // avoid divide by zero\n    const distanceRange = maxDistance - minDistance || 1;\n    const scaleX = (distance)=>padding + (distance - minDistance) / distanceRange * plotWidth;\n    const scaleY = (elevation)=>padding + plotHeight - (elevation - minElevation) / elevationRange * plotHeight;\n    // Generate path data for the profile line\n    const pathData = profileData.length > 0 ? `M ${profileData.map((p)=>`${scaleX(p.distance)},${scaleY(p.elevation)}`).join(\" L \")}` : null;\n    if (loading) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            style: {\n                position: \"fixed\",\n                top: 0,\n                left: 0,\n                right: 0,\n                bottom: 0,\n                backgroundColor: \"rgba(0, 0, 0, 0.8)\",\n                display: \"flex\",\n                justifyContent: \"center\",\n                alignItems: \"center\",\n                zIndex: 10000,\n                color: \"white\"\n            },\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                children: \"Loading road profile...\"\n            }, void 0, false, {\n                fileName: \"/app/components/RoadProfileViewer.js\",\n                lineNumber: 409,\n                columnNumber: 9\n            }, this)\n        }, void 0, false, {\n            fileName: \"/app/components/RoadProfileViewer.js\",\n            lineNumber: 396,\n            columnNumber: 7\n        }, this);\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        style: {\n            position: \"fixed\",\n            top: 0,\n            left: 0,\n            right: 0,\n            bottom: 0,\n            backgroundColor: \"rgba(0, 0, 0, 0.9)\",\n            zIndex: 10000,\n            display: \"flex\",\n            flexDirection: \"column\",\n            padding: \"20px\",\n            overflow: \"auto\",\n            color: \"white\"\n        },\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                style: {\n                    display: \"flex\",\n                    justifyContent: \"space-between\",\n                    alignItems: \"center\",\n                    marginBottom: \"20px\"\n                },\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                        style: {\n                            margin: 0,\n                            color: \"#4ECDC4\"\n                        },\n                        children: [\n                            \"Road Profile - Road ID: \",\n                            roadId\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/app/components/RoadProfileViewer.js\",\n                        lineNumber: 430,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        onClick: onClose,\n                        style: {\n                            background: \"#E74C3C\",\n                            color: \"white\",\n                            border: \"none\",\n                            padding: \"10px 20px\",\n                            borderRadius: \"6px\",\n                            cursor: \"pointer\",\n                            fontWeight: \"bold\",\n                            fontSize: \"14px\"\n                        },\n                        children: \"✕ Close\"\n                    }, void 0, false, {\n                        fileName: \"/app/components/RoadProfileViewer.js\",\n                        lineNumber: 431,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/app/components/RoadProfileViewer.js\",\n                lineNumber: 429,\n                columnNumber: 7\n            }, this),\n            conditions.length === 0 ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                style: {\n                    textAlign: \"center\",\n                    padding: \"40px\",\n                    color: \"#95a5a6\"\n                },\n                children: [\n                    \"No slope conditions found for this road.\",\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        style: {\n                            marginTop: \"16px\",\n                            display: \"inline-block\",\n                            textAlign: \"left\",\n                            background: \"rgba(30,30,30,0.8)\",\n                            padding: \"16px\",\n                            borderRadius: \"8px\",\n                            border: \"1px solid rgba(255,255,255,0.1)\"\n                        },\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                style: {\n                                    marginBottom: \"8px\",\n                                    color: \"#fff\"\n                                },\n                                children: \"Add first segment\"\n                            }, void 0, false, {\n                                fileName: \"/app/components/RoadProfileViewer.js\",\n                                lineNumber: 452,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                style: {\n                                    display: \"flex\",\n                                    gap: \"8px\",\n                                    flexWrap: \"wrap\"\n                                },\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                        type: \"text\",\n                                        placeholder: \"lane_id\",\n                                        value: newSegment.lane_id || `road_${roadId}_0_forward`,\n                                        onChange: (e)=>setNewSegment({\n                                                ...newSegment,\n                                                lane_id: e.target.value\n                                            }),\n                                        style: {\n                                            padding: \"6px\",\n                                            borderRadius: \"4px\",\n                                            border: \"1px solid #555\",\n                                            background: \"#222\",\n                                            color: \"#fff\"\n                                        }\n                                    }, void 0, false, {\n                                        fileName: \"/app/components/RoadProfileViewer.js\",\n                                        lineNumber: 454,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                        type: \"number\",\n                                        placeholder: \"Start (m)\",\n                                        value: newSegment.start_measure,\n                                        onChange: (e)=>setNewSegment({\n                                                ...newSegment,\n                                                start_measure: e.target.value\n                                            }),\n                                        style: {\n                                            padding: \"6px\",\n                                            borderRadius: \"4px\",\n                                            border: \"1px solid #555\",\n                                            background: \"#222\",\n                                            color: \"#fff\",\n                                            width: \"110px\"\n                                        }\n                                    }, void 0, false, {\n                                        fileName: \"/app/components/RoadProfileViewer.js\",\n                                        lineNumber: 461,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                        type: \"number\",\n                                        placeholder: \"End (m)\",\n                                        value: newSegment.end_measure,\n                                        onChange: (e)=>setNewSegment({\n                                                ...newSegment,\n                                                end_measure: e.target.value\n                                            }),\n                                        style: {\n                                            padding: \"6px\",\n                                            borderRadius: \"4px\",\n                                            border: \"1px solid #555\",\n                                            background: \"#222\",\n                                            color: \"#fff\",\n                                            width: \"110px\"\n                                        }\n                                    }, void 0, false, {\n                                        fileName: \"/app/components/RoadProfileViewer.js\",\n                                        lineNumber: 468,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                        type: \"number\",\n                                        placeholder: \"Slope %\",\n                                        value: newSegment.condition_value,\n                                        onChange: (e)=>setNewSegment({\n                                                ...newSegment,\n                                                condition_value: e.target.value\n                                            }),\n                                        style: {\n                                            padding: \"6px\",\n                                            borderRadius: \"4px\",\n                                            border: \"1px solid #555\",\n                                            background: \"#222\",\n                                            color: \"#fff\",\n                                            width: \"110px\"\n                                        }\n                                    }, void 0, false, {\n                                        fileName: \"/app/components/RoadProfileViewer.js\",\n                                        lineNumber: 475,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        onClick: ()=>{\n                                            const laneDefault = newSegment.lane_id || `road_${roadId}_0_forward`;\n                                            setNewSegment({\n                                                ...newSegment,\n                                                lane_id: laneDefault\n                                            });\n                                            handleAdd();\n                                        },\n                                        disabled: saving,\n                                        style: {\n                                            padding: \"8px 12px\",\n                                            background: \"#2ECC71\",\n                                            border: \"none\",\n                                            borderRadius: \"4px\",\n                                            color: \"white\",\n                                            cursor: \"pointer\",\n                                            fontWeight: \"bold\"\n                                        },\n                                        children: saving ? \"Saving...\" : \"Add\"\n                                    }, void 0, false, {\n                                        fileName: \"/app/components/RoadProfileViewer.js\",\n                                        lineNumber: 482,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/app/components/RoadProfileViewer.js\",\n                                lineNumber: 453,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/app/components/RoadProfileViewer.js\",\n                        lineNumber: 451,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/app/components/RoadProfileViewer.js\",\n                lineNumber: 449,\n                columnNumber: 9\n            }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        style: {\n                            marginBottom: \"30px\",\n                            backgroundColor: \"rgba(30, 30, 30, 0.8)\",\n                            padding: \"20px\",\n                            borderRadius: \"8px\"\n                        },\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                style: {\n                                    marginTop: 0,\n                                    marginBottom: \"16px\",\n                                    color: \"#4ECDC4\"\n                                },\n                                children: \"Elevation Profile\"\n                            }, void 0, false, {\n                                fileName: \"/app/components/RoadProfileViewer.js\",\n                                lineNumber: 500,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                width: chartWidth,\n                                height: chartHeight,\n                                style: {\n                                    border: \"1px solid rgba(255, 255, 255, 0.2)\",\n                                    borderRadius: \"4px\"\n                                },\n                                children: [\n                                    [\n                                        0,\n                                        0.25,\n                                        0.5,\n                                        0.75,\n                                        1\n                                    ].map((t)=>{\n                                        const elevation = minElevation + t * (maxElevation - minElevation);\n                                        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"line\", {\n                                            x1: padding,\n                                            y1: scaleY(elevation),\n                                            x2: chartWidth - padding,\n                                            y2: scaleY(elevation),\n                                            stroke: \"rgba(255, 255, 255, 0.1)\",\n                                            strokeWidth: \"1\"\n                                        }, `grid-h-${t}`, false, {\n                                            fileName: \"/app/components/RoadProfileViewer.js\",\n                                            lineNumber: 506,\n                                            columnNumber: 19\n                                        }, this);\n                                    }),\n                                    [\n                                        0,\n                                        0.25,\n                                        0.5,\n                                        0.75,\n                                        1\n                                    ].map((t)=>{\n                                        const distance = minDistance + t * distanceRange;\n                                        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"line\", {\n                                            x1: scaleX(distance),\n                                            y1: padding,\n                                            x2: scaleX(distance),\n                                            y2: chartHeight - padding,\n                                            stroke: \"rgba(255, 255, 255, 0.1)\",\n                                            strokeWidth: \"1\"\n                                        }, `grid-v-${t}`, false, {\n                                            fileName: \"/app/components/RoadProfileViewer.js\",\n                                            lineNumber: 520,\n                                            columnNumber: 19\n                                        }, this);\n                                    }),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"line\", {\n                                        x1: padding,\n                                        y1: padding,\n                                        x2: padding,\n                                        y2: chartHeight - padding,\n                                        stroke: \"white\",\n                                        strokeWidth: \"2\"\n                                    }, void 0, false, {\n                                        fileName: \"/app/components/RoadProfileViewer.js\",\n                                        lineNumber: 533,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"line\", {\n                                        x1: padding,\n                                        y1: chartHeight - padding,\n                                        x2: chartWidth - padding,\n                                        y2: chartHeight - padding,\n                                        stroke: \"white\",\n                                        strokeWidth: \"2\"\n                                    }, void 0, false, {\n                                        fileName: \"/app/components/RoadProfileViewer.js\",\n                                        lineNumber: 541,\n                                        columnNumber: 15\n                                    }, this),\n                                    [\n                                        0,\n                                        0.25,\n                                        0.5,\n                                        0.75,\n                                        1\n                                    ].map((t)=>{\n                                        const elevation = minElevation + t * (maxElevation - minElevation);\n                                        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"text\", {\n                                            x: padding - 10,\n                                            y: scaleY(elevation),\n                                            fill: \"white\",\n                                            textAnchor: \"end\",\n                                            fontSize: \"10\",\n                                            style: {\n                                                dominantBaseline: \"middle\"\n                                            },\n                                            children: elevation.toFixed(0)\n                                        }, `elev-${t}`, false, {\n                                            fileName: \"/app/components/RoadProfileViewer.js\",\n                                            lineNumber: 554,\n                                            columnNumber: 19\n                                        }, this);\n                                    }),\n                                    [\n                                        0,\n                                        0.25,\n                                        0.5,\n                                        0.75,\n                                        1\n                                    ].map((t)=>{\n                                        const distance = minDistance + t * distanceRange;\n                                        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"text\", {\n                                            x: padding + t * plotWidth,\n                                            y: chartHeight - 20,\n                                            fill: \"white\",\n                                            textAnchor: \"middle\",\n                                            fontSize: \"10\",\n                                            children: distance.toFixed(0)\n                                        }, `dist-${t}`, false, {\n                                            fileName: \"/app/components/RoadProfileViewer.js\",\n                                            lineNumber: 572,\n                                            columnNumber: 19\n                                        }, this);\n                                    }),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"text\", {\n                                        x: 15,\n                                        y: padding + plotHeight / 2,\n                                        fill: \"white\",\n                                        textAnchor: \"middle\",\n                                        fontSize: \"12\",\n                                        transform: `rotate(-90, 15, ${padding + plotHeight / 2})`,\n                                        style: {\n                                            dominantBaseline: \"middle\"\n                                        },\n                                        children: \"Elevation (m)\"\n                                    }, void 0, false, {\n                                        fileName: \"/app/components/RoadProfileViewer.js\",\n                                        lineNumber: 586,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"text\", {\n                                        x: padding + plotWidth / 2,\n                                        y: chartHeight - 10,\n                                        fill: \"white\",\n                                        textAnchor: \"middle\",\n                                        fontSize: \"12\",\n                                        children: \"Distance (m)\"\n                                    }, void 0, false, {\n                                        fileName: \"/app/components/RoadProfileViewer.js\",\n                                        lineNumber: 597,\n                                        columnNumber: 15\n                                    }, this),\n                                    pathData && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                        d: pathData,\n                                        fill: \"none\",\n                                        stroke: \"#4ECDC4\",\n                                        strokeWidth: \"3\"\n                                    }, void 0, false, {\n                                        fileName: \"/app/components/RoadProfileViewer.js\",\n                                        lineNumber: 603,\n                                        columnNumber: 17\n                                    }, this),\n                                    profileData.map((point, idx)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"circle\", {\n                                            cx: scaleX(point.distance),\n                                            cy: scaleY(point.elevation),\n                                            r: \"4\",\n                                            fill: \"#FFD700\",\n                                            stroke: \"#FFA500\",\n                                            strokeWidth: \"2\"\n                                        }, `point-${idx}`, false, {\n                                            fileName: \"/app/components/RoadProfileViewer.js\",\n                                            lineNumber: 613,\n                                            columnNumber: 17\n                                        }, this))\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/app/components/RoadProfileViewer.js\",\n                                lineNumber: 501,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/app/components/RoadProfileViewer.js\",\n                        lineNumber: 499,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                style: {\n                                    display: \"flex\",\n                                    justifyContent: \"space-between\",\n                                    alignItems: \"center\",\n                                    marginBottom: \"16px\"\n                                },\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                        style: {\n                                            margin: 0,\n                                            color: \"#4ECDC4\"\n                                        },\n                                        children: \"Slope Segments\"\n                                    }, void 0, false, {\n                                        fileName: \"/app/components/RoadProfileViewer.js\",\n                                        lineNumber: 629,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        onClick: ()=>{\n                                            const firstLane = conditions.length > 0 ? conditions[0].lane_id : `road_${roadId}_0_forward`;\n                                            setNewSegment({\n                                                lane_id: firstLane,\n                                                start_measure: \"\",\n                                                end_measure: \"\",\n                                                condition_value: \"\"\n                                            });\n                                            setAddingNew(true);\n                                        },\n                                        style: {\n                                            padding: \"6px 12px\",\n                                            background: \"#2ECC71\",\n                                            color: \"white\",\n                                            border: \"none\",\n                                            borderRadius: \"4px\",\n                                            cursor: \"pointer\",\n                                            fontSize: \"12px\",\n                                            fontWeight: \"bold\"\n                                        },\n                                        children: \"+ Add Segment\"\n                                    }, void 0, false, {\n                                        fileName: \"/app/components/RoadProfileViewer.js\",\n                                        lineNumber: 630,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/app/components/RoadProfileViewer.js\",\n                                lineNumber: 628,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                style: {\n                                    overflowX: \"auto\"\n                                },\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"table\", {\n                                    style: {\n                                        width: \"100%\",\n                                        borderCollapse: \"collapse\"\n                                    },\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"thead\", {\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"tr\", {\n                                                style: {\n                                                    backgroundColor: \"rgba(52, 152, 219, 0.2)\"\n                                                },\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"th\", {\n                                                        style: {\n                                                            padding: \"8px\",\n                                                            textAlign: \"left\",\n                                                            border: \"1px solid rgba(255, 255, 255, 0.2)\"\n                                                        },\n                                                        children: \"Road Start (m)\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/app/components/RoadProfileViewer.js\",\n                                                        lineNumber: 659,\n                                                        columnNumber: 21\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"th\", {\n                                                        style: {\n                                                            padding: \"8px\",\n                                                            textAlign: \"left\",\n                                                            border: \"1px solid rgba(255, 255, 255, 0.2)\"\n                                                        },\n                                                        children: \"Road End (m)\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/app/components/RoadProfileViewer.js\",\n                                                        lineNumber: 660,\n                                                        columnNumber: 21\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"th\", {\n                                                        style: {\n                                                            padding: \"8px\",\n                                                            textAlign: \"left\",\n                                                            border: \"1px solid rgba(255, 255, 255, 0.2)\"\n                                                        },\n                                                        children: \"Slope (%)\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/app/components/RoadProfileViewer.js\",\n                                                        lineNumber: 661,\n                                                        columnNumber: 21\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"th\", {\n                                                        style: {\n                                                            padding: \"8px\",\n                                                            textAlign: \"left\",\n                                                            border: \"1px solid rgba(255, 255, 255, 0.2)\"\n                                                        },\n                                                        children: \"Elevation at Start (m)\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/app/components/RoadProfileViewer.js\",\n                                                        lineNumber: 662,\n                                                        columnNumber: 21\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"th\", {\n                                                        style: {\n                                                            padding: \"8px\",\n                                                            textAlign: \"left\",\n                                                            border: \"1px solid rgba(255, 255, 255, 0.2)\"\n                                                        },\n                                                        children: \"Elevation at End (m)\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/app/components/RoadProfileViewer.js\",\n                                                        lineNumber: 663,\n                                                        columnNumber: 21\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"th\", {\n                                                        style: {\n                                                            padding: \"8px\",\n                                                            textAlign: \"left\",\n                                                            border: \"1px solid rgba(255, 255, 255, 0.2)\"\n                                                        },\n                                                        children: \"Actions\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/app/components/RoadProfileViewer.js\",\n                                                        lineNumber: 664,\n                                                        columnNumber: 21\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/app/components/RoadProfileViewer.js\",\n                                                lineNumber: 658,\n                                                columnNumber: 19\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"/app/components/RoadProfileViewer.js\",\n                                            lineNumber: 657,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"tbody\", {\n                                            children: [\n                                                (()=>{\n                                                    // Sort by lane segment number first, then by start_measure within each lane\n                                                    const sortedConditions = [\n                                                        ...conditions\n                                                    ].sort((a, b)=>{\n                                                        const matchA = (a.lane_id || \"\").match(/road_\\d+_(\\d+)_/);\n                                                        const matchB = (b.lane_id || \"\").match(/road_\\d+_(\\d+)_/);\n                                                        const segNumA = matchA ? parseInt(matchA[1], 10) : 999;\n                                                        const segNumB = matchB ? parseInt(matchB[1], 10) : 999;\n                                                        if (segNumA !== segNumB) return segNumA - segNumB;\n                                                        if (a.start_measure !== b.start_measure) return a.start_measure - b.start_measure;\n                                                        return a.end_measure - b.end_measure;\n                                                    });\n                                                    const laneCumulativeDistances = new Map();\n                                                    let cumulativeDist = 0;\n                                                    const laneGroups = {};\n                                                    sortedConditions.forEach((cond)=>{\n                                                        if (!laneGroups[cond.lane_id]) laneGroups[cond.lane_id] = [];\n                                                        laneGroups[cond.lane_id].push(cond);\n                                                    });\n                                                    Object.keys(laneGroups).sort((a, b)=>{\n                                                        const matchA = (a || \"\").match(/road_\\d+_(\\d+)_/);\n                                                        const matchB = (b || \"\").match(/road_\\d+_(\\d+)_/);\n                                                        const segNumA = matchA ? parseInt(matchA[1], 10) : 999;\n                                                        const segNumB = matchB ? parseInt(matchB[1], 10) : 999;\n                                                        return segNumA - segNumB;\n                                                    }).forEach((laneId)=>{\n                                                        if (!laneCumulativeDistances.has(laneId)) {\n                                                            laneCumulativeDistances.set(laneId, cumulativeDist);\n                                                            const laneLength = Number(laneGroups[laneId][0]?.lane_length) || Math.max(...laneGroups[laneId].map((c)=>c.end_measure), 0);\n                                                            cumulativeDist += laneLength;\n                                                        }\n                                                    });\n                                                    return sortedConditions.map((cond)=>{\n                                                        // Get cumulative road distance for this lane segment\n                                                        const laneStartDist = Number(laneCumulativeDistances.get(cond.lane_id)) || 0;\n                                                        const roadStartDist = laneStartDist + (Number(cond.start_measure) || 0);\n                                                        const roadEndDist = laneStartDist + (Number(cond.end_measure) || 0);\n                                                        // Calculate elevation at these cumulative road distances\n                                                        const startElevation = calculateElevationAtDistance(roadStartDist, adjustedConds);\n                                                        const endElevation = calculateElevationAtDistance(roadEndDist, adjustedConds);\n                                                        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"tr\", {\n                                                            style: {\n                                                                borderBottom: \"1px solid rgba(255, 255, 255, 0.1)\"\n                                                            },\n                                                            children: [\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                                                    style: {\n                                                                        padding: \"8px\",\n                                                                        border: \"1px solid rgba(255, 255, 255, 0.1)\"\n                                                                    },\n                                                                    children: Number(roadStartDist).toFixed(2)\n                                                                }, void 0, false, {\n                                                                    fileName: \"/app/components/RoadProfileViewer.js\",\n                                                                    lineNumber: 715,\n                                                                    columnNumber: 25\n                                                                }, this),\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                                                    style: {\n                                                                        padding: \"8px\",\n                                                                        border: \"1px solid rgba(255, 255, 255, 0.1)\"\n                                                                    },\n                                                                    children: Number(roadEndDist).toFixed(2)\n                                                                }, void 0, false, {\n                                                                    fileName: \"/app/components/RoadProfileViewer.js\",\n                                                                    lineNumber: 716,\n                                                                    columnNumber: 25\n                                                                }, this),\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                                                    style: {\n                                                                        padding: \"8px\",\n                                                                        border: \"1px solid rgba(255, 255, 255, 0.1)\"\n                                                                    },\n                                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                        style: {\n                                                                            display: \"flex\",\n                                                                            flexDirection: \"column\",\n                                                                            gap: \"4px\"\n                                                                        },\n                                                                        children: [\n                                                                            editingId === cond.condition_id ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                                                type: \"number\",\n                                                                                value: editValue,\n                                                                                onChange: (e)=>setEditValue(e.target.value),\n                                                                                step: \"0.1\",\n                                                                                style: {\n                                                                                    width: \"80px\",\n                                                                                    padding: \"4px\",\n                                                                                    borderRadius: \"4px\",\n                                                                                    border: \"1px solid #555\",\n                                                                                    backgroundColor: \"#2c2c2c\",\n                                                                                    color: \"white\"\n                                                                                }\n                                                                            }, void 0, false, {\n                                                                                fileName: \"/app/components/RoadProfileViewer.js\",\n                                                                                lineNumber: 720,\n                                                                                columnNumber: 29\n                                                                            }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                                style: {\n                                                                                    color: parseFloat(cond.condition_value) >= 0 ? \"#2ECC71\" : \"#E74C3C\"\n                                                                                },\n                                                                                children: [\n                                                                                    parseFloat(cond.condition_value).toFixed(2),\n                                                                                    \"%\"\n                                                                                ]\n                                                                            }, void 0, true, {\n                                                                                fileName: \"/app/components/RoadProfileViewer.js\",\n                                                                                lineNumber: 735,\n                                                                                columnNumber: 31\n                                                                            }, this),\n                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                                style: {\n                                                                                    color: \"#95a5a6\",\n                                                                                    fontSize: \"11px\"\n                                                                                },\n                                                                                children: cond.lane_id\n                                                                            }, void 0, false, {\n                                                                                fileName: \"/app/components/RoadProfileViewer.js\",\n                                                                                lineNumber: 739,\n                                                                                columnNumber: 29\n                                                                            }, this)\n                                                                        ]\n                                                                    }, void 0, true, {\n                                                                        fileName: \"/app/components/RoadProfileViewer.js\",\n                                                                        lineNumber: 718,\n                                                                        columnNumber: 27\n                                                                    }, this)\n                                                                }, void 0, false, {\n                                                                    fileName: \"/app/components/RoadProfileViewer.js\",\n                                                                    lineNumber: 717,\n                                                                    columnNumber: 25\n                                                                }, this),\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                                                    style: {\n                                                                        padding: \"8px\",\n                                                                        border: \"1px solid rgba(255, 255, 255, 0.1)\"\n                                                                    },\n                                                                    children: startElevation.toFixed(2)\n                                                                }, void 0, false, {\n                                                                    fileName: \"/app/components/RoadProfileViewer.js\",\n                                                                    lineNumber: 742,\n                                                                    columnNumber: 25\n                                                                }, this),\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                                                    style: {\n                                                                        padding: \"8px\",\n                                                                        border: \"1px solid rgba(255, 255, 255, 0.1)\"\n                                                                    },\n                                                                    children: endElevation.toFixed(2)\n                                                                }, void 0, false, {\n                                                                    fileName: \"/app/components/RoadProfileViewer.js\",\n                                                                    lineNumber: 745,\n                                                                    columnNumber: 25\n                                                                }, this),\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                                                    style: {\n                                                                        padding: \"8px\",\n                                                                        border: \"1px solid rgba(255, 255, 255, 0.1)\"\n                                                                    },\n                                                                    children: editingId === cond.condition_id ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                        style: {\n                                                                            display: \"flex\",\n                                                                            gap: \"4px\"\n                                                                        },\n                                                                        children: [\n                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                                                onClick: ()=>handleSave(cond.condition_id),\n                                                                                disabled: saving,\n                                                                                style: {\n                                                                                    padding: \"4px 8px\",\n                                                                                    background: \"#2ECC71\",\n                                                                                    color: \"white\",\n                                                                                    border: \"none\",\n                                                                                    borderRadius: \"4px\",\n                                                                                    cursor: saving ? \"not-allowed\" : \"pointer\",\n                                                                                    fontSize: \"12px\"\n                                                                                },\n                                                                                children: saving ? \"Saving...\" : \"Save\"\n                                                                            }, void 0, false, {\n                                                                                fileName: \"/app/components/RoadProfileViewer.js\",\n                                                                                lineNumber: 751,\n                                                                                columnNumber: 31\n                                                                            }, this),\n                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                                                onClick: handleCancel,\n                                                                                style: {\n                                                                                    padding: \"4px 8px\",\n                                                                                    background: \"#95a5a6\",\n                                                                                    color: \"white\",\n                                                                                    border: \"none\",\n                                                                                    borderRadius: \"4px\",\n                                                                                    cursor: \"pointer\",\n                                                                                    fontSize: \"12px\"\n                                                                                },\n                                                                                children: \"Cancel\"\n                                                                            }, void 0, false, {\n                                                                                fileName: \"/app/components/RoadProfileViewer.js\",\n                                                                                lineNumber: 766,\n                                                                                columnNumber: 31\n                                                                            }, this)\n                                                                        ]\n                                                                    }, void 0, true, {\n                                                                        fileName: \"/app/components/RoadProfileViewer.js\",\n                                                                        lineNumber: 750,\n                                                                        columnNumber: 29\n                                                                    }, this) : splittingId === cond.condition_id ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                        style: {\n                                                                            display: \"flex\",\n                                                                            flexDirection: \"column\",\n                                                                            gap: \"4px\"\n                                                                        },\n                                                                        children: [\n                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                                                type: \"number\",\n                                                                                value: splitPoint,\n                                                                                onChange: (e)=>setSplitPoint(e.target.value),\n                                                                                placeholder: \"Split point\",\n                                                                                step: \"0.1\",\n                                                                                style: {\n                                                                                    width: \"100px\",\n                                                                                    padding: \"4px\",\n                                                                                    borderRadius: \"4px\",\n                                                                                    border: \"1px solid #555\",\n                                                                                    backgroundColor: \"#2c2c2c\",\n                                                                                    color: \"white\",\n                                                                                    fontSize: \"11px\"\n                                                                                }\n                                                                            }, void 0, false, {\n                                                                                fileName: \"/app/components/RoadProfileViewer.js\",\n                                                                                lineNumber: 783,\n                                                                                columnNumber: 31\n                                                                            }, this),\n                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                style: {\n                                                                                    display: \"flex\",\n                                                                                    gap: \"4px\"\n                                                                                },\n                                                                                children: [\n                                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                                                        onClick: ()=>handleSplit(cond),\n                                                                                        disabled: saving,\n                                                                                        style: {\n                                                                                            padding: \"4px 8px\",\n                                                                                            background: \"#E67E22\",\n                                                                                            color: \"white\",\n                                                                                            border: \"none\",\n                                                                                            borderRadius: \"4px\",\n                                                                                            cursor: saving ? \"not-allowed\" : \"pointer\",\n                                                                                            fontSize: \"11px\"\n                                                                                        },\n                                                                                        children: saving ? \"Splitting...\" : \"Split\"\n                                                                                    }, void 0, false, {\n                                                                                        fileName: \"/app/components/RoadProfileViewer.js\",\n                                                                                        lineNumber: 800,\n                                                                                        columnNumber: 33\n                                                                                    }, this),\n                                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                                                        onClick: handleCancel,\n                                                                                        style: {\n                                                                                            padding: \"4px 8px\",\n                                                                                            background: \"#95a5a6\",\n                                                                                            color: \"white\",\n                                                                                            border: \"none\",\n                                                                                            borderRadius: \"4px\",\n                                                                                            cursor: \"pointer\",\n                                                                                            fontSize: \"11px\"\n                                                                                        },\n                                                                                        children: \"Cancel\"\n                                                                                    }, void 0, false, {\n                                                                                        fileName: \"/app/components/RoadProfileViewer.js\",\n                                                                                        lineNumber: 815,\n                                                                                        columnNumber: 33\n                                                                                    }, this)\n                                                                                ]\n                                                                            }, void 0, true, {\n                                                                                fileName: \"/app/components/RoadProfileViewer.js\",\n                                                                                lineNumber: 799,\n                                                                                columnNumber: 31\n                                                                            }, this)\n                                                                        ]\n                                                                    }, void 0, true, {\n                                                                        fileName: \"/app/components/RoadProfileViewer.js\",\n                                                                        lineNumber: 782,\n                                                                        columnNumber: 29\n                                                                    }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                        style: {\n                                                                            display: \"flex\",\n                                                                            gap: \"4px\",\n                                                                            flexWrap: \"wrap\"\n                                                                        },\n                                                                        children: [\n                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                                                onClick: ()=>handleEdit(cond),\n                                                                                style: {\n                                                                                    padding: \"4px 8px\",\n                                                                                    background: \"#3498db\",\n                                                                                    color: \"white\",\n                                                                                    border: \"none\",\n                                                                                    borderRadius: \"4px\",\n                                                                                    cursor: \"pointer\",\n                                                                                    fontSize: \"11px\"\n                                                                                },\n                                                                                children: \"Edit\"\n                                                                            }, void 0, false, {\n                                                                                fileName: \"/app/components/RoadProfileViewer.js\",\n                                                                                lineNumber: 833,\n                                                                                columnNumber: 31\n                                                                            }, this),\n                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                                                onClick: ()=>setSplittingId(cond.condition_id),\n                                                                                style: {\n                                                                                    padding: \"4px 8px\",\n                                                                                    background: \"#E67E22\",\n                                                                                    color: \"white\",\n                                                                                    border: \"none\",\n                                                                                    borderRadius: \"4px\",\n                                                                                    cursor: \"pointer\",\n                                                                                    fontSize: \"11px\"\n                                                                                },\n                                                                                children: \"Split\"\n                                                                            }, void 0, false, {\n                                                                                fileName: \"/app/components/RoadProfileViewer.js\",\n                                                                                lineNumber: 847,\n                                                                                columnNumber: 31\n                                                                            }, this),\n                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                                                onClick: ()=>handleDelete(cond.condition_id),\n                                                                                disabled: saving,\n                                                                                style: {\n                                                                                    padding: \"4px 8px\",\n                                                                                    background: \"#E74C3C\",\n                                                                                    color: \"white\",\n                                                                                    border: \"none\",\n                                                                                    borderRadius: \"4px\",\n                                                                                    cursor: saving ? \"not-allowed\" : \"pointer\",\n                                                                                    fontSize: \"11px\"\n                                                                                },\n                                                                                children: \"Delete\"\n                                                                            }, void 0, false, {\n                                                                                fileName: \"/app/components/RoadProfileViewer.js\",\n                                                                                lineNumber: 861,\n                                                                                columnNumber: 31\n                                                                            }, this)\n                                                                        ]\n                                                                    }, void 0, true, {\n                                                                        fileName: \"/app/components/RoadProfileViewer.js\",\n                                                                        lineNumber: 832,\n                                                                        columnNumber: 29\n                                                                    }, this)\n                                                                }, void 0, false, {\n                                                                    fileName: \"/app/components/RoadProfileViewer.js\",\n                                                                    lineNumber: 748,\n                                                                    columnNumber: 25\n                                                                }, this)\n                                                            ]\n                                                        }, cond.condition_id, true, {\n                                                            fileName: \"/app/components/RoadProfileViewer.js\",\n                                                            lineNumber: 714,\n                                                            columnNumber: 23\n                                                        }, this);\n                                                    });\n                                                })(),\n                                                addingNew && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"tr\", {\n                                                    style: {\n                                                        borderBottom: \"1px solid rgba(255, 255, 255, 0.1)\",\n                                                        backgroundColor: \"rgba(46, 204, 113, 0.1)\"\n                                                    },\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                                            style: {\n                                                                padding: \"8px\",\n                                                                border: \"1px solid rgba(255, 255, 255, 0.1)\"\n                                                            },\n                                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                                type: \"text\",\n                                                                value: newSegment.lane_id,\n                                                                onChange: (e)=>setNewSegment({\n                                                                        ...newSegment,\n                                                                        lane_id: e.target.value\n                                                                    }),\n                                                                placeholder: \"lane_id\",\n                                                                style: {\n                                                                    width: \"150px\",\n                                                                    padding: \"4px\",\n                                                                    borderRadius: \"4px\",\n                                                                    border: \"1px solid #555\",\n                                                                    backgroundColor: \"#2c2c2c\",\n                                                                    color: \"white\",\n                                                                    fontSize: \"11px\"\n                                                                }\n                                                            }, void 0, false, {\n                                                                fileName: \"/app/components/RoadProfileViewer.js\",\n                                                                lineNumber: 887,\n                                                                columnNumber: 25\n                                                            }, this)\n                                                        }, void 0, false, {\n                                                            fileName: \"/app/components/RoadProfileViewer.js\",\n                                                            lineNumber: 886,\n                                                            columnNumber: 23\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                                            style: {\n                                                                padding: \"8px\",\n                                                                border: \"1px solid rgba(255, 255, 255, 0.1)\"\n                                                            },\n                                                            children: \"-\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/app/components/RoadProfileViewer.js\",\n                                                            lineNumber: 903,\n                                                            columnNumber: 23\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                                            style: {\n                                                                padding: \"8px\",\n                                                                border: \"1px solid rgba(255, 255, 255, 0.1)\"\n                                                            },\n                                                            children: \"-\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/app/components/RoadProfileViewer.js\",\n                                                            lineNumber: 904,\n                                                            columnNumber: 23\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                                            style: {\n                                                                padding: \"8px\",\n                                                                border: \"1px solid rgba(255, 255, 255, 0.1)\"\n                                                            },\n                                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                                type: \"number\",\n                                                                value: newSegment.start_measure,\n                                                                onChange: (e)=>setNewSegment({\n                                                                        ...newSegment,\n                                                                        start_measure: e.target.value\n                                                                    }),\n                                                                placeholder: \"Start\",\n                                                                step: \"0.1\",\n                                                                style: {\n                                                                    width: \"80px\",\n                                                                    padding: \"4px\",\n                                                                    borderRadius: \"4px\",\n                                                                    border: \"1px solid #555\",\n                                                                    backgroundColor: \"#2c2c2c\",\n                                                                    color: \"white\",\n                                                                    fontSize: \"11px\"\n                                                                }\n                                                            }, void 0, false, {\n                                                                fileName: \"/app/components/RoadProfileViewer.js\",\n                                                                lineNumber: 906,\n                                                                columnNumber: 25\n                                                            }, this)\n                                                        }, void 0, false, {\n                                                            fileName: \"/app/components/RoadProfileViewer.js\",\n                                                            lineNumber: 905,\n                                                            columnNumber: 23\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                                            style: {\n                                                                padding: \"8px\",\n                                                                border: \"1px solid rgba(255, 255, 255, 0.1)\"\n                                                            },\n                                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                                type: \"number\",\n                                                                value: newSegment.end_measure,\n                                                                onChange: (e)=>setNewSegment({\n                                                                        ...newSegment,\n                                                                        end_measure: e.target.value\n                                                                    }),\n                                                                placeholder: \"End\",\n                                                                step: \"0.1\",\n                                                                style: {\n                                                                    width: \"80px\",\n                                                                    padding: \"4px\",\n                                                                    borderRadius: \"4px\",\n                                                                    border: \"1px solid #555\",\n                                                                    backgroundColor: \"#2c2c2c\",\n                                                                    color: \"white\",\n                                                                    fontSize: \"11px\"\n                                                                }\n                                                            }, void 0, false, {\n                                                                fileName: \"/app/components/RoadProfileViewer.js\",\n                                                                lineNumber: 924,\n                                                                columnNumber: 25\n                                                            }, this)\n                                                        }, void 0, false, {\n                                                            fileName: \"/app/components/RoadProfileViewer.js\",\n                                                            lineNumber: 923,\n                                                            columnNumber: 23\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                                            style: {\n                                                                padding: \"8px\",\n                                                                border: \"1px solid rgba(255, 255, 255, 0.1)\"\n                                                            },\n                                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                                type: \"number\",\n                                                                value: newSegment.condition_value,\n                                                                onChange: (e)=>setNewSegment({\n                                                                        ...newSegment,\n                                                                        condition_value: e.target.value\n                                                                    }),\n                                                                placeholder: \"Slope %\",\n                                                                step: \"0.1\",\n                                                                style: {\n                                                                    width: \"80px\",\n                                                                    padding: \"4px\",\n                                                                    borderRadius: \"4px\",\n                                                                    border: \"1px solid #555\",\n                                                                    backgroundColor: \"#2c2c2c\",\n                                                                    color: \"white\",\n                                                                    fontSize: \"11px\"\n                                                                }\n                                                            }, void 0, false, {\n                                                                fileName: \"/app/components/RoadProfileViewer.js\",\n                                                                lineNumber: 942,\n                                                                columnNumber: 25\n                                                            }, this)\n                                                        }, void 0, false, {\n                                                            fileName: \"/app/components/RoadProfileViewer.js\",\n                                                            lineNumber: 941,\n                                                            columnNumber: 23\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                                            style: {\n                                                                padding: \"8px\",\n                                                                border: \"1px solid rgba(255, 255, 255, 0.1)\"\n                                                            },\n                                                            children: \"-\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/app/components/RoadProfileViewer.js\",\n                                                            lineNumber: 959,\n                                                            columnNumber: 23\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                                            style: {\n                                                                padding: \"8px\",\n                                                                border: \"1px solid rgba(255, 255, 255, 0.1)\"\n                                                            },\n                                                            children: \"-\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/app/components/RoadProfileViewer.js\",\n                                                            lineNumber: 960,\n                                                            columnNumber: 23\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                                            style: {\n                                                                padding: \"8px\",\n                                                                border: \"1px solid rgba(255, 255, 255, 0.1)\"\n                                                            },\n                                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                style: {\n                                                                    display: \"flex\",\n                                                                    gap: \"4px\"\n                                                                },\n                                                                children: [\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                                        onClick: handleAdd,\n                                                                        disabled: saving,\n                                                                        style: {\n                                                                            padding: \"4px 8px\",\n                                                                            background: \"#2ECC71\",\n                                                                            color: \"white\",\n                                                                            border: \"none\",\n                                                                            borderRadius: \"4px\",\n                                                                            cursor: saving ? \"not-allowed\" : \"pointer\",\n                                                                            fontSize: \"11px\"\n                                                                        },\n                                                                        children: saving ? \"Adding...\" : \"Add\"\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/app/components/RoadProfileViewer.js\",\n                                                                        lineNumber: 963,\n                                                                        columnNumber: 27\n                                                                    }, this),\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                                        onClick: handleCancel,\n                                                                        style: {\n                                                                            padding: \"4px 8px\",\n                                                                            background: \"#95a5a6\",\n                                                                            color: \"white\",\n                                                                            border: \"none\",\n                                                                            borderRadius: \"4px\",\n                                                                            cursor: \"pointer\",\n                                                                            fontSize: \"11px\"\n                                                                        },\n                                                                        children: \"Cancel\"\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/app/components/RoadProfileViewer.js\",\n                                                                        lineNumber: 978,\n                                                                        columnNumber: 27\n                                                                    }, this)\n                                                                ]\n                                                            }, void 0, true, {\n                                                                fileName: \"/app/components/RoadProfileViewer.js\",\n                                                                lineNumber: 962,\n                                                                columnNumber: 25\n                                                            }, this)\n                                                        }, void 0, false, {\n                                                            fileName: \"/app/components/RoadProfileViewer.js\",\n                                                            lineNumber: 961,\n                                                            columnNumber: 23\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/app/components/RoadProfileViewer.js\",\n                                                    lineNumber: 885,\n                                                    columnNumber: 21\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/app/components/RoadProfileViewer.js\",\n                                            lineNumber: 667,\n                                            columnNumber: 17\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/app/components/RoadProfileViewer.js\",\n                                    lineNumber: 656,\n                                    columnNumber: 15\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/app/components/RoadProfileViewer.js\",\n                                lineNumber: 655,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/app/components/RoadProfileViewer.js\",\n                        lineNumber: 627,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true)\n        ]\n    }, void 0, true, {\n        fileName: \"/app/components/RoadProfileViewer.js\",\n        lineNumber: 415,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUNqQ2tLLFVBQVU7d0VBQ1o7a0ZBRUNsSyxTQUFTLGNBQWM7Ozs7OztrRkFFMUIsOERBQUMySjt3RUFDQ0MsU0FBUzdDO3dFQUNUMkIsT0FBTzs0RUFDTFYsU0FBUzs0RUFDVDZCLFlBQVk7NEVBQ1pSLE9BQU87NEVBQ1BTLFFBQVE7NEVBQ1JDLGNBQWM7NEVBQ2RDLFFBQVE7NEVBQ1JFLFVBQVU7d0VBQ1o7a0ZBQ0Q7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQWUzQiIsInNvdXJjZXMiOlsid2VicGFjazovL2NvbWJpbmVkLXVpLy4vY29tcG9uZW50cy9Sb2FkUHJvZmlsZVZpZXdlci5qcz81OWQ1Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QgfSBmcm9tICdyZWFjdCc7XHJcblxyXG5jb25zdCBSRUZFUkVOQ0VfRUxFVkFUSU9OID0gNzExOyAvLyBtZXRlcnNcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIFJvYWRQcm9maWxlVmlld2VyKHsgcm9hZElkLCBvbkNsb3NlIH0pIHtcclxuICBjb25zdCBbY29uZGl0aW9ucywgc2V0Q29uZGl0aW9uc10gPSB1c2VTdGF0ZShbXSk7XHJcbiAgY29uc3QgW3RvdGFsUm9hZExlbmd0aCwgc2V0VG90YWxSb2FkTGVuZ3RoXSA9IHVzZVN0YXRlKDApO1xyXG4gIGNvbnN0IFtsb2FkaW5nLCBzZXRMb2FkaW5nXSA9IHVzZVN0YXRlKHRydWUpO1xyXG4gIGNvbnN0IFtlZGl0aW5nSWQsIHNldEVkaXRpbmdJZF0gPSB1c2VTdGF0ZShudWxsKTtcclxuICBjb25zdCBbZWRpdFZhbHVlLCBzZXRFZGl0VmFsdWVdID0gdXNlU3RhdGUoJycpO1xyXG4gIGNvbnN0IFtzYXZpbmcsIHNldFNhdmluZ10gPSB1c2VTdGF0ZShmYWxzZSk7XHJcbiAgY29uc3QgW3NwbGl0dGluZ0lkLCBzZXRTcGxpdHRpbmdJZF0gPSB1c2VTdGF0ZShudWxsKTtcclxuICBjb25zdCBbc3BsaXRQb2ludCwgc2V0U3BsaXRQb2ludF0gPSB1c2VTdGF0ZSgnJyk7XHJcbiAgY29uc3QgW2FkZGluZ05ldywgc2V0QWRkaW5nTmV3XSA9IHVzZVN0YXRlKGZhbHNlKTtcclxuICBjb25zdCBbbmV3U2VnbWVudCwgc2V0TmV3U2VnbWVudF0gPSB1c2VTdGF0ZSh7IGxhbmVfaWQ6ICcnLCBzdGFydF9tZWFzdXJlOiAnJywgZW5kX21lYXN1cmU6ICcnLCBjb25kaXRpb25fdmFsdWU6ICcnIH0pO1xyXG5cclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgaWYgKHJvYWRJZCkge1xyXG4gICAgICBmZXRjaENvbmRpdGlvbnMoKTtcclxuICAgIH1cclxuICB9LCBbcm9hZElkXSk7XHJcblxyXG4gIGNvbnN0IGZldGNoQ29uZGl0aW9ucyA9IGFzeW5jICgpID0+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgIHNldExvYWRpbmcodHJ1ZSk7XHJcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYC9hcGkvbGFuZS1jb25kaXRpb25zP3JvYWRJZD0ke3JvYWRJZH1gKTtcclxuICAgICAgaWYgKCFyZXNwb25zZS5vaykgdGhyb3cgbmV3IEVycm9yKCdGYWlsZWQgdG8gZmV0Y2ggY29uZGl0aW9ucycpO1xyXG4gICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xyXG4gICAgICAvLyBIYW5kbGUgYm90aCBvbGQgZm9ybWF0IChhcnJheSkgYW5kIG5ldyBmb3JtYXQgKG9iamVjdCB3aXRoIGNvbmRpdGlvbnMgYW5kIHRvdGFsX3JvYWRfbGVuZ3RoKVxyXG4gICAgICBpZiAoQXJyYXkuaXNBcnJheShkYXRhKSkge1xyXG4gICAgICAgIHNldENvbmRpdGlvbnMoZGF0YSk7XHJcbiAgICAgICAgc2V0VG90YWxSb2FkTGVuZ3RoKDApOyAvLyBXaWxsIGNhbGN1bGF0ZSBmcm9tIGNvbmRpdGlvbnNcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBzZXRDb25kaXRpb25zKGRhdGEuY29uZGl0aW9ucyB8fCBbXSk7XHJcbiAgICAgICAgc2V0VG90YWxSb2FkTGVuZ3RoKE51bWJlcihkYXRhLnRvdGFsX3JvYWRfbGVuZ3RoIHx8IDApKTtcclxuICAgICAgfVxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgY29uZGl0aW9uczonLCBlcnJvcik7XHJcbiAgICB9IGZpbmFsbHkge1xyXG4gICAgICBzZXRMb2FkaW5nKGZhbHNlKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICAvLyBIZWxwZXIgZnVuY3Rpb24gdG8gY2FsY3VsYXRlIGVsZXZhdGlvbiBhdCBhIGdpdmVuIGN1bXVsYXRpdmUgcm9hZCBkaXN0YW5jZVxyXG4gIC8vIFRoaXMgcHJvcGVybHkgbWFwcyBsYW5lIHNlZ21lbnQgY29uZGl0aW9ucyB0byBjdW11bGF0aXZlIHJvYWQgZGlzdGFuY2VcclxuICBjb25zdCBjYWxjdWxhdGVFbGV2YXRpb25BdERpc3RhbmNlID0gKGN1bXVsYXRpdmVEaXN0YW5jZSwgYWxsQ29uZGl0aW9ucykgPT4ge1xyXG4gICAgbGV0IGVsZXZhdGlvbiA9IFJFRkVSRU5DRV9FTEVWQVRJT047XHJcbiAgICBsZXQgY3VycmVudERpc3RhbmNlID0gMDtcclxuXHJcbiAgICAvLyBVc2UgYWRqdXN0ZWQgY29uZGl0aW9ucyAoYWxyZWFkeSBub3JtYWxpemVkLCBnYXAtZnJlZSlcclxuICAgIGNvbnN0IGxhbmVHcm91cHMgPSB7fTtcclxuICAgIGFsbENvbmRpdGlvbnMuZm9yRWFjaChjb25kID0+IHtcclxuICAgICAgaWYgKCFsYW5lR3JvdXBzW2NvbmQubGFuZV9pZF0pIGxhbmVHcm91cHNbY29uZC5sYW5lX2lkXSA9IFtdO1xyXG4gICAgICBsYW5lR3JvdXBzW2NvbmQubGFuZV9pZF0ucHVzaChjb25kKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGNvbnN0IGxhbmVFbnRyaWVzID0gT2JqZWN0LmVudHJpZXMobGFuZUdyb3VwcykubWFwKChbbGFuZUlkLCBjb25kc10pID0+IHtcclxuICAgICAgY29uc3QgbWF0Y2ggPSAobGFuZUlkIHx8ICcnKS5tYXRjaCgvcm9hZF9cXGQrXyhcXGQrKV8vKTtcclxuICAgICAgY29uc3Qgc2VnTnVtID0gbWF0Y2ggPyBwYXJzZUludChtYXRjaFsxXSwgMTApIDogOTk5O1xyXG4gICAgICBjb25zdCBsYW5lTGVuZ3RoID0gTWF0aC5tYXgoLi4uY29uZHMubWFwKGMgPT4gTnVtYmVyKGMuYWRqX2VuZCkgfHwgMCksIDApO1xyXG4gICAgICByZXR1cm4geyBsYW5lSWQsIGNvbmRzLCBzZWdOdW0sIGxhbmVMZW5ndGggfTtcclxuICAgIH0pLnNvcnQoKGEsIGIpID0+IGEuc2VnTnVtIC0gYi5zZWdOdW0pO1xyXG5cclxuICAgIGZvciAoY29uc3QgeyBjb25kcywgbGFuZUxlbmd0aCB9IG9mIGxhbmVFbnRyaWVzKSB7XHJcbiAgICAgIGNvbnN0IHNvcnRlZENvbmRzID0gY29uZHMuc29ydCgoYSwgYikgPT4gYS5hZGpfc3RhcnQgLSBiLmFkal9zdGFydCk7XHJcbiAgICAgIGNvbnN0IGxhbmVTdGFydERpc3RhbmNlID0gY3VycmVudERpc3RhbmNlO1xyXG5cclxuICAgICAgZm9yIChjb25zdCBjb25kIG9mIHNvcnRlZENvbmRzKSB7XHJcbiAgICAgICAgY29uc3QgY29uZFN0YXJ0RGlzdCA9IGxhbmVTdGFydERpc3RhbmNlICsgKE51bWJlcihjb25kLmFkal9zdGFydCkgfHwgMCk7XHJcbiAgICAgICAgY29uc3QgY29uZEVuZERpc3QgPSBsYW5lU3RhcnREaXN0YW5jZSArIChOdW1iZXIoY29uZC5hZGpfZW5kKSB8fCAwKTtcclxuICAgICAgICBjb25zdCBzbG9wZSA9IE51bWJlcihjb25kLmNvbmRpdGlvbl92YWx1ZSkgfHwgMDtcclxuXHJcbiAgICAgICAgaWYgKGN1bXVsYXRpdmVEaXN0YW5jZSA+PSBjb25kU3RhcnREaXN0ICYmIGN1bXVsYXRpdmVEaXN0YW5jZSA8PSBjb25kRW5kRGlzdCkge1xyXG4gICAgICAgICAgY29uc3QgZGlzdEluQ29uZGl0aW9uID0gY3VtdWxhdGl2ZURpc3RhbmNlIC0gY29uZFN0YXJ0RGlzdDtcclxuICAgICAgICAgIGVsZXZhdGlvbiA9IGVsZXZhdGlvbiArIChkaXN0SW5Db25kaXRpb24gKiBzbG9wZSAvIDEwMCk7XHJcbiAgICAgICAgICByZXR1cm4gZWxldmF0aW9uO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoY3VtdWxhdGl2ZURpc3RhbmNlID4gY29uZEVuZERpc3QpIHtcclxuICAgICAgICAgIGNvbnN0IGNvbmRMZW5ndGggPSBjb25kRW5kRGlzdCAtIGNvbmRTdGFydERpc3Q7XHJcbiAgICAgICAgICBlbGV2YXRpb24gPSBlbGV2YXRpb24gKyAoY29uZExlbmd0aCAqIHNsb3BlIC8gMTAwKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGN1cnJlbnREaXN0YW5jZSArPSBsYW5lTGVuZ3RoO1xyXG4gICAgICBpZiAoY3VycmVudERpc3RhbmNlID49IGN1bXVsYXRpdmVEaXN0YW5jZSkgYnJlYWs7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIGVsZXZhdGlvbjtcclxuICB9O1xyXG5cclxuICBjb25zdCBub3JtYWxpemVDb25kaXRpb25zID0gKGNvbmRzKSA9PiB7XHJcbiAgICBpZiAoIWNvbmRzLmxlbmd0aCkgcmV0dXJuIFtdO1xyXG4gICAgY29uc3QgbGFuZUdyb3VwcyA9IHt9O1xyXG4gICAgY29uZHMuZm9yRWFjaChjID0+IHtcclxuICAgICAgY29uc3Qgc3RhcnQgPSBOdW1iZXIoYy5zdGFydF9tZWFzdXJlKSB8fCAwO1xyXG4gICAgICBjb25zdCBlbmQgPSBOdW1iZXIoYy5lbmRfbWVhc3VyZSkgfHwgMDtcclxuICAgICAgY29uc3Qgc2xvcGUgPSBOdW1iZXIoYy5jb25kaXRpb25fdmFsdWUpIHx8IDA7XHJcbiAgICAgIGNvbnN0IGxlbiA9IE51bWJlcihjLmxhbmVfbGVuZ3RoKSB8fCAwO1xyXG4gICAgICBjb25zdCBub3JtYWxpemVkID0geyAuLi5jLCBzdGFydF9tZWFzdXJlOiBzdGFydCwgZW5kX21lYXN1cmU6IGVuZCwgY29uZGl0aW9uX3ZhbHVlOiBzbG9wZSwgbGFuZV9sZW5ndGg6IGxlbiB9O1xyXG4gICAgICBpZiAoIWxhbmVHcm91cHNbYy5sYW5lX2lkXSkgbGFuZUdyb3Vwc1tjLmxhbmVfaWRdID0gW107XHJcbiAgICAgIGxhbmVHcm91cHNbYy5sYW5lX2lkXS5wdXNoKG5vcm1hbGl6ZWQpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gbGFuZSBvcmRlclxyXG4gICAgY29uc3QgbGFuZUVudHJpZXMgPSBPYmplY3QuZW50cmllcyhsYW5lR3JvdXBzKS5tYXAoKFtsYW5lSWQsIGxpc3RdKSA9PiB7XHJcbiAgICAgIGNvbnN0IG1hdGNoID0gKGxhbmVJZCB8fCAnJykubWF0Y2goL3JvYWRfXFxkK18oXFxkKylfLyk7XHJcbiAgICAgIGNvbnN0IHNlZ051bSA9IG1hdGNoID8gcGFyc2VJbnQobWF0Y2hbMV0sIDEwKSA6IDk5OTtcclxuICAgICAgcmV0dXJuIHsgbGFuZUlkLCBsaXN0LCBzZWdOdW0gfTtcclxuICAgIH0pLnNvcnQoKGEsIGIpID0+IGEuc2VnTnVtIC0gYi5zZWdOdW0pO1xyXG5cclxuICAgIGNvbnN0IGxhbmVTdGFydHMgPSBuZXcgTWFwKCk7XHJcbiAgICBsZXQgY3VtdWxhdGl2ZUxhbmUgPSAwO1xyXG4gICAgY29uc3QgYWRqdXN0ZWQgPSBbXTtcclxuXHJcbiAgICBsYW5lRW50cmllcy5mb3JFYWNoKCh7IGxhbmVJZCwgbGlzdCB9KSA9PiB7XHJcbiAgICAgIGxhbmVTdGFydHMuc2V0KGxhbmVJZCwgY3VtdWxhdGl2ZUxhbmUpO1xyXG4gICAgICBjb25zdCBzb3J0ZWQgPSBsaXN0LnNvcnQoKGEsIGIpID0+IGEuc3RhcnRfbWVhc3VyZSAtIGIuc3RhcnRfbWVhc3VyZSk7XHJcbiAgICAgIGxldCBjdXIgPSAwO1xyXG4gICAgICBzb3J0ZWQuZm9yRWFjaChjb25kID0+IHtcclxuICAgICAgICBjb25zdCBsZW5ndGggPSBNYXRoLm1heCgwLCBjb25kLmVuZF9tZWFzdXJlIC0gY29uZC5zdGFydF9tZWFzdXJlKTtcclxuICAgICAgICBjb25zdCBhZGpTdGFydCA9IGN1cjtcclxuICAgICAgICBjb25zdCBhZGpFbmQgPSBhZGpTdGFydCArIGxlbmd0aDtcclxuICAgICAgICBhZGp1c3RlZC5wdXNoKHtcclxuICAgICAgICAgIC4uLmNvbmQsXHJcbiAgICAgICAgICBhZGpfc3RhcnQ6IGFkalN0YXJ0LFxyXG4gICAgICAgICAgYWRqX2VuZDogYWRqRW5kLFxyXG4gICAgICAgICAgcm9hZF9zdGFydDogY3VtdWxhdGl2ZUxhbmUgKyBhZGpTdGFydCxcclxuICAgICAgICAgIHJvYWRfZW5kOiBjdW11bGF0aXZlTGFuZSArIGFkakVuZCxcclxuICAgICAgICB9KTtcclxuICAgICAgICBjdXIgPSBhZGpFbmQ7XHJcbiAgICAgIH0pO1xyXG4gICAgICBjb25zdCBsYW5lTGVuID0gTnVtYmVyKGxpc3RbMF0/LmxhbmVfbGVuZ3RoKSB8fCBjdXI7XHJcbiAgICAgIGN1bXVsYXRpdmVMYW5lICs9IGxhbmVMZW47XHJcbiAgICB9KTtcclxuXHJcbiAgICByZXR1cm4geyBhZGp1c3RlZCwgdG90YWxMZW5ndGg6IGN1bXVsYXRpdmVMYW5lIH07XHJcbiAgfTtcclxuXHJcbiAgY29uc3Qgbm9ybWFsaXplZCA9IG5vcm1hbGl6ZUNvbmRpdGlvbnMoY29uZGl0aW9ucyk7XHJcbiAgY29uc3QgYWRqdXN0ZWRDb25kcyA9IG5vcm1hbGl6ZWQ/LmFkanVzdGVkIHx8IFtdO1xyXG4gIGNvbnN0IGVmZmVjdGl2ZVRvdGFsTGVuZ3RoID0gdG90YWxSb2FkTGVuZ3RoID4gMCA/IHRvdGFsUm9hZExlbmd0aCA6IChub3JtYWxpemVkPy50b3RhbExlbmd0aCB8fCAwKTtcclxuXHJcbiAgY29uc3QgZ2VuZXJhdGVQcm9maWxlRGF0YSA9ICgpID0+IHtcclxuICAgIGlmICghYWRqdXN0ZWRDb25kcy5sZW5ndGggJiYgZWZmZWN0aXZlVG90YWxMZW5ndGggPT09IDApIHJldHVybiBbXTtcclxuXHJcbiAgICBjb25zdCBkaXN0YW5jZVBvaW50cyA9IG5ldyBTZXQoWzAsIGVmZmVjdGl2ZVRvdGFsTGVuZ3RoXSk7XHJcbiAgICBhZGp1c3RlZENvbmRzLmZvckVhY2goYyA9PiB7XHJcbiAgICAgIGRpc3RhbmNlUG9pbnRzLmFkZChjLnJvYWRfc3RhcnQpO1xyXG4gICAgICBkaXN0YW5jZVBvaW50cy5hZGQoYy5yb2FkX2VuZCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBjb25zdCBzb3J0ZWREaXN0YW5jZXMgPSBBcnJheS5mcm9tKGRpc3RhbmNlUG9pbnRzKS5zb3J0KChhLCBiKSA9PiBhIC0gYik7XHJcbiAgICBjb25zdCByZXN1bHQgPSBbXTtcclxuICAgIHNvcnRlZERpc3RhbmNlcy5mb3JFYWNoKGRpc3RhbmNlID0+IHtcclxuICAgICAgY29uc3QgbWF0Y2ggPSBhZGp1c3RlZENvbmRzLmZpbmQoYyA9PiBkaXN0YW5jZSA+PSBjLnJvYWRfc3RhcnQgJiYgZGlzdGFuY2UgPD0gYy5yb2FkX2VuZCk7XHJcbiAgICAgIGNvbnN0IGVsZXZhdGlvbiA9IGNhbGN1bGF0ZUVsZXZhdGlvbkF0RGlzdGFuY2UoZGlzdGFuY2UsIGFkanVzdGVkQ29uZHMpO1xyXG4gICAgICByZXN1bHQucHVzaCh7XHJcbiAgICAgICAgZGlzdGFuY2UsXHJcbiAgICAgICAgZWxldmF0aW9uLFxyXG4gICAgICAgIGxhbmVfaWQ6IG1hdGNoPy5sYW5lX2lkIHx8IG51bGwsXHJcbiAgICAgICAgY29uZGl0aW9uX2lkOiBtYXRjaD8uY29uZGl0aW9uX2lkIHx8IG51bGwsXHJcbiAgICAgIH0pO1xyXG4gICAgfSk7XHJcblxyXG4gICAgcmV0dXJuIHJlc3VsdDtcclxuICB9O1xyXG5cclxuICBjb25zdCBoYW5kbGVFZGl0ID0gKGNvbmRpdGlvbikgPT4ge1xyXG4gICAgc2V0RWRpdGluZ0lkKGNvbmRpdGlvbi5jb25kaXRpb25faWQpO1xyXG4gICAgc2V0RWRpdFZhbHVlKGNvbmRpdGlvbi5jb25kaXRpb25fdmFsdWUpO1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IGhhbmRsZVNhdmUgPSBhc3luYyAoY29uZGl0aW9uSWQpID0+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgIHNldFNhdmluZyh0cnVlKTtcclxuICAgICAgXHJcbiAgICAgIC8vIFZhbGlkYXRlIHRoZSBpbnB1dFxyXG4gICAgICBjb25zdCB2YWx1ZSA9IHBhcnNlRmxvYXQoZWRpdFZhbHVlKTtcclxuICAgICAgaWYgKGlzTmFOKHZhbHVlKSkge1xyXG4gICAgICAgIGFsZXJ0KCdQbGVhc2UgZW50ZXIgYSB2YWxpZCBudW1iZXIgZm9yIHRoZSBzbG9wZScpO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG5cclxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCgnL2FwaS9sYW5lLWNvbmRpdGlvbnMnLCB7XHJcbiAgICAgICAgbWV0aG9kOiAnUFVUJyxcclxuICAgICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgICAgY29uZGl0aW9uX2lkOiBjb25kaXRpb25JZCxcclxuICAgICAgICAgIGNvbmRpdGlvbl92YWx1ZTogZWRpdFZhbHVlXHJcbiAgICAgICAgfSlcclxuICAgICAgfSk7XHJcblxyXG4gICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XHJcbiAgICAgICAgY29uc3QgZXJyb3JEYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihlcnJvckRhdGEuZXJyb3IgfHwgJ0ZhaWxlZCB0byB1cGRhdGUnKTtcclxuICAgICAgfVxyXG4gICAgICBcclxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xyXG4gICAgICBjb25zb2xlLmxvZygnU3VjY2Vzc2Z1bGx5IHVwZGF0ZWQgY29uZGl0aW9uOicsIHJlc3VsdCk7XHJcbiAgICAgIFxyXG4gICAgICAvLyBSZWZyZXNoIGNvbmRpdGlvbnMgdG8gZ2V0IHVwZGF0ZWQgZGF0YVxyXG4gICAgICBhd2FpdCBmZXRjaENvbmRpdGlvbnMoKTtcclxuICAgICAgc2V0RWRpdGluZ0lkKG51bGwpO1xyXG4gICAgICBzZXRFZGl0VmFsdWUoJycpO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcignRXJyb3Igc2F2aW5nIGNvbmRpdGlvbjonLCBlcnJvcik7XHJcbiAgICAgIGFsZXJ0KGBGYWlsZWQgdG8gc2F2ZSBzbG9wZSB2YWx1ZTogJHtlcnJvci5tZXNzYWdlfWApO1xyXG4gICAgfSBmaW5hbGx5IHtcclxuICAgICAgc2V0U2F2aW5nKGZhbHNlKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICBjb25zdCBoYW5kbGVDYW5jZWwgPSAoKSA9PiB7XHJcbiAgICBzZXRFZGl0aW5nSWQobnVsbCk7XHJcbiAgICBzZXRFZGl0VmFsdWUoJycpO1xyXG4gICAgc2V0U3BsaXR0aW5nSWQobnVsbCk7XHJcbiAgICBzZXRTcGxpdFBvaW50KCcnKTtcclxuICAgIHNldEFkZGluZ05ldyhmYWxzZSk7XHJcbiAgICBzZXROZXdTZWdtZW50KHsgbGFuZV9pZDogJycsIHN0YXJ0X21lYXN1cmU6ICcnLCBlbmRfbWVhc3VyZTogJycsIGNvbmRpdGlvbl92YWx1ZTogJycgfSk7XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgaGFuZGxlU3BsaXQgPSBhc3luYyAoY29uZGl0aW9uKSA9PiB7XHJcbiAgICBjb25zdCBzcGxpdFZhbHVlID0gcGFyc2VGbG9hdChzcGxpdFBvaW50KTtcclxuICAgIGlmIChpc05hTihzcGxpdFZhbHVlKSB8fCBzcGxpdFZhbHVlIDw9IGNvbmRpdGlvbi5zdGFydF9tZWFzdXJlIHx8IHNwbGl0VmFsdWUgPj0gY29uZGl0aW9uLmVuZF9tZWFzdXJlKSB7XHJcbiAgICAgIGFsZXJ0KCdQbGVhc2UgZW50ZXIgYSB2YWxpZCBzcGxpdCBwb2ludCBiZXR3ZWVuIHN0YXJ0IGFuZCBlbmQgbWVhc3VyZXMnKTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIHRyeSB7XHJcbiAgICAgIHNldFNhdmluZyh0cnVlKTtcclxuICAgICAgXHJcbiAgICAgIC8vIENyZWF0ZSBmaXJzdCBzZWdtZW50OiBzdGFydCB0byBzcGxpdCBwb2ludFxyXG4gICAgICBjb25zdCByZXNwb25zZTEgPSBhd2FpdCBmZXRjaCgnL2FwaS9sYW5lLWNvbmRpdGlvbnMnLCB7XHJcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsXHJcbiAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXHJcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgICAgbGFuZV9pZDogY29uZGl0aW9uLmxhbmVfaWQsXHJcbiAgICAgICAgICBzdGFydF9tZWFzdXJlOiBjb25kaXRpb24uc3RhcnRfbWVhc3VyZSxcclxuICAgICAgICAgIGVuZF9tZWFzdXJlOiBzcGxpdFZhbHVlLFxyXG4gICAgICAgICAgY29uZGl0aW9uX3ZhbHVlOiBjb25kaXRpb24uY29uZGl0aW9uX3ZhbHVlXHJcbiAgICAgICAgfSlcclxuICAgICAgfSk7XHJcblxyXG4gICAgICAvLyBDcmVhdGUgc2Vjb25kIHNlZ21lbnQ6IHNwbGl0IHBvaW50IHRvIGVuZFxyXG4gICAgICBjb25zdCByZXNwb25zZTIgPSBhd2FpdCBmZXRjaCgnL2FwaS9sYW5lLWNvbmRpdGlvbnMnLCB7XHJcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsXHJcbiAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXHJcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgICAgbGFuZV9pZDogY29uZGl0aW9uLmxhbmVfaWQsXHJcbiAgICAgICAgICBzdGFydF9tZWFzdXJlOiBzcGxpdFZhbHVlLFxyXG4gICAgICAgICAgZW5kX21lYXN1cmU6IGNvbmRpdGlvbi5lbmRfbWVhc3VyZSxcclxuICAgICAgICAgIGNvbmRpdGlvbl92YWx1ZTogY29uZGl0aW9uLmNvbmRpdGlvbl92YWx1ZVxyXG4gICAgICAgIH0pXHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgaWYgKCFyZXNwb25zZTEub2sgfHwgIXJlc3BvbnNlMi5vaykge1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignRmFpbGVkIHRvIGNyZWF0ZSBzcGxpdCBzZWdtZW50cycpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBEZWxldGUgb3JpZ2luYWwgc2VnbWVudFxyXG4gICAgICBhd2FpdCBmZXRjaCgnL2FwaS9sYW5lLWNvbmRpdGlvbnMnLCB7XHJcbiAgICAgICAgbWV0aG9kOiAnREVMRVRFJyxcclxuICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcclxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7IGNvbmRpdGlvbl9pZDogY29uZGl0aW9uLmNvbmRpdGlvbl9pZCB9KVxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIGF3YWl0IGZldGNoQ29uZGl0aW9ucygpO1xyXG4gICAgICBzZXRTcGxpdHRpbmdJZChudWxsKTtcclxuICAgICAgc2V0U3BsaXRQb2ludCgnJyk7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBzcGxpdHRpbmcgY29uZGl0aW9uOicsIGVycm9yKTtcclxuICAgICAgYWxlcnQoYEZhaWxlZCB0byBzcGxpdCBzZWdtZW50OiAke2Vycm9yLm1lc3NhZ2V9YCk7XHJcbiAgICB9IGZpbmFsbHkge1xyXG4gICAgICBzZXRTYXZpbmcoZmFsc2UpO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIGNvbnN0IGhhbmRsZURlbGV0ZSA9IGFzeW5jIChjb25kaXRpb25JZCkgPT4ge1xyXG4gICAgaWYgKCFjb25maXJtKCdBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gZGVsZXRlIHRoaXMgc2xvcGUgc2VnbWVudD8nKSkge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgdHJ5IHtcclxuICAgICAgc2V0U2F2aW5nKHRydWUpO1xyXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKCcvYXBpL2xhbmUtY29uZGl0aW9ucycsIHtcclxuICAgICAgICBtZXRob2Q6ICdERUxFVEUnLFxyXG4gICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxyXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsgY29uZGl0aW9uX2lkOiBjb25kaXRpb25JZCB9KVxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIGlmICghcmVzcG9uc2Uub2spIHRocm93IG5ldyBFcnJvcignRmFpbGVkIHRvIGRlbGV0ZScpO1xyXG4gICAgICBcclxuICAgICAgYXdhaXQgZmV0Y2hDb25kaXRpb25zKCk7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBkZWxldGluZyBjb25kaXRpb246JywgZXJyb3IpO1xyXG4gICAgICBhbGVydChgRmFpbGVkIHRvIGRlbGV0ZSBzZWdtZW50OiAke2Vycm9yLm1lc3NhZ2V9YCk7XHJcbiAgICB9IGZpbmFsbHkge1xyXG4gICAgICBzZXRTYXZpbmcoZmFsc2UpO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIGNvbnN0IGhhbmRsZUFkZCA9IGFzeW5jICgpID0+IHtcclxuICAgIGNvbnN0IHsgbGFuZV9pZCwgc3RhcnRfbWVhc3VyZSwgZW5kX21lYXN1cmUsIGNvbmRpdGlvbl92YWx1ZSB9ID0gbmV3U2VnbWVudDtcclxuICAgIFxyXG4gICAgaWYgKCFsYW5lX2lkIHx8ICFzdGFydF9tZWFzdXJlIHx8ICFlbmRfbWVhc3VyZSB8fCAhY29uZGl0aW9uX3ZhbHVlKSB7XHJcbiAgICAgIGFsZXJ0KCdQbGVhc2UgZmlsbCBpbiBhbGwgZmllbGRzJyk7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBzdGFydCA9IHBhcnNlRmxvYXQoc3RhcnRfbWVhc3VyZSk7XHJcbiAgICBjb25zdCBlbmQgPSBwYXJzZUZsb2F0KGVuZF9tZWFzdXJlKTtcclxuICAgIGNvbnN0IHZhbHVlID0gcGFyc2VGbG9hdChjb25kaXRpb25fdmFsdWUpO1xyXG5cclxuICAgIGlmIChpc05hTihzdGFydCkgfHwgaXNOYU4oZW5kKSB8fCBpc05hTih2YWx1ZSkpIHtcclxuICAgICAgYWxlcnQoJ1BsZWFzZSBlbnRlciB2YWxpZCBudW1iZXJzJyk7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoc3RhcnQgPj0gZW5kKSB7XHJcbiAgICAgIGFsZXJ0KCdTdGFydCBtZWFzdXJlIG11c3QgYmUgbGVzcyB0aGFuIGVuZCBtZWFzdXJlJyk7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICB0cnkge1xyXG4gICAgICBzZXRTYXZpbmcodHJ1ZSk7XHJcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goJy9hcGkvbGFuZS1jb25kaXRpb25zJywge1xyXG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxyXG4gICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxyXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICAgIGxhbmVfaWQsXHJcbiAgICAgICAgICBzdGFydF9tZWFzdXJlOiBzdGFydCxcclxuICAgICAgICAgIGVuZF9tZWFzdXJlOiBlbmQsXHJcbiAgICAgICAgICBjb25kaXRpb25fdmFsdWU6IHZhbHVlXHJcbiAgICAgICAgfSlcclxuICAgICAgfSk7XHJcblxyXG4gICAgICBpZiAoIXJlc3BvbnNlLm9rKSB0aHJvdyBuZXcgRXJyb3IoJ0ZhaWxlZCB0byBjcmVhdGUnKTtcclxuICAgICAgXHJcbiAgICAgIGF3YWl0IGZldGNoQ29uZGl0aW9ucygpO1xyXG4gICAgICBzZXRBZGRpbmdOZXcoZmFsc2UpO1xyXG4gICAgICBzZXROZXdTZWdtZW50KHsgbGFuZV9pZDogJycsIHN0YXJ0X21lYXN1cmU6ICcnLCBlbmRfbWVhc3VyZTogJycsIGNvbmRpdGlvbl92YWx1ZTogJycgfSk7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBhZGRpbmcgY29uZGl0aW9uOicsIGVycm9yKTtcclxuICAgICAgYWxlcnQoYEZhaWxlZCB0byBhZGQgc2VnbWVudDogJHtlcnJvci5tZXNzYWdlfWApO1xyXG4gICAgfSBmaW5hbGx5IHtcclxuICAgICAgc2V0U2F2aW5nKGZhbHNlKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICBjb25zdCBwcm9maWxlRGF0YSA9IGdlbmVyYXRlUHJvZmlsZURhdGEoKTtcclxuXHJcbiAgLy8gRGlzdGFuY2UgZG9tYWluOiBmcm9tIGxvd2VzdCByb2FkIHN0YXJ0IHRvIGhpZ2hlc3Qgcm9hZCBlbmRcclxuICBjb25zdCBtaW5EaXN0YW5jZSA9IHByb2ZpbGVEYXRhLmxlbmd0aFxyXG4gICAgPyBNYXRoLm1pbiguLi5wcm9maWxlRGF0YS5tYXAocCA9PiBwLmRpc3RhbmNlKSlcclxuICAgIDogMDtcclxuICBjb25zdCBtYXhEaXN0YW5jZSA9IHByb2ZpbGVEYXRhLmxlbmd0aFxyXG4gICAgPyBNYXRoLm1heCguLi5wcm9maWxlRGF0YS5tYXAocCA9PiBwLmRpc3RhbmNlKSlcclxuICAgIDogMDtcclxuXHJcbiAgLy8gRWxldmF0aW9uIHJhbmdlIGJhc2VkIG9uIGFjdHVhbCBwcm9maWxlLCB3aXRoIGEgZmFsbGJhY2sgYmFuZFxyXG4gIGNvbnN0IG1pbkVsZXZhdGlvbiA9IHByb2ZpbGVEYXRhLmxlbmd0aFxyXG4gICAgPyBNYXRoLm1pbiguLi5wcm9maWxlRGF0YS5tYXAocCA9PiBwLmVsZXZhdGlvbikpXHJcbiAgICA6IFJFRkVSRU5DRV9FTEVWQVRJT04gLSA1MDtcclxuXHJcbiAgY29uc3QgbWF4RWxldmF0aW9uID0gcHJvZmlsZURhdGEubGVuZ3RoXHJcbiAgICA/IE1hdGgubWF4KC4uLnByb2ZpbGVEYXRhLm1hcChwID0+IHAuZWxldmF0aW9uKSlcclxuICAgIDogUkVGRVJFTkNFX0VMRVZBVElPTiArIDUwO1xyXG5cclxuICAvLyBTaW1wbGUgU1ZHIGNoYXJ0XHJcbiAgY29uc3QgY2hhcnRXaWR0aCA9IDgwMDtcclxuICBjb25zdCBjaGFydEhlaWdodCA9IDQwMDtcclxuICBjb25zdCBwYWRkaW5nID0gNjA7XHJcbiAgY29uc3QgcGxvdFdpZHRoID0gY2hhcnRXaWR0aCAtIDIgKiBwYWRkaW5nO1xyXG4gIGNvbnN0IHBsb3RIZWlnaHQgPSBjaGFydEhlaWdodCAtIDIgKiBwYWRkaW5nO1xyXG5cclxuICBjb25zdCBlbGV2YXRpb25SYW5nZSA9IG1heEVsZXZhdGlvbiAtIG1pbkVsZXZhdGlvbiB8fCAxOyAvLyBhdm9pZCBkaXZpZGUgYnkgemVyb1xyXG4gIGNvbnN0IGRpc3RhbmNlUmFuZ2UgPSBtYXhEaXN0YW5jZSAtIG1pbkRpc3RhbmNlIHx8IDE7XHJcblxyXG4gIGNvbnN0IHNjYWxlWCA9IChkaXN0YW5jZSkgPT5cclxuICAgIHBhZGRpbmcgK1xyXG4gICAgKChkaXN0YW5jZSAtIG1pbkRpc3RhbmNlKSAvIGRpc3RhbmNlUmFuZ2UpICogcGxvdFdpZHRoO1xyXG5cclxuICBjb25zdCBzY2FsZVkgPSAoZWxldmF0aW9uKSA9PlxyXG4gICAgcGFkZGluZyArXHJcbiAgICBwbG90SGVpZ2h0IC1cclxuICAgICgoZWxldmF0aW9uIC0gbWluRWxldmF0aW9uKSAvIGVsZXZhdGlvblJhbmdlKSAqIHBsb3RIZWlnaHQ7XHJcblxyXG4gIC8vIEdlbmVyYXRlIHBhdGggZGF0YSBmb3IgdGhlIHByb2ZpbGUgbGluZVxyXG4gIGNvbnN0IHBhdGhEYXRhID0gcHJvZmlsZURhdGEubGVuZ3RoID4gMFxyXG4gICAgPyBgTSAke3Byb2ZpbGVEYXRhLm1hcChwID0+IGAke3NjYWxlWChwLmRpc3RhbmNlKX0sJHtzY2FsZVkocC5lbGV2YXRpb24pfWApLmpvaW4oJyBMICcpfWBcclxuICAgIDogbnVsbDtcclxuXHJcbiAgaWYgKGxvYWRpbmcpIHtcclxuICAgIHJldHVybiAoXHJcbiAgICAgIDxkaXYgc3R5bGU9e3tcclxuICAgICAgICBwb3NpdGlvbjogJ2ZpeGVkJyxcclxuICAgICAgICB0b3A6IDAsXHJcbiAgICAgICAgbGVmdDogMCxcclxuICAgICAgICByaWdodDogMCxcclxuICAgICAgICBib3R0b206IDAsXHJcbiAgICAgICAgYmFja2dyb3VuZENvbG9yOiAncmdiYSgwLCAwLCAwLCAwLjgpJyxcclxuICAgICAgICBkaXNwbGF5OiAnZmxleCcsXHJcbiAgICAgICAganVzdGlmeUNvbnRlbnQ6ICdjZW50ZXInLFxyXG4gICAgICAgIGFsaWduSXRlbXM6ICdjZW50ZXInLFxyXG4gICAgICAgIHpJbmRleDogMTAwMDAsXHJcbiAgICAgICAgY29sb3I6ICd3aGl0ZSdcclxuICAgICAgfX0+XHJcbiAgICAgICAgPGRpdj5Mb2FkaW5nIHJvYWQgcHJvZmlsZS4uLjwvZGl2PlxyXG4gICAgICA8L2Rpdj5cclxuICAgICk7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gKFxyXG4gICAgPGRpdiBzdHlsZT17e1xyXG4gICAgICBwb3NpdGlvbjogJ2ZpeGVkJyxcclxuICAgICAgdG9wOiAwLFxyXG4gICAgICBsZWZ0OiAwLFxyXG4gICAgICByaWdodDogMCxcclxuICAgICAgYm90dG9tOiAwLFxyXG4gICAgICBiYWNrZ3JvdW5kQ29sb3I6ICdyZ2JhKDAsIDAsIDAsIDAuOSknLFxyXG4gICAgICB6SW5kZXg6IDEwMDAwLFxyXG4gICAgICBkaXNwbGF5OiAnZmxleCcsXHJcbiAgICAgIGZsZXhEaXJlY3Rpb246ICdjb2x1bW4nLFxyXG4gICAgICBwYWRkaW5nOiAnMjBweCcsXHJcbiAgICAgIG92ZXJmbG93OiAnYXV0bycsXHJcbiAgICAgIGNvbG9yOiAnd2hpdGUnXHJcbiAgICB9fT5cclxuICAgICAgPGRpdiBzdHlsZT17eyBkaXNwbGF5OiAnZmxleCcsIGp1c3RpZnlDb250ZW50OiAnc3BhY2UtYmV0d2VlbicsIGFsaWduSXRlbXM6ICdjZW50ZXInLCBtYXJnaW5Cb3R0b206ICcyMHB4JyB9fT5cclxuICAgICAgICA8aDIgc3R5bGU9e3sgbWFyZ2luOiAwLCBjb2xvcjogJyM0RUNEQzQnIH19PlJvYWQgUHJvZmlsZSAtIFJvYWQgSUQ6IHtyb2FkSWR9PC9oMj5cclxuICAgICAgICA8YnV0dG9uXHJcbiAgICAgICAgICBvbkNsaWNrPXtvbkNsb3NlfVxyXG4gICAgICAgICAgc3R5bGU9e3tcclxuICAgICAgICAgICAgYmFja2dyb3VuZDogJyNFNzRDM0MnLFxyXG4gICAgICAgICAgICBjb2xvcjogJ3doaXRlJyxcclxuICAgICAgICAgICAgYm9yZGVyOiAnbm9uZScsXHJcbiAgICAgICAgICAgIHBhZGRpbmc6ICcxMHB4IDIwcHgnLFxyXG4gICAgICAgICAgICBib3JkZXJSYWRpdXM6ICc2cHgnLFxyXG4gICAgICAgICAgICBjdXJzb3I6ICdwb2ludGVyJyxcclxuICAgICAgICAgICAgZm9udFdlaWdodDogJ2JvbGQnLFxyXG4gICAgICAgICAgICBmb250U2l6ZTogJzE0cHgnXHJcbiAgICAgICAgICB9fVxyXG4gICAgICAgID5cclxuICAgICAgICAgIOKclSBDbG9zZVxyXG4gICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICA8L2Rpdj5cclxuXHJcbiAgICAgIHtjb25kaXRpb25zLmxlbmd0aCA9PT0gMCA/IChcclxuICAgICAgICA8ZGl2IHN0eWxlPXt7IHRleHRBbGlnbjogJ2NlbnRlcicsIHBhZGRpbmc6ICc0MHB4JywgY29sb3I6ICcjOTVhNWE2JyB9fT5cclxuICAgICAgICAgIE5vIHNsb3BlIGNvbmRpdGlvbnMgZm91bmQgZm9yIHRoaXMgcm9hZC5cclxuICAgICAgICAgIDxkaXYgc3R5bGU9e3sgbWFyZ2luVG9wOiAnMTZweCcsIGRpc3BsYXk6ICdpbmxpbmUtYmxvY2snLCB0ZXh0QWxpZ246ICdsZWZ0JywgYmFja2dyb3VuZDogJ3JnYmEoMzAsMzAsMzAsMC44KScsIHBhZGRpbmc6ICcxNnB4JywgYm9yZGVyUmFkaXVzOiAnOHB4JywgYm9yZGVyOiAnMXB4IHNvbGlkIHJnYmEoMjU1LDI1NSwyNTUsMC4xKScgfX0+XHJcbiAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgbWFyZ2luQm90dG9tOiAnOHB4JywgY29sb3I6ICcjZmZmJyB9fT5BZGQgZmlyc3Qgc2VnbWVudDwvZGl2PlxyXG4gICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IGRpc3BsYXk6ICdmbGV4JywgZ2FwOiAnOHB4JywgZmxleFdyYXA6ICd3cmFwJyB9fT5cclxuICAgICAgICAgICAgICA8aW5wdXRcclxuICAgICAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcclxuICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwibGFuZV9pZFwiXHJcbiAgICAgICAgICAgICAgICB2YWx1ZT17bmV3U2VnbWVudC5sYW5lX2lkIHx8IGByb2FkXyR7cm9hZElkfV8wX2ZvcndhcmRgfVxyXG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXROZXdTZWdtZW50KHsgLi4ubmV3U2VnbWVudCwgbGFuZV9pZDogZS50YXJnZXQudmFsdWUgfSl9XHJcbiAgICAgICAgICAgICAgICBzdHlsZT17eyBwYWRkaW5nOiAnNnB4JywgYm9yZGVyUmFkaXVzOiAnNHB4JywgYm9yZGVyOiAnMXB4IHNvbGlkICM1NTUnLCBiYWNrZ3JvdW5kOiAnIzIyMicsIGNvbG9yOiAnI2ZmZicgfX1cclxuICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgIDxpbnB1dFxyXG4gICAgICAgICAgICAgICAgdHlwZT1cIm51bWJlclwiXHJcbiAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIlN0YXJ0IChtKVwiXHJcbiAgICAgICAgICAgICAgICB2YWx1ZT17bmV3U2VnbWVudC5zdGFydF9tZWFzdXJlfVxyXG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXROZXdTZWdtZW50KHsgLi4ubmV3U2VnbWVudCwgc3RhcnRfbWVhc3VyZTogZS50YXJnZXQudmFsdWUgfSl9XHJcbiAgICAgICAgICAgICAgICBzdHlsZT17eyBwYWRkaW5nOiAnNnB4JywgYm9yZGVyUmFkaXVzOiAnNHB4JywgYm9yZGVyOiAnMXB4IHNvbGlkICM1NTUnLCBiYWNrZ3JvdW5kOiAnIzIyMicsIGNvbG9yOiAnI2ZmZicsIHdpZHRoOiAnMTEwcHgnIH19XHJcbiAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICA8aW5wdXRcclxuICAgICAgICAgICAgICAgIHR5cGU9XCJudW1iZXJcIlxyXG4gICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJFbmQgKG0pXCJcclxuICAgICAgICAgICAgICAgIHZhbHVlPXtuZXdTZWdtZW50LmVuZF9tZWFzdXJlfVxyXG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXROZXdTZWdtZW50KHsgLi4ubmV3U2VnbWVudCwgZW5kX21lYXN1cmU6IGUudGFyZ2V0LnZhbHVlIH0pfVxyXG4gICAgICAgICAgICAgICAgc3R5bGU9e3sgcGFkZGluZzogJzZweCcsIGJvcmRlclJhZGl1czogJzRweCcsIGJvcmRlcjogJzFweCBzb2xpZCAjNTU1JywgYmFja2dyb3VuZDogJyMyMjInLCBjb2xvcjogJyNmZmYnLCB3aWR0aDogJzExMHB4JyB9fVxyXG4gICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgPGlucHV0XHJcbiAgICAgICAgICAgICAgICB0eXBlPVwibnVtYmVyXCJcclxuICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiU2xvcGUgJVwiXHJcbiAgICAgICAgICAgICAgICB2YWx1ZT17bmV3U2VnbWVudC5jb25kaXRpb25fdmFsdWV9XHJcbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHNldE5ld1NlZ21lbnQoeyAuLi5uZXdTZWdtZW50LCBjb25kaXRpb25fdmFsdWU6IGUudGFyZ2V0LnZhbHVlIH0pfVxyXG4gICAgICAgICAgICAgICAgc3R5bGU9e3sgcGFkZGluZzogJzZweCcsIGJvcmRlclJhZGl1czogJzRweCcsIGJvcmRlcjogJzFweCBzb2xpZCAjNTU1JywgYmFja2dyb3VuZDogJyMyMjInLCBjb2xvcjogJyNmZmYnLCB3aWR0aDogJzExMHB4JyB9fVxyXG4gICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgPGJ1dHRvblxyXG4gICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICBjb25zdCBsYW5lRGVmYXVsdCA9IG5ld1NlZ21lbnQubGFuZV9pZCB8fCBgcm9hZF8ke3JvYWRJZH1fMF9mb3J3YXJkYDtcclxuICAgICAgICAgICAgICAgICAgc2V0TmV3U2VnbWVudCh7IC4uLm5ld1NlZ21lbnQsIGxhbmVfaWQ6IGxhbmVEZWZhdWx0IH0pO1xyXG4gICAgICAgICAgICAgICAgICBoYW5kbGVBZGQoKTtcclxuICAgICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgICAgICBkaXNhYmxlZD17c2F2aW5nfVxyXG4gICAgICAgICAgICAgICAgc3R5bGU9e3sgcGFkZGluZzogJzhweCAxMnB4JywgYmFja2dyb3VuZDogJyMyRUNDNzEnLCBib3JkZXI6ICdub25lJywgYm9yZGVyUmFkaXVzOiAnNHB4JywgY29sb3I6ICd3aGl0ZScsIGN1cnNvcjogJ3BvaW50ZXInLCBmb250V2VpZ2h0OiAnYm9sZCcgfX1cclxuICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICB7c2F2aW5nID8gJ1NhdmluZy4uLicgOiAnQWRkJ31cclxuICAgICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgKSA6IChcclxuICAgICAgICA8PlxyXG4gICAgICAgICAgey8qIEVsZXZhdGlvbiBQcm9maWxlIENoYXJ0ICovfVxyXG4gICAgICAgICAgPGRpdiBzdHlsZT17eyBtYXJnaW5Cb3R0b206ICczMHB4JywgYmFja2dyb3VuZENvbG9yOiAncmdiYSgzMCwgMzAsIDMwLCAwLjgpJywgcGFkZGluZzogJzIwcHgnLCBib3JkZXJSYWRpdXM6ICc4cHgnIH19PlxyXG4gICAgICAgICAgICA8aDMgc3R5bGU9e3sgbWFyZ2luVG9wOiAwLCBtYXJnaW5Cb3R0b206ICcxNnB4JywgY29sb3I6ICcjNEVDREM0JyB9fT5FbGV2YXRpb24gUHJvZmlsZTwvaDM+XHJcbiAgICAgICAgICAgIDxzdmcgd2lkdGg9e2NoYXJ0V2lkdGh9IGhlaWdodD17Y2hhcnRIZWlnaHR9IHN0eWxlPXt7IGJvcmRlcjogJzFweCBzb2xpZCByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMiknLCBib3JkZXJSYWRpdXM6ICc0cHgnIH19PlxyXG4gICAgICAgICAgICAgIHsvKiBHcmlkIGxpbmVzICovfVxyXG4gICAgICAgICAgICAgIHtbMCwgMC4yNSwgMC41LCAwLjc1LCAxXS5tYXAodCA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBlbGV2YXRpb24gPSBtaW5FbGV2YXRpb24gKyB0ICogKG1heEVsZXZhdGlvbiAtIG1pbkVsZXZhdGlvbik7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICAgICAgICA8bGluZVxyXG4gICAgICAgICAgICAgICAgICAgIGtleT17YGdyaWQtaC0ke3R9YH1cclxuICAgICAgICAgICAgICAgICAgICB4MT17cGFkZGluZ31cclxuICAgICAgICAgICAgICAgICAgICB5MT17c2NhbGVZKGVsZXZhdGlvbil9XHJcbiAgICAgICAgICAgICAgICAgICAgeDI9e2NoYXJ0V2lkdGggLSBwYWRkaW5nfVxyXG4gICAgICAgICAgICAgICAgICAgIHkyPXtzY2FsZVkoZWxldmF0aW9uKX1cclxuICAgICAgICAgICAgICAgICAgICBzdHJva2U9XCJyZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMSlcIlxyXG4gICAgICAgICAgICAgICAgICAgIHN0cm9rZVdpZHRoPVwiMVwiXHJcbiAgICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgIH0pfVxyXG4gICAgICAgICAgICAgIHtbMCwgMC4yNSwgMC41LCAwLjc1LCAxXS5tYXAodCA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBkaXN0YW5jZSA9IG1pbkRpc3RhbmNlICsgdCAqIGRpc3RhbmNlUmFuZ2U7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICAgICAgICA8bGluZVxyXG4gICAgICAgICAgICAgICAgICAgIGtleT17YGdyaWQtdi0ke3R9YH1cclxuICAgICAgICAgICAgICAgICAgICB4MT17c2NhbGVYKGRpc3RhbmNlKX1cclxuICAgICAgICAgICAgICAgICAgICB5MT17cGFkZGluZ31cclxuICAgICAgICAgICAgICAgICAgICB4Mj17c2NhbGVYKGRpc3RhbmNlKX1cclxuICAgICAgICAgICAgICAgICAgICB5Mj17Y2hhcnRIZWlnaHQgLSBwYWRkaW5nfVxyXG4gICAgICAgICAgICAgICAgICAgIHN0cm9rZT1cInJnYmEoMjU1LCAyNTUsIDI1NSwgMC4xKVwiXHJcbiAgICAgICAgICAgICAgICAgICAgc3Ryb2tlV2lkdGg9XCIxXCJcclxuICAgICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgfSl9XHJcblxyXG4gICAgICAgICAgICAgIHsvKiBBeGVzICovfVxyXG4gICAgICAgICAgICAgIDxsaW5lXHJcbiAgICAgICAgICAgICAgICB4MT17cGFkZGluZ31cclxuICAgICAgICAgICAgICAgIHkxPXtwYWRkaW5nfVxyXG4gICAgICAgICAgICAgICAgeDI9e3BhZGRpbmd9XHJcbiAgICAgICAgICAgICAgICB5Mj17Y2hhcnRIZWlnaHQgLSBwYWRkaW5nfVxyXG4gICAgICAgICAgICAgICAgc3Ryb2tlPVwid2hpdGVcIlxyXG4gICAgICAgICAgICAgICAgc3Ryb2tlV2lkdGg9XCIyXCJcclxuICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgIDxsaW5lXHJcbiAgICAgICAgICAgICAgICB4MT17cGFkZGluZ31cclxuICAgICAgICAgICAgICAgIHkxPXtjaGFydEhlaWdodCAtIHBhZGRpbmd9XHJcbiAgICAgICAgICAgICAgICB4Mj17Y2hhcnRXaWR0aCAtIHBhZGRpbmd9XHJcbiAgICAgICAgICAgICAgICB5Mj17Y2hhcnRIZWlnaHQgLSBwYWRkaW5nfVxyXG4gICAgICAgICAgICAgICAgc3Ryb2tlPVwid2hpdGVcIlxyXG4gICAgICAgICAgICAgICAgc3Ryb2tlV2lkdGg9XCIyXCJcclxuICAgICAgICAgICAgICAvPlxyXG5cclxuICAgICAgICAgICAgICB7LyogRWxldmF0aW9uIGxhYmVscyAqL31cclxuICAgICAgICAgICAgICB7WzAsIDAuMjUsIDAuNSwgMC43NSwgMV0ubWFwKHQgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZWxldmF0aW9uID0gbWluRWxldmF0aW9uICsgdCAqIChtYXhFbGV2YXRpb24gLSBtaW5FbGV2YXRpb24pO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgICAgICAgPHRleHRcclxuICAgICAgICAgICAgICAgICAgICBrZXk9e2BlbGV2LSR7dH1gfVxyXG4gICAgICAgICAgICAgICAgICAgIHg9e3BhZGRpbmcgLSAxMH1cclxuICAgICAgICAgICAgICAgICAgICB5PXtzY2FsZVkoZWxldmF0aW9uKX1cclxuICAgICAgICAgICAgICAgICAgICBmaWxsPVwid2hpdGVcIlxyXG4gICAgICAgICAgICAgICAgICAgIHRleHRBbmNob3I9XCJlbmRcIlxyXG4gICAgICAgICAgICAgICAgICAgIGZvbnRTaXplPVwiMTBcIlxyXG4gICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IGRvbWluYW50QmFzZWxpbmU6ICdtaWRkbGUnIH19XHJcbiAgICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICB7ZWxldmF0aW9uLnRvRml4ZWQoMCl9XHJcbiAgICAgICAgICAgICAgICAgIDwvdGV4dD5cclxuICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgfSl9XHJcblxyXG4gICAgICAgICAgICAgIHsvKiBEaXN0YW5jZSBsYWJlbHMgKi99XHJcbiAgICAgICAgICAgICAge1swLCAwLjI1LCAwLjUsIDAuNzUsIDFdLm1hcCh0ID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGRpc3RhbmNlID0gbWluRGlzdGFuY2UgKyB0ICogZGlzdGFuY2VSYW5nZTtcclxuICAgICAgICAgICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgICAgICAgIDx0ZXh0XHJcbiAgICAgICAgICAgICAgICAgICAga2V5PXtgZGlzdC0ke3R9YH1cclxuICAgICAgICAgICAgICAgICAgICB4PXtwYWRkaW5nICsgdCAqIHBsb3RXaWR0aH1cclxuICAgICAgICAgICAgICAgICAgICB5PXtjaGFydEhlaWdodCAtIDIwfVxyXG4gICAgICAgICAgICAgICAgICAgIGZpbGw9XCJ3aGl0ZVwiXHJcbiAgICAgICAgICAgICAgICAgICAgdGV4dEFuY2hvcj1cIm1pZGRsZVwiXHJcbiAgICAgICAgICAgICAgICAgICAgZm9udFNpemU9XCIxMFwiXHJcbiAgICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICB7ZGlzdGFuY2UudG9GaXhlZCgwKX1cclxuICAgICAgICAgICAgICAgICAgPC90ZXh0PlxyXG4gICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICB9KX1cclxuXHJcbiAgICAgICAgICAgICAgey8qIEF4aXMgbGFiZWxzICovfVxyXG4gICAgICAgICAgICAgIDx0ZXh0IFxyXG4gICAgICAgICAgICAgICAgeD17MTV9IFxyXG4gICAgICAgICAgICAgICAgeT17cGFkZGluZyArIHBsb3RIZWlnaHQgLyAyfSBcclxuICAgICAgICAgICAgICAgIGZpbGw9XCJ3aGl0ZVwiIFxyXG4gICAgICAgICAgICAgICAgdGV4dEFuY2hvcj1cIm1pZGRsZVwiIFxyXG4gICAgICAgICAgICAgICAgZm9udFNpemU9XCIxMlwiXHJcbiAgICAgICAgICAgICAgICB0cmFuc2Zvcm09e2Byb3RhdGUoLTkwLCAxNSwgJHtwYWRkaW5nICsgcGxvdEhlaWdodCAvIDJ9KWB9XHJcbiAgICAgICAgICAgICAgICBzdHlsZT17eyBkb21pbmFudEJhc2VsaW5lOiAnbWlkZGxlJyB9fVxyXG4gICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgIEVsZXZhdGlvbiAobSlcclxuICAgICAgICAgICAgICA8L3RleHQ+XHJcbiAgICAgICAgICAgICAgPHRleHQgeD17cGFkZGluZyArIHBsb3RXaWR0aCAvIDJ9IHk9e2NoYXJ0SGVpZ2h0IC0gMTB9IGZpbGw9XCJ3aGl0ZVwiIHRleHRBbmNob3I9XCJtaWRkbGVcIiBmb250U2l6ZT1cIjEyXCI+XHJcbiAgICAgICAgICAgICAgICBEaXN0YW5jZSAobSlcclxuICAgICAgICAgICAgICA8L3RleHQ+XHJcblxyXG4gICAgICAgICAgICAgIHsvKiBQcm9maWxlIGxpbmUgKi99XHJcbiAgICAgICAgICAgICAge3BhdGhEYXRhICYmIChcclxuICAgICAgICAgICAgICAgIDxwYXRoXHJcbiAgICAgICAgICAgICAgICAgIGQ9e3BhdGhEYXRhfVxyXG4gICAgICAgICAgICAgICAgICBmaWxsPVwibm9uZVwiXHJcbiAgICAgICAgICAgICAgICAgIHN0cm9rZT1cIiM0RUNEQzRcIlxyXG4gICAgICAgICAgICAgICAgICBzdHJva2VXaWR0aD1cIjNcIlxyXG4gICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICApfVxyXG5cclxuICAgICAgICAgICAgICB7LyogRGF0YSBwb2ludHMgKi99XHJcbiAgICAgICAgICAgICAge3Byb2ZpbGVEYXRhLm1hcCgocG9pbnQsIGlkeCkgPT4gKFxyXG4gICAgICAgICAgICAgICAgPGNpcmNsZVxyXG4gICAgICAgICAgICAgICAgICBrZXk9e2Bwb2ludC0ke2lkeH1gfVxyXG4gICAgICAgICAgICAgICAgICBjeD17c2NhbGVYKHBvaW50LmRpc3RhbmNlKX1cclxuICAgICAgICAgICAgICAgICAgY3k9e3NjYWxlWShwb2ludC5lbGV2YXRpb24pfVxyXG4gICAgICAgICAgICAgICAgICByPVwiNFwiXHJcbiAgICAgICAgICAgICAgICAgIGZpbGw9XCIjRkZENzAwXCJcclxuICAgICAgICAgICAgICAgICAgc3Ryb2tlPVwiI0ZGQTUwMFwiXHJcbiAgICAgICAgICAgICAgICAgIHN0cm9rZVdpZHRoPVwiMlwiXHJcbiAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgICkpfVxyXG4gICAgICAgICAgICA8L3N2Zz5cclxuICAgICAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgICAgIHsvKiBTbG9wZSBTZWdtZW50cyBUYWJsZSAqL31cclxuICAgICAgICAgIDxkaXY+XHJcbiAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgZGlzcGxheTogJ2ZsZXgnLCBqdXN0aWZ5Q29udGVudDogJ3NwYWNlLWJldHdlZW4nLCBhbGlnbkl0ZW1zOiAnY2VudGVyJywgbWFyZ2luQm90dG9tOiAnMTZweCcgfX0+XHJcbiAgICAgICAgICAgICAgPGgzIHN0eWxlPXt7IG1hcmdpbjogMCwgY29sb3I6ICcjNEVDREM0JyB9fT5TbG9wZSBTZWdtZW50czwvaDM+XHJcbiAgICAgICAgICAgICAgPGJ1dHRvblxyXG4gICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICBjb25zdCBmaXJzdExhbmUgPSBjb25kaXRpb25zLmxlbmd0aCA+IDAgPyBjb25kaXRpb25zWzBdLmxhbmVfaWQgOiBgcm9hZF8ke3JvYWRJZH1fMF9mb3J3YXJkYDtcclxuICAgICAgICAgICAgICAgICAgc2V0TmV3U2VnbWVudCh7IFxyXG4gICAgICAgICAgICAgICAgICAgIGxhbmVfaWQ6IGZpcnN0TGFuZSwgXHJcbiAgICAgICAgICAgICAgICAgICAgc3RhcnRfbWVhc3VyZTogJycsIFxyXG4gICAgICAgICAgICAgICAgICAgIGVuZF9tZWFzdXJlOiAnJywgXHJcbiAgICAgICAgICAgICAgICAgICAgY29uZGl0aW9uX3ZhbHVlOiAnJyBcclxuICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgIHNldEFkZGluZ05ldyh0cnVlKTtcclxuICAgICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgICAgICBzdHlsZT17e1xyXG4gICAgICAgICAgICAgICAgICBwYWRkaW5nOiAnNnB4IDEycHgnLFxyXG4gICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiAnIzJFQ0M3MScsXHJcbiAgICAgICAgICAgICAgICAgIGNvbG9yOiAnd2hpdGUnLFxyXG4gICAgICAgICAgICAgICAgICBib3JkZXI6ICdub25lJyxcclxuICAgICAgICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiAnNHB4JyxcclxuICAgICAgICAgICAgICAgICAgY3Vyc29yOiAncG9pbnRlcicsXHJcbiAgICAgICAgICAgICAgICAgIGZvbnRTaXplOiAnMTJweCcsXHJcbiAgICAgICAgICAgICAgICAgIGZvbnRXZWlnaHQ6ICdib2xkJ1xyXG4gICAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICArIEFkZCBTZWdtZW50XHJcbiAgICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IG92ZXJmbG93WDogJ2F1dG8nIH19PlxyXG4gICAgICAgICAgICAgIDx0YWJsZSBzdHlsZT17eyB3aWR0aDogJzEwMCUnLCBib3JkZXJDb2xsYXBzZTogJ2NvbGxhcHNlJyB9fT5cclxuICAgICAgICAgICAgICAgIDx0aGVhZD5cclxuICAgICAgICAgICAgICAgICAgPHRyIHN0eWxlPXt7IGJhY2tncm91bmRDb2xvcjogJ3JnYmEoNTIsIDE1MiwgMjE5LCAwLjIpJyB9fT5cclxuICAgICAgICAgICAgICAgICAgICA8dGggc3R5bGU9e3sgcGFkZGluZzogJzhweCcsIHRleHRBbGlnbjogJ2xlZnQnLCBib3JkZXI6ICcxcHggc29saWQgcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjIpJyB9fT5Sb2FkIFN0YXJ0IChtKTwvdGg+XHJcbiAgICAgICAgICAgICAgICAgICAgPHRoIHN0eWxlPXt7IHBhZGRpbmc6ICc4cHgnLCB0ZXh0QWxpZ246ICdsZWZ0JywgYm9yZGVyOiAnMXB4IHNvbGlkIHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4yKScgfX0+Um9hZCBFbmQgKG0pPC90aD5cclxuICAgICAgICAgICAgICAgICAgICA8dGggc3R5bGU9e3sgcGFkZGluZzogJzhweCcsIHRleHRBbGlnbjogJ2xlZnQnLCBib3JkZXI6ICcxcHggc29saWQgcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjIpJyB9fT5TbG9wZSAoJSk8L3RoPlxyXG4gICAgICAgICAgICAgICAgICAgIDx0aCBzdHlsZT17eyBwYWRkaW5nOiAnOHB4JywgdGV4dEFsaWduOiAnbGVmdCcsIGJvcmRlcjogJzFweCBzb2xpZCByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMiknIH19PkVsZXZhdGlvbiBhdCBTdGFydCAobSk8L3RoPlxyXG4gICAgICAgICAgICAgICAgICAgIDx0aCBzdHlsZT17eyBwYWRkaW5nOiAnOHB4JywgdGV4dEFsaWduOiAnbGVmdCcsIGJvcmRlcjogJzFweCBzb2xpZCByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMiknIH19PkVsZXZhdGlvbiBhdCBFbmQgKG0pPC90aD5cclxuICAgICAgICAgICAgICAgICAgICA8dGggc3R5bGU9e3sgcGFkZGluZzogJzhweCcsIHRleHRBbGlnbjogJ2xlZnQnLCBib3JkZXI6ICcxcHggc29saWQgcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjIpJyB9fT5BY3Rpb25zPC90aD5cclxuICAgICAgICAgICAgICAgICAgPC90cj5cclxuICAgICAgICAgICAgICAgIDwvdGhlYWQ+XHJcbiAgICAgICAgICAgICAgICA8dGJvZHk+XHJcbiAgICAgICAgICAgICAgICAgIHsoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIFNvcnQgYnkgbGFuZSBzZWdtZW50IG51bWJlciBmaXJzdCwgdGhlbiBieSBzdGFydF9tZWFzdXJlIHdpdGhpbiBlYWNoIGxhbmVcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBzb3J0ZWRDb25kaXRpb25zID0gWy4uLmNvbmRpdGlvbnNdLnNvcnQoKGEsIGIpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG1hdGNoQSA9IChhLmxhbmVfaWQgfHwgJycpLm1hdGNoKC9yb2FkX1xcZCtfKFxcZCspXy8pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgY29uc3QgbWF0Y2hCID0gKGIubGFuZV9pZCB8fCAnJykubWF0Y2goL3JvYWRfXFxkK18oXFxkKylfLyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzZWdOdW1BID0gbWF0Y2hBID8gcGFyc2VJbnQobWF0Y2hBWzFdLCAxMCkgOiA5OTk7XHJcbiAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzZWdOdW1CID0gbWF0Y2hCID8gcGFyc2VJbnQobWF0Y2hCWzFdLCAxMCkgOiA5OTk7XHJcbiAgICAgICAgICAgICAgICAgICAgICBpZiAoc2VnTnVtQSAhPT0gc2VnTnVtQikgcmV0dXJuIHNlZ051bUEgLSBzZWdOdW1CO1xyXG4gICAgICAgICAgICAgICAgICAgICAgaWYgKGEuc3RhcnRfbWVhc3VyZSAhPT0gYi5zdGFydF9tZWFzdXJlKSByZXR1cm4gYS5zdGFydF9tZWFzdXJlIC0gYi5zdGFydF9tZWFzdXJlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGEuZW5kX21lYXN1cmUgLSBiLmVuZF9tZWFzdXJlO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGxhbmVDdW11bGF0aXZlRGlzdGFuY2VzID0gbmV3IE1hcCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBjdW11bGF0aXZlRGlzdCA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbGFuZUdyb3VwcyA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgIHNvcnRlZENvbmRpdGlvbnMuZm9yRWFjaChjb25kID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgIGlmICghbGFuZUdyb3Vwc1tjb25kLmxhbmVfaWRdKSBsYW5lR3JvdXBzW2NvbmQubGFuZV9pZF0gPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICAgIGxhbmVHcm91cHNbY29uZC5sYW5lX2lkXS5wdXNoKGNvbmQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgIE9iamVjdC5rZXlzKGxhbmVHcm91cHMpLnNvcnQoKGEsIGIpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG1hdGNoQSA9IChhIHx8ICcnKS5tYXRjaCgvcm9hZF9cXGQrXyhcXGQrKV8vKTtcclxuICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG1hdGNoQiA9IChiIHx8ICcnKS5tYXRjaCgvcm9hZF9cXGQrXyhcXGQrKV8vKTtcclxuICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHNlZ051bUEgPSBtYXRjaEEgPyBwYXJzZUludChtYXRjaEFbMV0sIDEwKSA6IDk5OTtcclxuICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHNlZ051bUIgPSBtYXRjaEIgPyBwYXJzZUludChtYXRjaEJbMV0sIDEwKSA6IDk5OTtcclxuICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBzZWdOdW1BIC0gc2VnTnVtQjtcclxuICAgICAgICAgICAgICAgICAgICB9KS5mb3JFYWNoKGxhbmVJZCA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICBpZiAoIWxhbmVDdW11bGF0aXZlRGlzdGFuY2VzLmhhcyhsYW5lSWQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxhbmVDdW11bGF0aXZlRGlzdGFuY2VzLnNldChsYW5lSWQsIGN1bXVsYXRpdmVEaXN0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbGFuZUxlbmd0aCA9IE51bWJlcihsYW5lR3JvdXBzW2xhbmVJZF1bMF0/LmxhbmVfbGVuZ3RoKSB8fCBNYXRoLm1heCguLi5sYW5lR3JvdXBzW2xhbmVJZF0ubWFwKGMgPT4gYy5lbmRfbWVhc3VyZSksIDApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjdW11bGF0aXZlRGlzdCArPSBsYW5lTGVuZ3RoO1xyXG4gICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBzb3J0ZWRDb25kaXRpb25zLm1hcCgoY29uZCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgLy8gR2V0IGN1bXVsYXRpdmUgcm9hZCBkaXN0YW5jZSBmb3IgdGhpcyBsYW5lIHNlZ21lbnRcclxuICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGxhbmVTdGFydERpc3QgPSBOdW1iZXIobGFuZUN1bXVsYXRpdmVEaXN0YW5jZXMuZ2V0KGNvbmQubGFuZV9pZCkpIHx8IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICBjb25zdCByb2FkU3RhcnREaXN0ID0gbGFuZVN0YXJ0RGlzdCArIChOdW1iZXIoY29uZC5zdGFydF9tZWFzdXJlKSB8fCAwKTtcclxuICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJvYWRFbmREaXN0ID0gbGFuZVN0YXJ0RGlzdCArIChOdW1iZXIoY29uZC5lbmRfbWVhc3VyZSkgfHwgMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAgIC8vIENhbGN1bGF0ZSBlbGV2YXRpb24gYXQgdGhlc2UgY3VtdWxhdGl2ZSByb2FkIGRpc3RhbmNlc1xyXG4gICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3RhcnRFbGV2YXRpb24gPSBjYWxjdWxhdGVFbGV2YXRpb25BdERpc3RhbmNlKHJvYWRTdGFydERpc3QsIGFkanVzdGVkQ29uZHMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgY29uc3QgZW5kRWxldmF0aW9uID0gY2FsY3VsYXRlRWxldmF0aW9uQXREaXN0YW5jZShyb2FkRW5kRGlzdCwgYWRqdXN0ZWRDb25kcyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgICAgICAgICAgICA8dHIga2V5PXtjb25kLmNvbmRpdGlvbl9pZH0gc3R5bGU9e3sgYm9yZGVyQm90dG9tOiAnMXB4IHNvbGlkIHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4xKScgfX0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDx0ZCBzdHlsZT17eyBwYWRkaW5nOiAnOHB4JywgYm9yZGVyOiAnMXB4IHNvbGlkIHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4xKScgfX0+e051bWJlcihyb2FkU3RhcnREaXN0KS50b0ZpeGVkKDIpfTwvdGQ+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDx0ZCBzdHlsZT17eyBwYWRkaW5nOiAnOHB4JywgYm9yZGVyOiAnMXB4IHNvbGlkIHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4xKScgfX0+e051bWJlcihyb2FkRW5kRGlzdCkudG9GaXhlZCgyKX08L3RkPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8dGQgc3R5bGU9e3sgcGFkZGluZzogJzhweCcsIGJvcmRlcjogJzFweCBzb2xpZCByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMSknIH19PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgZGlzcGxheTogJ2ZsZXgnLCBmbGV4RGlyZWN0aW9uOiAnY29sdW1uJywgZ2FwOiAnNHB4JyB9fT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICB7ZWRpdGluZ0lkID09PSBjb25kLmNvbmRpdGlvbl9pZCA/IChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwibnVtYmVyXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e2VkaXRWYWx1ZX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXRFZGl0VmFsdWUoZS50YXJnZXQudmFsdWUpfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGVwPVwiMC4xXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogJzgwcHgnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6ICc0cHgnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlclJhZGl1czogJzRweCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9yZGVyOiAnMXB4IHNvbGlkICM1NTUnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogJyMyYzJjMmMnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiAnd2hpdGUnXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICkgOiAoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIHN0eWxlPXt7IGNvbG9yOiBwYXJzZUZsb2F0KGNvbmQuY29uZGl0aW9uX3ZhbHVlKSA+PSAwID8gJyMyRUNDNzEnIDogJyNFNzRDM0MnIH19PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtwYXJzZUZsb2F0KGNvbmQuY29uZGl0aW9uX3ZhbHVlKS50b0ZpeGVkKDIpfSVcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBzdHlsZT17eyBjb2xvcjogJyM5NWE1YTYnLCBmb250U2l6ZTogJzExcHgnIH19Pntjb25kLmxhbmVfaWR9PC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L3RkPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8dGQgc3R5bGU9e3sgcGFkZGluZzogJzhweCcsIGJvcmRlcjogJzFweCBzb2xpZCByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMSknIH19PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtzdGFydEVsZXZhdGlvbi50b0ZpeGVkKDIpfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L3RkPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8dGQgc3R5bGU9e3sgcGFkZGluZzogJzhweCcsIGJvcmRlcjogJzFweCBzb2xpZCByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMSknIH19PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtlbmRFbGV2YXRpb24udG9GaXhlZCgyKX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC90ZD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPHRkIHN0eWxlPXt7IHBhZGRpbmc6ICc4cHgnLCBib3JkZXI6ICcxcHggc29saWQgcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjEpJyB9fT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICB7ZWRpdGluZ0lkID09PSBjb25kLmNvbmRpdGlvbl9pZCA/IChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgZGlzcGxheTogJ2ZsZXgnLCBnYXA6ICc0cHgnIH19PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gaGFuZGxlU2F2ZShjb25kLmNvbmRpdGlvbl9pZCl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3NhdmluZ31cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFkZGluZzogJzRweCA4cHgnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZDogJyMyRUNDNzEnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6ICd3aGl0ZScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib3JkZXI6ICdub25lJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlclJhZGl1czogJzRweCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJzb3I6IHNhdmluZyA/ICdub3QtYWxsb3dlZCcgOiAncG9pbnRlcicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb250U2l6ZTogJzEycHgnXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtzYXZpbmcgPyAnU2F2aW5nLi4uJyA6ICdTYXZlJ31cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVDYW5jZWx9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6ICc0cHggOHB4JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6ICcjOTVhNWE2JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiAnd2hpdGUnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9yZGVyOiAnbm9uZScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib3JkZXJSYWRpdXM6ICc0cHgnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3Vyc29yOiAncG9pbnRlcicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb250U2l6ZTogJzEycHgnXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIENhbmNlbFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICkgOiBzcGxpdHRpbmdJZCA9PT0gY29uZC5jb25kaXRpb25faWQgPyAoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IGRpc3BsYXk6ICdmbGV4JywgZmxleERpcmVjdGlvbjogJ2NvbHVtbicsIGdhcDogJzRweCcgfX0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJudW1iZXJcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXtzcGxpdFBvaW50fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0U3BsaXRQb2ludChlLnRhcmdldC52YWx1ZSl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJTcGxpdCBwb2ludFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RlcD1cIjAuMVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiAnMTAwcHgnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFkZGluZzogJzRweCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib3JkZXJSYWRpdXM6ICc0cHgnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9yZGVyOiAnMXB4IHNvbGlkICM1NTUnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiAnIzJjMmMyYycsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogJ3doaXRlJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvbnRTaXplOiAnMTFweCdcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IGRpc3BsYXk6ICdmbGV4JywgZ2FwOiAnNHB4JyB9fT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBoYW5kbGVTcGxpdChjb25kKX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXtzYXZpbmd9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOiAnNHB4IDhweCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6ICcjRTY3RTIyJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6ICd3aGl0ZScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlcjogJ25vbmUnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib3JkZXJSYWRpdXM6ICc0cHgnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJzb3I6IHNhdmluZyA/ICdub3QtYWxsb3dlZCcgOiAncG9pbnRlcicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvbnRTaXplOiAnMTFweCdcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3NhdmluZyA/ICdTcGxpdHRpbmcuLi4nIDogJ1NwbGl0J31cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVDYW5jZWx9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOiAnNHB4IDhweCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6ICcjOTVhNWE2JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6ICd3aGl0ZScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlcjogJ25vbmUnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib3JkZXJSYWRpdXM6ICc0cHgnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJzb3I6ICdwb2ludGVyJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9udFNpemU6ICcxMXB4J1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBDYW5jZWxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICApIDogKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBkaXNwbGF5OiAnZmxleCcsIGdhcDogJzRweCcsIGZsZXhXcmFwOiAnd3JhcCcgfX0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBoYW5kbGVFZGl0KGNvbmQpfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOiAnNHB4IDhweCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiAnIzM0OThkYicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogJ3doaXRlJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlcjogJ25vbmUnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiAnNHB4JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnNvcjogJ3BvaW50ZXInLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9udFNpemU6ICcxMXB4J1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBFZGl0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gc2V0U3BsaXR0aW5nSWQoY29uZC5jb25kaXRpb25faWQpfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOiAnNHB4IDhweCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiAnI0U2N0UyMicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogJ3doaXRlJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlcjogJ25vbmUnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiAnNHB4JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnNvcjogJ3BvaW50ZXInLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9udFNpemU6ICcxMXB4J1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBTcGxpdFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IGhhbmRsZURlbGV0ZShjb25kLmNvbmRpdGlvbl9pZCl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3NhdmluZ31cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFkZGluZzogJzRweCA4cHgnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZDogJyNFNzRDM0MnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6ICd3aGl0ZScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib3JkZXI6ICdub25lJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlclJhZGl1czogJzRweCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJzb3I6IHNhdmluZyA/ICdub3QtYWxsb3dlZCcgOiAncG9pbnRlcicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb250U2l6ZTogJzExcHgnXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlbGV0ZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvdGQ+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8L3RyPlxyXG4gICAgICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICB9KSgpfVxyXG4gICAgICAgICAgICAgICAgICB7LyogQWRkIG5ldyBzZWdtZW50IHJvdyAqL31cclxuICAgICAgICAgICAgICAgICAge2FkZGluZ05ldyAmJiAoXHJcbiAgICAgICAgICAgICAgICAgICAgPHRyIHN0eWxlPXt7IGJvcmRlckJvdHRvbTogJzFweCBzb2xpZCByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMSknLCBiYWNrZ3JvdW5kQ29sb3I6ICdyZ2JhKDQ2LCAyMDQsIDExMywgMC4xKScgfX0+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8dGQgc3R5bGU9e3sgcGFkZGluZzogJzhweCcsIGJvcmRlcjogJzFweCBzb2xpZCByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMSknIH19PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwidGV4dFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e25ld1NlZ21lbnQubGFuZV9pZH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHNldE5ld1NlZ21lbnQoeyAuLi5uZXdTZWdtZW50LCBsYW5lX2lkOiBlLnRhcmdldC52YWx1ZSB9KX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cImxhbmVfaWRcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogJzE1MHB4JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6ICc0cHgnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiAnNHB4JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlcjogJzFweCBzb2xpZCAjNTU1JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogJyMyYzJjMmMnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6ICd3aGl0ZScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb250U2l6ZTogJzExcHgnXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgICAgICAgIDwvdGQ+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8dGQgc3R5bGU9e3sgcGFkZGluZzogJzhweCcsIGJvcmRlcjogJzFweCBzb2xpZCByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMSknIH19Pi08L3RkPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPHRkIHN0eWxlPXt7IHBhZGRpbmc6ICc4cHgnLCBib3JkZXI6ICcxcHggc29saWQgcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjEpJyB9fT4tPC90ZD5cclxuICAgICAgICAgICAgICAgICAgICAgIDx0ZCBzdHlsZT17eyBwYWRkaW5nOiAnOHB4JywgYm9yZGVyOiAnMXB4IHNvbGlkIHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4xKScgfX0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJudW1iZXJcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXtuZXdTZWdtZW50LnN0YXJ0X21lYXN1cmV9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXROZXdTZWdtZW50KHsgLi4ubmV3U2VnbWVudCwgc3RhcnRfbWVhc3VyZTogZS50YXJnZXQudmFsdWUgfSl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJTdGFydFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc3RlcD1cIjAuMVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiAnODBweCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOiAnNHB4JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlclJhZGl1czogJzRweCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBib3JkZXI6ICcxcHggc29saWQgIzU1NScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICcjMmMyYzJjJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiAnd2hpdGUnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9udFNpemU6ICcxMXB4J1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8L3RkPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPHRkIHN0eWxlPXt7IHBhZGRpbmc6ICc4cHgnLCBib3JkZXI6ICcxcHggc29saWQgcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjEpJyB9fT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1cIm51bWJlclwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e25ld1NlZ21lbnQuZW5kX21lYXN1cmV9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXROZXdTZWdtZW50KHsgLi4ubmV3U2VnbWVudCwgZW5kX21lYXN1cmU6IGUudGFyZ2V0LnZhbHVlIH0pfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiRW5kXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBzdGVwPVwiMC4xXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6ICc4MHB4JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6ICc0cHgnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiAnNHB4JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlcjogJzFweCBzb2xpZCAjNTU1JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogJyMyYzJjMmMnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6ICd3aGl0ZScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb250U2l6ZTogJzExcHgnXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgICAgICAgIDwvdGQ+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8dGQgc3R5bGU9e3sgcGFkZGluZzogJzhweCcsIGJvcmRlcjogJzFweCBzb2xpZCByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMSknIH19PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwibnVtYmVyXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17bmV3U2VnbWVudC5jb25kaXRpb25fdmFsdWV9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXROZXdTZWdtZW50KHsgLi4ubmV3U2VnbWVudCwgY29uZGl0aW9uX3ZhbHVlOiBlLnRhcmdldC52YWx1ZSB9KX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIlNsb3BlICVcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHN0ZXA9XCIwLjFcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogJzgwcHgnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFkZGluZzogJzRweCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBib3JkZXJSYWRpdXM6ICc0cHgnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9yZGVyOiAnMXB4IHNvbGlkICM1NTUnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiAnIzJjMmMyYycsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogJ3doaXRlJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvbnRTaXplOiAnMTFweCdcclxuICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPC90ZD5cclxuICAgICAgICAgICAgICAgICAgICAgIDx0ZCBzdHlsZT17eyBwYWRkaW5nOiAnOHB4JywgYm9yZGVyOiAnMXB4IHNvbGlkIHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4xKScgfX0+LTwvdGQ+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8dGQgc3R5bGU9e3sgcGFkZGluZzogJzhweCcsIGJvcmRlcjogJzFweCBzb2xpZCByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMSknIH19Pi08L3RkPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPHRkIHN0eWxlPXt7IHBhZGRpbmc6ICc4cHgnLCBib3JkZXI6ICcxcHggc29saWQgcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjEpJyB9fT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBkaXNwbGF5OiAnZmxleCcsIGdhcDogJzRweCcgfX0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17aGFuZGxlQWRkfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3NhdmluZ31cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6ICc0cHggOHB4JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZDogJyMyRUNDNzEnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogJ3doaXRlJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9yZGVyOiAnbm9uZScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlclJhZGl1czogJzRweCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnNvcjogc2F2aW5nID8gJ25vdC1hbGxvd2VkJyA6ICdwb2ludGVyJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9udFNpemU6ICcxMXB4J1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7c2F2aW5nID8gJ0FkZGluZy4uLicgOiAnQWRkJ31cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVDYW5jZWx9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOiAnNHB4IDhweCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6ICcjOTVhNWE2JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6ICd3aGl0ZScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlcjogJ25vbmUnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib3JkZXJSYWRpdXM6ICc0cHgnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJzb3I6ICdwb2ludGVyJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9udFNpemU6ICcxMXB4J1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBDYW5jZWxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8L3RkPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvdHI+XHJcbiAgICAgICAgICAgICAgICAgICl9XHJcbiAgICAgICAgICAgICAgICA8L3Rib2R5PlxyXG4gICAgICAgICAgICAgIDwvdGFibGU+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPC8+XHJcbiAgICAgICl9XHJcbiAgICA8L2Rpdj5cclxuICApO1xyXG59XHJcblxyXG5cclxuXHJcblxyXG5cclxuIl0sIm5hbWVzIjpbInVzZVN0YXRlIiwidXNlRWZmZWN0IiwiUkVGRVJFTkNFX0VMRVZBVElPTiIsIlJvYWRQcm9maWxlVmlld2VyIiwicm9hZElkIiwib25DbG9zZSIsImNvbmRpdGlvbnMiLCJzZXRDb25kaXRpb25zIiwidG90YWxSb2FkTGVuZ3RoIiwic2V0VG90YWxSb2FkTGVuZ3RoIiwibG9hZGluZyIsInNldExvYWRpbmciLCJlZGl0aW5nSWQiLCJzZXRFZGl0aW5nSWQiLCJlZGl0VmFsdWUiLCJzZXRFZGl0VmFsdWUiLCJzYXZpbmciLCJzZXRTYXZpbmciLCJzcGxpdHRpbmdJZCIsInNldFNwbGl0dGluZ0lkIiwic3BsaXRQb2ludCIsInNldFNwbGl0UG9pbnQiLCJhZGRpbmdOZXciLCJzZXRBZGRpbmdOZXciLCJuZXdTZWdtZW50Iiwic2V0TmV3U2VnbWVudCIsImxhbmVfaWQiLCJzdGFydF9tZWFzdXJlIiwiZW5kX21lYXN1cmUiLCJjb25kaXRpb25fdmFsdWUiLCJmZXRjaENvbmRpdGlvbnMiLCJyZXNwb25zZSIsImZldGNoIiwib2siLCJFcnJvciIsImRhdGEiLCJqc29uIiwiQXJyYXkiLCJpc0FycmF5IiwiTnVtYmVyIiwidG90YWxfcm9hZF9sZW5ndGgiLCJlcnJvciIsImNvbnNvbGUiLCJjYWxjdWxhdGVFbGV2YXRpb25BdERpc3RhbmNlIiwiY3VtdWxhdGl2ZURpc3RhbmNlIiwiYWxsQ29uZGl0aW9ucyIsImVsZXZhdGlvbiIsImN1cnJlbnREaXN0YW5jZSIsImxhbmVHcm91cHMiLCJmb3JFYWNoIiwiY29uZCIsInB1c2giLCJsYW5lRW50cmllcyIsIk9iamVjdCIsImVudHJpZXMiLCJtYXAiLCJsYW5lSWQiLCJjb25kcyIsIm1hdGNoIiwic2VnTnVtIiwicGFyc2VJbnQiLCJsYW5lTGVuZ3RoIiwiTWF0aCIsIm1heCIsImMiLCJhZGpfZW5kIiwic29ydCIsImEiLCJiIiwic29ydGVkQ29uZHMiLCJhZGpfc3RhcnQiLCJsYW5lU3RhcnREaXN0YW5jZSIsImNvbmRTdGFydERpc3QiLCJjb25kRW5kRGlzdCIsInNsb3BlIiwiZGlzdEluQ29uZGl0aW9uIiwiY29uZExlbmd0aCIsIm5vcm1hbGl6ZUNvbmRpdGlvbnMiLCJsZW5ndGgiLCJzdGFydCIsImVuZCIsImxlbiIsImxhbmVfbGVuZ3RoIiwibm9ybWFsaXplZCIsImxpc3QiLCJsYW5lU3RhcnRzIiwiTWFwIiwiY3VtdWxhdGl2ZUxhbmUiLCJhZGp1c3RlZCIsInNldCIsInNvcnRlZCIsImN1ciIsImFkalN0YXJ0IiwiYWRqRW5kIiwicm9hZF9zdGFydCIsInJvYWRfZW5kIiwibGFuZUxlbiIsInRvdGFsTGVuZ3RoIiwiYWRqdXN0ZWRDb25kcyIsImVmZmVjdGl2ZVRvdGFsTGVuZ3RoIiwiZ2VuZXJhdGVQcm9maWxlRGF0YSIsImRpc3RhbmNlUG9pbnRzIiwiU2V0IiwiYWRkIiwic29ydGVkRGlzdGFuY2VzIiwiZnJvbSIsInJlc3VsdCIsImRpc3RhbmNlIiwiZmluZCIsImNvbmRpdGlvbl9pZCIsImhhbmRsZUVkaXQiLCJjb25kaXRpb24iLCJoYW5kbGVTYXZlIiwiY29uZGl0aW9uSWQiLCJ2YWx1ZSIsInBhcnNlRmxvYXQiLCJpc05hTiIsImFsZXJ0IiwibWV0aG9kIiwiaGVhZGVycyIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwiZXJyb3JEYXRhIiwiY2F0Y2giLCJsb2ciLCJtZXNzYWdlIiwiaGFuZGxlQ2FuY2VsIiwiaGFuZGxlU3BsaXQiLCJzcGxpdFZhbHVlIiwicmVzcG9uc2UxIiwicmVzcG9uc2UyIiwiaGFuZGxlRGVsZXRlIiwiY29uZmlybSIsImhhbmRsZUFkZCIsInByb2ZpbGVEYXRhIiwibWluRGlzdGFuY2UiLCJtaW4iLCJwIiwibWF4RGlzdGFuY2UiLCJtaW5FbGV2YXRpb24iLCJtYXhFbGV2YXRpb24iLCJjaGFydFdpZHRoIiwiY2hhcnRIZWlnaHQiLCJwYWRkaW5nIiwicGxvdFdpZHRoIiwicGxvdEhlaWdodCIsImVsZXZhdGlvblJhbmdlIiwiZGlzdGFuY2VSYW5nZSIsInNjYWxlWCIsInNjYWxlWSIsInBhdGhEYXRhIiwiam9pbiIsImRpdiIsInN0eWxlIiwicG9zaXRpb24iLCJ0b3AiLCJsZWZ0IiwicmlnaHQiLCJib3R0b20iLCJiYWNrZ3JvdW5kQ29sb3IiLCJkaXNwbGF5IiwianVzdGlmeUNvbnRlbnQiLCJhbGlnbkl0ZW1zIiwiekluZGV4IiwiY29sb3IiLCJmbGV4RGlyZWN0aW9uIiwib3ZlcmZsb3ciLCJtYXJnaW5Cb3R0b20iLCJoMiIsIm1hcmdpbiIsImJ1dHRvbiIsIm9uQ2xpY2siLCJiYWNrZ3JvdW5kIiwiYm9yZGVyIiwiYm9yZGVyUmFkaXVzIiwiY3Vyc29yIiwiZm9udFdlaWdodCIsImZvbnRTaXplIiwidGV4dEFsaWduIiwibWFyZ2luVG9wIiwiZ2FwIiwiZmxleFdyYXAiLCJpbnB1dCIsInR5cGUiLCJwbGFjZWhvbGRlciIsIm9uQ2hhbmdlIiwiZSIsInRhcmdldCIsIndpZHRoIiwibGFuZURlZmF1bHQiLCJkaXNhYmxlZCIsImgzIiwic3ZnIiwiaGVpZ2h0IiwidCIsImxpbmUiLCJ4MSIsInkxIiwieDIiLCJ5MiIsInN0cm9rZSIsInN0cm9rZVdpZHRoIiwidGV4dCIsIngiLCJ5IiwiZmlsbCIsInRleHRBbmNob3IiLCJkb21pbmFudEJhc2VsaW5lIiwidG9GaXhlZCIsInRyYW5zZm9ybSIsInBhdGgiLCJkIiwicG9pbnQiLCJpZHgiLCJjaXJjbGUiLCJjeCIsImN5IiwiciIsImZpcnN0TGFuZSIsIm92ZXJmbG93WCIsInRhYmxlIiwiYm9yZGVyQ29sbGFwc2UiLCJ0aGVhZCIsInRyIiwidGgiLCJ0Ym9keSIsInNvcnRlZENvbmRpdGlvbnMiLCJtYXRjaEEiLCJtYXRjaEIiLCJzZWdOdW1BIiwic2VnTnVtQiIsImxhbmVDdW11bGF0aXZlRGlzdGFuY2VzIiwiY3VtdWxhdGl2ZURpc3QiLCJrZXlzIiwiaGFzIiwibGFuZVN0YXJ0RGlzdCIsImdldCIsInJvYWRTdGFydERpc3QiLCJyb2FkRW5kRGlzdCIsInN0YXJ0RWxldmF0aW9uIiwiZW5kRWxldmF0aW9uIiwiYm9yZGVyQm90dG9tIiwidGQiLCJzdGVwIiwic3BhbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./components/RoadProfileViewer.js\n");

/***/ }),

/***/ "./components/TopMenuBar.js":
/*!**********************************!*\
  !*** ./components/TopMenuBar.js ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ TopMenuBar)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n\n\n/**\r\n * Top menu bar (copied from Frontrunner) with Tools dropdown.\r\n */ function TopMenuBar({ onComputePath, onShowIntersectionCurves, onManageProfiles, onToggleCornerPoints, onToggleCenterPoints, showCornerPoints, showCenterPoints, onMeasureDistance, onMeasureArea, onChangeBaseLayer, currentBaseLayer, onChangeSceneMode, currentSceneMode }) {\n    const [openMenu, setOpenMenu] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const handleMenuClick = (menuName)=>{\n        setOpenMenu(openMenu === menuName ? null : menuName);\n    };\n    const closeMenu = ()=>{\n        setOpenMenu(null);\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n        children: [\n            openMenu && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                onClick: closeMenu,\n                style: {\n                    position: \"fixed\",\n                    top: 0,\n                    left: 0,\n                    right: 0,\n                    bottom: 0,\n                    zIndex: 998\n                }\n            }, void 0, false, {\n                fileName: \"/app/components/TopMenuBar.js\",\n                lineNumber: 34,\n                columnNumber: 9\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                style: {\n                    position: \"fixed\",\n                    top: 0,\n                    left: 0,\n                    right: 0,\n                    height: \"40px\",\n                    backgroundColor: \"#1a252f\",\n                    borderBottom: \"1px solid #2c3e50\",\n                    display: \"flex\",\n                    alignItems: \"stretch\",\n                    zIndex: 999,\n                    boxShadow: \"0 2px 8px rgba(0, 0, 0, 0.3)\",\n                    fontFamily: `'Inter', 'Segoe UI', Arial, sans-serif`,\n                    fontSize: \"14px\"\n                },\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    style: {\n                        display: \"flex\",\n                        alignItems: \"stretch\"\n                    },\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(MenuButton, {\n                            label: \"Tools\",\n                            isOpen: openMenu === \"tools\",\n                            onClick: ()=>handleMenuClick(\"tools\"),\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(MenuItem, {\n                                    label: \"View Profile\",\n                                    onSelect: ()=>{\n                                        onManageProfiles?.();\n                                        closeMenu();\n                                    }\n                                }, void 0, false, {\n                                    fileName: \"/app/components/TopMenuBar.js\",\n                                    lineNumber: 68,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(MenuItem, {\n                                    label: \"Compute Turn Path\",\n                                    onSelect: ()=>{\n                                        onComputePath?.();\n                                        closeMenu();\n                                    }\n                                }, void 0, false, {\n                                    fileName: \"/app/components/TopMenuBar.js\",\n                                    lineNumber: 75,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(MenuItem, {\n                                    label: \"Measure Distance\",\n                                    onSelect: ()=>{\n                                        onMeasureDistance?.();\n                                        closeMenu();\n                                    }\n                                }, void 0, false, {\n                                    fileName: \"/app/components/TopMenuBar.js\",\n                                    lineNumber: 82,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(MenuItem, {\n                                    label: \"Measure Area\",\n                                    onSelect: ()=>{\n                                        onMeasureArea?.();\n                                        closeMenu();\n                                    }\n                                }, void 0, false, {\n                                    fileName: \"/app/components/TopMenuBar.js\",\n                                    lineNumber: 89,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/app/components/TopMenuBar.js\",\n                            lineNumber: 63,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(MenuButton, {\n                            label: \"View\",\n                            isOpen: openMenu === \"view\",\n                            onClick: ()=>handleMenuClick(\"view\"),\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(MenuItem, {\n                                    label: \"Map Mode: 3D Globe\",\n                                    checked: currentSceneMode === \"3d\",\n                                    onSelect: ()=>{\n                                        onChangeSceneMode?.(\"3d\");\n                                        closeMenu();\n                                    }\n                                }, void 0, false, {\n                                    fileName: \"/app/components/TopMenuBar.js\",\n                                    lineNumber: 102,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(MenuItem, {\n                                    label: \"Map Mode: 2D Map\",\n                                    checked: currentSceneMode === \"2d\",\n                                    onSelect: ()=>{\n                                        onChangeSceneMode?.(\"2d\");\n                                        closeMenu();\n                                    }\n                                }, void 0, false, {\n                                    fileName: \"/app/components/TopMenuBar.js\",\n                                    lineNumber: 110,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    style: {\n                                        height: \"1px\",\n                                        background: \"rgba(255,255,255,0.08)\",\n                                        margin: \"6px 0\"\n                                    }\n                                }, void 0, false, {\n                                    fileName: \"/app/components/TopMenuBar.js\",\n                                    lineNumber: 118,\n                                    columnNumber: 13\n                                }, this),\n                                [\n                                    {\n                                        key: \"night\",\n                                        label: \"Base: Night (Dark)\"\n                                    },\n                                    {\n                                        key: \"day\",\n                                        label: \"Base: Day (Satellite)\"\n                                    },\n                                    {\n                                        key: \"topographic\",\n                                        label: \"Base: Topographic\"\n                                    },\n                                    {\n                                        key: \"terrain\",\n                                        label: \"Base: Terrain\"\n                                    }\n                                ].map((opt)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(MenuItem, {\n                                        label: opt.label,\n                                        checked: currentBaseLayer === opt.key,\n                                        onSelect: ()=>{\n                                            onChangeBaseLayer?.(opt.key);\n                                            closeMenu();\n                                        }\n                                    }, opt.key, false, {\n                                        fileName: \"/app/components/TopMenuBar.js\",\n                                        lineNumber: 125,\n                                        columnNumber: 15\n                                    }, this))\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/app/components/TopMenuBar.js\",\n                            lineNumber: 97,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/app/components/TopMenuBar.js\",\n                    lineNumber: 62,\n                    columnNumber: 9\n                }, this)\n            }, void 0, false, {\n                fileName: \"/app/components/TopMenuBar.js\",\n                lineNumber: 47,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                style: {\n                    height: \"40px\"\n                }\n            }, void 0, false, {\n                fileName: \"/app/components/TopMenuBar.js\",\n                lineNumber: 139,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true);\n}\nfunction MenuButton({ label, isOpen, onClick, children }) {\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        style: {\n            position: \"relative\"\n        },\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                onClick: onClick,\n                style: {\n                    height: \"40px\",\n                    padding: \"0 16px\",\n                    backgroundColor: isOpen ? \"#2c3e50\" : \"transparent\",\n                    color: \"white\",\n                    border: \"none\",\n                    cursor: \"pointer\",\n                    fontSize: \"14px\",\n                    fontWeight: \"500\",\n                    fontFamily: `'Inter', 'Segoe UI', Arial, sans-serif`,\n                    transition: \"background-color 0.15s\",\n                    borderRight: \"1px solid rgba(255, 255, 255, 0.1)\"\n                },\n                onMouseEnter: (e)=>{\n                    if (!isOpen) e.currentTarget.style.backgroundColor = \"rgba(255, 255, 255, 0.05)\";\n                },\n                onMouseLeave: (e)=>{\n                    if (!isOpen) e.currentTarget.style.backgroundColor = \"transparent\";\n                },\n                children: label\n            }, void 0, false, {\n                fileName: \"/app/components/TopMenuBar.js\",\n                lineNumber: 147,\n                columnNumber: 7\n            }, this),\n            isOpen && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                style: {\n                    position: \"absolute\",\n                    top: \"100%\",\n                    left: 0,\n                    minWidth: \"280px\",\n                    backgroundColor: \"#2c3e50\",\n                    border: \"1px solid #34495e\",\n                    borderTop: \"none\",\n                    boxShadow: \"0 4px 12px rgba(0, 0, 0, 0.3)\",\n                    zIndex: 1000,\n                    fontFamily: `'Inter', 'Segoe UI', Arial, sans-serif`,\n                    fontSize: \"14px\"\n                },\n                children: children\n            }, void 0, false, {\n                fileName: \"/app/components/TopMenuBar.js\",\n                lineNumber: 173,\n                columnNumber: 9\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/app/components/TopMenuBar.js\",\n        lineNumber: 146,\n        columnNumber: 5\n    }, this);\n}\nfunction MenuItem({ icon, label, description, checked, onSelect }) {\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        onClick: onSelect,\n        style: {\n            padding: \"12px 16px\",\n            cursor: \"pointer\",\n            transition: \"background-color 0.15s, border-color 0.15s\",\n            display: \"flex\",\n            alignItems: \"flex-start\",\n            gap: \"12px\",\n            fontFamily: `'Inter', 'Segoe UI', Arial, sans-serif`,\n            borderRadius: \"6px\",\n            margin: \"2px 8px\"\n        },\n        onMouseEnter: (e)=>{\n            e.currentTarget.style.backgroundColor = \"#3a4b5c\";\n        },\n        onMouseLeave: (e)=>{\n            e.currentTarget.style.backgroundColor = \"transparent\";\n        },\n        children: [\n            checked !== undefined && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                style: {\n                    width: \"16px\",\n                    height: \"16px\",\n                    border: checked ? \"2px solid #4ECDC4\" : \"2px solid rgba(255,255,255,0.4)\",\n                    borderRadius: \"4px\",\n                    display: \"flex\",\n                    alignItems: \"center\",\n                    justifyContent: \"center\",\n                    backgroundColor: checked ? \"#4ECDC4\" : \"transparent\",\n                    flexShrink: 0,\n                    marginTop: \"2px\"\n                },\n                children: checked && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                    style: {\n                        color: \"#0b1a24\",\n                        fontSize: \"12px\",\n                        fontWeight: 700\n                    },\n                    children: \"✓\"\n                }, void 0, false, {\n                    fileName: \"/app/components/TopMenuBar.js\",\n                    lineNumber: 228,\n                    columnNumber: 23\n                }, this)\n            }, void 0, false, {\n                fileName: \"/app/components/TopMenuBar.js\",\n                lineNumber: 216,\n                columnNumber: 9\n            }, this),\n            icon && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                style: {\n                    fontSize: \"16px\",\n                    flexShrink: 0\n                },\n                children: icon\n            }, void 0, false, {\n                fileName: \"/app/components/TopMenuBar.js\",\n                lineNumber: 233,\n                columnNumber: 9\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                style: {\n                    flex: 1\n                },\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        style: {\n                            color: \"white\",\n                            fontSize: \"14px\",\n                            fontWeight: \"500\",\n                            marginBottom: description ? \"4px\" : 0\n                        },\n                        children: label\n                    }, void 0, false, {\n                        fileName: \"/app/components/TopMenuBar.js\",\n                        lineNumber: 239,\n                        columnNumber: 9\n                    }, this),\n                    description && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        style: {\n                            color: \"#95a5a6\",\n                            fontSize: \"12px\",\n                            lineHeight: \"1.3\"\n                        },\n                        children: description\n                    }, void 0, false, {\n                        fileName: \"/app/components/TopMenuBar.js\",\n                        lineNumber: 248,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/app/components/TopMenuBar.js\",\n                lineNumber: 238,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/app/components/TopMenuBar.js\",\n        lineNumber: 195,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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O3dCQUFJRSxPQUFPOzRCQUNWNkIsT0FBTzs0QkFDUGYsVUFBVTs0QkFDVnVDLFlBQVk7d0JBQ2Q7a0NBQ0dYOzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFNYiIsInNvdXJjZXMiOlsid2VicGFjazovL2NvbWJpbmVkLXVpLy4vY29tcG9uZW50cy9Ub3BNZW51QmFyLmpzP2RkYTMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0LCB7IHVzZVN0YXRlIH0gZnJvbSAncmVhY3QnO1xyXG5cclxuLyoqXHJcbiAqIFRvcCBtZW51IGJhciAoY29waWVkIGZyb20gRnJvbnRydW5uZXIpIHdpdGggVG9vbHMgZHJvcGRvd24uXHJcbiAqL1xyXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBUb3BNZW51QmFyKHtcclxuICBvbkNvbXB1dGVQYXRoLFxyXG4gIG9uU2hvd0ludGVyc2VjdGlvbkN1cnZlcyxcclxuICBvbk1hbmFnZVByb2ZpbGVzLFxyXG4gIG9uVG9nZ2xlQ29ybmVyUG9pbnRzLFxyXG4gIG9uVG9nZ2xlQ2VudGVyUG9pbnRzLFxyXG4gIHNob3dDb3JuZXJQb2ludHMsXHJcbiAgc2hvd0NlbnRlclBvaW50cyxcclxuICBvbk1lYXN1cmVEaXN0YW5jZSxcclxuICBvbk1lYXN1cmVBcmVhLFxyXG4gIG9uQ2hhbmdlQmFzZUxheWVyLFxyXG4gIGN1cnJlbnRCYXNlTGF5ZXIsXHJcbiAgb25DaGFuZ2VTY2VuZU1vZGUsXHJcbiAgY3VycmVudFNjZW5lTW9kZVxyXG59KSB7XHJcbiAgY29uc3QgW29wZW5NZW51LCBzZXRPcGVuTWVudV0gPSB1c2VTdGF0ZShudWxsKTtcclxuXHJcbiAgY29uc3QgaGFuZGxlTWVudUNsaWNrID0gKG1lbnVOYW1lKSA9PiB7XHJcbiAgICBzZXRPcGVuTWVudShvcGVuTWVudSA9PT0gbWVudU5hbWUgPyBudWxsIDogbWVudU5hbWUpO1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IGNsb3NlTWVudSA9ICgpID0+IHtcclxuICAgIHNldE9wZW5NZW51KG51bGwpO1xyXG4gIH07XHJcblxyXG4gIHJldHVybiAoXHJcbiAgICA8PlxyXG4gICAgICB7b3Blbk1lbnUgJiYgKFxyXG4gICAgICAgIDxkaXZcclxuICAgICAgICAgIG9uQ2xpY2s9e2Nsb3NlTWVudX1cclxuICAgICAgICAgIHN0eWxlPXt7XHJcbiAgICAgICAgICAgIHBvc2l0aW9uOiAnZml4ZWQnLFxyXG4gICAgICAgICAgICB0b3A6IDAsXHJcbiAgICAgICAgICAgIGxlZnQ6IDAsXHJcbiAgICAgICAgICAgIHJpZ2h0OiAwLFxyXG4gICAgICAgICAgICBib3R0b206IDAsXHJcbiAgICAgICAgICAgIHpJbmRleDogOTk4XHJcbiAgICAgICAgICB9fVxyXG4gICAgICAgIC8+XHJcbiAgICAgICl9XHJcblxyXG4gICAgICA8ZGl2IHN0eWxlPXt7XHJcbiAgICAgICAgcG9zaXRpb246ICdmaXhlZCcsXHJcbiAgICAgICAgdG9wOiAwLFxyXG4gICAgICAgIGxlZnQ6IDAsXHJcbiAgICAgICAgcmlnaHQ6IDAsXHJcbiAgICAgICAgaGVpZ2h0OiAnNDBweCcsXHJcbiAgICAgICAgYmFja2dyb3VuZENvbG9yOiAnIzFhMjUyZicsXHJcbiAgICAgICAgYm9yZGVyQm90dG9tOiAnMXB4IHNvbGlkICMyYzNlNTAnLFxyXG4gICAgICAgIGRpc3BsYXk6ICdmbGV4JyxcclxuICAgICAgICBhbGlnbkl0ZW1zOiAnc3RyZXRjaCcsXHJcbiAgICAgICAgekluZGV4OiA5OTksXHJcbiAgICAgICAgYm94U2hhZG93OiAnMCAycHggOHB4IHJnYmEoMCwgMCwgMCwgMC4zKScsXHJcbiAgICAgICAgZm9udEZhbWlseTogYCdJbnRlcicsICdTZWdvZSBVSScsIEFyaWFsLCBzYW5zLXNlcmlmYCxcclxuICAgICAgICBmb250U2l6ZTogJzE0cHgnXHJcbiAgICAgIH19PlxyXG4gICAgICAgIDxkaXYgc3R5bGU9e3sgZGlzcGxheTogJ2ZsZXgnLCBhbGlnbkl0ZW1zOiAnc3RyZXRjaCcgfX0+XHJcbiAgICAgICAgICA8TWVudUJ1dHRvblxyXG4gICAgICAgICAgICBsYWJlbD1cIlRvb2xzXCJcclxuICAgICAgICAgICAgaXNPcGVuPXtvcGVuTWVudSA9PT0gJ3Rvb2xzJ31cclxuICAgICAgICAgICAgb25DbGljaz17KCkgPT4gaGFuZGxlTWVudUNsaWNrKCd0b29scycpfVxyXG4gICAgICAgICAgPlxyXG4gICAgICAgICAgICA8TWVudUl0ZW1cclxuICAgICAgICAgICAgICBsYWJlbD1cIlZpZXcgUHJvZmlsZVwiXHJcbiAgICAgICAgICAgICAgb25TZWxlY3Q9eygpID0+IHtcclxuICAgICAgICAgICAgICAgIG9uTWFuYWdlUHJvZmlsZXM/LigpO1xyXG4gICAgICAgICAgICAgICAgY2xvc2VNZW51KCk7XHJcbiAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgPE1lbnVJdGVtXHJcbiAgICAgICAgICAgICAgbGFiZWw9XCJDb21wdXRlIFR1cm4gUGF0aFwiXHJcbiAgICAgICAgICAgICAgb25TZWxlY3Q9eygpID0+IHtcclxuICAgICAgICAgICAgICAgIG9uQ29tcHV0ZVBhdGg/LigpO1xyXG4gICAgICAgICAgICAgICAgY2xvc2VNZW51KCk7XHJcbiAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgPE1lbnVJdGVtXHJcbiAgICAgICAgICAgICAgbGFiZWw9XCJNZWFzdXJlIERpc3RhbmNlXCJcclxuICAgICAgICAgICAgICBvblNlbGVjdD17KCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgb25NZWFzdXJlRGlzdGFuY2U/LigpO1xyXG4gICAgICAgICAgICAgICAgY2xvc2VNZW51KCk7XHJcbiAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgPE1lbnVJdGVtXHJcbiAgICAgICAgICAgICAgbGFiZWw9XCJNZWFzdXJlIEFyZWFcIlxyXG4gICAgICAgICAgICAgIG9uU2VsZWN0PXsoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBvbk1lYXN1cmVBcmVhPy4oKTtcclxuICAgICAgICAgICAgICAgIGNsb3NlTWVudSgpO1xyXG4gICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICA8L01lbnVCdXR0b24+XHJcbiAgICAgICAgICA8TWVudUJ1dHRvblxyXG4gICAgICAgICAgICBsYWJlbD1cIlZpZXdcIlxyXG4gICAgICAgICAgICBpc09wZW49e29wZW5NZW51ID09PSAndmlldyd9XHJcbiAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IGhhbmRsZU1lbnVDbGljaygndmlldycpfVxyXG4gICAgICAgICAgPlxyXG4gICAgICAgICAgICA8TWVudUl0ZW1cclxuICAgICAgICAgICAgICBsYWJlbD1cIk1hcCBNb2RlOiAzRCBHbG9iZVwiXHJcbiAgICAgICAgICAgICAgY2hlY2tlZD17Y3VycmVudFNjZW5lTW9kZSA9PT0gJzNkJ31cclxuICAgICAgICAgICAgICBvblNlbGVjdD17KCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgb25DaGFuZ2VTY2VuZU1vZGU/LignM2QnKTtcclxuICAgICAgICAgICAgICAgIGNsb3NlTWVudSgpO1xyXG4gICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgIDxNZW51SXRlbVxyXG4gICAgICAgICAgICAgIGxhYmVsPVwiTWFwIE1vZGU6IDJEIE1hcFwiXHJcbiAgICAgICAgICAgICAgY2hlY2tlZD17Y3VycmVudFNjZW5lTW9kZSA9PT0gJzJkJ31cclxuICAgICAgICAgICAgICBvblNlbGVjdD17KCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgb25DaGFuZ2VTY2VuZU1vZGU/LignMmQnKTtcclxuICAgICAgICAgICAgICAgIGNsb3NlTWVudSgpO1xyXG4gICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgaGVpZ2h0OiAnMXB4JywgYmFja2dyb3VuZDogJ3JnYmEoMjU1LDI1NSwyNTUsMC4wOCknLCBtYXJnaW46ICc2cHggMCcgfX0gLz5cclxuICAgICAgICAgICAge1tcclxuICAgICAgICAgICAgICB7IGtleTogJ25pZ2h0JywgbGFiZWw6ICdCYXNlOiBOaWdodCAoRGFyayknIH0sXHJcbiAgICAgICAgICAgICAgeyBrZXk6ICdkYXknLCBsYWJlbDogJ0Jhc2U6IERheSAoU2F0ZWxsaXRlKScgfSxcclxuICAgICAgICAgICAgICB7IGtleTogJ3RvcG9ncmFwaGljJywgbGFiZWw6ICdCYXNlOiBUb3BvZ3JhcGhpYycgfSxcclxuICAgICAgICAgICAgICB7IGtleTogJ3RlcnJhaW4nLCBsYWJlbDogJ0Jhc2U6IFRlcnJhaW4nIH0sXHJcbiAgICAgICAgICAgIF0ubWFwKChvcHQpID0+IChcclxuICAgICAgICAgICAgICA8TWVudUl0ZW1cclxuICAgICAgICAgICAgICAgIGtleT17b3B0LmtleX1cclxuICAgICAgICAgICAgICAgIGxhYmVsPXtvcHQubGFiZWx9XHJcbiAgICAgICAgICAgICAgICBjaGVja2VkPXtjdXJyZW50QmFzZUxheWVyID09PSBvcHQua2V5fVxyXG4gICAgICAgICAgICAgICAgb25TZWxlY3Q9eygpID0+IHtcclxuICAgICAgICAgICAgICAgICAgb25DaGFuZ2VCYXNlTGF5ZXI/LihvcHQua2V5KTtcclxuICAgICAgICAgICAgICAgICAgY2xvc2VNZW51KCk7XHJcbiAgICAgICAgICAgICAgICB9fVxyXG4gICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICkpfVxyXG4gICAgICAgICAgPC9NZW51QnV0dG9uPlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICA8L2Rpdj5cclxuXHJcbiAgICAgIDxkaXYgc3R5bGU9e3sgaGVpZ2h0OiAnNDBweCcgfX0gLz5cclxuICAgIDwvPlxyXG4gICk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIE1lbnVCdXR0b24oeyBsYWJlbCwgaXNPcGVuLCBvbkNsaWNrLCBjaGlsZHJlbiB9KSB7XHJcbiAgcmV0dXJuIChcclxuICAgIDxkaXYgc3R5bGU9e3sgcG9zaXRpb246ICdyZWxhdGl2ZScgfX0+XHJcbiAgICAgIDxidXR0b25cclxuICAgICAgICBvbkNsaWNrPXtvbkNsaWNrfVxyXG4gICAgICAgIHN0eWxlPXt7XHJcbiAgICAgICAgICBoZWlnaHQ6ICc0MHB4JyxcclxuICAgICAgICAgIHBhZGRpbmc6ICcwIDE2cHgnLFxyXG4gICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBpc09wZW4gPyAnIzJjM2U1MCcgOiAndHJhbnNwYXJlbnQnLFxyXG4gICAgICAgICAgY29sb3I6ICd3aGl0ZScsXHJcbiAgICAgICAgICBib3JkZXI6ICdub25lJyxcclxuICAgICAgICAgIGN1cnNvcjogJ3BvaW50ZXInLFxyXG4gICAgICAgICAgZm9udFNpemU6ICcxNHB4JyxcclxuICAgICAgICAgIGZvbnRXZWlnaHQ6ICc1MDAnLFxyXG4gICAgICAgICAgZm9udEZhbWlseTogYCdJbnRlcicsICdTZWdvZSBVSScsIEFyaWFsLCBzYW5zLXNlcmlmYCxcclxuICAgICAgICAgIHRyYW5zaXRpb246ICdiYWNrZ3JvdW5kLWNvbG9yIDAuMTVzJyxcclxuICAgICAgICAgIGJvcmRlclJpZ2h0OiAnMXB4IHNvbGlkIHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4xKSdcclxuICAgICAgICB9fVxyXG4gICAgICAgIG9uTW91c2VFbnRlcj17KGUpID0+IHtcclxuICAgICAgICAgIGlmICghaXNPcGVuKSBlLmN1cnJlbnRUYXJnZXQuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gJ3JnYmEoMjU1LCAyNTUsIDI1NSwgMC4wNSknO1xyXG4gICAgICAgIH19XHJcbiAgICAgICAgb25Nb3VzZUxlYXZlPXsoZSkgPT4ge1xyXG4gICAgICAgICAgaWYgKCFpc09wZW4pIGUuY3VycmVudFRhcmdldC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAndHJhbnNwYXJlbnQnO1xyXG4gICAgICAgIH19XHJcbiAgICAgID5cclxuICAgICAgICB7bGFiZWx9XHJcbiAgICAgIDwvYnV0dG9uPlxyXG5cclxuICAgICAge2lzT3BlbiAmJiAoXHJcbiAgICAgICAgPGRpdiBzdHlsZT17e1xyXG4gICAgICAgICAgcG9zaXRpb246ICdhYnNvbHV0ZScsXHJcbiAgICAgICAgICB0b3A6ICcxMDAlJyxcclxuICAgICAgICAgIGxlZnQ6IDAsXHJcbiAgICAgICAgICBtaW5XaWR0aDogJzI4MHB4JyxcclxuICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogJyMyYzNlNTAnLFxyXG4gICAgICAgICAgYm9yZGVyOiAnMXB4IHNvbGlkICMzNDQ5NWUnLFxyXG4gICAgICAgICAgYm9yZGVyVG9wOiAnbm9uZScsXHJcbiAgICAgICAgICBib3hTaGFkb3c6ICcwIDRweCAxMnB4IHJnYmEoMCwgMCwgMCwgMC4zKScsXHJcbiAgICAgICAgICB6SW5kZXg6IDEwMDAsXHJcbiAgICAgICAgICBmb250RmFtaWx5OiBgJ0ludGVyJywgJ1NlZ29lIFVJJywgQXJpYWwsIHNhbnMtc2VyaWZgLFxyXG4gICAgICAgICAgZm9udFNpemU6ICcxNHB4J1xyXG4gICAgICAgIH19PlxyXG4gICAgICAgICAge2NoaWxkcmVufVxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICApfVxyXG4gICAgPC9kaXY+XHJcbiAgKTtcclxufVxyXG5cclxuZnVuY3Rpb24gTWVudUl0ZW0oeyBpY29uLCBsYWJlbCwgZGVzY3JpcHRpb24sIGNoZWNrZWQsIG9uU2VsZWN0IH0pIHtcclxuICByZXR1cm4gKFxyXG4gICAgPGRpdlxyXG4gICAgICBvbkNsaWNrPXtvblNlbGVjdH1cclxuICAgICAgc3R5bGU9e3tcclxuICAgICAgICBwYWRkaW5nOiAnMTJweCAxNnB4JyxcclxuICAgICAgICBjdXJzb3I6ICdwb2ludGVyJyxcclxuICAgICAgICB0cmFuc2l0aW9uOiAnYmFja2dyb3VuZC1jb2xvciAwLjE1cywgYm9yZGVyLWNvbG9yIDAuMTVzJyxcclxuICAgICAgICBkaXNwbGF5OiAnZmxleCcsXHJcbiAgICAgICAgYWxpZ25JdGVtczogJ2ZsZXgtc3RhcnQnLFxyXG4gICAgICAgIGdhcDogJzEycHgnLFxyXG4gICAgICAgIGZvbnRGYW1pbHk6IGAnSW50ZXInLCAnU2Vnb2UgVUknLCBBcmlhbCwgc2Fucy1zZXJpZmAsXHJcbiAgICAgICAgYm9yZGVyUmFkaXVzOiAnNnB4JyxcclxuICAgICAgICBtYXJnaW46ICcycHggOHB4J1xyXG4gICAgICB9fVxyXG4gICAgICBvbk1vdXNlRW50ZXI9eyhlKSA9PiB7XHJcbiAgICAgICAgZS5jdXJyZW50VGFyZ2V0LnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICcjM2E0YjVjJztcclxuICAgICAgfX1cclxuICAgICAgb25Nb3VzZUxlYXZlPXsoZSkgPT4ge1xyXG4gICAgICAgIGUuY3VycmVudFRhcmdldC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAndHJhbnNwYXJlbnQnO1xyXG4gICAgICB9fVxyXG4gICAgPlxyXG4gICAgICB7Y2hlY2tlZCAhPT0gdW5kZWZpbmVkICYmIChcclxuICAgICAgICA8ZGl2IHN0eWxlPXt7XHJcbiAgICAgICAgICB3aWR0aDogJzE2cHgnLFxyXG4gICAgICAgICAgaGVpZ2h0OiAnMTZweCcsXHJcbiAgICAgICAgICBib3JkZXI6IGNoZWNrZWQgPyAnMnB4IHNvbGlkICM0RUNEQzQnIDogJzJweCBzb2xpZCByZ2JhKDI1NSwyNTUsMjU1LDAuNCknLFxyXG4gICAgICAgICAgYm9yZGVyUmFkaXVzOiAnNHB4JyxcclxuICAgICAgICAgIGRpc3BsYXk6ICdmbGV4JyxcclxuICAgICAgICAgIGFsaWduSXRlbXM6ICdjZW50ZXInLFxyXG4gICAgICAgICAganVzdGlmeUNvbnRlbnQ6ICdjZW50ZXInLFxyXG4gICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBjaGVja2VkID8gJyM0RUNEQzQnIDogJ3RyYW5zcGFyZW50JyxcclxuICAgICAgICAgIGZsZXhTaHJpbms6IDAsXHJcbiAgICAgICAgICBtYXJnaW5Ub3A6ICcycHgnXHJcbiAgICAgICAgfX0+XHJcbiAgICAgICAgICB7Y2hlY2tlZCAmJiA8c3BhbiBzdHlsZT17eyBjb2xvcjogJyMwYjFhMjQnLCBmb250U2l6ZTogJzEycHgnLCBmb250V2VpZ2h0OiA3MDAgfX0+4pyTPC9zcGFuPn1cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgKX1cclxuXHJcbiAgICAgIHtpY29uICYmIChcclxuICAgICAgICA8c3BhbiBzdHlsZT17eyBmb250U2l6ZTogJzE2cHgnLCBmbGV4U2hyaW5rOiAwIH19PlxyXG4gICAgICAgICAge2ljb259XHJcbiAgICAgICAgPC9zcGFuPlxyXG4gICAgICApfVxyXG5cclxuICAgICAgPGRpdiBzdHlsZT17eyBmbGV4OiAxIH19PlxyXG4gICAgICAgIDxkaXYgc3R5bGU9e3tcclxuICAgICAgICAgIGNvbG9yOiAnd2hpdGUnLFxyXG4gICAgICAgICAgZm9udFNpemU6ICcxNHB4JyxcclxuICAgICAgICAgIGZvbnRXZWlnaHQ6ICc1MDAnLFxyXG4gICAgICAgICAgbWFyZ2luQm90dG9tOiBkZXNjcmlwdGlvbiA/ICc0cHgnIDogMFxyXG4gICAgICAgIH19PlxyXG4gICAgICAgICAge2xhYmVsfVxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICAgIHtkZXNjcmlwdGlvbiAmJiAoXHJcbiAgICAgICAgICA8ZGl2IHN0eWxlPXt7XHJcbiAgICAgICAgICAgIGNvbG9yOiAnIzk1YTVhNicsXHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMTJweCcsXHJcbiAgICAgICAgICAgIGxpbmVIZWlnaHQ6ICcxLjMnXHJcbiAgICAgICAgICB9fT5cclxuICAgICAgICAgICAge2Rlc2NyaXB0aW9ufVxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgKX1cclxuICAgICAgPC9kaXY+XHJcbiAgICA8L2Rpdj5cclxuICApO1xyXG59XHJcblxyXG5cclxuIl0sIm5hbWVzIjpbIlJlYWN0IiwidXNlU3RhdGUiLCJUb3BNZW51QmFyIiwib25Db21wdXRlUGF0aCIsIm9uU2hvd0ludGVyc2VjdGlvbkN1cnZlcyIsIm9uTWFuYWdlUHJvZmlsZXMiLCJvblRvZ2dsZUNvcm5lclBvaW50cyIsIm9uVG9nZ2xlQ2VudGVyUG9pbnRzIiwic2hvd0Nvcm5lclBvaW50cyIsInNob3dDZW50ZXJQb2ludHMiLCJvbk1lYXN1cmVEaXN0YW5jZSIsIm9uTWVhc3VyZUFyZWEiLCJvbkNoYW5nZUJhc2VMYXllciIsImN1cnJlbnRCYXNlTGF5ZXIiLCJvbkNoYW5nZVNjZW5lTW9kZSIsImN1cnJlbnRTY2VuZU1vZGUiLCJvcGVuTWVudSIsInNldE9wZW5NZW51IiwiaGFuZGxlTWVudUNsaWNrIiwibWVudU5hbWUiLCJjbG9zZU1lbnUiLCJkaXYiLCJvbkNsaWNrIiwic3R5bGUiLCJwb3NpdGlvbiIsInRvcCIsImxlZnQiLCJyaWdodCIsImJvdHRvbSIsInpJbmRleCIsImhlaWdodCIsImJhY2tncm91bmRDb2xvciIsImJvcmRlckJvdHRvbSIsImRpc3BsYXkiLCJhbGlnbkl0ZW1zIiwiYm94U2hhZG93IiwiZm9udEZhbWlseSIsImZvbnRTaXplIiwiTWVudUJ1dHRvbiIsImxhYmVsIiwiaXNPcGVuIiwiTWVudUl0ZW0iLCJvblNlbGVjdCIsImNoZWNrZWQiLCJiYWNrZ3JvdW5kIiwibWFyZ2luIiwia2V5IiwibWFwIiwib3B0IiwiY2hpbGRyZW4iLCJidXR0b24iLCJwYWRkaW5nIiwiY29sb3IiLCJib3JkZXIiLCJjdXJzb3IiLCJmb250V2VpZ2h0IiwidHJhbnNpdGlvbiIsImJvcmRlclJpZ2h0Iiwib25Nb3VzZUVudGVyIiwiZSIsImN1cnJlbnRUYXJnZXQiLCJvbk1vdXNlTGVhdmUiLCJtaW5XaWR0aCIsImJvcmRlclRvcCIsImljb24iLCJkZXNjcmlwdGlvbiIsImdhcCIsImJvcmRlclJhZGl1cyIsInVuZGVmaW5lZCIsIndpZHRoIiwianVzdGlmeUNvbnRlbnQiLCJmbGV4U2hyaW5rIiwibWFyZ2luVG9wIiwic3BhbiIsImZsZXgiLCJtYXJnaW5Cb3R0b20iLCJsaW5lSGVpZ2h0Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./components/TopMenuBar.js\n");

/***/ }),

/***/ "./components/TurnPathDialog.js":
/*!**************************************!*\
  !*** ./components/TurnPathDialog.js ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ TurnPathDialog)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n\n\nfunction TurnPathDialog({ isOpen, onClose, onStartSelection, vehicleProfiles = {}, currentStep = \"profile\" }) {\n    const defaultVehicleProfiles = {\n        komatsu_830e: {\n            name: \"Komatsu 830E\",\n            vehicle_width_m: 7.3,\n            wheelbase_m: 6.35,\n            min_turn_radius_m: 10.2,\n            max_steering_angle_deg: 32\n        }\n    };\n    const [selectedProfile, setSelectedProfile] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"komatsu_830e\");\n    const [useCustom, setUseCustom] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [customValues, setCustomValues] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        name: \"Custom Vehicle\",\n        vehicle_width_m: 7.3,\n        wheelbase_m: 6.35,\n        max_steering_angle_deg: 32.0,\n        side_buffer_m: 0.5,\n        front_buffer_m: 1.0,\n        rear_buffer_m: 1.0\n    });\n    const [samplingStep, setSamplingStep] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(1.0);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (!isOpen) return;\n        const profiles = Object.keys(vehicleProfiles).length > 0 ? vehicleProfiles : defaultVehicleProfiles;\n        if (!profiles[selectedProfile]) {\n            const first = Object.keys(profiles)[0];\n            setSelectedProfile(first);\n        }\n    }, [\n        isOpen,\n        vehicleProfiles,\n        selectedProfile\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const onEsc = (e)=>{\n            if (e.key === \"Escape\" && isOpen) onClose?.();\n        };\n        window.addEventListener(\"keydown\", onEsc);\n        return ()=>window.removeEventListener(\"keydown\", onEsc);\n    }, [\n        isOpen,\n        onClose\n    ]);\n    const shouldShow = currentStep === \"profile\" || currentStep === \"computing\";\n    if (!isOpen || !shouldShow) return null;\n    const profilesToShow = Object.keys(vehicleProfiles).length > 0 ? vehicleProfiles : defaultVehicleProfiles;\n    const handleStartSelection = ()=>{\n        const config = {\n            vehicle_profile_id: useCustom ? null : selectedProfile,\n            custom_vehicle_profile: useCustom ? customValues : null,\n            sampling_step_m: samplingStep\n        };\n        onStartSelection?.(config);\n    };\n    const renderProfileStep = ()=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    style: {\n                        padding: \"20px\",\n                        borderBottom: \"1px solid #34495e\",\n                        backgroundColor: \"#2c3e50\"\n                    },\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                            style: {\n                                margin: 0,\n                                color: \"white\",\n                                fontSize: \"20px\",\n                                fontWeight: \"600\",\n                                display: \"flex\",\n                                alignItems: \"center\",\n                                gap: \"12px\"\n                            },\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                    children: \"\\uD83D\\uDEE3️\"\n                                }, void 0, false, {\n                                    fileName: \"/app/components/TurnPathDialog.js\",\n                                    lineNumber: 82,\n                                    columnNumber: 11\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                    children: \"Compute Turn Path\"\n                                }, void 0, false, {\n                                    fileName: \"/app/components/TurnPathDialog.js\",\n                                    lineNumber: 83,\n                                    columnNumber: 11\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/app/components/TurnPathDialog.js\",\n                            lineNumber: 73,\n                            columnNumber: 9\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                            style: {\n                                margin: \"8px 0 0 0\",\n                                color: \"#95a5a6\",\n                                fontSize: \"14px\"\n                            },\n                            children: \"Configure vehicle parameters and select roads on the map\"\n                        }, void 0, false, {\n                            fileName: \"/app/components/TurnPathDialog.js\",\n                            lineNumber: 85,\n                            columnNumber: 9\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/app/components/TurnPathDialog.js\",\n                    lineNumber: 68,\n                    columnNumber: 7\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    style: {\n                        padding: \"24px\",\n                        maxHeight: \"60vh\",\n                        overflowY: \"auto\"\n                    },\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            style: {\n                                marginBottom: \"24px\"\n                            },\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                    style: {\n                                        display: \"block\",\n                                        color: \"white\",\n                                        fontSize: \"14px\",\n                                        fontWeight: \"500\",\n                                        marginBottom: \"12px\"\n                                    },\n                                    children: \"Vehicle Profile\"\n                                }, void 0, false, {\n                                    fileName: \"/app/components/TurnPathDialog.js\",\n                                    lineNumber: 96,\n                                    columnNumber: 11\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    style: {\n                                        display: \"flex\",\n                                        gap: \"12px\",\n                                        marginBottom: \"16px\"\n                                    },\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                            onClick: ()=>setUseCustom(false),\n                                            style: {\n                                                flex: 1,\n                                                padding: \"12px\",\n                                                backgroundColor: !useCustom ? \"#3498db\" : \"#34495e\",\n                                                color: \"white\",\n                                                border: \"none\",\n                                                borderRadius: \"6px\",\n                                                cursor: \"pointer\",\n                                                fontSize: \"14px\",\n                                                fontWeight: \"500\",\n                                                transition: \"all 0.2s\"\n                                            },\n                                            children: \"Predefined Profile\"\n                                        }, void 0, false, {\n                                            fileName: \"/app/components/TurnPathDialog.js\",\n                                            lineNumber: 109,\n                                            columnNumber: 13\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                            onClick: ()=>setUseCustom(true),\n                                            style: {\n                                                flex: 1,\n                                                padding: \"12px\",\n                                                backgroundColor: useCustom ? \"#3498db\" : \"#34495e\",\n                                                color: \"white\",\n                                                border: \"none\",\n                                                borderRadius: \"6px\",\n                                                cursor: \"pointer\",\n                                                fontSize: \"14px\",\n                                                fontWeight: \"500\",\n                                                transition: \"all 0.2s\"\n                                            },\n                                            children: \"Custom Values\"\n                                        }, void 0, false, {\n                                            fileName: \"/app/components/TurnPathDialog.js\",\n                                            lineNumber: 126,\n                                            columnNumber: 13\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/app/components/TurnPathDialog.js\",\n                                    lineNumber: 108,\n                                    columnNumber: 11\n                                }, this),\n                                !useCustom && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    children: Object.entries(profilesToShow).map(([key, profile])=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            onClick: ()=>setSelectedProfile(key),\n                                            style: {\n                                                padding: \"16px\",\n                                                marginBottom: \"8px\",\n                                                backgroundColor: selectedProfile === key ? \"#2c3e50\" : \"#34495e\",\n                                                border: selectedProfile === key ? \"2px solid #3498db\" : \"2px solid transparent\",\n                                                borderRadius: \"8px\",\n                                                cursor: \"pointer\",\n                                                transition: \"all 0.2s\"\n                                            },\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    style: {\n                                                        display: \"flex\",\n                                                        justifyContent: \"space-between\",\n                                                        alignItems: \"center\",\n                                                        marginBottom: \"8px\"\n                                                    },\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                            style: {\n                                                                color: \"white\",\n                                                                fontSize: \"16px\",\n                                                                fontWeight: \"600\"\n                                                            },\n                                                            children: profile.name\n                                                        }, void 0, false, {\n                                                            fileName: \"/app/components/TurnPathDialog.js\",\n                                                            lineNumber: 170,\n                                                            columnNumber: 21\n                                                        }, this),\n                                                        selectedProfile === key && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                            style: {\n                                                                color: \"#3498db\",\n                                                                fontSize: \"18px\"\n                                                            },\n                                                            children: \"✓\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/app/components/TurnPathDialog.js\",\n                                                            lineNumber: 174,\n                                                            columnNumber: 23\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/app/components/TurnPathDialog.js\",\n                                                    lineNumber: 162,\n                                                    columnNumber: 19\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    style: {\n                                                        display: \"grid\",\n                                                        gridTemplateColumns: \"1fr 1fr\",\n                                                        gap: \"8px\",\n                                                        fontSize: \"13px\",\n                                                        color: \"#95a5a6\"\n                                                    },\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            children: [\n                                                                \"Width: \",\n                                                                profile.vehicle_width_m,\n                                                                \"m\"\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"/app/components/TurnPathDialog.js\",\n                                                            lineNumber: 186,\n                                                            columnNumber: 21\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            children: [\n                                                                \"Wheelbase: \",\n                                                                profile.wheelbase_m,\n                                                                \"m\"\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"/app/components/TurnPathDialog.js\",\n                                                            lineNumber: 187,\n                                                            columnNumber: 21\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            children: [\n                                                                \"Turn Radius: \",\n                                                                profile.min_turn_radius_m.toFixed(1),\n                                                                \"m\"\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"/app/components/TurnPathDialog.js\",\n                                                            lineNumber: 188,\n                                                            columnNumber: 21\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            children: [\n                                                                \"Max Steer: \",\n                                                                profile.max_steering_angle_deg,\n                                                                \"\\xb0\"\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"/app/components/TurnPathDialog.js\",\n                                                            lineNumber: 189,\n                                                            columnNumber: 21\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/app/components/TurnPathDialog.js\",\n                                                    lineNumber: 177,\n                                                    columnNumber: 19\n                                                }, this)\n                                            ]\n                                        }, key, true, {\n                                            fileName: \"/app/components/TurnPathDialog.js\",\n                                            lineNumber: 148,\n                                            columnNumber: 17\n                                        }, this))\n                                }, void 0, false, {\n                                    fileName: \"/app/components/TurnPathDialog.js\",\n                                    lineNumber: 146,\n                                    columnNumber: 13\n                                }, this),\n                                useCustom && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    style: {\n                                        display: \"grid\",\n                                        gap: \"16px\"\n                                    },\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                    style: {\n                                                        display: \"block\",\n                                                        color: \"#95a5a6\",\n                                                        fontSize: \"13px\"\n                                                    },\n                                                    children: \"Vehicle Name\"\n                                                }, void 0, false, {\n                                                    fileName: \"/app/components/TurnPathDialog.js\",\n                                                    lineNumber: 199,\n                                                    columnNumber: 17\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                    type: \"text\",\n                                                    value: customValues.name,\n                                                    onChange: (e)=>setCustomValues({\n                                                            ...customValues,\n                                                            name: e.target.value\n                                                        }),\n                                                    style: {\n                                                        width: \"100%\",\n                                                        padding: \"10px\",\n                                                        backgroundColor: \"#34495e\",\n                                                        border: \"1px solid #2c3e50\",\n                                                        borderRadius: \"4px\",\n                                                        color: \"white\",\n                                                        fontSize: \"14px\"\n                                                    }\n                                                }, void 0, false, {\n                                                    fileName: \"/app/components/TurnPathDialog.js\",\n                                                    lineNumber: 202,\n                                                    columnNumber: 17\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/app/components/TurnPathDialog.js\",\n                                            lineNumber: 198,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                    style: {\n                                                        display: \"block\",\n                                                        color: \"#95a5a6\",\n                                                        fontSize: \"13px\"\n                                                    },\n                                                    children: \"Vehicle Width (m)\"\n                                                }, void 0, false, {\n                                                    fileName: \"/app/components/TurnPathDialog.js\",\n                                                    lineNumber: 219,\n                                                    columnNumber: 17\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                    type: \"number\",\n                                                    step: \"0.1\",\n                                                    value: customValues.vehicle_width_m,\n                                                    onChange: (e)=>setCustomValues({\n                                                            ...customValues,\n                                                            vehicle_width_m: parseFloat(e.target.value)\n                                                        }),\n                                                    style: {\n                                                        width: \"100%\",\n                                                        padding: \"10px\",\n                                                        backgroundColor: \"#34495e\",\n                                                        border: \"1px solid #2c3e50\",\n                                                        borderRadius: \"4px\",\n                                                        color: \"white\",\n                                                        fontSize: \"14px\"\n                                                    }\n                                                }, void 0, false, {\n                                                    fileName: \"/app/components/TurnPathDialog.js\",\n                                                    lineNumber: 222,\n                                                    columnNumber: 17\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/app/components/TurnPathDialog.js\",\n                                            lineNumber: 218,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                    style: {\n                                                        display: \"block\",\n                                                        color: \"#95a5a6\",\n                                                        fontSize: \"13px\"\n                                                    },\n                                                    children: \"Wheelbase (m)\"\n                                                }, void 0, false, {\n                                                    fileName: \"/app/components/TurnPathDialog.js\",\n                                                    lineNumber: 242,\n                                                    columnNumber: 17\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                    type: \"number\",\n                                                    step: \"0.1\",\n                                                    value: customValues.wheelbase_m,\n                                                    onChange: (e)=>setCustomValues({\n                                                            ...customValues,\n                                                            wheelbase_m: parseFloat(e.target.value)\n                                                        }),\n                                                    style: {\n                                                        width: \"100%\",\n                                                        padding: \"10px\",\n                                                        backgroundColor: \"#34495e\",\n                                                        border: \"1px solid #2c3e50\",\n                                                        borderRadius: \"4px\",\n                                                        color: \"white\",\n                                                        fontSize: \"14px\"\n                                                    }\n                                                }, void 0, false, {\n                                                    fileName: \"/app/components/TurnPathDialog.js\",\n                                                    lineNumber: 245,\n                                                    columnNumber: 17\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/app/components/TurnPathDialog.js\",\n                                            lineNumber: 241,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                    style: {\n                                                        display: \"block\",\n                                                        color: \"#95a5a6\",\n                                                        fontSize: \"13px\"\n                                                    },\n                                                    children: \"Max Steering Angle (degrees)\"\n                                                }, void 0, false, {\n                                                    fileName: \"/app/components/TurnPathDialog.js\",\n                                                    lineNumber: 265,\n                                                    columnNumber: 17\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                    type: \"number\",\n                                                    step: \"1\",\n                                                    value: customValues.max_steering_angle_deg,\n                                                    onChange: (e)=>setCustomValues({\n                                                            ...customValues,\n                                                            max_steering_angle_deg: parseFloat(e.target.value)\n                                                        }),\n                                                    style: {\n                                                        width: \"100%\",\n                                                        padding: \"10px\",\n                                                        backgroundColor: \"#34495e\",\n                                                        border: \"1px solid #2c3e50\",\n                                                        borderRadius: \"4px\",\n                                                        color: \"white\",\n                                                        fontSize: \"14px\"\n                                                    }\n                                                }, void 0, false, {\n                                                    fileName: \"/app/components/TurnPathDialog.js\",\n                                                    lineNumber: 268,\n                                                    columnNumber: 17\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/app/components/TurnPathDialog.js\",\n                                            lineNumber: 264,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                    style: {\n                                                        display: \"block\",\n                                                        color: \"#95a5a6\",\n                                                        fontSize: \"13px\"\n                                                    },\n                                                    children: \"Side Safety Buffer (m)\"\n                                                }, void 0, false, {\n                                                    fileName: \"/app/components/TurnPathDialog.js\",\n                                                    lineNumber: 291,\n                                                    columnNumber: 17\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                    type: \"number\",\n                                                    step: \"0.1\",\n                                                    value: customValues.side_buffer_m,\n                                                    onChange: (e)=>setCustomValues({\n                                                            ...customValues,\n                                                            side_buffer_m: parseFloat(e.target.value)\n                                                        }),\n                                                    style: {\n                                                        width: \"100%\",\n                                                        padding: \"10px\",\n                                                        backgroundColor: \"#34495e\",\n                                                        border: \"1px solid #2c3e50\",\n                                                        borderRadius: \"4px\",\n                                                        color: \"white\",\n                                                        fontSize: \"14px\"\n                                                    }\n                                                }, void 0, false, {\n                                                    fileName: \"/app/components/TurnPathDialog.js\",\n                                                    lineNumber: 294,\n                                                    columnNumber: 17\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/app/components/TurnPathDialog.js\",\n                                            lineNumber: 290,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            style: {\n                                                padding: \"12px\",\n                                                backgroundColor: \"#2c3e50\",\n                                                borderRadius: \"6px\",\n                                                border: \"1px solid #3498db\"\n                                            },\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    style: {\n                                                        color: \"#95a5a6\",\n                                                        fontSize: \"13px\",\n                                                        marginBottom: \"4px\"\n                                                    },\n                                                    children: \"Calculated Min Turn Radius\"\n                                                }, void 0, false, {\n                                                    fileName: \"/app/components/TurnPathDialog.js\",\n                                                    lineNumber: 321,\n                                                    columnNumber: 17\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    style: {\n                                                        color: \"#3498db\",\n                                                        fontSize: \"18px\",\n                                                        fontWeight: \"600\"\n                                                    },\n                                                    children: [\n                                                        (customValues.wheelbase_m / Math.tan(customValues.max_steering_angle_deg * Math.PI / 180)).toFixed(2),\n                                                        \" \",\n                                                        \"m\"\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/app/components/TurnPathDialog.js\",\n                                                    lineNumber: 324,\n                                                    columnNumber: 17\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/app/components/TurnPathDialog.js\",\n                                            lineNumber: 313,\n                                            columnNumber: 15\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/app/components/TurnPathDialog.js\",\n                                    lineNumber: 197,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/app/components/TurnPathDialog.js\",\n                            lineNumber: 95,\n                            columnNumber: 9\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                    style: {\n                                        display: \"block\",\n                                        color: \"white\",\n                                        fontSize: \"14px\",\n                                        fontWeight: \"500\",\n                                        marginBottom: \"12px\"\n                                    },\n                                    children: \"Path Resolution\"\n                                }, void 0, false, {\n                                    fileName: \"/app/components/TurnPathDialog.js\",\n                                    lineNumber: 337,\n                                    columnNumber: 11\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    style: {\n                                        display: \"flex\",\n                                        alignItems: \"center\",\n                                        gap: \"12px\"\n                                    },\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                            type: \"range\",\n                                            min: \"0.5\",\n                                            max: \"5\",\n                                            step: \"0.1\",\n                                            value: samplingStep,\n                                            onChange: (e)=>setSamplingStep(parseFloat(e.target.value)),\n                                            style: {\n                                                flex: 1\n                                            }\n                                        }, void 0, false, {\n                                            fileName: \"/app/components/TurnPathDialog.js\",\n                                            lineNumber: 349,\n                                            columnNumber: 13\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            style: {\n                                                color: \"white\",\n                                                fontSize: \"14px\",\n                                                fontWeight: \"600\"\n                                            },\n                                            children: [\n                                                samplingStep.toFixed(1),\n                                                \" m\"\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/app/components/TurnPathDialog.js\",\n                                            lineNumber: 358,\n                                            columnNumber: 13\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/app/components/TurnPathDialog.js\",\n                                    lineNumber: 348,\n                                    columnNumber: 11\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    style: {\n                                        color: \"#95a5a6\",\n                                        fontSize: \"12px\",\n                                        marginTop: \"6px\"\n                                    },\n                                    children: \"Distance between path points (lower = more detailed)\"\n                                }, void 0, false, {\n                                    fileName: \"/app/components/TurnPathDialog.js\",\n                                    lineNumber: 362,\n                                    columnNumber: 11\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/app/components/TurnPathDialog.js\",\n                            lineNumber: 336,\n                            columnNumber: 9\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/app/components/TurnPathDialog.js\",\n                    lineNumber: 94,\n                    columnNumber: 7\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    style: {\n                        padding: \"16px 20px\",\n                        borderTop: \"1px solid #34495e\",\n                        display: \"flex\",\n                        justifyContent: \"space-between\",\n                        alignItems: \"center\",\n                        backgroundColor: \"#1f2b38\"\n                    },\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            onClick: onClose,\n                            style: {\n                                padding: \"10px 16px\",\n                                backgroundColor: \"#34495e\",\n                                color: \"white\",\n                                border: \"1px solid #2c3e50\",\n                                borderRadius: \"6px\",\n                                cursor: \"pointer\",\n                                fontSize: \"14px\",\n                                fontWeight: \"500\"\n                            },\n                            children: \"Cancel\"\n                        }, void 0, false, {\n                            fileName: \"/app/components/TurnPathDialog.js\",\n                            lineNumber: 378,\n                            columnNumber: 9\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            onClick: handleStartSelection,\n                            style: {\n                                padding: \"10px 16px\",\n                                backgroundColor: \"#1abc9c\",\n                                color: \"white\",\n                                border: \"none\",\n                                borderRadius: \"6px\",\n                                cursor: \"pointer\",\n                                fontSize: \"14px\",\n                                fontWeight: \"600\",\n                                minWidth: \"200px\",\n                                display: \"flex\",\n                                alignItems: \"center\",\n                                justifyContent: \"center\",\n                                gap: \"8px\"\n                            },\n                            children: \"Select Roads on Map →\"\n                        }, void 0, false, {\n                            fileName: \"/app/components/TurnPathDialog.js\",\n                            lineNumber: 393,\n                            columnNumber: 9\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/app/components/TurnPathDialog.js\",\n                    lineNumber: 368,\n                    columnNumber: 7\n                }, this)\n            ]\n        }, void 0, true);\n    const renderComputingStep = ()=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            style: {\n                padding: \"32px\",\n                textAlign: \"center\"\n            },\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    style: {\n                        marginBottom: \"12px\",\n                        fontSize: \"18px\",\n                        color: \"white\",\n                        fontWeight: \"600\"\n                    },\n                    children: \"Computing turn path...\"\n                }, void 0, false, {\n                    fileName: \"/app/components/TurnPathDialog.js\",\n                    lineNumber: 419,\n                    columnNumber: 7\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    style: {\n                        color: \"#95a5a6\",\n                        fontSize: \"14px\"\n                    },\n                    children: \"This usually takes a few seconds. Please wait.\"\n                }, void 0, false, {\n                    fileName: \"/app/components/TurnPathDialog.js\",\n                    lineNumber: 429,\n                    columnNumber: 7\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"/app/components/TurnPathDialog.js\",\n            lineNumber: 418,\n            columnNumber: 5\n        }, this);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        style: {\n            position: \"fixed\",\n            top: 0,\n            left: 0,\n            right: 0,\n            bottom: 0,\n            zIndex: 1000,\n            backgroundColor: \"rgba(0, 0, 0, 0.4)\",\n            display: \"flex\",\n            alignItems: \"center\",\n            justifyContent: \"center\",\n            backdropFilter: \"blur(2px)\"\n        },\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            style: {\n                width: \"640px\",\n                backgroundColor: \"#1f2b38\",\n                borderRadius: \"10px\",\n                boxShadow: \"0 10px 32px rgba(0, 0, 0, 0.45)\",\n                overflow: \"hidden\",\n                border: \"1px solid #2c3e50\"\n            },\n            children: currentStep === \"computing\" ? renderComputingStep() : renderProfileStep()\n        }, void 0, false, {\n            fileName: \"/app/components/TurnPathDialog.js\",\n            lineNumber: 451,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"/app/components/TurnPathDialog.js\",\n        lineNumber: 436,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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V0FBVztnQkFDWEMsVUFBVTtnQkFDVnBDLFFBQVE7WUFDVjtzQkFFQzVELGdCQUFnQixjQUFjc0Ysd0JBQXdCakQ7Ozs7Ozs7Ozs7O0FBSS9EIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY29tYmluZWQtdWkvLi9jb21wb25lbnRzL1R1cm5QYXRoRGlhbG9nLmpzPzUwY2EiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0LCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QgfSBmcm9tICdyZWFjdCc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIFR1cm5QYXRoRGlhbG9nKHtcbiAgaXNPcGVuLFxuICBvbkNsb3NlLFxuICBvblN0YXJ0U2VsZWN0aW9uLFxuICB2ZWhpY2xlUHJvZmlsZXMgPSB7fSxcbiAgY3VycmVudFN0ZXAgPSAncHJvZmlsZScsXG59KSB7XG4gIGNvbnN0IGRlZmF1bHRWZWhpY2xlUHJvZmlsZXMgPSB7XG4gICAga29tYXRzdV84MzBlOiB7XG4gICAgICBuYW1lOiAnS29tYXRzdSA4MzBFJyxcbiAgICAgIHZlaGljbGVfd2lkdGhfbTogNy4zLFxuICAgICAgd2hlZWxiYXNlX206IDYuMzUsXG4gICAgICBtaW5fdHVybl9yYWRpdXNfbTogMTAuMixcbiAgICAgIG1heF9zdGVlcmluZ19hbmdsZV9kZWc6IDMyLFxuICAgIH0sXG4gIH07XG5cbiAgY29uc3QgW3NlbGVjdGVkUHJvZmlsZSwgc2V0U2VsZWN0ZWRQcm9maWxlXSA9IHVzZVN0YXRlKCdrb21hdHN1XzgzMGUnKTtcbiAgY29uc3QgW3VzZUN1c3RvbSwgc2V0VXNlQ3VzdG9tXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2N1c3RvbVZhbHVlcywgc2V0Q3VzdG9tVmFsdWVzXSA9IHVzZVN0YXRlKHtcbiAgICBuYW1lOiAnQ3VzdG9tIFZlaGljbGUnLFxuICAgIHZlaGljbGVfd2lkdGhfbTogNy4zLFxuICAgIHdoZWVsYmFzZV9tOiA2LjM1LFxuICAgIG1heF9zdGVlcmluZ19hbmdsZV9kZWc6IDMyLjAsXG4gICAgc2lkZV9idWZmZXJfbTogMC41LFxuICAgIGZyb250X2J1ZmZlcl9tOiAxLjAsXG4gICAgcmVhcl9idWZmZXJfbTogMS4wLFxuICB9KTtcbiAgY29uc3QgW3NhbXBsaW5nU3RlcCwgc2V0U2FtcGxpbmdTdGVwXSA9IHVzZVN0YXRlKDEuMCk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoIWlzT3BlbikgcmV0dXJuO1xuICAgIGNvbnN0IHByb2ZpbGVzID1cbiAgICAgIE9iamVjdC5rZXlzKHZlaGljbGVQcm9maWxlcykubGVuZ3RoID4gMCA/IHZlaGljbGVQcm9maWxlcyA6IGRlZmF1bHRWZWhpY2xlUHJvZmlsZXM7XG4gICAgaWYgKCFwcm9maWxlc1tzZWxlY3RlZFByb2ZpbGVdKSB7XG4gICAgICBjb25zdCBmaXJzdCA9IE9iamVjdC5rZXlzKHByb2ZpbGVzKVswXTtcbiAgICAgIHNldFNlbGVjdGVkUHJvZmlsZShmaXJzdCk7XG4gICAgfVxuICB9LCBbaXNPcGVuLCB2ZWhpY2xlUHJvZmlsZXMsIHNlbGVjdGVkUHJvZmlsZV0pO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3Qgb25Fc2MgPSAoZSkgPT4ge1xuICAgICAgaWYgKGUua2V5ID09PSAnRXNjYXBlJyAmJiBpc09wZW4pIG9uQ2xvc2U/LigpO1xuICAgIH07XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBvbkVzYyk7XG4gICAgcmV0dXJuICgpID0+IHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgb25Fc2MpO1xuICB9LCBbaXNPcGVuLCBvbkNsb3NlXSk7XG5cbiAgY29uc3Qgc2hvdWxkU2hvdyA9IGN1cnJlbnRTdGVwID09PSAncHJvZmlsZScgfHwgY3VycmVudFN0ZXAgPT09ICdjb21wdXRpbmcnO1xuICBpZiAoIWlzT3BlbiB8fCAhc2hvdWxkU2hvdykgcmV0dXJuIG51bGw7XG5cbiAgY29uc3QgcHJvZmlsZXNUb1Nob3cgPVxuICAgIE9iamVjdC5rZXlzKHZlaGljbGVQcm9maWxlcykubGVuZ3RoID4gMCA/IHZlaGljbGVQcm9maWxlcyA6IGRlZmF1bHRWZWhpY2xlUHJvZmlsZXM7XG5cbiAgY29uc3QgaGFuZGxlU3RhcnRTZWxlY3Rpb24gPSAoKSA9PiB7XG4gICAgY29uc3QgY29uZmlnID0ge1xuICAgICAgdmVoaWNsZV9wcm9maWxlX2lkOiB1c2VDdXN0b20gPyBudWxsIDogc2VsZWN0ZWRQcm9maWxlLFxuICAgICAgY3VzdG9tX3ZlaGljbGVfcHJvZmlsZTogdXNlQ3VzdG9tID8gY3VzdG9tVmFsdWVzIDogbnVsbCxcbiAgICAgIHNhbXBsaW5nX3N0ZXBfbTogc2FtcGxpbmdTdGVwLFxuICAgIH07XG4gICAgb25TdGFydFNlbGVjdGlvbj8uKGNvbmZpZyk7XG4gIH07XG5cbiAgY29uc3QgcmVuZGVyUHJvZmlsZVN0ZXAgPSAoKSA9PiAoXG4gICAgPD5cbiAgICAgIDxkaXYgc3R5bGU9e3tcbiAgICAgICAgcGFkZGluZzogJzIwcHgnLFxuICAgICAgICBib3JkZXJCb3R0b206ICcxcHggc29saWQgIzM0NDk1ZScsXG4gICAgICAgIGJhY2tncm91bmRDb2xvcjogJyMyYzNlNTAnXG4gICAgICB9fT5cbiAgICAgICAgPGgyIHN0eWxlPXt7XG4gICAgICAgICAgbWFyZ2luOiAwLFxuICAgICAgICAgIGNvbG9yOiAnd2hpdGUnLFxuICAgICAgICAgIGZvbnRTaXplOiAnMjBweCcsXG4gICAgICAgICAgZm9udFdlaWdodDogJzYwMCcsXG4gICAgICAgICAgZGlzcGxheTogJ2ZsZXgnLFxuICAgICAgICAgIGFsaWduSXRlbXM6ICdjZW50ZXInLFxuICAgICAgICAgIGdhcDogJzEycHgnXG4gICAgICAgIH19PlxuICAgICAgICAgIDxzcGFuPvCfm6PvuI88L3NwYW4+XG4gICAgICAgICAgPHNwYW4+Q29tcHV0ZSBUdXJuIFBhdGg8L3NwYW4+XG4gICAgICAgIDwvaDI+XG4gICAgICAgIDxwIHN0eWxlPXt7XG4gICAgICAgICAgbWFyZ2luOiAnOHB4IDAgMCAwJyxcbiAgICAgICAgICBjb2xvcjogJyM5NWE1YTYnLFxuICAgICAgICAgIGZvbnRTaXplOiAnMTRweCdcbiAgICAgICAgfX0+XG4gICAgICAgICAgQ29uZmlndXJlIHZlaGljbGUgcGFyYW1ldGVycyBhbmQgc2VsZWN0IHJvYWRzIG9uIHRoZSBtYXBcbiAgICAgICAgPC9wPlxuICAgICAgPC9kaXY+XG5cbiAgICAgIDxkaXYgc3R5bGU9e3sgcGFkZGluZzogJzI0cHgnLCBtYXhIZWlnaHQ6ICc2MHZoJywgb3ZlcmZsb3dZOiAnYXV0bycgfX0+XG4gICAgICAgIDxkaXYgc3R5bGU9e3sgbWFyZ2luQm90dG9tOiAnMjRweCcgfX0+XG4gICAgICAgICAgPGxhYmVsXG4gICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICBkaXNwbGF5OiAnYmxvY2snLFxuICAgICAgICAgICAgICBjb2xvcjogJ3doaXRlJyxcbiAgICAgICAgICAgICAgZm9udFNpemU6ICcxNHB4JyxcbiAgICAgICAgICAgICAgZm9udFdlaWdodDogJzUwMCcsXG4gICAgICAgICAgICAgIG1hcmdpbkJvdHRvbTogJzEycHgnLFxuICAgICAgICAgICAgfX1cbiAgICAgICAgICA+XG4gICAgICAgICAgICBWZWhpY2xlIFByb2ZpbGVcbiAgICAgICAgICA8L2xhYmVsPlxuXG4gICAgICAgICAgPGRpdiBzdHlsZT17eyBkaXNwbGF5OiAnZmxleCcsIGdhcDogJzEycHgnLCBtYXJnaW5Cb3R0b206ICcxNnB4JyB9fT5cbiAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gc2V0VXNlQ3VzdG9tKGZhbHNlKX1cbiAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICBmbGV4OiAxLFxuICAgICAgICAgICAgICAgIHBhZGRpbmc6ICcxMnB4JyxcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICF1c2VDdXN0b20gPyAnIzM0OThkYicgOiAnIzM0NDk1ZScsXG4gICAgICAgICAgICAgICAgY29sb3I6ICd3aGl0ZScsXG4gICAgICAgICAgICAgICAgYm9yZGVyOiAnbm9uZScsXG4gICAgICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiAnNnB4JyxcbiAgICAgICAgICAgICAgICBjdXJzb3I6ICdwb2ludGVyJyxcbiAgICAgICAgICAgICAgICBmb250U2l6ZTogJzE0cHgnLFxuICAgICAgICAgICAgICAgIGZvbnRXZWlnaHQ6ICc1MDAnLFxuICAgICAgICAgICAgICAgIHRyYW5zaXRpb246ICdhbGwgMC4ycycsXG4gICAgICAgICAgICAgIH19XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIFByZWRlZmluZWQgUHJvZmlsZVxuICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldFVzZUN1c3RvbSh0cnVlKX1cbiAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICBmbGV4OiAxLFxuICAgICAgICAgICAgICAgIHBhZGRpbmc6ICcxMnB4JyxcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IHVzZUN1c3RvbSA/ICcjMzQ5OGRiJyA6ICcjMzQ0OTVlJyxcbiAgICAgICAgICAgICAgICBjb2xvcjogJ3doaXRlJyxcbiAgICAgICAgICAgICAgICBib3JkZXI6ICdub25lJyxcbiAgICAgICAgICAgICAgICBib3JkZXJSYWRpdXM6ICc2cHgnLFxuICAgICAgICAgICAgICAgIGN1cnNvcjogJ3BvaW50ZXInLFxuICAgICAgICAgICAgICAgIGZvbnRTaXplOiAnMTRweCcsXG4gICAgICAgICAgICAgICAgZm9udFdlaWdodDogJzUwMCcsXG4gICAgICAgICAgICAgICAgdHJhbnNpdGlvbjogJ2FsbCAwLjJzJyxcbiAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgQ3VzdG9tIFZhbHVlc1xuICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICB7IXVzZUN1c3RvbSAmJiAoXG4gICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICB7T2JqZWN0LmVudHJpZXMocHJvZmlsZXNUb1Nob3cpLm1hcCgoW2tleSwgcHJvZmlsZV0pID0+IChcbiAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICBrZXk9e2tleX1cbiAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldFNlbGVjdGVkUHJvZmlsZShrZXkpfVxuICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgcGFkZGluZzogJzE2cHgnLFxuICAgICAgICAgICAgICAgICAgICBtYXJnaW5Cb3R0b206ICc4cHgnLFxuICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IHNlbGVjdGVkUHJvZmlsZSA9PT0ga2V5ID8gJyMyYzNlNTAnIDogJyMzNDQ5NWUnLFxuICAgICAgICAgICAgICAgICAgICBib3JkZXI6XG4gICAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRQcm9maWxlID09PSBrZXkgPyAnMnB4IHNvbGlkICMzNDk4ZGInIDogJzJweCBzb2xpZCB0cmFuc3BhcmVudCcsXG4gICAgICAgICAgICAgICAgICAgIGJvcmRlclJhZGl1czogJzhweCcsXG4gICAgICAgICAgICAgICAgICAgIGN1cnNvcjogJ3BvaW50ZXInLFxuICAgICAgICAgICAgICAgICAgICB0cmFuc2l0aW9uOiAnYWxsIDAuMnMnLFxuICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogJ2ZsZXgnLFxuICAgICAgICAgICAgICAgICAgICAgIGp1c3RpZnlDb250ZW50OiAnc3BhY2UtYmV0d2VlbicsXG4gICAgICAgICAgICAgICAgICAgICAgYWxpZ25JdGVtczogJ2NlbnRlcicsXG4gICAgICAgICAgICAgICAgICAgICAgbWFyZ2luQm90dG9tOiAnOHB4JyxcbiAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gc3R5bGU9e3sgY29sb3I6ICd3aGl0ZScsIGZvbnRTaXplOiAnMTZweCcsIGZvbnRXZWlnaHQ6ICc2MDAnIH19PlxuICAgICAgICAgICAgICAgICAgICAgIHtwcm9maWxlLm5hbWV9XG4gICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAge3NlbGVjdGVkUHJvZmlsZSA9PT0ga2V5ICYmIChcbiAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBzdHlsZT17eyBjb2xvcjogJyMzNDk4ZGInLCBmb250U2l6ZTogJzE4cHgnIH19PuKckzwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6ICdncmlkJyxcbiAgICAgICAgICAgICAgICAgICAgICBncmlkVGVtcGxhdGVDb2x1bW5zOiAnMWZyIDFmcicsXG4gICAgICAgICAgICAgICAgICAgICAgZ2FwOiAnOHB4JyxcbiAgICAgICAgICAgICAgICAgICAgICBmb250U2l6ZTogJzEzcHgnLFxuICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiAnIzk1YTVhNicsXG4gICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIDxkaXY+V2lkdGg6IHtwcm9maWxlLnZlaGljbGVfd2lkdGhfbX1tPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXY+V2hlZWxiYXNlOiB7cHJvZmlsZS53aGVlbGJhc2VfbX1tPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXY+VHVybiBSYWRpdXM6IHtwcm9maWxlLm1pbl90dXJuX3JhZGl1c19tLnRvRml4ZWQoMSl9bTwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2Pk1heCBTdGVlcjoge3Byb2ZpbGUubWF4X3N0ZWVyaW5nX2FuZ2xlX2RlZ33CsDwvZGl2PlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgKX1cblxuICAgICAgICAgIHt1c2VDdXN0b20gJiYgKFxuICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBkaXNwbGF5OiAnZ3JpZCcsIGdhcDogJzE2cHgnIH19PlxuICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgIDxsYWJlbCBzdHlsZT17eyBkaXNwbGF5OiAnYmxvY2snLCBjb2xvcjogJyM5NWE1YTYnLCBmb250U2l6ZTogJzEzcHgnIH19PlxuICAgICAgICAgICAgICAgICAgVmVoaWNsZSBOYW1lXG4gICAgICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcbiAgICAgICAgICAgICAgICAgIHZhbHVlPXtjdXN0b21WYWx1ZXMubmFtZX1cbiAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0Q3VzdG9tVmFsdWVzKHsgLi4uY3VzdG9tVmFsdWVzLCBuYW1lOiBlLnRhcmdldC52YWx1ZSB9KX1cbiAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgIHdpZHRoOiAnMTAwJScsXG4gICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6ICcxMHB4JyxcbiAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiAnIzM0NDk1ZScsXG4gICAgICAgICAgICAgICAgICAgIGJvcmRlcjogJzFweCBzb2xpZCAjMmMzZTUwJyxcbiAgICAgICAgICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiAnNHB4JyxcbiAgICAgICAgICAgICAgICAgICAgY29sb3I6ICd3aGl0ZScsXG4gICAgICAgICAgICAgICAgICAgIGZvbnRTaXplOiAnMTRweCcsXG4gICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgPGxhYmVsIHN0eWxlPXt7IGRpc3BsYXk6ICdibG9jaycsIGNvbG9yOiAnIzk1YTVhNicsIGZvbnRTaXplOiAnMTNweCcgfX0+XG4gICAgICAgICAgICAgICAgICBWZWhpY2xlIFdpZHRoIChtKVxuICAgICAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgICB0eXBlPVwibnVtYmVyXCJcbiAgICAgICAgICAgICAgICAgIHN0ZXA9XCIwLjFcIlxuICAgICAgICAgICAgICAgICAgdmFsdWU9e2N1c3RvbVZhbHVlcy52ZWhpY2xlX3dpZHRoX219XG4gICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+XG4gICAgICAgICAgICAgICAgICAgIHNldEN1c3RvbVZhbHVlcyh7IC4uLmN1c3RvbVZhbHVlcywgdmVoaWNsZV93aWR0aF9tOiBwYXJzZUZsb2F0KGUudGFyZ2V0LnZhbHVlKSB9KVxuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgd2lkdGg6ICcxMDAlJyxcbiAgICAgICAgICAgICAgICAgICAgcGFkZGluZzogJzEwcHgnLFxuICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICcjMzQ0OTVlJyxcbiAgICAgICAgICAgICAgICAgICAgYm9yZGVyOiAnMXB4IHNvbGlkICMyYzNlNTAnLFxuICAgICAgICAgICAgICAgICAgICBib3JkZXJSYWRpdXM6ICc0cHgnLFxuICAgICAgICAgICAgICAgICAgICBjb2xvcjogJ3doaXRlJyxcbiAgICAgICAgICAgICAgICAgICAgZm9udFNpemU6ICcxNHB4JyxcbiAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICA8bGFiZWwgc3R5bGU9e3sgZGlzcGxheTogJ2Jsb2NrJywgY29sb3I6ICcjOTVhNWE2JywgZm9udFNpemU6ICcxM3B4JyB9fT5cbiAgICAgICAgICAgICAgICAgIFdoZWVsYmFzZSAobSlcbiAgICAgICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgdHlwZT1cIm51bWJlclwiXG4gICAgICAgICAgICAgICAgICBzdGVwPVwiMC4xXCJcbiAgICAgICAgICAgICAgICAgIHZhbHVlPXtjdXN0b21WYWx1ZXMud2hlZWxiYXNlX219XG4gICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+XG4gICAgICAgICAgICAgICAgICAgIHNldEN1c3RvbVZhbHVlcyh7IC4uLmN1c3RvbVZhbHVlcywgd2hlZWxiYXNlX206IHBhcnNlRmxvYXQoZS50YXJnZXQudmFsdWUpIH0pXG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICB3aWR0aDogJzEwMCUnLFxuICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOiAnMTBweCcsXG4gICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogJyMzNDQ5NWUnLFxuICAgICAgICAgICAgICAgICAgICBib3JkZXI6ICcxcHggc29saWQgIzJjM2U1MCcsXG4gICAgICAgICAgICAgICAgICAgIGJvcmRlclJhZGl1czogJzRweCcsXG4gICAgICAgICAgICAgICAgICAgIGNvbG9yOiAnd2hpdGUnLFxuICAgICAgICAgICAgICAgICAgICBmb250U2l6ZTogJzE0cHgnLFxuICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgIDxsYWJlbCBzdHlsZT17eyBkaXNwbGF5OiAnYmxvY2snLCBjb2xvcjogJyM5NWE1YTYnLCBmb250U2l6ZTogJzEzcHgnIH19PlxuICAgICAgICAgICAgICAgICAgTWF4IFN0ZWVyaW5nIEFuZ2xlIChkZWdyZWVzKVxuICAgICAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgICB0eXBlPVwibnVtYmVyXCJcbiAgICAgICAgICAgICAgICAgIHN0ZXA9XCIxXCJcbiAgICAgICAgICAgICAgICAgIHZhbHVlPXtjdXN0b21WYWx1ZXMubWF4X3N0ZWVyaW5nX2FuZ2xlX2RlZ31cbiAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT5cbiAgICAgICAgICAgICAgICAgICAgc2V0Q3VzdG9tVmFsdWVzKHtcbiAgICAgICAgICAgICAgICAgICAgICAuLi5jdXN0b21WYWx1ZXMsXG4gICAgICAgICAgICAgICAgICAgICAgbWF4X3N0ZWVyaW5nX2FuZ2xlX2RlZzogcGFyc2VGbG9hdChlLnRhcmdldC52YWx1ZSksXG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICB3aWR0aDogJzEwMCUnLFxuICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOiAnMTBweCcsXG4gICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogJyMzNDQ5NWUnLFxuICAgICAgICAgICAgICAgICAgICBib3JkZXI6ICcxcHggc29saWQgIzJjM2U1MCcsXG4gICAgICAgICAgICAgICAgICAgIGJvcmRlclJhZGl1czogJzRweCcsXG4gICAgICAgICAgICAgICAgICAgIGNvbG9yOiAnd2hpdGUnLFxuICAgICAgICAgICAgICAgICAgICBmb250U2l6ZTogJzE0cHgnLFxuICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgIDxsYWJlbCBzdHlsZT17eyBkaXNwbGF5OiAnYmxvY2snLCBjb2xvcjogJyM5NWE1YTYnLCBmb250U2l6ZTogJzEzcHgnIH19PlxuICAgICAgICAgICAgICAgICAgU2lkZSBTYWZldHkgQnVmZmVyIChtKVxuICAgICAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgICB0eXBlPVwibnVtYmVyXCJcbiAgICAgICAgICAgICAgICAgIHN0ZXA9XCIwLjFcIlxuICAgICAgICAgICAgICAgICAgdmFsdWU9e2N1c3RvbVZhbHVlcy5zaWRlX2J1ZmZlcl9tfVxuICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PlxuICAgICAgICAgICAgICAgICAgICBzZXRDdXN0b21WYWx1ZXMoeyAuLi5jdXN0b21WYWx1ZXMsIHNpZGVfYnVmZmVyX206IHBhcnNlRmxvYXQoZS50YXJnZXQudmFsdWUpIH0pXG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICB3aWR0aDogJzEwMCUnLFxuICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOiAnMTBweCcsXG4gICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogJyMzNDQ5NWUnLFxuICAgICAgICAgICAgICAgICAgICBib3JkZXI6ICcxcHggc29saWQgIzJjM2U1MCcsXG4gICAgICAgICAgICAgICAgICAgIGJvcmRlclJhZGl1czogJzRweCcsXG4gICAgICAgICAgICAgICAgICAgIGNvbG9yOiAnd2hpdGUnLFxuICAgICAgICAgICAgICAgICAgICBmb250U2l6ZTogJzE0cHgnLFxuICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgIHBhZGRpbmc6ICcxMnB4JyxcbiAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogJyMyYzNlNTAnLFxuICAgICAgICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiAnNnB4JyxcbiAgICAgICAgICAgICAgICAgIGJvcmRlcjogJzFweCBzb2xpZCAjMzQ5OGRiJyxcbiAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBjb2xvcjogJyM5NWE1YTYnLCBmb250U2l6ZTogJzEzcHgnLCBtYXJnaW5Cb3R0b206ICc0cHgnIH19PlxuICAgICAgICAgICAgICAgICAgQ2FsY3VsYXRlZCBNaW4gVHVybiBSYWRpdXNcbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IGNvbG9yOiAnIzM0OThkYicsIGZvbnRTaXplOiAnMThweCcsIGZvbnRXZWlnaHQ6ICc2MDAnIH19PlxuICAgICAgICAgICAgICAgICAgeyhcbiAgICAgICAgICAgICAgICAgICAgY3VzdG9tVmFsdWVzLndoZWVsYmFzZV9tIC9cbiAgICAgICAgICAgICAgICAgICAgTWF0aC50YW4oKGN1c3RvbVZhbHVlcy5tYXhfc3RlZXJpbmdfYW5nbGVfZGVnICogTWF0aC5QSSkgLyAxODApXG4gICAgICAgICAgICAgICAgICApLnRvRml4ZWQoMil9eycgJ31cbiAgICAgICAgICAgICAgICAgIG1cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICApfVxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICA8ZGl2PlxuICAgICAgICAgIDxsYWJlbFxuICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgZGlzcGxheTogJ2Jsb2NrJyxcbiAgICAgICAgICAgICAgY29sb3I6ICd3aGl0ZScsXG4gICAgICAgICAgICAgIGZvbnRTaXplOiAnMTRweCcsXG4gICAgICAgICAgICAgIGZvbnRXZWlnaHQ6ICc1MDAnLFxuICAgICAgICAgICAgICBtYXJnaW5Cb3R0b206ICcxMnB4JyxcbiAgICAgICAgICAgIH19XG4gICAgICAgICAgPlxuICAgICAgICAgICAgUGF0aCBSZXNvbHV0aW9uXG4gICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICA8ZGl2IHN0eWxlPXt7IGRpc3BsYXk6ICdmbGV4JywgYWxpZ25JdGVtczogJ2NlbnRlcicsIGdhcDogJzEycHgnIH19PlxuICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgIHR5cGU9XCJyYW5nZVwiXG4gICAgICAgICAgICAgIG1pbj1cIjAuNVwiXG4gICAgICAgICAgICAgIG1heD1cIjVcIlxuICAgICAgICAgICAgICBzdGVwPVwiMC4xXCJcbiAgICAgICAgICAgICAgdmFsdWU9e3NhbXBsaW5nU3RlcH1cbiAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXRTYW1wbGluZ1N0ZXAocGFyc2VGbG9hdChlLnRhcmdldC52YWx1ZSkpfVxuICAgICAgICAgICAgICBzdHlsZT17eyBmbGV4OiAxIH19XG4gICAgICAgICAgICAvPlxuICAgICAgICAgICAgPHNwYW4gc3R5bGU9e3sgY29sb3I6ICd3aGl0ZScsIGZvbnRTaXplOiAnMTRweCcsIGZvbnRXZWlnaHQ6ICc2MDAnIH19PlxuICAgICAgICAgICAgICB7c2FtcGxpbmdTdGVwLnRvRml4ZWQoMSl9IG1cbiAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IHN0eWxlPXt7IGNvbG9yOiAnIzk1YTVhNicsIGZvbnRTaXplOiAnMTJweCcsIG1hcmdpblRvcDogJzZweCcgfX0+XG4gICAgICAgICAgICBEaXN0YW5jZSBiZXR3ZWVuIHBhdGggcG9pbnRzIChsb3dlciA9IG1vcmUgZGV0YWlsZWQpXG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG5cbiAgICAgIDxkaXZcbiAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICBwYWRkaW5nOiAnMTZweCAyMHB4JyxcbiAgICAgICAgICBib3JkZXJUb3A6ICcxcHggc29saWQgIzM0NDk1ZScsXG4gICAgICAgICAgZGlzcGxheTogJ2ZsZXgnLFxuICAgICAgICAgIGp1c3RpZnlDb250ZW50OiAnc3BhY2UtYmV0d2VlbicsXG4gICAgICAgICAgYWxpZ25JdGVtczogJ2NlbnRlcicsXG4gICAgICAgICAgYmFja2dyb3VuZENvbG9yOiAnIzFmMmIzOCcsXG4gICAgICAgIH19XG4gICAgICA+XG4gICAgICAgIDxidXR0b25cbiAgICAgICAgICBvbkNsaWNrPXtvbkNsb3NlfVxuICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICBwYWRkaW5nOiAnMTBweCAxNnB4JyxcbiAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogJyMzNDQ5NWUnLFxuICAgICAgICAgICAgY29sb3I6ICd3aGl0ZScsXG4gICAgICAgICAgICBib3JkZXI6ICcxcHggc29saWQgIzJjM2U1MCcsXG4gICAgICAgICAgICBib3JkZXJSYWRpdXM6ICc2cHgnLFxuICAgICAgICAgICAgY3Vyc29yOiAncG9pbnRlcicsXG4gICAgICAgICAgICBmb250U2l6ZTogJzE0cHgnLFxuICAgICAgICAgICAgZm9udFdlaWdodDogJzUwMCcsXG4gICAgICAgICAgfX1cbiAgICAgICAgPlxuICAgICAgICAgIENhbmNlbFxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPGJ1dHRvblxuICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZVN0YXJ0U2VsZWN0aW9ufVxuICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICBwYWRkaW5nOiAnMTBweCAxNnB4JyxcbiAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogJyMxYWJjOWMnLFxuICAgICAgICAgICAgY29sb3I6ICd3aGl0ZScsXG4gICAgICAgICAgICBib3JkZXI6ICdub25lJyxcbiAgICAgICAgICAgIGJvcmRlclJhZGl1czogJzZweCcsXG4gICAgICAgICAgICBjdXJzb3I6ICdwb2ludGVyJyxcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMTRweCcsXG4gICAgICAgICAgICBmb250V2VpZ2h0OiAnNjAwJyxcbiAgICAgICAgICAgIG1pbldpZHRoOiAnMjAwcHgnLFxuICAgICAgICAgICAgZGlzcGxheTogJ2ZsZXgnLFxuICAgICAgICAgICAgYWxpZ25JdGVtczogJ2NlbnRlcicsXG4gICAgICAgICAgICBqdXN0aWZ5Q29udGVudDogJ2NlbnRlcicsXG4gICAgICAgICAgICBnYXA6ICc4cHgnLFxuICAgICAgICAgIH19XG4gICAgICAgID5cbiAgICAgICAgICBTZWxlY3QgUm9hZHMgb24gTWFwIOKGklxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvZGl2PlxuICAgIDwvPlxuICApO1xuXG4gIGNvbnN0IHJlbmRlckNvbXB1dGluZ1N0ZXAgPSAoKSA9PiAoXG4gICAgPGRpdiBzdHlsZT17eyBwYWRkaW5nOiAnMzJweCcsIHRleHRBbGlnbjogJ2NlbnRlcicgfX0+XG4gICAgICA8ZGl2XG4gICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgbWFyZ2luQm90dG9tOiAnMTJweCcsXG4gICAgICAgICAgZm9udFNpemU6ICcxOHB4JyxcbiAgICAgICAgICBjb2xvcjogJ3doaXRlJyxcbiAgICAgICAgICBmb250V2VpZ2h0OiAnNjAwJyxcbiAgICAgICAgfX1cbiAgICAgID5cbiAgICAgICAgQ29tcHV0aW5nIHR1cm4gcGF0aC4uLlxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IHN0eWxlPXt7IGNvbG9yOiAnIzk1YTVhNicsIGZvbnRTaXplOiAnMTRweCcgfX0+XG4gICAgICAgIFRoaXMgdXN1YWxseSB0YWtlcyBhIGZldyBzZWNvbmRzLiBQbGVhc2Ugd2FpdC5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApO1xuXG4gIHJldHVybiAoXG4gICAgPGRpdlxuICAgICAgc3R5bGU9e3tcbiAgICAgICAgcG9zaXRpb246ICdmaXhlZCcsXG4gICAgICAgIHRvcDogMCxcbiAgICAgICAgbGVmdDogMCxcbiAgICAgICAgcmlnaHQ6IDAsXG4gICAgICAgIGJvdHRvbTogMCxcbiAgICAgICAgekluZGV4OiAxMDAwLFxuICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICdyZ2JhKDAsIDAsIDAsIDAuNCknLFxuICAgICAgICBkaXNwbGF5OiAnZmxleCcsXG4gICAgICAgIGFsaWduSXRlbXM6ICdjZW50ZXInLFxuICAgICAgICBqdXN0aWZ5Q29udGVudDogJ2NlbnRlcicsXG4gICAgICAgIGJhY2tkcm9wRmlsdGVyOiAnYmx1cigycHgpJyxcbiAgICAgIH19XG4gICAgPlxuICAgICAgPGRpdlxuICAgICAgICBzdHlsZT17e1xuICAgICAgICAgIHdpZHRoOiAnNjQwcHgnLFxuICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogJyMxZjJiMzgnLFxuICAgICAgICAgIGJvcmRlclJhZGl1czogJzEwcHgnLFxuICAgICAgICAgIGJveFNoYWRvdzogJzAgMTBweCAzMnB4IHJnYmEoMCwgMCwgMCwgMC40NSknLFxuICAgICAgICAgIG92ZXJmbG93OiAnaGlkZGVuJyxcbiAgICAgICAgICBib3JkZXI6ICcxcHggc29saWQgIzJjM2U1MCcsXG4gICAgICAgIH19XG4gICAgICA+XG4gICAgICAgIHtjdXJyZW50U3RlcCA9PT0gJ2NvbXB1dGluZycgPyByZW5kZXJDb21wdXRpbmdTdGVwKCkgOiByZW5kZXJQcm9maWxlU3RlcCgpfVxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gICk7XG59XG5cbiJdLCJuYW1lcyI6WyJSZWFjdCIsInVzZVN0YXRlIiwidXNlRWZmZWN0IiwiVHVyblBhdGhEaWFsb2ciLCJpc09wZW4iLCJvbkNsb3NlIiwib25TdGFydFNlbGVjdGlvbiIsInZlaGljbGVQcm9maWxlcyIsImN1cnJlbnRTdGVwIiwiZGVmYXVsdFZlaGljbGVQcm9maWxlcyIsImtvbWF0c3VfODMwZSIsIm5hbWUiLCJ2ZWhpY2xlX3dpZHRoX20iLCJ3aGVlbGJhc2VfbSIsIm1pbl90dXJuX3JhZGl1c19tIiwibWF4X3N0ZWVyaW5nX2FuZ2xlX2RlZyIsInNlbGVjdGVkUHJvZmlsZSIsInNldFNlbGVjdGVkUHJvZmlsZSIsInVzZUN1c3RvbSIsInNldFVzZUN1c3RvbSIsImN1c3RvbVZhbHVlcyIsInNldEN1c3RvbVZhbHVlcyIsInNpZGVfYnVmZmVyX20iLCJmcm9udF9idWZmZXJfbSIsInJlYXJfYnVmZmVyX20iLCJzYW1wbGluZ1N0ZXAiLCJzZXRTYW1wbGluZ1N0ZXAiLCJwcm9maWxlcyIsIk9iamVjdCIsImtleXMiLCJsZW5ndGgiLCJmaXJzdCIsIm9uRXNjIiwiZSIsImtleSIsIndpbmRvdyIsImFkZEV2ZW50TGlzdGVuZXIiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwic2hvdWxkU2hvdyIsInByb2ZpbGVzVG9TaG93IiwiaGFuZGxlU3RhcnRTZWxlY3Rpb24iLCJjb25maWciLCJ2ZWhpY2xlX3Byb2ZpbGVfaWQiLCJjdXN0b21fdmVoaWNsZV9wcm9maWxlIiwic2FtcGxpbmdfc3RlcF9tIiwicmVuZGVyUHJvZmlsZVN0ZXAiLCJkaXYiLCJzdHlsZSIsInBhZGRpbmciLCJib3JkZXJCb3R0b20iLCJiYWNrZ3JvdW5kQ29sb3IiLCJoMiIsIm1hcmdpbiIsImNvbG9yIiwiZm9udFNpemUiLCJmb250V2VpZ2h0IiwiZGlzcGxheSIsImFsaWduSXRlbXMiLCJnYXAiLCJzcGFuIiwicCIsIm1heEhlaWdodCIsIm92ZXJmbG93WSIsIm1hcmdpbkJvdHRvbSIsImxhYmVsIiwiYnV0dG9uIiwib25DbGljayIsImZsZXgiLCJib3JkZXIiLCJib3JkZXJSYWRpdXMiLCJjdXJzb3IiLCJ0cmFuc2l0aW9uIiwiZW50cmllcyIsIm1hcCIsInByb2ZpbGUiLCJqdXN0aWZ5Q29udGVudCIsImdyaWRUZW1wbGF0ZUNvbHVtbnMiLCJ0b0ZpeGVkIiwiaW5wdXQiLCJ0eXBlIiwidmFsdWUiLCJvbkNoYW5nZSIsInRhcmdldCIsIndpZHRoIiwic3RlcCIsInBhcnNlRmxvYXQiLCJNYXRoIiwidGFuIiwiUEkiLCJtaW4iLCJtYXgiLCJtYXJnaW5Ub3AiLCJib3JkZXJUb3AiLCJtaW5XaWR0aCIsInJlbmRlckNvbXB1dGluZ1N0ZXAiLCJ0ZXh0QWxpZ24iLCJwb3NpdGlvbiIsInRvcCIsImxlZnQiLCJyaWdodCIsImJvdHRvbSIsInpJbmRleCIsImJhY2tkcm9wRmlsdGVyIiwiYm94U2hhZG93Iiwib3ZlcmZsb3ciXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./components/TurnPathDialog.js\n");

/***/ }),

/***/ "./components/TurnPathStatusBanner.js":
/*!********************************************!*\
  !*** ./components/TurnPathStatusBanner.js ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ TurnPathStatusBanner)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n\n\n/**\r\n * Status banner shown on map during road selection\r\n */ function TurnPathStatusBanner({ currentStep, selectedSourceRoad, selectedDestinationRoad, onCancel }) {\n    if (currentStep !== \"selecting_source\" && currentStep !== \"selecting_destination\") {\n        return null;\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        style: {\n            position: \"fixed\",\n            top: \"60px\",\n            left: \"50%\",\n            transform: \"translateX(-50%)\",\n            zIndex: 1001,\n            backgroundColor: \"#2c3e50\",\n            border: \"2px solid #3498db\",\n            borderRadius: \"8px\",\n            padding: \"16px 24px\",\n            boxShadow: \"0 4px 12px rgba(0, 0, 0, 0.5)\",\n            minWidth: \"400px\",\n            display: \"flex\",\n            alignItems: \"center\",\n            gap: \"16px\"\n        },\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                style: {\n                    fontSize: \"32px\"\n                },\n                children: currentStep === \"selecting_source\" ? \"\\uD83D\\uDFE2\" : \"\\uD83D\\uDD34\"\n            }, void 0, false, {\n                fileName: \"/app/components/TurnPathStatusBanner.js\",\n                lineNumber: 34,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                style: {\n                    flex: 1\n                },\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        style: {\n                            color: \"white\",\n                            fontSize: \"16px\",\n                            fontWeight: \"600\",\n                            marginBottom: \"4px\"\n                        },\n                        children: currentStep === \"selecting_source\" ? \"Step 1: Select Source Road\" : \"Step 2: Select Destination Road\"\n                    }, void 0, false, {\n                        fileName: \"/app/components/TurnPathStatusBanner.js\",\n                        lineNumber: 40,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        style: {\n                            color: \"#95a5a6\",\n                            fontSize: \"13px\"\n                        },\n                        children: currentStep === \"selecting_source\" ? \"Click on the road where the vehicle starts\" : `From: ${selectedSourceRoad?.name || \"Unknown\"} → Click destination road`\n                    }, void 0, false, {\n                        fileName: \"/app/components/TurnPathStatusBanner.js\",\n                        lineNumber: 51,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/app/components/TurnPathStatusBanner.js\",\n                lineNumber: 39,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                onClick: onCancel,\n                style: {\n                    padding: \"8px 16px\",\n                    backgroundColor: \"#e74c3c\",\n                    color: \"white\",\n                    border: \"none\",\n                    borderRadius: \"6px\",\n                    cursor: \"pointer\",\n                    fontSize: \"13px\",\n                    fontWeight: \"500\",\n                    whiteSpace: \"nowrap\"\n                },\n                children: \"Cancel (ESC)\"\n            }, void 0, false, {\n                fileName: \"/app/components/TurnPathStatusBanner.js\",\n                lineNumber: 63,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/app/components/TurnPathStatusBanner.js\",\n        lineNumber: 17,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9jb21wb25lbnRzL1R1cm5QYXRoU3RhdHVzQmFubmVyLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUEwQjtBQUUxQjs7Q0FFQyxHQUNjLFNBQVNDLHFCQUFxQixFQUMzQ0MsV0FBVyxFQUNYQyxrQkFBa0IsRUFDbEJDLHVCQUF1QixFQUN2QkMsUUFBUSxFQUNUO0lBQ0MsSUFBSUgsZ0JBQWdCLHNCQUFzQkEsZ0JBQWdCLHlCQUF5QjtRQUNqRixPQUFPO0lBQ1Q7SUFFQSxxQkFDRSw4REFBQ0k7UUFBSUMsT0FBTztZQUNWQyxVQUFVO1lBQ1ZDLEtBQUs7WUFDTEMsTUFBTTtZQUNOQyxXQUFXO1lBQ1hDLFFBQVE7WUFDUkMsaUJBQWlCO1lBQ2pCQyxRQUFRO1lBQ1JDLGNBQWM7WUFDZEMsU0FBUztZQUNUQyxXQUFXO1lBQ1hDLFVBQVU7WUFDVkMsU0FBUztZQUNUQyxZQUFZO1lBQ1pDLEtBQUs7UUFDUDs7MEJBRUUsOERBQUNmO2dCQUFJQyxPQUFPO29CQUFFZSxVQUFVO2dCQUFPOzBCQUM1QnBCLGdCQUFnQixxQkFBcUIsaUJBQU87Ozs7OzswQkFJL0MsOERBQUNJO2dCQUFJQyxPQUFPO29CQUFFZ0IsTUFBTTtnQkFBRTs7a0NBQ3BCLDhEQUFDakI7d0JBQUlDLE9BQU87NEJBQ1ZpQixPQUFPOzRCQUNQRixVQUFVOzRCQUNWRyxZQUFZOzRCQUNaQyxjQUFjO3dCQUNoQjtrQ0FDR3hCLGdCQUFnQixxQkFDYiwrQkFDQTs7Ozs7O2tDQUdOLDhEQUFDSTt3QkFBSUMsT0FBTzs0QkFDVmlCLE9BQU87NEJBQ1BGLFVBQVU7d0JBQ1o7a0NBQ0dwQixnQkFBZ0IscUJBQ2IsK0NBQ0EsQ0FBQyxNQUFNLEVBQUVDLG9CQUFvQndCLFFBQVEsVUFBVSx5QkFBeUIsQ0FBQzs7Ozs7Ozs7Ozs7OzBCQU1qRiw4REFBQ0M7Z0JBQ0NDLFNBQVN4QjtnQkFDVEUsT0FBTztvQkFDTFMsU0FBUztvQkFDVEgsaUJBQWlCO29CQUNqQlcsT0FBTztvQkFDUFYsUUFBUTtvQkFDUkMsY0FBYztvQkFDZGUsUUFBUTtvQkFDUlIsVUFBVTtvQkFDVkcsWUFBWTtvQkFDWk0sWUFBWTtnQkFDZDswQkFDRDs7Ozs7Ozs7Ozs7O0FBS1AiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jb21iaW5lZC11aS8uL2NvbXBvbmVudHMvVHVyblBhdGhTdGF0dXNCYW5uZXIuanM/OTkwNCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xyXG5cclxuLyoqXHJcbiAqIFN0YXR1cyBiYW5uZXIgc2hvd24gb24gbWFwIGR1cmluZyByb2FkIHNlbGVjdGlvblxyXG4gKi9cclxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gVHVyblBhdGhTdGF0dXNCYW5uZXIoeyBcclxuICBjdXJyZW50U3RlcCxcclxuICBzZWxlY3RlZFNvdXJjZVJvYWQsXHJcbiAgc2VsZWN0ZWREZXN0aW5hdGlvblJvYWQsXHJcbiAgb25DYW5jZWwgXHJcbn0pIHtcclxuICBpZiAoY3VycmVudFN0ZXAgIT09ICdzZWxlY3Rpbmdfc291cmNlJyAmJiBjdXJyZW50U3RlcCAhPT0gJ3NlbGVjdGluZ19kZXN0aW5hdGlvbicpIHtcclxuICAgIHJldHVybiBudWxsO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIChcclxuICAgIDxkaXYgc3R5bGU9e3tcclxuICAgICAgcG9zaXRpb246ICdmaXhlZCcsXHJcbiAgICAgIHRvcDogJzYwcHgnLFxyXG4gICAgICBsZWZ0OiAnNTAlJyxcclxuICAgICAgdHJhbnNmb3JtOiAndHJhbnNsYXRlWCgtNTAlKScsXHJcbiAgICAgIHpJbmRleDogMTAwMSxcclxuICAgICAgYmFja2dyb3VuZENvbG9yOiAnIzJjM2U1MCcsXHJcbiAgICAgIGJvcmRlcjogJzJweCBzb2xpZCAjMzQ5OGRiJyxcclxuICAgICAgYm9yZGVyUmFkaXVzOiAnOHB4JyxcclxuICAgICAgcGFkZGluZzogJzE2cHggMjRweCcsXHJcbiAgICAgIGJveFNoYWRvdzogJzAgNHB4IDEycHggcmdiYSgwLCAwLCAwLCAwLjUpJyxcclxuICAgICAgbWluV2lkdGg6ICc0MDBweCcsXHJcbiAgICAgIGRpc3BsYXk6ICdmbGV4JyxcclxuICAgICAgYWxpZ25JdGVtczogJ2NlbnRlcicsXHJcbiAgICAgIGdhcDogJzE2cHgnXHJcbiAgICB9fT5cclxuICAgICAgey8qIEljb24gKi99XHJcbiAgICAgIDxkaXYgc3R5bGU9e3sgZm9udFNpemU6ICczMnB4JyB9fT5cclxuICAgICAgICB7Y3VycmVudFN0ZXAgPT09ICdzZWxlY3Rpbmdfc291cmNlJyA/ICfwn5+iJyA6ICfwn5S0J31cclxuICAgICAgPC9kaXY+XHJcblxyXG4gICAgICB7LyogQ29udGVudCAqL31cclxuICAgICAgPGRpdiBzdHlsZT17eyBmbGV4OiAxIH19PlxyXG4gICAgICAgIDxkaXYgc3R5bGU9e3sgXHJcbiAgICAgICAgICBjb2xvcjogJ3doaXRlJyxcclxuICAgICAgICAgIGZvbnRTaXplOiAnMTZweCcsXHJcbiAgICAgICAgICBmb250V2VpZ2h0OiAnNjAwJyxcclxuICAgICAgICAgIG1hcmdpbkJvdHRvbTogJzRweCdcclxuICAgICAgICB9fT5cclxuICAgICAgICAgIHtjdXJyZW50U3RlcCA9PT0gJ3NlbGVjdGluZ19zb3VyY2UnIFxyXG4gICAgICAgICAgICA/ICdTdGVwIDE6IFNlbGVjdCBTb3VyY2UgUm9hZCcgXHJcbiAgICAgICAgICAgIDogJ1N0ZXAgMjogU2VsZWN0IERlc3RpbmF0aW9uIFJvYWQnXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPGRpdiBzdHlsZT17eyBcclxuICAgICAgICAgIGNvbG9yOiAnIzk1YTVhNicsXHJcbiAgICAgICAgICBmb250U2l6ZTogJzEzcHgnXHJcbiAgICAgICAgfX0+XHJcbiAgICAgICAgICB7Y3VycmVudFN0ZXAgPT09ICdzZWxlY3Rpbmdfc291cmNlJ1xyXG4gICAgICAgICAgICA/ICdDbGljayBvbiB0aGUgcm9hZCB3aGVyZSB0aGUgdmVoaWNsZSBzdGFydHMnXHJcbiAgICAgICAgICAgIDogYEZyb206ICR7c2VsZWN0ZWRTb3VyY2VSb2FkPy5uYW1lIHx8ICdVbmtub3duJ30g4oaSIENsaWNrIGRlc3RpbmF0aW9uIHJvYWRgXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgey8qIENhbmNlbCBCdXR0b24gKi99XHJcbiAgICAgIDxidXR0b25cclxuICAgICAgICBvbkNsaWNrPXtvbkNhbmNlbH1cclxuICAgICAgICBzdHlsZT17e1xyXG4gICAgICAgICAgcGFkZGluZzogJzhweCAxNnB4JyxcclxuICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogJyNlNzRjM2MnLFxyXG4gICAgICAgICAgY29sb3I6ICd3aGl0ZScsXHJcbiAgICAgICAgICBib3JkZXI6ICdub25lJyxcclxuICAgICAgICAgIGJvcmRlclJhZGl1czogJzZweCcsXHJcbiAgICAgICAgICBjdXJzb3I6ICdwb2ludGVyJyxcclxuICAgICAgICAgIGZvbnRTaXplOiAnMTNweCcsXHJcbiAgICAgICAgICBmb250V2VpZ2h0OiAnNTAwJyxcclxuICAgICAgICAgIHdoaXRlU3BhY2U6ICdub3dyYXAnXHJcbiAgICAgICAgfX1cclxuICAgICAgPlxyXG4gICAgICAgIENhbmNlbCAoRVNDKVxyXG4gICAgICA8L2J1dHRvbj5cclxuICAgIDwvZGl2PlxyXG4gICk7XHJcbn1cclxuXHJcblxyXG4iXSwibmFtZXMiOlsiUmVhY3QiLCJUdXJuUGF0aFN0YXR1c0Jhbm5lciIsImN1cnJlbnRTdGVwIiwic2VsZWN0ZWRTb3VyY2VSb2FkIiwic2VsZWN0ZWREZXN0aW5hdGlvblJvYWQiLCJvbkNhbmNlbCIsImRpdiIsInN0eWxlIiwicG9zaXRpb24iLCJ0b3AiLCJsZWZ0IiwidHJhbnNmb3JtIiwiekluZGV4IiwiYmFja2dyb3VuZENvbG9yIiwiYm9yZGVyIiwiYm9yZGVyUmFkaXVzIiwicGFkZGluZyIsImJveFNoYWRvdyIsIm1pbldpZHRoIiwiZGlzcGxheSIsImFsaWduSXRlbXMiLCJnYXAiLCJmb250U2l6ZSIsImZsZXgiLCJjb2xvciIsImZvbnRXZWlnaHQiLCJtYXJnaW5Cb3R0b20iLCJuYW1lIiwiYnV0dG9uIiwib25DbGljayIsImN1cnNvciIsIndoaXRlU3BhY2UiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./components/TurnPathStatusBanner.js\n");

/***/ }),

/***/ "./components/useMeasurementTool.js":
/*!******************************************!*\
  !*** ./components/useMeasurementTool.js ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n\n// Copied from Frontrunner to keep measurement behavior identical\nfunction useMeasurementTool(cesiumViewerRef) {\n    const [measurementMode, setMeasurementMode] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [measurementPoints, setMeasurementPoints] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)([]);\n    const measurementEntitiesRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)([]);\n    const overlayEntitiesRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)([]);\n    const previewLineEntityRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\n    const previewLabelEntityRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\n    const measurementModeRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(measurementMode);\n    const measurementPointsRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(measurementPoints);\n    const areaLockedRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(false);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        measurementModeRef.current = measurementMode;\n    }, [\n        measurementMode\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        measurementPointsRef.current = measurementPoints;\n    }, [\n        measurementPoints\n    ]);\n    const setCanvasTooltip = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((text)=>{\n        const viewer = cesiumViewerRef.current;\n        if (!viewer || !viewer.cesiumWidget) return;\n        viewer.cesiumWidget.container.title = text || \"\";\n    }, [\n        cesiumViewerRef\n    ]);\n    const removePreviewEntities = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((viewer)=>{\n        if (!viewer) return;\n        const refs = [\n            previewLineEntityRef,\n            previewLabelEntityRef\n        ];\n        refs.forEach((ref)=>{\n            if (ref.current) {\n                try {\n                    viewer.entities.remove(ref.current);\n                } catch (err) {\n                    console.warn(\"[Measurement] Failed to remove preview entity\", err);\n                }\n                ref.current = null;\n            }\n        });\n        setCanvasTooltip(\"\");\n        if (viewer.scene) viewer.scene.requestRender();\n    }, [\n        setCanvasTooltip\n    ]);\n    const clearMeasurements = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(()=>{\n        const viewer = cesiumViewerRef.current;\n        if (viewer) {\n            removePreviewEntities(viewer);\n            overlayEntitiesRef.current.forEach((e)=>{\n                try {\n                    viewer.entities.remove(e);\n                } catch (err) {\n                    console.warn(\"[Measurement] Failed to remove overlay entity\", err);\n                }\n            });\n            overlayEntitiesRef.current = [];\n            measurementEntitiesRef.current.forEach((e)=>{\n                try {\n                    viewer.entities.remove(e);\n                } catch (err) {\n                    console.warn(\"[Measurement] Failed to remove entity\", err);\n                }\n            });\n            measurementEntitiesRef.current = [];\n            setCanvasTooltip(\"\");\n            if (viewer.scene) viewer.scene.requestRender();\n        }\n        measurementPointsRef.current = [];\n        setMeasurementPoints([]);\n        areaLockedRef.current = false;\n    }, [\n        cesiumViewerRef,\n        removePreviewEntities,\n        setCanvasTooltip\n    ]);\n    const startMeasurement = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((mode)=>{\n        clearMeasurements();\n        areaLockedRef.current = false;\n        measurementModeRef.current = mode;\n        setMeasurementMode(mode);\n        measurementPointsRef.current = [];\n        setMeasurementPoints([]);\n    }, [\n        clearMeasurements\n    ]);\n    const cancelMeasurement = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(()=>{\n        const viewer = cesiumViewerRef.current;\n        if (viewer) {\n            removePreviewEntities(viewer);\n            setCanvasTooltip(\"\");\n        }\n        clearMeasurements();\n        measurementModeRef.current = null;\n        setMeasurementMode(null);\n        areaLockedRef.current = false;\n        if (viewer && viewer.scene) {\n            viewer.scene.requestRender();\n            setTimeout(()=>{\n                if (viewer && viewer.scene) viewer.scene.requestRender();\n            }, 50);\n        }\n    }, [\n        clearMeasurements,\n        removePreviewEntities,\n        setCanvasTooltip\n    ]);\n    const addMeasurementPoint = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((cartesian)=>{\n        const viewer = cesiumViewerRef.current;\n        if (!viewer || !window?.Cesium || !cartesian) return;\n        if (areaLockedRef.current) return;\n        const currentMode = measurementModeRef.current;\n        if (!currentMode) return;\n        const cartographic = window.Cesium.Cartographic.fromCartesian(cartesian);\n        const longitude = window.Cesium.Math.toDegrees(cartographic.longitude);\n        const latitude = window.Cesium.Math.toDegrees(cartographic.latitude);\n        const newPoint = {\n            cartesian,\n            longitude,\n            latitude\n        };\n        setMeasurementPoints((prev)=>{\n            const newPoints = [\n                ...prev,\n                newPoint\n            ];\n            if (currentMode === \"distance\" && newPoints.length > 2) return prev;\n            measurementPointsRef.current = newPoints;\n            const pointEntity = viewer.entities.add({\n                position: cartesian,\n                point: {\n                    pixelSize: 14,\n                    color: window.Cesium.Color.WHITE,\n                    outlineColor: window.Cesium.Color.CYAN,\n                    outlineWidth: 4,\n                    heightReference: window.Cesium.HeightReference.NONE,\n                    disableDepthTestDistance: Number.POSITIVE_INFINITY,\n                    scaleByDistance: new window.Cesium.NearFarScalar(1.5e2, 1.2, 8.0e6, 0.6)\n                }\n            });\n            measurementEntitiesRef.current.push(pointEntity);\n            if (viewer.scene) viewer.scene.requestRender();\n            if (newPoints.length > 1) {\n                overlayEntitiesRef.current.forEach((e)=>{\n                    try {\n                        viewer.entities.remove(e);\n                    } catch (err) {\n                        console.warn(\"[Measurement] Failed to remove overlay entity\", err);\n                    }\n                });\n                overlayEntitiesRef.current = [];\n                const positions = newPoints.map((p)=>p.cartesian);\n                if (currentMode === \"distance\" && newPoints.length === 2) {\n                    removePreviewEntities(viewer);\n                    const lineEntity = viewer.entities.add({\n                        polyline: {\n                            positions,\n                            width: 4,\n                            material: window.Cesium.Color.WHITE,\n                            clampToGround: true\n                        }\n                    });\n                    measurementEntitiesRef.current.push(lineEntity);\n                    overlayEntitiesRef.current.push(lineEntity);\n                    const ellipsoid = viewer.scene.globe.ellipsoid;\n                    const c1 = ellipsoid.cartesianToCartographic(positions[0]);\n                    const c2 = ellipsoid.cartesianToCartographic(positions[1]);\n                    const geodesic = new window.Cesium.EllipsoidGeodesic(c1, c2);\n                    const distanceMeters = geodesic.surfaceDistance;\n                    const distanceFeet = distanceMeters * 3.28084;\n                    if (!Number.isFinite(distanceMeters) || distanceMeters < 0.01) {\n                        try {\n                            viewer.entities.remove(lineEntity);\n                        } catch (_) {}\n                        measurementEntitiesRef.current.pop();\n                        overlayEntitiesRef.current.pop();\n                        const dupPoint = measurementEntitiesRef.current.pop();\n                        if (dupPoint) {\n                            try {\n                                viewer.entities.remove(dupPoint);\n                            } catch (_) {}\n                        }\n                        measurementPointsRef.current = [\n                            newPoints[0]\n                        ];\n                        setMeasurementPoints([\n                            newPoints[0]\n                        ]);\n                        setCanvasTooltip(\"Pick a different point\");\n                        if (viewer.scene) viewer.scene.requestRender();\n                        return [\n                            newPoints[0]\n                        ];\n                    }\n                    const metersText = `${distanceMeters.toFixed(2)} m`;\n                    const feetText = `${distanceFeet.toFixed(2)} ft`;\n                    const tooltipText = `📏 ${metersText} (${feetText})`;\n                    const bearing = window.Cesium.Math.toDegrees(geodesic.startHeading);\n                    const normalizedBearing = bearing < 0 ? bearing + 360 : bearing;\n                    const rotationAngle = normalizedBearing > 90 && normalizedBearing < 270 ? normalizedBearing - 180 : normalizedBearing;\n                    const rotationRadians = window.Cesium.Math.toRadians(rotationAngle);\n                    const mid = window.Cesium.Cartesian3.lerp(positions[0], positions[1], 0.5, new window.Cesium.Cartesian3());\n                    const metersLabelEntity = viewer.entities.add({\n                        position: mid,\n                        label: {\n                            text: metersText,\n                            font: '22px bold \"Arial\", sans-serif',\n                            fillColor: window.Cesium.Color.YELLOW,\n                            outlineColor: window.Cesium.Color.BLACK,\n                            outlineWidth: 5,\n                            style: window.Cesium.LabelStyle.FILL_AND_OUTLINE,\n                            verticalOrigin: window.Cesium.VerticalOrigin.CENTER,\n                            horizontalOrigin: window.Cesium.HorizontalOrigin.CENTER,\n                            pixelOffset: new window.Cesium.Cartesian2(0, -30),\n                            rotation: rotationRadians,\n                            disableDepthTestDistance: Number.POSITIVE_INFINITY\n                        }\n                    });\n                    const feetLabelEntity = viewer.entities.add({\n                        position: mid,\n                        label: {\n                            text: feetText,\n                            font: '22px bold \"Arial\", sans-serif',\n                            fillColor: window.Cesium.Color.WHITE,\n                            outlineColor: window.Cesium.Color.BLACK,\n                            outlineWidth: 5,\n                            style: window.Cesium.LabelStyle.FILL_AND_OUTLINE,\n                            verticalOrigin: window.Cesium.VerticalOrigin.CENTER,\n                            horizontalOrigin: window.Cesium.HorizontalOrigin.CENTER,\n                            pixelOffset: new window.Cesium.Cartesian2(0, 30),\n                            rotation: rotationRadians,\n                            disableDepthTestDistance: Number.POSITIVE_INFINITY\n                        }\n                    });\n                    measurementEntitiesRef.current.push(metersLabelEntity, feetLabelEntity);\n                    overlayEntitiesRef.current.push(metersLabelEntity, feetLabelEntity);\n                    setCanvasTooltip(tooltipText);\n                    areaLockedRef.current = true;\n                    measurementModeRef.current = null;\n                    setMeasurementMode(null);\n                    if (viewer.scene) {\n                        viewer.scene.requestRender();\n                        setTimeout(()=>{\n                            if (viewer.scene) viewer.scene.requestRender();\n                        }, 50);\n                    }\n                } else if (currentMode === \"area\" && newPoints.length >= 2) {\n                    const polygonEntity = viewer.entities.add({\n                        polygon: {\n                            hierarchy: new window.Cesium.PolygonHierarchy(positions),\n                            material: window.Cesium.Color.YELLOW.withAlpha(0.3),\n                            outline: true,\n                            outlineColor: window.Cesium.Color.YELLOW,\n                            outlineWidth: 3\n                        }\n                    });\n                    measurementEntitiesRef.current.push(polygonEntity);\n                    overlayEntitiesRef.current.push(polygonEntity);\n                    if (viewer.scene) viewer.scene.requestRender();\n                }\n            }\n            viewer.scene?.requestRender();\n            return newPoints;\n        });\n    }, [\n        cesiumViewerRef,\n        removePreviewEntities,\n        setCanvasTooltip\n    ]);\n    const updatePreviewLine = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((cursorCartesian)=>{\n        const viewer = cesiumViewerRef.current;\n        if (!viewer || !window?.Cesium) {\n            if (viewer) removePreviewEntities(viewer);\n            return;\n        }\n        if (areaLockedRef.current) {\n            removePreviewEntities(viewer);\n            return;\n        }\n        if (!cursorCartesian) {\n            removePreviewEntities(viewer);\n            return;\n        }\n        const currentMode = measurementModeRef.current;\n        const points = measurementPointsRef.current;\n        if (currentMode !== \"distance\" || points.length !== 1) {\n            removePreviewEntities(viewer);\n            return;\n        }\n        const firstPoint = points[0].cartesian;\n        removePreviewEntities(viewer);\n        previewLineEntityRef.current = viewer.entities.add({\n            polyline: {\n                positions: [\n                    firstPoint,\n                    cursorCartesian\n                ],\n                width: 3,\n                material: window.Cesium.Color.YELLOW.withAlpha(0.8),\n                clampToGround: true\n            }\n        });\n        const ellipsoid = viewer.scene.globe.ellipsoid;\n        const c1 = ellipsoid.cartesianToCartographic(firstPoint);\n        const c2 = ellipsoid.cartesianToCartographic(cursorCartesian);\n        const geodesic = new window.Cesium.EllipsoidGeodesic(c1, c2);\n        const distanceMeters = geodesic.surfaceDistance;\n        const distanceFeet = distanceMeters * 3.28084;\n        const text = `${distanceMeters.toFixed(2)} m (${distanceFeet.toFixed(2)} ft)`;\n        const mid = window.Cesium.Cartesian3.lerp(firstPoint, cursorCartesian, 0.5, new window.Cesium.Cartesian3());\n        previewLabelEntityRef.current = viewer.entities.add({\n            position: mid,\n            label: {\n                text,\n                font: '20px bold \"Arial\", sans-serif',\n                fillColor: window.Cesium.Color.YELLOW,\n                outlineColor: window.Cesium.Color.BLACK,\n                outlineWidth: 4,\n                style: window.Cesium.LabelStyle.FILL_AND_OUTLINE,\n                verticalOrigin: window.Cesium.VerticalOrigin.CENTER,\n                horizontalOrigin: window.Cesium.HorizontalOrigin.CENTER,\n                pixelOffset: new window.Cesium.Cartesian2(0, -25),\n                backgroundColor: window.Cesium.Color.BLACK.withAlpha(0.9),\n                backgroundPadding: new window.Cesium.Cartesian2(10, 6),\n                showBackground: true,\n                disableDepthTestDistance: Number.POSITIVE_INFINITY\n            }\n        });\n        setCanvasTooltip(`Distance: ${text}`);\n        viewer.scene?.requestRender();\n    }, [\n        cesiumViewerRef,\n        removePreviewEntities,\n        setCanvasTooltip\n    ]);\n    const finalizeAreaMeasurement = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(()=>{\n        const viewer = cesiumViewerRef.current;\n        if (!viewer || !window?.Cesium) return;\n        const currentMode = measurementModeRef.current;\n        if (currentMode !== \"area\") return;\n        const points = measurementPointsRef.current;\n        if (!points || points.length < 3) return;\n        removePreviewEntities(viewer);\n        const positions = points.map((p)=>p.cartesian);\n        const coords = points.map((p)=>[\n                p.longitude,\n                p.latitude\n            ]);\n        let area = 0;\n        for(let i = 0; i < coords.length; i++){\n            const j = (i + 1) % coords.length;\n            area += coords[i][0] * coords[j][1];\n            area -= coords[j][0] * coords[i][1];\n        }\n        area = Math.abs(area / 2);\n        const metersPerDegree = 111320;\n        const areaM2 = area * metersPerDegree * metersPerDegree;\n        const areaFt2 = areaM2 * 10.7639;\n        const centroid = window.Cesium.BoundingSphere.fromPoints(positions).center;\n        const areaLabel = viewer.entities.add({\n            position: centroid,\n            label: {\n                text: `${areaM2.toFixed(2)} m²\\n${areaFt2.toFixed(2)} ft²`,\n                font: '22px bold \"Arial\", sans-serif',\n                fillColor: window.Cesium.Color.YELLOW,\n                outlineColor: window.Cesium.Color.BLACK,\n                outlineWidth: 5,\n                style: window.Cesium.LabelStyle.FILL_AND_OUTLINE,\n                verticalOrigin: window.Cesium.VerticalOrigin.CENTER,\n                horizontalOrigin: window.Cesium.HorizontalOrigin.CENTER,\n                disableDepthTestDistance: Number.POSITIVE_INFINITY\n            }\n        });\n        measurementEntitiesRef.current.push(areaLabel);\n        overlayEntitiesRef.current.push(areaLabel);\n        setCanvasTooltip(`Area: ${areaM2.toFixed(2)} m² (${areaFt2.toFixed(2)} ft²)`);\n        areaLockedRef.current = true;\n        measurementModeRef.current = null;\n        setMeasurementMode(null);\n        if (viewer.scene) {\n            viewer.scene.requestRender();\n            setTimeout(()=>{\n                if (viewer.scene) viewer.scene.requestRender();\n            }, 50);\n        }\n    }, [\n        cesiumViewerRef,\n        removePreviewEntities,\n        setCanvasTooltip\n    ]);\n    return {\n        measurementMode,\n        measurementPoints,\n        startMeasurement,\n        cancelMeasurement,\n        addMeasurementPoint,\n        clearMeasurements,\n        updatePreviewLine,\n        finalizeAreaMeasurement,\n        getMeasurementMode: ()=>measurementModeRef.current\n    };\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (useMeasurementTool);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LEdBQUc7UUFBQzdCO1FBQWlCbUI7UUFBdUJOO0tBQWlCO0lBRTdELE9BQU87UUFDTFo7UUFDQUU7UUFDQTZCO1FBQ0FFO1FBQ0FFO1FBQ0FOO1FBQ0FxRztRQUNBTztRQUNBYyxvQkFBb0IsSUFBTS9JLG1CQUFtQkcsT0FBTztJQUN0RDtBQUNGO0FBRUEsaUVBQWViLGtCQUFrQkEsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL2NvbWJpbmVkLXVpLy4vY29tcG9uZW50cy91c2VNZWFzdXJlbWVudFRvb2wuanM/Y2JkOSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB1c2VTdGF0ZSwgdXNlUmVmLCB1c2VDYWxsYmFjaywgdXNlRWZmZWN0IH0gZnJvbSAncmVhY3QnO1xyXG5cclxuLy8gQ29waWVkIGZyb20gRnJvbnRydW5uZXIgdG8ga2VlcCBtZWFzdXJlbWVudCBiZWhhdmlvciBpZGVudGljYWxcclxuZnVuY3Rpb24gdXNlTWVhc3VyZW1lbnRUb29sKGNlc2l1bVZpZXdlclJlZikge1xyXG4gIGNvbnN0IFttZWFzdXJlbWVudE1vZGUsIHNldE1lYXN1cmVtZW50TW9kZV0gPSB1c2VTdGF0ZShudWxsKTtcclxuICBjb25zdCBbbWVhc3VyZW1lbnRQb2ludHMsIHNldE1lYXN1cmVtZW50UG9pbnRzXSA9IHVzZVN0YXRlKFtdKTtcclxuXHJcbiAgY29uc3QgbWVhc3VyZW1lbnRFbnRpdGllc1JlZiA9IHVzZVJlZihbXSk7XHJcbiAgY29uc3Qgb3ZlcmxheUVudGl0aWVzUmVmID0gdXNlUmVmKFtdKTtcclxuXHJcbiAgY29uc3QgcHJldmlld0xpbmVFbnRpdHlSZWYgPSB1c2VSZWYobnVsbCk7XHJcbiAgY29uc3QgcHJldmlld0xhYmVsRW50aXR5UmVmID0gdXNlUmVmKG51bGwpO1xyXG5cclxuICBjb25zdCBtZWFzdXJlbWVudE1vZGVSZWYgPSB1c2VSZWYobWVhc3VyZW1lbnRNb2RlKTtcclxuICBjb25zdCBtZWFzdXJlbWVudFBvaW50c1JlZiA9IHVzZVJlZihtZWFzdXJlbWVudFBvaW50cyk7XHJcblxyXG4gIGNvbnN0IGFyZWFMb2NrZWRSZWYgPSB1c2VSZWYoZmFsc2UpO1xyXG5cclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgbWVhc3VyZW1lbnRNb2RlUmVmLmN1cnJlbnQgPSBtZWFzdXJlbWVudE1vZGU7XHJcbiAgfSwgW21lYXN1cmVtZW50TW9kZV0pO1xyXG5cclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgbWVhc3VyZW1lbnRQb2ludHNSZWYuY3VycmVudCA9IG1lYXN1cmVtZW50UG9pbnRzO1xyXG4gIH0sIFttZWFzdXJlbWVudFBvaW50c10pO1xyXG5cclxuICBjb25zdCBzZXRDYW52YXNUb29sdGlwID0gdXNlQ2FsbGJhY2soKHRleHQpID0+IHtcclxuICAgIGNvbnN0IHZpZXdlciA9IGNlc2l1bVZpZXdlclJlZi5jdXJyZW50O1xyXG4gICAgaWYgKCF2aWV3ZXIgfHwgIXZpZXdlci5jZXNpdW1XaWRnZXQpIHJldHVybjtcclxuICAgIHZpZXdlci5jZXNpdW1XaWRnZXQuY29udGFpbmVyLnRpdGxlID0gdGV4dCB8fCAnJztcclxuICB9LCBbY2VzaXVtVmlld2VyUmVmXSk7XHJcblxyXG4gIGNvbnN0IHJlbW92ZVByZXZpZXdFbnRpdGllcyA9IHVzZUNhbGxiYWNrKCh2aWV3ZXIpID0+IHtcclxuICAgIGlmICghdmlld2VyKSByZXR1cm47XHJcbiAgICBjb25zdCByZWZzID0gW3ByZXZpZXdMaW5lRW50aXR5UmVmLCBwcmV2aWV3TGFiZWxFbnRpdHlSZWZdO1xyXG4gICAgcmVmcy5mb3JFYWNoKHJlZiA9PiB7XHJcbiAgICAgIGlmIChyZWYuY3VycmVudCkge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICB2aWV3ZXIuZW50aXRpZXMucmVtb3ZlKHJlZi5jdXJyZW50KTtcclxuICAgICAgICB9IGNhdGNoIChlcnIpIHtcclxuICAgICAgICAgIGNvbnNvbGUud2FybignW01lYXN1cmVtZW50XSBGYWlsZWQgdG8gcmVtb3ZlIHByZXZpZXcgZW50aXR5JywgZXJyKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmVmLmN1cnJlbnQgPSBudWxsO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICAgIHNldENhbnZhc1Rvb2x0aXAoJycpO1xyXG4gICAgaWYgKHZpZXdlci5zY2VuZSkgdmlld2VyLnNjZW5lLnJlcXVlc3RSZW5kZXIoKTtcclxuICB9LCBbc2V0Q2FudmFzVG9vbHRpcF0pO1xyXG5cclxuICBjb25zdCBjbGVhck1lYXN1cmVtZW50cyA9IHVzZUNhbGxiYWNrKCgpID0+IHtcclxuICAgIGNvbnN0IHZpZXdlciA9IGNlc2l1bVZpZXdlclJlZi5jdXJyZW50O1xyXG4gICAgaWYgKHZpZXdlcikge1xyXG4gICAgICByZW1vdmVQcmV2aWV3RW50aXRpZXModmlld2VyKTtcclxuXHJcbiAgICAgIG92ZXJsYXlFbnRpdGllc1JlZi5jdXJyZW50LmZvckVhY2goZSA9PiB7XHJcbiAgICAgICAgdHJ5IHsgdmlld2VyLmVudGl0aWVzLnJlbW92ZShlKTsgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICAgICAgICBjb25zb2xlLndhcm4oJ1tNZWFzdXJlbWVudF0gRmFpbGVkIHRvIHJlbW92ZSBvdmVybGF5IGVudGl0eScsIGVycik7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgICAgb3ZlcmxheUVudGl0aWVzUmVmLmN1cnJlbnQgPSBbXTtcclxuXHJcbiAgICAgIG1lYXN1cmVtZW50RW50aXRpZXNSZWYuY3VycmVudC5mb3JFYWNoKGUgPT4ge1xyXG4gICAgICAgIHRyeSB7IHZpZXdlci5lbnRpdGllcy5yZW1vdmUoZSk7IH0gY2F0Y2ggKGVycikge1xyXG4gICAgICAgICAgY29uc29sZS53YXJuKCdbTWVhc3VyZW1lbnRdIEZhaWxlZCB0byByZW1vdmUgZW50aXR5JywgZXJyKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgICBtZWFzdXJlbWVudEVudGl0aWVzUmVmLmN1cnJlbnQgPSBbXTtcclxuXHJcbiAgICAgIHNldENhbnZhc1Rvb2x0aXAoJycpO1xyXG4gICAgICBpZiAodmlld2VyLnNjZW5lKSB2aWV3ZXIuc2NlbmUucmVxdWVzdFJlbmRlcigpO1xyXG4gICAgfVxyXG4gICAgbWVhc3VyZW1lbnRQb2ludHNSZWYuY3VycmVudCA9IFtdO1xyXG4gICAgc2V0TWVhc3VyZW1lbnRQb2ludHMoW10pO1xyXG4gICAgYXJlYUxvY2tlZFJlZi5jdXJyZW50ID0gZmFsc2U7XHJcbiAgfSwgW2Nlc2l1bVZpZXdlclJlZiwgcmVtb3ZlUHJldmlld0VudGl0aWVzLCBzZXRDYW52YXNUb29sdGlwXSk7XHJcblxyXG4gIGNvbnN0IHN0YXJ0TWVhc3VyZW1lbnQgPSB1c2VDYWxsYmFjaygobW9kZSkgPT4ge1xyXG4gICAgY2xlYXJNZWFzdXJlbWVudHMoKTtcclxuICAgIGFyZWFMb2NrZWRSZWYuY3VycmVudCA9IGZhbHNlO1xyXG4gICAgbWVhc3VyZW1lbnRNb2RlUmVmLmN1cnJlbnQgPSBtb2RlO1xyXG4gICAgc2V0TWVhc3VyZW1lbnRNb2RlKG1vZGUpO1xyXG4gICAgbWVhc3VyZW1lbnRQb2ludHNSZWYuY3VycmVudCA9IFtdO1xyXG4gICAgc2V0TWVhc3VyZW1lbnRQb2ludHMoW10pO1xyXG4gIH0sIFtjbGVhck1lYXN1cmVtZW50c10pO1xyXG5cclxuICBjb25zdCBjYW5jZWxNZWFzdXJlbWVudCA9IHVzZUNhbGxiYWNrKCgpID0+IHtcclxuICAgIGNvbnN0IHZpZXdlciA9IGNlc2l1bVZpZXdlclJlZi5jdXJyZW50O1xyXG4gICAgaWYgKHZpZXdlcikge1xyXG4gICAgICByZW1vdmVQcmV2aWV3RW50aXRpZXModmlld2VyKTtcclxuICAgICAgc2V0Q2FudmFzVG9vbHRpcCgnJyk7XHJcbiAgICB9XHJcbiAgICBjbGVhck1lYXN1cmVtZW50cygpO1xyXG4gICAgbWVhc3VyZW1lbnRNb2RlUmVmLmN1cnJlbnQgPSBudWxsO1xyXG4gICAgc2V0TWVhc3VyZW1lbnRNb2RlKG51bGwpO1xyXG4gICAgYXJlYUxvY2tlZFJlZi5jdXJyZW50ID0gZmFsc2U7XHJcblxyXG4gICAgaWYgKHZpZXdlciAmJiB2aWV3ZXIuc2NlbmUpIHtcclxuICAgICAgdmlld2VyLnNjZW5lLnJlcXVlc3RSZW5kZXIoKTtcclxuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgaWYgKHZpZXdlciAmJiB2aWV3ZXIuc2NlbmUpIHZpZXdlci5zY2VuZS5yZXF1ZXN0UmVuZGVyKCk7XHJcbiAgICAgIH0sIDUwKTtcclxuICAgIH1cclxuICB9LCBbY2xlYXJNZWFzdXJlbWVudHMsIHJlbW92ZVByZXZpZXdFbnRpdGllcywgc2V0Q2FudmFzVG9vbHRpcF0pO1xyXG5cclxuICBjb25zdCBhZGRNZWFzdXJlbWVudFBvaW50ID0gdXNlQ2FsbGJhY2soKGNhcnRlc2lhbikgPT4ge1xyXG4gICAgY29uc3Qgdmlld2VyID0gY2VzaXVtVmlld2VyUmVmLmN1cnJlbnQ7XHJcbiAgICBpZiAoIXZpZXdlciB8fCAhd2luZG93Py5DZXNpdW0gfHwgIWNhcnRlc2lhbikgcmV0dXJuO1xyXG5cclxuICAgIGlmIChhcmVhTG9ja2VkUmVmLmN1cnJlbnQpIHJldHVybjtcclxuXHJcbiAgICBjb25zdCBjdXJyZW50TW9kZSA9IG1lYXN1cmVtZW50TW9kZVJlZi5jdXJyZW50O1xyXG4gICAgaWYgKCFjdXJyZW50TW9kZSkgcmV0dXJuO1xyXG5cclxuICAgIGNvbnN0IGNhcnRvZ3JhcGhpYyA9IHdpbmRvdy5DZXNpdW0uQ2FydG9ncmFwaGljLmZyb21DYXJ0ZXNpYW4oY2FydGVzaWFuKTtcclxuICAgIGNvbnN0IGxvbmdpdHVkZSA9IHdpbmRvdy5DZXNpdW0uTWF0aC50b0RlZ3JlZXMoY2FydG9ncmFwaGljLmxvbmdpdHVkZSk7XHJcbiAgICBjb25zdCBsYXRpdHVkZSA9IHdpbmRvdy5DZXNpdW0uTWF0aC50b0RlZ3JlZXMoY2FydG9ncmFwaGljLmxhdGl0dWRlKTtcclxuXHJcbiAgICBjb25zdCBuZXdQb2ludCA9IHsgY2FydGVzaWFuLCBsb25naXR1ZGUsIGxhdGl0dWRlIH07XHJcblxyXG4gICAgc2V0TWVhc3VyZW1lbnRQb2ludHMocHJldiA9PiB7XHJcbiAgICAgIGNvbnN0IG5ld1BvaW50cyA9IFsuLi5wcmV2LCBuZXdQb2ludF07XHJcblxyXG4gICAgICBpZiAoY3VycmVudE1vZGUgPT09ICdkaXN0YW5jZScgJiYgbmV3UG9pbnRzLmxlbmd0aCA+IDIpIHJldHVybiBwcmV2O1xyXG5cclxuICAgICAgbWVhc3VyZW1lbnRQb2ludHNSZWYuY3VycmVudCA9IG5ld1BvaW50cztcclxuXHJcbiAgICAgIGNvbnN0IHBvaW50RW50aXR5ID0gdmlld2VyLmVudGl0aWVzLmFkZCh7XHJcbiAgICAgICAgcG9zaXRpb246IGNhcnRlc2lhbixcclxuICAgICAgICBwb2ludDoge1xyXG4gICAgICAgICAgcGl4ZWxTaXplOiAxNCxcclxuICAgICAgICAgIGNvbG9yOiB3aW5kb3cuQ2VzaXVtLkNvbG9yLldISVRFLFxyXG4gICAgICAgICAgb3V0bGluZUNvbG9yOiB3aW5kb3cuQ2VzaXVtLkNvbG9yLkNZQU4sXHJcbiAgICAgICAgICBvdXRsaW5lV2lkdGg6IDQsXHJcbiAgICAgICAgICBoZWlnaHRSZWZlcmVuY2U6IHdpbmRvdy5DZXNpdW0uSGVpZ2h0UmVmZXJlbmNlLk5PTkUsXHJcbiAgICAgICAgICBkaXNhYmxlRGVwdGhUZXN0RGlzdGFuY2U6IE51bWJlci5QT1NJVElWRV9JTkZJTklUWSxcclxuICAgICAgICAgIHNjYWxlQnlEaXN0YW5jZTogbmV3IHdpbmRvdy5DZXNpdW0uTmVhckZhclNjYWxhcigxLjVlMiwgMS4yLCA4LjBlNiwgMC42KSxcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgICBtZWFzdXJlbWVudEVudGl0aWVzUmVmLmN1cnJlbnQucHVzaChwb2ludEVudGl0eSk7XHJcblxyXG4gICAgICBpZiAodmlld2VyLnNjZW5lKSB2aWV3ZXIuc2NlbmUucmVxdWVzdFJlbmRlcigpO1xyXG5cclxuICAgICAgaWYgKG5ld1BvaW50cy5sZW5ndGggPiAxKSB7XHJcbiAgICAgICAgb3ZlcmxheUVudGl0aWVzUmVmLmN1cnJlbnQuZm9yRWFjaChlID0+IHtcclxuICAgICAgICAgIHRyeSB7IHZpZXdlci5lbnRpdGllcy5yZW1vdmUoZSk7IH0gY2F0Y2ggKGVycikge1xyXG4gICAgICAgICAgICBjb25zb2xlLndhcm4oJ1tNZWFzdXJlbWVudF0gRmFpbGVkIHRvIHJlbW92ZSBvdmVybGF5IGVudGl0eScsIGVycik7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgb3ZlcmxheUVudGl0aWVzUmVmLmN1cnJlbnQgPSBbXTtcclxuXHJcbiAgICAgICAgY29uc3QgcG9zaXRpb25zID0gbmV3UG9pbnRzLm1hcChwID0+IHAuY2FydGVzaWFuKTtcclxuXHJcbiAgICAgICAgaWYgKGN1cnJlbnRNb2RlID09PSAnZGlzdGFuY2UnICYmIG5ld1BvaW50cy5sZW5ndGggPT09IDIpIHtcclxuICAgICAgICAgIHJlbW92ZVByZXZpZXdFbnRpdGllcyh2aWV3ZXIpO1xyXG5cclxuICAgICAgICAgIGNvbnN0IGxpbmVFbnRpdHkgPSB2aWV3ZXIuZW50aXRpZXMuYWRkKHtcclxuICAgICAgICAgICAgcG9seWxpbmU6IHtcclxuICAgICAgICAgICAgICBwb3NpdGlvbnMsXHJcbiAgICAgICAgICAgICAgd2lkdGg6IDQsXHJcbiAgICAgICAgICAgICAgbWF0ZXJpYWw6IHdpbmRvdy5DZXNpdW0uQ29sb3IuV0hJVEUsXHJcbiAgICAgICAgICAgICAgY2xhbXBUb0dyb3VuZDogdHJ1ZSxcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgICBtZWFzdXJlbWVudEVudGl0aWVzUmVmLmN1cnJlbnQucHVzaChsaW5lRW50aXR5KTtcclxuICAgICAgICAgIG92ZXJsYXlFbnRpdGllc1JlZi5jdXJyZW50LnB1c2gobGluZUVudGl0eSk7XHJcblxyXG4gICAgICAgICAgY29uc3QgZWxsaXBzb2lkID0gdmlld2VyLnNjZW5lLmdsb2JlLmVsbGlwc29pZDtcclxuICAgICAgICAgIGNvbnN0IGMxID0gZWxsaXBzb2lkLmNhcnRlc2lhblRvQ2FydG9ncmFwaGljKHBvc2l0aW9uc1swXSk7XHJcbiAgICAgICAgICBjb25zdCBjMiA9IGVsbGlwc29pZC5jYXJ0ZXNpYW5Ub0NhcnRvZ3JhcGhpYyhwb3NpdGlvbnNbMV0pO1xyXG4gICAgICAgICAgY29uc3QgZ2VvZGVzaWMgPSBuZXcgd2luZG93LkNlc2l1bS5FbGxpcHNvaWRHZW9kZXNpYyhjMSwgYzIpO1xyXG4gICAgICAgICAgY29uc3QgZGlzdGFuY2VNZXRlcnMgPSBnZW9kZXNpYy5zdXJmYWNlRGlzdGFuY2U7XHJcbiAgICAgICAgICBjb25zdCBkaXN0YW5jZUZlZXQgPSBkaXN0YW5jZU1ldGVycyAqIDMuMjgwODQ7XHJcblxyXG4gICAgICAgICAgaWYgKCFOdW1iZXIuaXNGaW5pdGUoZGlzdGFuY2VNZXRlcnMpIHx8IGRpc3RhbmNlTWV0ZXJzIDwgMC4wMSkge1xyXG4gICAgICAgICAgICB0cnkgeyB2aWV3ZXIuZW50aXRpZXMucmVtb3ZlKGxpbmVFbnRpdHkpOyB9IGNhdGNoIChfKSB7fVxyXG4gICAgICAgICAgICBtZWFzdXJlbWVudEVudGl0aWVzUmVmLmN1cnJlbnQucG9wKCk7XHJcbiAgICAgICAgICAgIG92ZXJsYXlFbnRpdGllc1JlZi5jdXJyZW50LnBvcCgpO1xyXG4gICAgICAgICAgICBjb25zdCBkdXBQb2ludCA9IG1lYXN1cmVtZW50RW50aXRpZXNSZWYuY3VycmVudC5wb3AoKTtcclxuICAgICAgICAgICAgaWYgKGR1cFBvaW50KSB7XHJcbiAgICAgICAgICAgICAgdHJ5IHsgdmlld2VyLmVudGl0aWVzLnJlbW92ZShkdXBQb2ludCk7IH0gY2F0Y2ggKF8pIHt9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbWVhc3VyZW1lbnRQb2ludHNSZWYuY3VycmVudCA9IFtuZXdQb2ludHNbMF1dO1xyXG4gICAgICAgICAgICBzZXRNZWFzdXJlbWVudFBvaW50cyhbbmV3UG9pbnRzWzBdXSk7XHJcbiAgICAgICAgICAgIHNldENhbnZhc1Rvb2x0aXAoJ1BpY2sgYSBkaWZmZXJlbnQgcG9pbnQnKTtcclxuICAgICAgICAgICAgaWYgKHZpZXdlci5zY2VuZSkgdmlld2VyLnNjZW5lLnJlcXVlc3RSZW5kZXIoKTtcclxuICAgICAgICAgICAgcmV0dXJuIFtuZXdQb2ludHNbMF1dO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIGNvbnN0IG1ldGVyc1RleHQgPSBgJHtkaXN0YW5jZU1ldGVycy50b0ZpeGVkKDIpfSBtYDtcclxuICAgICAgICAgIGNvbnN0IGZlZXRUZXh0ID0gYCR7ZGlzdGFuY2VGZWV0LnRvRml4ZWQoMil9IGZ0YDtcclxuICAgICAgICAgIGNvbnN0IHRvb2x0aXBUZXh0ID0gYPCfk48gJHttZXRlcnNUZXh0fSAoJHtmZWV0VGV4dH0pYDtcclxuXHJcbiAgICAgICAgICBjb25zdCBiZWFyaW5nID0gd2luZG93LkNlc2l1bS5NYXRoLnRvRGVncmVlcyhnZW9kZXNpYy5zdGFydEhlYWRpbmcpO1xyXG4gICAgICAgICAgY29uc3Qgbm9ybWFsaXplZEJlYXJpbmcgPSBiZWFyaW5nIDwgMCA/IGJlYXJpbmcgKyAzNjAgOiBiZWFyaW5nO1xyXG4gICAgICAgICAgY29uc3Qgcm90YXRpb25BbmdsZSA9XHJcbiAgICAgICAgICAgIG5vcm1hbGl6ZWRCZWFyaW5nID4gOTAgJiYgbm9ybWFsaXplZEJlYXJpbmcgPCAyNzBcclxuICAgICAgICAgICAgICA/IG5vcm1hbGl6ZWRCZWFyaW5nIC0gMTgwXHJcbiAgICAgICAgICAgICAgOiBub3JtYWxpemVkQmVhcmluZztcclxuICAgICAgICAgIGNvbnN0IHJvdGF0aW9uUmFkaWFucyA9IHdpbmRvdy5DZXNpdW0uTWF0aC50b1JhZGlhbnMocm90YXRpb25BbmdsZSk7XHJcblxyXG4gICAgICAgICAgY29uc3QgbWlkID0gd2luZG93LkNlc2l1bS5DYXJ0ZXNpYW4zLmxlcnAoXHJcbiAgICAgICAgICAgIHBvc2l0aW9uc1swXSxcclxuICAgICAgICAgICAgcG9zaXRpb25zWzFdLFxyXG4gICAgICAgICAgICAwLjUsXHJcbiAgICAgICAgICAgIG5ldyB3aW5kb3cuQ2VzaXVtLkNhcnRlc2lhbjMoKVxyXG4gICAgICAgICAgKTtcclxuXHJcbiAgICAgICAgICBjb25zdCBtZXRlcnNMYWJlbEVudGl0eSA9IHZpZXdlci5lbnRpdGllcy5hZGQoe1xyXG4gICAgICAgICAgICBwb3NpdGlvbjogbWlkLFxyXG4gICAgICAgICAgICBsYWJlbDoge1xyXG4gICAgICAgICAgICAgIHRleHQ6IG1ldGVyc1RleHQsXHJcbiAgICAgICAgICAgICAgZm9udDogJzIycHggYm9sZCBcIkFyaWFsXCIsIHNhbnMtc2VyaWYnLFxyXG4gICAgICAgICAgICAgIGZpbGxDb2xvcjogd2luZG93LkNlc2l1bS5Db2xvci5ZRUxMT1csXHJcbiAgICAgICAgICAgICAgb3V0bGluZUNvbG9yOiB3aW5kb3cuQ2VzaXVtLkNvbG9yLkJMQUNLLFxyXG4gICAgICAgICAgICAgIG91dGxpbmVXaWR0aDogNSxcclxuICAgICAgICAgICAgICBzdHlsZTogd2luZG93LkNlc2l1bS5MYWJlbFN0eWxlLkZJTExfQU5EX09VVExJTkUsXHJcbiAgICAgICAgICAgICAgdmVydGljYWxPcmlnaW46IHdpbmRvdy5DZXNpdW0uVmVydGljYWxPcmlnaW4uQ0VOVEVSLFxyXG4gICAgICAgICAgICAgIGhvcml6b250YWxPcmlnaW46IHdpbmRvdy5DZXNpdW0uSG9yaXpvbnRhbE9yaWdpbi5DRU5URVIsXHJcbiAgICAgICAgICAgICAgcGl4ZWxPZmZzZXQ6IG5ldyB3aW5kb3cuQ2VzaXVtLkNhcnRlc2lhbjIoMCwgLTMwKSxcclxuICAgICAgICAgICAgICByb3RhdGlvbjogcm90YXRpb25SYWRpYW5zLFxyXG4gICAgICAgICAgICAgIGRpc2FibGVEZXB0aFRlc3REaXN0YW5jZTogTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZLFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICBjb25zdCBmZWV0TGFiZWxFbnRpdHkgPSB2aWV3ZXIuZW50aXRpZXMuYWRkKHtcclxuICAgICAgICAgICAgcG9zaXRpb246IG1pZCxcclxuICAgICAgICAgICAgbGFiZWw6IHtcclxuICAgICAgICAgICAgICB0ZXh0OiBmZWV0VGV4dCxcclxuICAgICAgICAgICAgICBmb250OiAnMjJweCBib2xkIFwiQXJpYWxcIiwgc2Fucy1zZXJpZicsXHJcbiAgICAgICAgICAgICAgZmlsbENvbG9yOiB3aW5kb3cuQ2VzaXVtLkNvbG9yLldISVRFLFxyXG4gICAgICAgICAgICAgIG91dGxpbmVDb2xvcjogd2luZG93LkNlc2l1bS5Db2xvci5CTEFDSyxcclxuICAgICAgICAgICAgICBvdXRsaW5lV2lkdGg6IDUsXHJcbiAgICAgICAgICAgICAgc3R5bGU6IHdpbmRvdy5DZXNpdW0uTGFiZWxTdHlsZS5GSUxMX0FORF9PVVRMSU5FLFxyXG4gICAgICAgICAgICAgIHZlcnRpY2FsT3JpZ2luOiB3aW5kb3cuQ2VzaXVtLlZlcnRpY2FsT3JpZ2luLkNFTlRFUixcclxuICAgICAgICAgICAgICBob3Jpem9udGFsT3JpZ2luOiB3aW5kb3cuQ2VzaXVtLkhvcml6b250YWxPcmlnaW4uQ0VOVEVSLFxyXG4gICAgICAgICAgICAgIHBpeGVsT2Zmc2V0OiBuZXcgd2luZG93LkNlc2l1bS5DYXJ0ZXNpYW4yKDAsIDMwKSxcclxuICAgICAgICAgICAgICByb3RhdGlvbjogcm90YXRpb25SYWRpYW5zLFxyXG4gICAgICAgICAgICAgIGRpc2FibGVEZXB0aFRlc3REaXN0YW5jZTogTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZLFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICBtZWFzdXJlbWVudEVudGl0aWVzUmVmLmN1cnJlbnQucHVzaChtZXRlcnNMYWJlbEVudGl0eSwgZmVldExhYmVsRW50aXR5KTtcclxuICAgICAgICAgIG92ZXJsYXlFbnRpdGllc1JlZi5jdXJyZW50LnB1c2gobWV0ZXJzTGFiZWxFbnRpdHksIGZlZXRMYWJlbEVudGl0eSk7XHJcblxyXG4gICAgICAgICAgc2V0Q2FudmFzVG9vbHRpcCh0b29sdGlwVGV4dCk7XHJcblxyXG4gICAgICAgICAgYXJlYUxvY2tlZFJlZi5jdXJyZW50ID0gdHJ1ZTtcclxuICAgICAgICAgIG1lYXN1cmVtZW50TW9kZVJlZi5jdXJyZW50ID0gbnVsbDtcclxuICAgICAgICAgIHNldE1lYXN1cmVtZW50TW9kZShudWxsKTtcclxuXHJcbiAgICAgICAgICBpZiAodmlld2VyLnNjZW5lKSB7XHJcbiAgICAgICAgICAgIHZpZXdlci5zY2VuZS5yZXF1ZXN0UmVuZGVyKCk7XHJcbiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgIGlmICh2aWV3ZXIuc2NlbmUpIHZpZXdlci5zY2VuZS5yZXF1ZXN0UmVuZGVyKCk7XHJcbiAgICAgICAgICAgIH0sIDUwKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGVsc2UgaWYgKGN1cnJlbnRNb2RlID09PSAnYXJlYScgJiYgbmV3UG9pbnRzLmxlbmd0aCA+PSAyKSB7XHJcbiAgICAgICAgICBjb25zdCBwb2x5Z29uRW50aXR5ID0gdmlld2VyLmVudGl0aWVzLmFkZCh7XHJcbiAgICAgICAgICAgIHBvbHlnb246IHtcclxuICAgICAgICAgICAgICBoaWVyYXJjaHk6IG5ldyB3aW5kb3cuQ2VzaXVtLlBvbHlnb25IaWVyYXJjaHkocG9zaXRpb25zKSxcclxuICAgICAgICAgICAgICBtYXRlcmlhbDogd2luZG93LkNlc2l1bS5Db2xvci5ZRUxMT1cud2l0aEFscGhhKDAuMyksXHJcbiAgICAgICAgICAgICAgb3V0bGluZTogdHJ1ZSxcclxuICAgICAgICAgICAgICBvdXRsaW5lQ29sb3I6IHdpbmRvdy5DZXNpdW0uQ29sb3IuWUVMTE9XLFxyXG4gICAgICAgICAgICAgIG91dGxpbmVXaWR0aDogMyxcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgICBtZWFzdXJlbWVudEVudGl0aWVzUmVmLmN1cnJlbnQucHVzaChwb2x5Z29uRW50aXR5KTtcclxuICAgICAgICAgIG92ZXJsYXlFbnRpdGllc1JlZi5jdXJyZW50LnB1c2gocG9seWdvbkVudGl0eSk7XHJcblxyXG4gICAgICAgICAgaWYgKHZpZXdlci5zY2VuZSkgdmlld2VyLnNjZW5lLnJlcXVlc3RSZW5kZXIoKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHZpZXdlci5zY2VuZT8ucmVxdWVzdFJlbmRlcigpO1xyXG4gICAgICByZXR1cm4gbmV3UG9pbnRzO1xyXG4gICAgfSk7XHJcbiAgfSwgW2Nlc2l1bVZpZXdlclJlZiwgcmVtb3ZlUHJldmlld0VudGl0aWVzLCBzZXRDYW52YXNUb29sdGlwXSk7XHJcblxyXG4gIGNvbnN0IHVwZGF0ZVByZXZpZXdMaW5lID0gdXNlQ2FsbGJhY2soKGN1cnNvckNhcnRlc2lhbikgPT4ge1xyXG4gICAgY29uc3Qgdmlld2VyID0gY2VzaXVtVmlld2VyUmVmLmN1cnJlbnQ7XHJcbiAgICBpZiAoIXZpZXdlciB8fCAhd2luZG93Py5DZXNpdW0pIHtcclxuICAgICAgaWYgKHZpZXdlcikgcmVtb3ZlUHJldmlld0VudGl0aWVzKHZpZXdlcik7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoYXJlYUxvY2tlZFJlZi5jdXJyZW50KSB7XHJcbiAgICAgIHJlbW92ZVByZXZpZXdFbnRpdGllcyh2aWV3ZXIpO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKCFjdXJzb3JDYXJ0ZXNpYW4pIHtcclxuICAgICAgcmVtb3ZlUHJldmlld0VudGl0aWVzKHZpZXdlcik7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBjdXJyZW50TW9kZSA9IG1lYXN1cmVtZW50TW9kZVJlZi5jdXJyZW50O1xyXG4gICAgY29uc3QgcG9pbnRzID0gbWVhc3VyZW1lbnRQb2ludHNSZWYuY3VycmVudDtcclxuXHJcbiAgICBpZiAoY3VycmVudE1vZGUgIT09ICdkaXN0YW5jZScgfHwgcG9pbnRzLmxlbmd0aCAhPT0gMSkge1xyXG4gICAgICByZW1vdmVQcmV2aWV3RW50aXRpZXModmlld2VyKTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGZpcnN0UG9pbnQgPSBwb2ludHNbMF0uY2FydGVzaWFuO1xyXG5cclxuICAgIHJlbW92ZVByZXZpZXdFbnRpdGllcyh2aWV3ZXIpO1xyXG5cclxuICAgIHByZXZpZXdMaW5lRW50aXR5UmVmLmN1cnJlbnQgPSB2aWV3ZXIuZW50aXRpZXMuYWRkKHtcclxuICAgICAgcG9seWxpbmU6IHtcclxuICAgICAgICBwb3NpdGlvbnM6IFtmaXJzdFBvaW50LCBjdXJzb3JDYXJ0ZXNpYW5dLFxyXG4gICAgICAgIHdpZHRoOiAzLFxyXG4gICAgICAgIG1hdGVyaWFsOiB3aW5kb3cuQ2VzaXVtLkNvbG9yLllFTExPVy53aXRoQWxwaGEoMC44KSxcclxuICAgICAgICBjbGFtcFRvR3JvdW5kOiB0cnVlLFxyXG4gICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICBjb25zdCBlbGxpcHNvaWQgPSB2aWV3ZXIuc2NlbmUuZ2xvYmUuZWxsaXBzb2lkO1xyXG4gICAgY29uc3QgYzEgPSBlbGxpcHNvaWQuY2FydGVzaWFuVG9DYXJ0b2dyYXBoaWMoZmlyc3RQb2ludCk7XHJcbiAgICBjb25zdCBjMiA9IGVsbGlwc29pZC5jYXJ0ZXNpYW5Ub0NhcnRvZ3JhcGhpYyhjdXJzb3JDYXJ0ZXNpYW4pO1xyXG4gICAgY29uc3QgZ2VvZGVzaWMgPSBuZXcgd2luZG93LkNlc2l1bS5FbGxpcHNvaWRHZW9kZXNpYyhjMSwgYzIpO1xyXG4gICAgY29uc3QgZGlzdGFuY2VNZXRlcnMgPSBnZW9kZXNpYy5zdXJmYWNlRGlzdGFuY2U7XHJcbiAgICBjb25zdCBkaXN0YW5jZUZlZXQgPSBkaXN0YW5jZU1ldGVycyAqIDMuMjgwODQ7XHJcblxyXG4gICAgY29uc3QgdGV4dCA9IGAke2Rpc3RhbmNlTWV0ZXJzLnRvRml4ZWQoMil9IG0gKCR7ZGlzdGFuY2VGZWV0LnRvRml4ZWQoMil9IGZ0KWA7XHJcblxyXG4gICAgY29uc3QgbWlkID0gd2luZG93LkNlc2l1bS5DYXJ0ZXNpYW4zLmxlcnAoXHJcbiAgICAgIGZpcnN0UG9pbnQsXHJcbiAgICAgIGN1cnNvckNhcnRlc2lhbixcclxuICAgICAgMC41LFxyXG4gICAgICBuZXcgd2luZG93LkNlc2l1bS5DYXJ0ZXNpYW4zKClcclxuICAgICk7XHJcblxyXG4gICAgcHJldmlld0xhYmVsRW50aXR5UmVmLmN1cnJlbnQgPSB2aWV3ZXIuZW50aXRpZXMuYWRkKHtcclxuICAgICAgcG9zaXRpb246IG1pZCxcclxuICAgICAgbGFiZWw6IHtcclxuICAgICAgICB0ZXh0LFxyXG4gICAgICAgIGZvbnQ6ICcyMHB4IGJvbGQgXCJBcmlhbFwiLCBzYW5zLXNlcmlmJyxcclxuICAgICAgICBmaWxsQ29sb3I6IHdpbmRvdy5DZXNpdW0uQ29sb3IuWUVMTE9XLFxyXG4gICAgICAgIG91dGxpbmVDb2xvcjogd2luZG93LkNlc2l1bS5Db2xvci5CTEFDSyxcclxuICAgICAgICBvdXRsaW5lV2lkdGg6IDQsXHJcbiAgICAgICAgc3R5bGU6IHdpbmRvdy5DZXNpdW0uTGFiZWxTdHlsZS5GSUxMX0FORF9PVVRMSU5FLFxyXG4gICAgICAgIHZlcnRpY2FsT3JpZ2luOiB3aW5kb3cuQ2VzaXVtLlZlcnRpY2FsT3JpZ2luLkNFTlRFUixcclxuICAgICAgICBob3Jpem9udGFsT3JpZ2luOiB3aW5kb3cuQ2VzaXVtLkhvcml6b250YWxPcmlnaW4uQ0VOVEVSLFxyXG4gICAgICAgIHBpeGVsT2Zmc2V0OiBuZXcgd2luZG93LkNlc2l1bS5DYXJ0ZXNpYW4yKDAsIC0yNSksXHJcbiAgICAgICAgYmFja2dyb3VuZENvbG9yOiB3aW5kb3cuQ2VzaXVtLkNvbG9yLkJMQUNLLndpdGhBbHBoYSgwLjkpLFxyXG4gICAgICAgIGJhY2tncm91bmRQYWRkaW5nOiBuZXcgd2luZG93LkNlc2l1bS5DYXJ0ZXNpYW4yKDEwLCA2KSxcclxuICAgICAgICBzaG93QmFja2dyb3VuZDogdHJ1ZSxcclxuICAgICAgICBkaXNhYmxlRGVwdGhUZXN0RGlzdGFuY2U6IE51bWJlci5QT1NJVElWRV9JTkZJTklUWSxcclxuICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgc2V0Q2FudmFzVG9vbHRpcChgRGlzdGFuY2U6ICR7dGV4dH1gKTtcclxuICAgIHZpZXdlci5zY2VuZT8ucmVxdWVzdFJlbmRlcigpO1xyXG4gIH0sIFtjZXNpdW1WaWV3ZXJSZWYsIHJlbW92ZVByZXZpZXdFbnRpdGllcywgc2V0Q2FudmFzVG9vbHRpcF0pO1xyXG5cclxuICBjb25zdCBmaW5hbGl6ZUFyZWFNZWFzdXJlbWVudCA9IHVzZUNhbGxiYWNrKCgpID0+IHtcclxuICAgIGNvbnN0IHZpZXdlciA9IGNlc2l1bVZpZXdlclJlZi5jdXJyZW50O1xyXG4gICAgaWYgKCF2aWV3ZXIgfHwgIXdpbmRvdz8uQ2VzaXVtKSByZXR1cm47XHJcblxyXG4gICAgY29uc3QgY3VycmVudE1vZGUgPSBtZWFzdXJlbWVudE1vZGVSZWYuY3VycmVudDtcclxuICAgIGlmIChjdXJyZW50TW9kZSAhPT0gJ2FyZWEnKSByZXR1cm47XHJcblxyXG4gICAgY29uc3QgcG9pbnRzID0gbWVhc3VyZW1lbnRQb2ludHNSZWYuY3VycmVudDtcclxuICAgIGlmICghcG9pbnRzIHx8IHBvaW50cy5sZW5ndGggPCAzKSByZXR1cm47XHJcblxyXG4gICAgcmVtb3ZlUHJldmlld0VudGl0aWVzKHZpZXdlcik7XHJcblxyXG4gICAgY29uc3QgcG9zaXRpb25zID0gcG9pbnRzLm1hcChwID0+IHAuY2FydGVzaWFuKTtcclxuXHJcbiAgICBjb25zdCBjb29yZHMgPSBwb2ludHMubWFwKHAgPT4gW3AubG9uZ2l0dWRlLCBwLmxhdGl0dWRlXSk7XHJcbiAgICBsZXQgYXJlYSA9IDA7XHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNvb3Jkcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICBjb25zdCBqID0gKGkgKyAxKSAlIGNvb3Jkcy5sZW5ndGg7XHJcbiAgICAgIGFyZWEgKz0gY29vcmRzW2ldWzBdICogY29vcmRzW2pdWzFdO1xyXG4gICAgICBhcmVhIC09IGNvb3Jkc1tqXVswXSAqIGNvb3Jkc1tpXVsxXTtcclxuICAgIH1cclxuICAgIGFyZWEgPSBNYXRoLmFicyhhcmVhIC8gMik7XHJcbiAgICBjb25zdCBtZXRlcnNQZXJEZWdyZWUgPSAxMTEzMjA7XHJcbiAgICBjb25zdCBhcmVhTTIgPSBhcmVhICogbWV0ZXJzUGVyRGVncmVlICogbWV0ZXJzUGVyRGVncmVlO1xyXG4gICAgY29uc3QgYXJlYUZ0MiA9IGFyZWFNMiAqIDEwLjc2Mzk7XHJcblxyXG4gICAgY29uc3QgY2VudHJvaWQgPSB3aW5kb3cuQ2VzaXVtLkJvdW5kaW5nU3BoZXJlLmZyb21Qb2ludHMocG9zaXRpb25zKS5jZW50ZXI7XHJcblxyXG4gICAgY29uc3QgYXJlYUxhYmVsID0gdmlld2VyLmVudGl0aWVzLmFkZCh7XHJcbiAgICAgIHBvc2l0aW9uOiBjZW50cm9pZCxcclxuICAgICAgbGFiZWw6IHtcclxuICAgICAgICB0ZXh0OiBgJHthcmVhTTIudG9GaXhlZCgyKX0gbcKyXFxuJHthcmVhRnQyLnRvRml4ZWQoMil9IGZ0wrJgLFxyXG4gICAgICAgIGZvbnQ6ICcyMnB4IGJvbGQgXCJBcmlhbFwiLCBzYW5zLXNlcmlmJyxcclxuICAgICAgICBmaWxsQ29sb3I6IHdpbmRvdy5DZXNpdW0uQ29sb3IuWUVMTE9XLFxyXG4gICAgICAgIG91dGxpbmVDb2xvcjogd2luZG93LkNlc2l1bS5Db2xvci5CTEFDSyxcclxuICAgICAgICBvdXRsaW5lV2lkdGg6IDUsXHJcbiAgICAgICAgc3R5bGU6IHdpbmRvdy5DZXNpdW0uTGFiZWxTdHlsZS5GSUxMX0FORF9PVVRMSU5FLFxyXG4gICAgICAgIHZlcnRpY2FsT3JpZ2luOiB3aW5kb3cuQ2VzaXVtLlZlcnRpY2FsT3JpZ2luLkNFTlRFUixcclxuICAgICAgICBob3Jpem9udGFsT3JpZ2luOiB3aW5kb3cuQ2VzaXVtLkhvcml6b250YWxPcmlnaW4uQ0VOVEVSLFxyXG4gICAgICAgIGRpc2FibGVEZXB0aFRlc3REaXN0YW5jZTogTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZLFxyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICAgIG1lYXN1cmVtZW50RW50aXRpZXNSZWYuY3VycmVudC5wdXNoKGFyZWFMYWJlbCk7XHJcbiAgICBvdmVybGF5RW50aXRpZXNSZWYuY3VycmVudC5wdXNoKGFyZWFMYWJlbCk7XHJcblxyXG4gICAgc2V0Q2FudmFzVG9vbHRpcChgQXJlYTogJHthcmVhTTIudG9GaXhlZCgyKX0gbcKyICgke2FyZWFGdDIudG9GaXhlZCgyKX0gZnTCsilgKTtcclxuXHJcbiAgICBhcmVhTG9ja2VkUmVmLmN1cnJlbnQgPSB0cnVlO1xyXG4gICAgbWVhc3VyZW1lbnRNb2RlUmVmLmN1cnJlbnQgPSBudWxsO1xyXG4gICAgc2V0TWVhc3VyZW1lbnRNb2RlKG51bGwpO1xyXG5cclxuICAgIGlmICh2aWV3ZXIuc2NlbmUpIHtcclxuICAgICAgdmlld2VyLnNjZW5lLnJlcXVlc3RSZW5kZXIoKTtcclxuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgaWYgKHZpZXdlci5zY2VuZSkgdmlld2VyLnNjZW5lLnJlcXVlc3RSZW5kZXIoKTtcclxuICAgICAgfSwgNTApO1xyXG4gICAgfVxyXG4gIH0sIFtjZXNpdW1WaWV3ZXJSZWYsIHJlbW92ZVByZXZpZXdFbnRpdGllcywgc2V0Q2FudmFzVG9vbHRpcF0pO1xyXG5cclxuICByZXR1cm4ge1xyXG4gICAgbWVhc3VyZW1lbnRNb2RlLFxyXG4gICAgbWVhc3VyZW1lbnRQb2ludHMsXHJcbiAgICBzdGFydE1lYXN1cmVtZW50LFxyXG4gICAgY2FuY2VsTWVhc3VyZW1lbnQsXHJcbiAgICBhZGRNZWFzdXJlbWVudFBvaW50LFxyXG4gICAgY2xlYXJNZWFzdXJlbWVudHMsXHJcbiAgICB1cGRhdGVQcmV2aWV3TGluZSxcclxuICAgIGZpbmFsaXplQXJlYU1lYXN1cmVtZW50LFxyXG4gICAgZ2V0TWVhc3VyZW1lbnRNb2RlOiAoKSA9PiBtZWFzdXJlbWVudE1vZGVSZWYuY3VycmVudCxcclxuICB9O1xyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCB1c2VNZWFzdXJlbWVudFRvb2w7XHJcblxyXG5cclxuIl0sIm5hbWVzIjpbInVzZVN0YXRlIiwidXNlUmVmIiwidXNlQ2FsbGJhY2siLCJ1c2VFZmZlY3QiLCJ1c2VNZWFzdXJlbWVudFRvb2wiLCJjZXNpdW1WaWV3ZXJSZWYiLCJtZWFzdXJlbWVudE1vZGUiLCJzZXRNZWFzdXJlbWVudE1vZGUiLCJtZWFzdXJlbWVudFBvaW50cyIsInNldE1lYXN1cmVtZW50UG9pbnRzIiwibWVhc3VyZW1lbnRFbnRpdGllc1JlZiIsIm92ZXJsYXlFbnRpdGllc1JlZiIsInByZXZpZXdMaW5lRW50aXR5UmVmIiwicHJldmlld0xhYmVsRW50aXR5UmVmIiwibWVhc3VyZW1lbnRNb2RlUmVmIiwibWVhc3VyZW1lbnRQb2ludHNSZWYiLCJhcmVhTG9ja2VkUmVmIiwiY3VycmVudCIsInNldENhbnZhc1Rvb2x0aXAiLCJ0ZXh0Iiwidmlld2VyIiwiY2VzaXVtV2lkZ2V0IiwiY29udGFpbmVyIiwidGl0bGUiLCJyZW1vdmVQcmV2aWV3RW50aXRpZXMiLCJyZWZzIiwiZm9yRWFjaCIsInJlZiIsImVudGl0aWVzIiwicmVtb3ZlIiwiZXJyIiwiY29uc29sZSIsIndhcm4iLCJzY2VuZSIsInJlcXVlc3RSZW5kZXIiLCJjbGVhck1lYXN1cmVtZW50cyIsImUiLCJzdGFydE1lYXN1cmVtZW50IiwibW9kZSIsImNhbmNlbE1lYXN1cmVtZW50Iiwic2V0VGltZW91dCIsImFkZE1lYXN1cmVtZW50UG9pbnQiLCJjYXJ0ZXNpYW4iLCJ3aW5kb3ciLCJDZXNpdW0iLCJjdXJyZW50TW9kZSIsImNhcnRvZ3JhcGhpYyIsIkNhcnRvZ3JhcGhpYyIsImZyb21DYXJ0ZXNpYW4iLCJsb25naXR1ZGUiLCJNYXRoIiwidG9EZWdyZWVzIiwibGF0aXR1ZGUiLCJuZXdQb2ludCIsInByZXYiLCJuZXdQb2ludHMiLCJsZW5ndGgiLCJwb2ludEVudGl0eSIsImFkZCIsInBvc2l0aW9uIiwicG9pbnQiLCJwaXhlbFNpemUiLCJjb2xvciIsIkNvbG9yIiwiV0hJVEUiLCJvdXRsaW5lQ29sb3IiLCJDWUFOIiwib3V0bGluZVdpZHRoIiwiaGVpZ2h0UmVmZXJlbmNlIiwiSGVpZ2h0UmVmZXJlbmNlIiwiTk9ORSIsImRpc2FibGVEZXB0aFRlc3REaXN0YW5jZSIsIk51bWJlciIsIlBPU0lUSVZFX0lORklOSVRZIiwic2NhbGVCeURpc3RhbmNlIiwiTmVhckZhclNjYWxhciIsInB1c2giLCJwb3NpdGlvbnMiLCJtYXAiLCJwIiwibGluZUVudGl0eSIsInBvbHlsaW5lIiwid2lkdGgiLCJtYXRlcmlhbCIsImNsYW1wVG9Hcm91bmQiLCJlbGxpcHNvaWQiLCJnbG9iZSIsImMxIiwiY2FydGVzaWFuVG9DYXJ0b2dyYXBoaWMiLCJjMiIsImdlb2Rlc2ljIiwiRWxsaXBzb2lkR2VvZGVzaWMiLCJkaXN0YW5jZU1ldGVycyIsInN1cmZhY2VEaXN0YW5jZSIsImRpc3RhbmNlRmVldCIsImlzRmluaXRlIiwiXyIsInBvcCIsImR1cFBvaW50IiwibWV0ZXJzVGV4dCIsInRvRml4ZWQiLCJmZWV0VGV4dCIsInRvb2x0aXBUZXh0IiwiYmVhcmluZyIsInN0YXJ0SGVhZGluZyIsIm5vcm1hbGl6ZWRCZWFyaW5nIiwicm90YXRpb25BbmdsZSIsInJvdGF0aW9uUmFkaWFucyIsInRvUmFkaWFucyIsIm1pZCIsIkNhcnRlc2lhbjMiLCJsZXJwIiwibWV0ZXJzTGFiZWxFbnRpdHkiLCJsYWJlbCIsImZvbnQiLCJmaWxsQ29sb3IiLCJZRUxMT1ciLCJCTEFDSyIsInN0eWxlIiwiTGFiZWxTdHlsZSIsIkZJTExfQU5EX09VVExJTkUiLCJ2ZXJ0aWNhbE9yaWdpbiIsIlZlcnRpY2FsT3JpZ2luIiwiQ0VOVEVSIiwiaG9yaXpvbnRhbE9yaWdpbiIsIkhvcml6b250YWxPcmlnaW4iLCJwaXhlbE9mZnNldCIsIkNhcnRlc2lhbjIiLCJyb3RhdGlvbiIsImZlZXRMYWJlbEVudGl0eSIsInBvbHlnb25FbnRpdHkiLCJwb2x5Z29uIiwiaGllcmFyY2h5IiwiUG9seWdvbkhpZXJhcmNoeSIsIndpdGhBbHBoYSIsIm91dGxpbmUiLCJ1cGRhdGVQcmV2aWV3TGluZSIsImN1cnNvckNhcnRlc2lhbiIsInBvaW50cyIsImZpcnN0UG9pbnQiLCJiYWNrZ3JvdW5kQ29sb3IiLCJiYWNrZ3JvdW5kUGFkZGluZyIsInNob3dCYWNrZ3JvdW5kIiwiZmluYWxpemVBcmVhTWVhc3VyZW1lbnQiLCJjb29yZHMiLCJhcmVhIiwiaSIsImoiLCJhYnMiLCJtZXRlcnNQZXJEZWdyZWUiLCJhcmVhTTIiLCJhcmVhRnQyIiwiY2VudHJvaWQiLCJCb3VuZGluZ1NwaGVyZSIsImZyb21Qb2ludHMiLCJjZW50ZXIiLCJhcmVhTGFiZWwiLCJnZXRNZWFzdXJlbWVudE1vZGUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./components/useMeasurementTool.js\n");

/***/ }),

/***/ "./components/useTurnPathManager.js":
/*!******************************************!*\
  !*** ./components/useTurnPathManager.js ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ useTurnPathManager)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n\n/**\r\n * Hook for managing turn path computation workflow\r\n * Handles state, road selection, API calls, and path rendering\r\n */ function useTurnPathManager(cesiumViewerRef, centerPoints = []) {\n    const [isDialogOpen, setIsDialogOpen] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    const [currentStep, setCurrentStep] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(\"profile\"); // profile, selecting_source, selecting_destination, computing, showing_path\n    const [vehicleProfiles, setVehicleProfiles] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)({});\n    const [pathConfig, setPathConfig] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [selectedSourceRoad, setSelectedSourceRoad] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [selectedDestinationRoad, setSelectedDestinationRoad] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [computedPath, setComputedPath] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [warning, setWarning] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    // Refs to expose latest state to Cesium event handlers\n    const currentStepRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(currentStep);\n    const selectedSourceRoadRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(selectedSourceRoad);\n    const selectedDestinationRoadRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(selectedDestinationRoad);\n    const pathConfigRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(pathConfig);\n    const getEntityProperty = (entity, key)=>{\n        if (!entity?.properties) return null;\n        const prop = entity.properties[key];\n        if (prop === undefined || prop === null) return null;\n        return typeof prop.getValue === \"function\" ? prop.getValue() : prop;\n    };\n    const extractRoadConnections = (entity)=>{\n        if (!entity?.properties) return [];\n        const possibleKeys = [\n            \"from_location_name\",\n            \"to_location_name\",\n            \"from_location\",\n            \"to_location\",\n            \"from_intersection\",\n            \"to_intersection\",\n            \"start_location_name\",\n            \"end_location_name\"\n        ];\n        const values = possibleKeys.map((key)=>getEntityProperty(entity, key)).filter((val)=>typeof val === \"string\" && val.trim().length > 0);\n        return Array.from(new Set(values.map((v)=>v.trim())));\n    };\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        currentStepRef.current = currentStep;\n    }, [\n        currentStep\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        selectedSourceRoadRef.current = selectedSourceRoad;\n    }, [\n        selectedSourceRoad\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        selectedDestinationRoadRef.current = selectedDestinationRoad;\n    }, [\n        selectedDestinationRoad\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        pathConfigRef.current = pathConfig;\n    }, [\n        pathConfig\n    ]);\n    const getCurrentStep = ()=>currentStepRef.current;\n    const getSelectedSourceRoad = ()=>selectedSourceRoadRef.current;\n    const getSelectedDestinationRoad = ()=>selectedDestinationRoadRef.current;\n    // Reset selection state (use refs so Cesium handlers always see latest selection)\n    const resetSelection = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(()=>{\n        const restoreEntityMaterial = (entity)=>{\n            if (!entity) return;\n            if (entity.polygon) {\n                if (entity._originalMaterial) {\n                    entity.polygon.material = entity._originalMaterial;\n                    delete entity._originalMaterial;\n                }\n            } else if (entity.polyline) {\n                if (entity._originalMaterial) {\n                    entity.polyline.material = entity._originalMaterial;\n                    delete entity._originalMaterial;\n                }\n                if (entity._originalWidth) {\n                    entity.polyline.width = entity._originalWidth;\n                    delete entity._originalWidth;\n                }\n            } else if (entity.corridor) {\n                if (entity._originalMaterial) {\n                    entity.corridor.material = entity._originalMaterial;\n                    delete entity._originalMaterial;\n                }\n            }\n        };\n        const restoreAll = (selection)=>{\n            if (!selection) return;\n            if (Array.isArray(selection.entities)) {\n                selection.entities.forEach(restoreEntityMaterial);\n            } else if (selection.entity) {\n                restoreEntityMaterial(selection.entity);\n            }\n        };\n        restoreAll(selectedSourceRoadRef.current);\n        restoreAll(selectedDestinationRoadRef.current);\n        selectedSourceRoadRef.current = null;\n        setSelectedSourceRoad(null);\n        setSelectedDestinationRoad(null);\n        setComputedPath(null);\n        setWarning(null);\n        setCurrentStep(\"profile\");\n    }, []);\n    // Load vehicle profiles on mount\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        fetch(\"/api/vehicle-profiles\").then((res)=>res.json()).then((data)=>{\n            if (data.status === \"ok\") {\n                setVehicleProfiles(data.profiles);\n            }\n        }).catch((err)=>console.error(\"Failed to load vehicle profiles:\", err));\n    }, []);\n    // Handle ESC key globally during turn path workflow\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        const handleKeyDown = (e)=>{\n            if (e.key === \"Escape\") {\n                if (isDialogOpen) {\n                    closeDialog();\n                } else if (computedPath) {\n                    resetSelection();\n                }\n            }\n        };\n        if (isDialogOpen || computedPath) {\n            window.addEventListener(\"keydown\", handleKeyDown);\n            return ()=>window.removeEventListener(\"keydown\", handleKeyDown);\n        }\n    }, [\n        isDialogOpen,\n        computedPath\n    ]); // resetSelection closed over safely\n    // Find shared intersection between two roads (using side-center markers)\n    const findSharedIntersection = async (roadId1, roadId2, segId1, segId2)=>{\n        const idsEqual = (a, b)=>String(a) === String(b);\n        const r1 = String(roadId1);\n        const r2 = String(roadId2);\n        // Use intersection_center_points only (map_locations table missing)\n        const tryCenterPoints = async ()=>{\n            const res = await fetch(\"/api/intersection_center_points\");\n            if (!res.ok) return null;\n            const rows = await res.json();\n            const byRoad = rows.reduce((acc, row)=>{\n                const key = String(row.road_id);\n                acc[key] = acc[key] || [];\n                acc[key].push(row);\n                return acc;\n            }, {});\n            const list1 = byRoad[r1] || [];\n            const list2 = byRoad[r2] || [];\n            // Prefer exact shared intersection_id, bias to matching segment_id\n            let best = null;\n            let bestScore = -1;\n            const score = (row, selSeg)=>row.segment_id && selSeg && idsEqual(row.segment_id, selSeg) ? 2 : 1;\n            for (const a of list1){\n                for (const b of list2){\n                    if (a.intersection_id !== b.intersection_id) continue;\n                    const s = score(a, segId1) + score(b, segId2);\n                    if (s > bestScore) {\n                        bestScore = s;\n                        best = {\n                            name: a.intersection_name || `intersection_${a.intersection_id}`,\n                            intersection_id: a.intersection_id\n                        };\n                    }\n                }\n            }\n            if (best) return best;\n            // Fallback: most common intersection from either list\n            const pickFallback = (list)=>{\n                if (!list.length) return null;\n                const counts = list.reduce((acc, row)=>{\n                    acc[row.intersection_id] = (acc[row.intersection_id] || 0) + 1;\n                    return acc;\n                }, {});\n                const topId = Object.keys(counts).sort((a, b)=>counts[b] - counts[a])[0];\n                const row = list.find((r)=>String(r.intersection_id) === String(topId));\n                return row ? {\n                    name: row.intersection_name || `intersection_${row.intersection_id}`,\n                    intersection_id: row.intersection_id\n                } : null;\n            };\n            return pickFallback(list1) || pickFallback(list2) || null;\n        };\n        try {\n            return await tryCenterPoints();\n        } catch (error) {\n            console.error(\"[Turn Path] Error finding intersection:\", error);\n            return null;\n        }\n    };\n    const findSharedEndpointFromSelections = (source, destination)=>{\n        const sourceConnections = source?.connections?.length ? source.connections : extractRoadConnections(source?.entity);\n        const destinationConnections = destination?.connections?.length ? destination.connections : extractRoadConnections(destination?.entity);\n        if (!sourceConnections || !destinationConnections) return null;\n        return sourceConnections.find((conn)=>destinationConnections.includes(conn)) || null;\n    };\n    // Helper: find nearest center point for a given road_id\n    const getNearestCenterPoint = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((roadId)=>{\n        if (!centerPoints || centerPoints.length === 0) return null;\n        if (roadId != null) {\n            const matches = centerPoints.filter((p)=>String(p.road_id) === String(roadId));\n            if (matches.length > 0) return matches[0];\n        }\n        // Fallback: return first available center point to avoid nulls\n        return centerPoints[0];\n    }, [\n        centerPoints\n    ]);\n    // Helper: simple haversine distance in meters\n    const haversineMeters = (lon1, lat1, lon2, lat2)=>{\n        const R = 6371000;\n        const toRad = (d)=>d * Math.PI / 180;\n        const dLat = toRad(lat2 - lat1);\n        const dLon = toRad(lon2 - lon1);\n        const a = Math.sin(dLat / 2) * Math.sin(dLat / 2) + Math.cos(toRad(lat1)) * Math.cos(toRad(lat2)) * Math.sin(dLon / 2) * Math.sin(dLon / 2);\n        const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\n        return R * c;\n    };\n    // Compute turn path via API\n    const computeTurnPath = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(async (source, destination)=>{\n        const config = pathConfigRef.current;\n        if (!config || !source || !destination) {\n            console.error(\"[Turn Path] Missing required data for computation\", {\n                config,\n                source,\n                destination\n            });\n            if (!source) {\n                alert(\"Please select the starting road first.\");\n                setCurrentStep(\"selecting_source\");\n            } else if (!destination) {\n                alert(\"Please select the destination road.\");\n                setCurrentStep(\"selecting_destination\");\n            } else if (!config) {\n                alert(\"Vehicle settings not ready yet. Please wait a moment and try again.\");\n                setCurrentStep(\"profile\");\n                setIsDialogOpen(true);\n            }\n            return;\n        }\n        setCurrentStep(\"computing\");\n        try {\n            // Find shared intersection\n            let intersection = await findSharedIntersection(source.road_id, destination.road_id, source.segment_id, destination.segment_id);\n            if (!intersection) {\n                const sharedEndpoint = findSharedEndpointFromSelections(source, destination);\n                if (sharedEndpoint) {\n                    intersection = {\n                        name: sharedEndpoint\n                    };\n                }\n            }\n            if (!intersection) {\n                console.warn(\"[Turn Path] No shared intersection; proceeding without intersection name\");\n                intersection = {\n                    name: null\n                };\n            }\n            console.log(\"[Turn Path] Computing path:\", {\n                from: source.road_id,\n                to: destination.road_id,\n                intersection: intersection.name\n            });\n            const payload = {\n                from_road_id: source.road_id,\n                to_road_id: destination.road_id,\n                intersection_name: intersection.name || \"unknown_intersection\",\n                ...config\n            };\n            if (intersection.from_marker_oid && intersection.to_marker_oid) {\n                payload.from_marker_oid = intersection.from_marker_oid;\n                payload.to_marker_oid = intersection.to_marker_oid;\n            }\n            const response = await fetch(\"/api/turn-path\", {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                },\n                body: JSON.stringify(payload)\n            });\n            const result = await response.json();\n            if (result.status === \"ok\") {\n                console.log(\"[Turn Path] Path computed successfully:\", result);\n                setComputedPath(result);\n                setWarning(null);\n                const clearanceMsg = result.clearance.vehicle_envelope_ok ? \"✅ Vehicle clearance OK\" : `⚠️ Vehicle extends ${result.clearance.outside_area_sqm.toFixed(1)} m² outside intersection`;\n                console.log(`[Turn Path] length=${result.path.length_m.toFixed(1)}m, type=${result.path.path_type}, ${clearanceMsg}`);\n                setCurrentStep(\"showing_path\");\n                setIsDialogOpen(false);\n            } else if (result.status === \"envelope_outside_intersection\") {\n                console.warn(\"[Turn Path] Envelope leaks outside intersection:\", result.clearance);\n                const leak = result.clearance?.outside_area_sqm;\n                const msg = leak != null ? `No valid turn path can be drawn: vehicle envelope would leave the intersection (outside area ≈ ${leak.toFixed(1)} m²).` : \"No valid turn path can be drawn: vehicle envelope would leave the intersection.\";\n                alert(msg);\n                // HARD FAIL: clear any path and selection so nothing is rendered\n                resetSelection();\n                setIsDialogOpen(false);\n            } else {\n                console.error(\"[Turn Path] Path computation failed:\", result.error);\n                alert(`Failed to compute path: ${result.error || result.status}`);\n                resetSelection();\n                setIsDialogOpen(false);\n            }\n        } catch (error) {\n            console.error(\"[Turn Path] Error computing path:\", error);\n            alert(`Error: ${error.message}`);\n            resetSelection();\n            setIsDialogOpen(false);\n        }\n    }, [\n        resetSelection,\n        centerPoints,\n        getNearestCenterPoint\n    ]);\n    // Handle road click during selection\n    const handleMapClick = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((clickedEntity)=>{\n        const step = currentStepRef.current;\n        console.log(\"[Turn Path] handleMapClick called:\", {\n            currentStep: step,\n            hasEntity: !!clickedEntity,\n            hasViewer: !!cesiumViewerRef.current\n        });\n        if (!cesiumViewerRef.current || !clickedEntity) {\n            console.log(\"[Turn Path] Missing viewer or entity\");\n            return;\n        }\n        // If we already have a source and we're still in selecting_source, block double-click\n        if (step === \"selecting_source\" && selectedSourceRoadRef.current) {\n            console.log(\"[Turn Path] Source already selected\");\n            return;\n        }\n        const Cesium = window.Cesium;\n        // Extract road/segment IDs\n        const roadId = getEntityProperty(clickedEntity, \"road_oid\") || getEntityProperty(clickedEntity, \"road_id\") || getEntityProperty(clickedEntity, \"roadId\") || getEntityProperty(clickedEntity, \"road_oid_int\") || getEntityProperty(clickedEntity, \"roadOid\");\n        const segmentId = getEntityProperty(clickedEntity, \"segment_id\") || getEntityProperty(clickedEntity, \"lane_id\") || getEntityProperty(clickedEntity, \"parent_lane_id\");\n        const name = getEntityProperty(clickedEntity, \"road_name\") || getEntityProperty(clickedEntity, \"name\") || `road_${roadId}`;\n        if (!roadId) {\n            console.log(\"[Turn Path] Clicked entity has no road_id\");\n            return;\n        }\n        // If selecting source\n        if (step === \"selecting_source\") {\n            highlightEntities(clickedEntity, Cesium.Color.GREEN);\n            selectedSourceRoadRef.current = {\n                road_id: roadId,\n                segment_id: segmentId,\n                name,\n                entity: clickedEntity,\n                connections: extractRoadConnections(clickedEntity)\n            };\n            setSelectedSourceRoad(selectedSourceRoadRef.current);\n            setCurrentStep(\"selecting_destination\");\n            return;\n        }\n        // If selecting destination\n        if (step === \"selecting_destination\") {\n            // prevent same road\n            if (String(roadId) === String(selectedSourceRoadRef.current?.road_id)) {\n                alert(\"Please pick a different road as destination.\");\n                return;\n            }\n            highlightEntities(clickedEntity, Cesium.Color.RED);\n            selectedDestinationRoadRef.current = {\n                road_id: roadId,\n                segment_id: segmentId,\n                name,\n                entity: clickedEntity,\n                connections: extractRoadConnections(clickedEntity)\n            };\n            setSelectedDestinationRoad(selectedDestinationRoadRef.current);\n            // Compute\n            computeTurnPath(selectedSourceRoadRef.current, selectedDestinationRoadRef.current);\n        }\n    }, [\n        computeTurnPath\n    ]);\n    const highlightEntities = (entity, color)=>{\n        const Cesium = window.Cesium;\n        const apply = (ent)=>{\n            if (ent.polygon) {\n                if (!ent._originalMaterial) ent._originalMaterial = ent.polygon.material;\n                ent.polygon.material = color.withAlpha(0.25);\n                ent.polygon.outline = true;\n                ent.polygon.outlineColor = Cesium.Color.WHITE.withAlpha(0.9);\n            }\n            if (ent.polyline) {\n                if (!ent._originalMaterial) ent._originalMaterial = ent.polyline.material;\n                if (!ent._originalWidth) ent._originalWidth = ent.polyline.width;\n                ent.polyline.material = color.withAlpha(0.9);\n                ent.polyline.width = (ent.polyline.width || 2) * 1.6;\n            }\n            if (ent.corridor) {\n                if (!ent._originalMaterial) ent._originalMaterial = ent.corridor.material;\n                ent.corridor.material = color.withAlpha(0.35);\n                ent.corridor.outlineColor = Cesium.Color.WHITE.withAlpha(0.8);\n            }\n        };\n        if (entity._sourceForTurnPath) {\n            // already processed\n            apply(entity);\n            return;\n        }\n        apply(entity);\n        entity._sourceForTurnPath = true;\n    };\n    const openDialog = ()=>{\n        setIsDialogOpen(true);\n        setCurrentStep(\"profile\");\n    };\n    const closeDialog = ()=>{\n        setIsDialogOpen(false);\n        if (currentStep !== \"showing_path\") {\n            resetSelection();\n        }\n    };\n    const startSelection = (config)=>{\n        console.log(\"[Turn Path] startSelection called with config:\", config);\n        setPathConfig(config);\n        setIsDialogOpen(false);\n        setCurrentStep(\"selecting_source\");\n    };\n    return {\n        // dialog\n        isDialogOpen,\n        openDialog,\n        closeDialog,\n        startSelection,\n        currentStep,\n        getCurrentStep,\n        // selection\n        selectedSourceRoad,\n        selectedDestinationRoad,\n        getSelectedSourceRoad,\n        getSelectedDestinationRoad,\n        handleMapClick,\n        // data\n        vehicleProfiles,\n        // path\n        computedPath,\n        warning,\n        resetSelection\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RUFBRTtZQUM3QixvQkFBb0I7WUFDcEJOLE1BQU1ySztZQUNOO1FBQ0Y7UUFFQXFLLE1BQU1ySztRQUNOQSxPQUFPMkssa0JBQWtCLEdBQUc7SUFDOUI7SUFFQSxNQUFNQyxhQUFhO1FBQ2pCaE0sZ0JBQWdCO1FBQ2hCRSxlQUFlO0lBQ2pCO0lBRUEsTUFBTW1FLGNBQWM7UUFDbEJyRSxnQkFBZ0I7UUFDaEIsSUFBSUMsZ0JBQWdCLGdCQUFnQjtZQUNsQ3lDO1FBQ0Y7SUFDRjtJQUVBLE1BQU11SixpQkFBaUIsQ0FBQ2xEO1FBQ3RCOUUsUUFBUW1GLEdBQUcsQ0FBQyxrREFBa0RMO1FBQzlEekksY0FBY3lJO1FBQ2QvSSxnQkFBZ0I7UUFDaEJFLGVBQWU7SUFDakI7SUFFQSxPQUFPO1FBQ0wsU0FBUztRQUNUSDtRQUNBaU07UUFDQTNIO1FBQ0E0SDtRQUNBaE07UUFDQXNDO1FBQ0EsWUFBWTtRQUNaaEM7UUFDQUU7UUFDQStCO1FBQ0FDO1FBQ0FvSTtRQUNBLE9BQU87UUFDUDFLO1FBQ0EsT0FBTztRQUNQUTtRQUNBRTtRQUNBNkI7SUFDRjtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY29tYmluZWQtdWkvLi9jb21wb25lbnRzL3VzZVR1cm5QYXRoTWFuYWdlci5qcz8yMDA5Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QsIHVzZUNhbGxiYWNrLCB1c2VSZWYgfSBmcm9tICdyZWFjdCc7XHJcblxyXG4vKipcclxuICogSG9vayBmb3IgbWFuYWdpbmcgdHVybiBwYXRoIGNvbXB1dGF0aW9uIHdvcmtmbG93XHJcbiAqIEhhbmRsZXMgc3RhdGUsIHJvYWQgc2VsZWN0aW9uLCBBUEkgY2FsbHMsIGFuZCBwYXRoIHJlbmRlcmluZ1xyXG4gKi9cclxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gdXNlVHVyblBhdGhNYW5hZ2VyKGNlc2l1bVZpZXdlclJlZiwgY2VudGVyUG9pbnRzID0gW10pIHtcclxuICBjb25zdCBbaXNEaWFsb2dPcGVuLCBzZXRJc0RpYWxvZ09wZW5dID0gdXNlU3RhdGUoZmFsc2UpO1xyXG4gIGNvbnN0IFtjdXJyZW50U3RlcCwgc2V0Q3VycmVudFN0ZXBdID0gdXNlU3RhdGUoJ3Byb2ZpbGUnKTsgLy8gcHJvZmlsZSwgc2VsZWN0aW5nX3NvdXJjZSwgc2VsZWN0aW5nX2Rlc3RpbmF0aW9uLCBjb21wdXRpbmcsIHNob3dpbmdfcGF0aFxyXG4gIGNvbnN0IFt2ZWhpY2xlUHJvZmlsZXMsIHNldFZlaGljbGVQcm9maWxlc10gPSB1c2VTdGF0ZSh7fSk7XHJcbiAgY29uc3QgW3BhdGhDb25maWcsIHNldFBhdGhDb25maWddID0gdXNlU3RhdGUobnVsbCk7XHJcbiAgY29uc3QgW3NlbGVjdGVkU291cmNlUm9hZCwgc2V0U2VsZWN0ZWRTb3VyY2VSb2FkXSA9IHVzZVN0YXRlKG51bGwpO1xyXG4gIGNvbnN0IFtzZWxlY3RlZERlc3RpbmF0aW9uUm9hZCwgc2V0U2VsZWN0ZWREZXN0aW5hdGlvblJvYWRdID0gdXNlU3RhdGUobnVsbCk7XHJcbiAgY29uc3QgW2NvbXB1dGVkUGF0aCwgc2V0Q29tcHV0ZWRQYXRoXSA9IHVzZVN0YXRlKG51bGwpO1xyXG4gIGNvbnN0IFt3YXJuaW5nLCBzZXRXYXJuaW5nXSA9IHVzZVN0YXRlKG51bGwpO1xyXG5cclxuICAvLyBSZWZzIHRvIGV4cG9zZSBsYXRlc3Qgc3RhdGUgdG8gQ2VzaXVtIGV2ZW50IGhhbmRsZXJzXHJcbiAgY29uc3QgY3VycmVudFN0ZXBSZWYgPSB1c2VSZWYoY3VycmVudFN0ZXApO1xyXG4gIGNvbnN0IHNlbGVjdGVkU291cmNlUm9hZFJlZiA9IHVzZVJlZihzZWxlY3RlZFNvdXJjZVJvYWQpO1xyXG4gIGNvbnN0IHNlbGVjdGVkRGVzdGluYXRpb25Sb2FkUmVmID0gdXNlUmVmKHNlbGVjdGVkRGVzdGluYXRpb25Sb2FkKTtcclxuICBjb25zdCBwYXRoQ29uZmlnUmVmID0gdXNlUmVmKHBhdGhDb25maWcpO1xyXG5cclxuICBjb25zdCBnZXRFbnRpdHlQcm9wZXJ0eSA9IChlbnRpdHksIGtleSkgPT4ge1xyXG4gICAgaWYgKCFlbnRpdHk/LnByb3BlcnRpZXMpIHJldHVybiBudWxsO1xyXG4gICAgY29uc3QgcHJvcCA9IGVudGl0eS5wcm9wZXJ0aWVzW2tleV07XHJcbiAgICBpZiAocHJvcCA9PT0gdW5kZWZpbmVkIHx8IHByb3AgPT09IG51bGwpIHJldHVybiBudWxsO1xyXG4gICAgcmV0dXJuIHR5cGVvZiBwcm9wLmdldFZhbHVlID09PSAnZnVuY3Rpb24nID8gcHJvcC5nZXRWYWx1ZSgpIDogcHJvcDtcclxuICB9O1xyXG5cclxuICBjb25zdCBleHRyYWN0Um9hZENvbm5lY3Rpb25zID0gKGVudGl0eSkgPT4ge1xyXG4gICAgaWYgKCFlbnRpdHk/LnByb3BlcnRpZXMpIHJldHVybiBbXTtcclxuXHJcbiAgICBjb25zdCBwb3NzaWJsZUtleXMgPSBbXHJcbiAgICAgICdmcm9tX2xvY2F0aW9uX25hbWUnLFxyXG4gICAgICAndG9fbG9jYXRpb25fbmFtZScsXHJcbiAgICAgICdmcm9tX2xvY2F0aW9uJyxcclxuICAgICAgJ3RvX2xvY2F0aW9uJyxcclxuICAgICAgJ2Zyb21faW50ZXJzZWN0aW9uJyxcclxuICAgICAgJ3RvX2ludGVyc2VjdGlvbicsXHJcbiAgICAgICdzdGFydF9sb2NhdGlvbl9uYW1lJyxcclxuICAgICAgJ2VuZF9sb2NhdGlvbl9uYW1lJyxcclxuICAgIF07XHJcblxyXG4gICAgY29uc3QgdmFsdWVzID0gcG9zc2libGVLZXlzXHJcbiAgICAgIC5tYXAoKGtleSkgPT4gZ2V0RW50aXR5UHJvcGVydHkoZW50aXR5LCBrZXkpKVxyXG4gICAgICAuZmlsdGVyKCh2YWwpID0+IHR5cGVvZiB2YWwgPT09ICdzdHJpbmcnICYmIHZhbC50cmltKCkubGVuZ3RoID4gMCk7XHJcblxyXG4gICAgcmV0dXJuIEFycmF5LmZyb20obmV3IFNldCh2YWx1ZXMubWFwKCh2KSA9PiB2LnRyaW0oKSkpKTtcclxuICB9O1xyXG5cclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgY3VycmVudFN0ZXBSZWYuY3VycmVudCA9IGN1cnJlbnRTdGVwO1xyXG4gIH0sIFtjdXJyZW50U3RlcF0pO1xyXG5cclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgc2VsZWN0ZWRTb3VyY2VSb2FkUmVmLmN1cnJlbnQgPSBzZWxlY3RlZFNvdXJjZVJvYWQ7XHJcbiAgfSwgW3NlbGVjdGVkU291cmNlUm9hZF0pO1xyXG5cclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgc2VsZWN0ZWREZXN0aW5hdGlvblJvYWRSZWYuY3VycmVudCA9IHNlbGVjdGVkRGVzdGluYXRpb25Sb2FkO1xyXG4gIH0sIFtzZWxlY3RlZERlc3RpbmF0aW9uUm9hZF0pO1xyXG5cclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgcGF0aENvbmZpZ1JlZi5jdXJyZW50ID0gcGF0aENvbmZpZztcclxuICB9LCBbcGF0aENvbmZpZ10pO1xyXG5cclxuICBjb25zdCBnZXRDdXJyZW50U3RlcCA9ICgpID0+IGN1cnJlbnRTdGVwUmVmLmN1cnJlbnQ7XHJcbiAgY29uc3QgZ2V0U2VsZWN0ZWRTb3VyY2VSb2FkID0gKCkgPT4gc2VsZWN0ZWRTb3VyY2VSb2FkUmVmLmN1cnJlbnQ7XHJcbiAgY29uc3QgZ2V0U2VsZWN0ZWREZXN0aW5hdGlvblJvYWQgPSAoKSA9PiBzZWxlY3RlZERlc3RpbmF0aW9uUm9hZFJlZi5jdXJyZW50O1xyXG5cclxuICAvLyBSZXNldCBzZWxlY3Rpb24gc3RhdGUgKHVzZSByZWZzIHNvIENlc2l1bSBoYW5kbGVycyBhbHdheXMgc2VlIGxhdGVzdCBzZWxlY3Rpb24pXHJcbiAgY29uc3QgcmVzZXRTZWxlY3Rpb24gPSB1c2VDYWxsYmFjaygoKSA9PiB7XHJcbiAgICBjb25zdCByZXN0b3JlRW50aXR5TWF0ZXJpYWwgPSAoZW50aXR5KSA9PiB7XHJcbiAgICAgIGlmICghZW50aXR5KSByZXR1cm47XHJcbiAgICAgIGlmIChlbnRpdHkucG9seWdvbikge1xyXG4gICAgICAgIGlmIChlbnRpdHkuX29yaWdpbmFsTWF0ZXJpYWwpIHtcclxuICAgICAgICAgIGVudGl0eS5wb2x5Z29uLm1hdGVyaWFsID0gZW50aXR5Ll9vcmlnaW5hbE1hdGVyaWFsO1xyXG4gICAgICAgICAgZGVsZXRlIGVudGl0eS5fb3JpZ2luYWxNYXRlcmlhbDtcclxuICAgICAgICB9XHJcbiAgICAgIH0gZWxzZSBpZiAoZW50aXR5LnBvbHlsaW5lKSB7XHJcbiAgICAgICAgaWYgKGVudGl0eS5fb3JpZ2luYWxNYXRlcmlhbCkge1xyXG4gICAgICAgICAgZW50aXR5LnBvbHlsaW5lLm1hdGVyaWFsID0gZW50aXR5Ll9vcmlnaW5hbE1hdGVyaWFsO1xyXG4gICAgICAgICAgZGVsZXRlIGVudGl0eS5fb3JpZ2luYWxNYXRlcmlhbDtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGVudGl0eS5fb3JpZ2luYWxXaWR0aCkge1xyXG4gICAgICAgICAgZW50aXR5LnBvbHlsaW5lLndpZHRoID0gZW50aXR5Ll9vcmlnaW5hbFdpZHRoO1xyXG4gICAgICAgICAgZGVsZXRlIGVudGl0eS5fb3JpZ2luYWxXaWR0aDtcclxuICAgICAgICB9XHJcbiAgICAgIH0gZWxzZSBpZiAoZW50aXR5LmNvcnJpZG9yKSB7XHJcbiAgICAgICAgaWYgKGVudGl0eS5fb3JpZ2luYWxNYXRlcmlhbCkge1xyXG4gICAgICAgICAgZW50aXR5LmNvcnJpZG9yLm1hdGVyaWFsID0gZW50aXR5Ll9vcmlnaW5hbE1hdGVyaWFsO1xyXG4gICAgICAgICAgZGVsZXRlIGVudGl0eS5fb3JpZ2luYWxNYXRlcmlhbDtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgY29uc3QgcmVzdG9yZUFsbCA9IChzZWxlY3Rpb24pID0+IHtcclxuICAgICAgaWYgKCFzZWxlY3Rpb24pIHJldHVybjtcclxuICAgICAgaWYgKEFycmF5LmlzQXJyYXkoc2VsZWN0aW9uLmVudGl0aWVzKSkge1xyXG4gICAgICAgIHNlbGVjdGlvbi5lbnRpdGllcy5mb3JFYWNoKHJlc3RvcmVFbnRpdHlNYXRlcmlhbCk7XHJcbiAgICAgIH0gZWxzZSBpZiAoc2VsZWN0aW9uLmVudGl0eSkge1xyXG4gICAgICAgIHJlc3RvcmVFbnRpdHlNYXRlcmlhbChzZWxlY3Rpb24uZW50aXR5KTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICByZXN0b3JlQWxsKHNlbGVjdGVkU291cmNlUm9hZFJlZi5jdXJyZW50KTtcclxuICAgIHJlc3RvcmVBbGwoc2VsZWN0ZWREZXN0aW5hdGlvblJvYWRSZWYuY3VycmVudCk7XHJcblxyXG4gICAgc2VsZWN0ZWRTb3VyY2VSb2FkUmVmLmN1cnJlbnQgPSBudWxsO1xyXG4gICAgc2V0U2VsZWN0ZWRTb3VyY2VSb2FkKG51bGwpO1xyXG4gICAgc2V0U2VsZWN0ZWREZXN0aW5hdGlvblJvYWQobnVsbCk7XHJcbiAgICBzZXRDb21wdXRlZFBhdGgobnVsbCk7XHJcbiAgICBzZXRXYXJuaW5nKG51bGwpO1xyXG4gICAgc2V0Q3VycmVudFN0ZXAoJ3Byb2ZpbGUnKTtcclxuICB9LCBbXSk7XHJcblxyXG4gIC8vIExvYWQgdmVoaWNsZSBwcm9maWxlcyBvbiBtb3VudFxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBmZXRjaCgnL2FwaS92ZWhpY2xlLXByb2ZpbGVzJylcclxuICAgICAgLnRoZW4oKHJlcykgPT4gcmVzLmpzb24oKSlcclxuICAgICAgLnRoZW4oKGRhdGEpID0+IHtcclxuICAgICAgICBpZiAoZGF0YS5zdGF0dXMgPT09ICdvaycpIHtcclxuICAgICAgICAgIHNldFZlaGljbGVQcm9maWxlcyhkYXRhLnByb2ZpbGVzKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pXHJcbiAgICAgIC5jYXRjaCgoZXJyKSA9PiBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gbG9hZCB2ZWhpY2xlIHByb2ZpbGVzOicsIGVycikpO1xyXG4gIH0sIFtdKTtcclxuXHJcbiAgLy8gSGFuZGxlIEVTQyBrZXkgZ2xvYmFsbHkgZHVyaW5nIHR1cm4gcGF0aCB3b3JrZmxvd1xyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBjb25zdCBoYW5kbGVLZXlEb3duID0gKGUpID0+IHtcclxuICAgICAgaWYgKGUua2V5ID09PSAnRXNjYXBlJykge1xyXG4gICAgICAgIGlmIChpc0RpYWxvZ09wZW4pIHtcclxuICAgICAgICAgIGNsb3NlRGlhbG9nKCk7XHJcbiAgICAgICAgfSBlbHNlIGlmIChjb21wdXRlZFBhdGgpIHtcclxuICAgICAgICAgIHJlc2V0U2VsZWN0aW9uKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIGlmIChpc0RpYWxvZ09wZW4gfHwgY29tcHV0ZWRQYXRoKSB7XHJcbiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgaGFuZGxlS2V5RG93bik7XHJcbiAgICAgIHJldHVybiAoKSA9PiB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGhhbmRsZUtleURvd24pO1xyXG4gICAgfVxyXG4gIH0sIFtpc0RpYWxvZ09wZW4sIGNvbXB1dGVkUGF0aF0pOyAvLyByZXNldFNlbGVjdGlvbiBjbG9zZWQgb3ZlciBzYWZlbHlcclxuXHJcbiAgLy8gRmluZCBzaGFyZWQgaW50ZXJzZWN0aW9uIGJldHdlZW4gdHdvIHJvYWRzICh1c2luZyBzaWRlLWNlbnRlciBtYXJrZXJzKVxyXG4gIGNvbnN0IGZpbmRTaGFyZWRJbnRlcnNlY3Rpb24gPSBhc3luYyAocm9hZElkMSwgcm9hZElkMiwgc2VnSWQxLCBzZWdJZDIpID0+IHtcclxuICAgIGNvbnN0IGlkc0VxdWFsID0gKGEsIGIpID0+IFN0cmluZyhhKSA9PT0gU3RyaW5nKGIpO1xyXG4gICAgY29uc3QgcjEgPSBTdHJpbmcocm9hZElkMSk7XHJcbiAgICBjb25zdCByMiA9IFN0cmluZyhyb2FkSWQyKTtcclxuXHJcbiAgICAvLyBVc2UgaW50ZXJzZWN0aW9uX2NlbnRlcl9wb2ludHMgb25seSAobWFwX2xvY2F0aW9ucyB0YWJsZSBtaXNzaW5nKVxyXG4gICAgY29uc3QgdHJ5Q2VudGVyUG9pbnRzID0gYXN5bmMgKCkgPT4ge1xyXG4gICAgICBjb25zdCByZXMgPSBhd2FpdCBmZXRjaCgnL2FwaS9pbnRlcnNlY3Rpb25fY2VudGVyX3BvaW50cycpO1xyXG4gICAgICBpZiAoIXJlcy5vaykgcmV0dXJuIG51bGw7XHJcbiAgICAgIGNvbnN0IHJvd3MgPSBhd2FpdCByZXMuanNvbigpO1xyXG4gICAgICBjb25zdCBieVJvYWQgPSByb3dzLnJlZHVjZSgoYWNjLCByb3cpID0+IHtcclxuICAgICAgICBjb25zdCBrZXkgPSBTdHJpbmcocm93LnJvYWRfaWQpO1xyXG4gICAgICAgIGFjY1trZXldID0gYWNjW2tleV0gfHwgW107XHJcbiAgICAgICAgYWNjW2tleV0ucHVzaChyb3cpO1xyXG4gICAgICAgIHJldHVybiBhY2M7XHJcbiAgICAgIH0sIHt9KTtcclxuICAgICAgY29uc3QgbGlzdDEgPSBieVJvYWRbcjFdIHx8IFtdO1xyXG4gICAgICBjb25zdCBsaXN0MiA9IGJ5Um9hZFtyMl0gfHwgW107XHJcblxyXG4gICAgICAvLyBQcmVmZXIgZXhhY3Qgc2hhcmVkIGludGVyc2VjdGlvbl9pZCwgYmlhcyB0byBtYXRjaGluZyBzZWdtZW50X2lkXHJcbiAgICAgIGxldCBiZXN0ID0gbnVsbDtcclxuICAgICAgbGV0IGJlc3RTY29yZSA9IC0xO1xyXG4gICAgICBjb25zdCBzY29yZSA9IChyb3csIHNlbFNlZykgPT5cclxuICAgICAgICByb3cuc2VnbWVudF9pZCAmJiBzZWxTZWcgJiYgaWRzRXF1YWwocm93LnNlZ21lbnRfaWQsIHNlbFNlZykgPyAyIDogMTtcclxuICAgICAgZm9yIChjb25zdCBhIG9mIGxpc3QxKSB7XHJcbiAgICAgICAgZm9yIChjb25zdCBiIG9mIGxpc3QyKSB7XHJcbiAgICAgICAgICBpZiAoYS5pbnRlcnNlY3Rpb25faWQgIT09IGIuaW50ZXJzZWN0aW9uX2lkKSBjb250aW51ZTtcclxuICAgICAgICAgIGNvbnN0IHMgPSBzY29yZShhLCBzZWdJZDEpICsgc2NvcmUoYiwgc2VnSWQyKTtcclxuICAgICAgICAgIGlmIChzID4gYmVzdFNjb3JlKSB7XHJcbiAgICAgICAgICAgIGJlc3RTY29yZSA9IHM7XHJcbiAgICAgICAgICAgIGJlc3QgPSB7XHJcbiAgICAgICAgICAgICAgbmFtZTogYS5pbnRlcnNlY3Rpb25fbmFtZSB8fCBgaW50ZXJzZWN0aW9uXyR7YS5pbnRlcnNlY3Rpb25faWR9YCxcclxuICAgICAgICAgICAgICBpbnRlcnNlY3Rpb25faWQ6IGEuaW50ZXJzZWN0aW9uX2lkLFxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICBpZiAoYmVzdCkgcmV0dXJuIGJlc3Q7XHJcblxyXG4gICAgICAvLyBGYWxsYmFjazogbW9zdCBjb21tb24gaW50ZXJzZWN0aW9uIGZyb20gZWl0aGVyIGxpc3RcclxuICAgICAgY29uc3QgcGlja0ZhbGxiYWNrID0gKGxpc3QpID0+IHtcclxuICAgICAgICBpZiAoIWxpc3QubGVuZ3RoKSByZXR1cm4gbnVsbDtcclxuICAgICAgICBjb25zdCBjb3VudHMgPSBsaXN0LnJlZHVjZSgoYWNjLCByb3cpID0+IHtcclxuICAgICAgICAgIGFjY1tyb3cuaW50ZXJzZWN0aW9uX2lkXSA9IChhY2Nbcm93LmludGVyc2VjdGlvbl9pZF0gfHwgMCkgKyAxO1xyXG4gICAgICAgICAgcmV0dXJuIGFjYztcclxuICAgICAgICB9LCB7fSk7XHJcbiAgICAgICAgY29uc3QgdG9wSWQgPSBPYmplY3Qua2V5cyhjb3VudHMpLnNvcnQoKGEsIGIpID0+IGNvdW50c1tiXSAtIGNvdW50c1thXSlbMF07XHJcbiAgICAgICAgY29uc3Qgcm93ID0gbGlzdC5maW5kKChyKSA9PiBTdHJpbmcoci5pbnRlcnNlY3Rpb25faWQpID09PSBTdHJpbmcodG9wSWQpKTtcclxuICAgICAgICByZXR1cm4gcm93XHJcbiAgICAgICAgICA/IHsgbmFtZTogcm93LmludGVyc2VjdGlvbl9uYW1lIHx8IGBpbnRlcnNlY3Rpb25fJHtyb3cuaW50ZXJzZWN0aW9uX2lkfWAsIGludGVyc2VjdGlvbl9pZDogcm93LmludGVyc2VjdGlvbl9pZCB9XHJcbiAgICAgICAgICA6IG51bGw7XHJcbiAgICAgIH07XHJcbiAgICAgIHJldHVybiBwaWNrRmFsbGJhY2sobGlzdDEpIHx8IHBpY2tGYWxsYmFjayhsaXN0MikgfHwgbnVsbDtcclxuICAgIH07XHJcblxyXG4gICAgdHJ5IHtcclxuICAgICAgcmV0dXJuIGF3YWl0IHRyeUNlbnRlclBvaW50cygpO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcignW1R1cm4gUGF0aF0gRXJyb3IgZmluZGluZyBpbnRlcnNlY3Rpb246JywgZXJyb3IpO1xyXG4gICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICBjb25zdCBmaW5kU2hhcmVkRW5kcG9pbnRGcm9tU2VsZWN0aW9ucyA9IChzb3VyY2UsIGRlc3RpbmF0aW9uKSA9PiB7XHJcbiAgICBjb25zdCBzb3VyY2VDb25uZWN0aW9ucyA9IHNvdXJjZT8uY29ubmVjdGlvbnM/Lmxlbmd0aFxyXG4gICAgICA/IHNvdXJjZS5jb25uZWN0aW9uc1xyXG4gICAgICA6IGV4dHJhY3RSb2FkQ29ubmVjdGlvbnMoc291cmNlPy5lbnRpdHkpO1xyXG5cclxuICAgIGNvbnN0IGRlc3RpbmF0aW9uQ29ubmVjdGlvbnMgPSBkZXN0aW5hdGlvbj8uY29ubmVjdGlvbnM/Lmxlbmd0aFxyXG4gICAgICA/IGRlc3RpbmF0aW9uLmNvbm5lY3Rpb25zXHJcbiAgICAgIDogZXh0cmFjdFJvYWRDb25uZWN0aW9ucyhkZXN0aW5hdGlvbj8uZW50aXR5KTtcclxuXHJcbiAgICBpZiAoIXNvdXJjZUNvbm5lY3Rpb25zIHx8ICFkZXN0aW5hdGlvbkNvbm5lY3Rpb25zKSByZXR1cm4gbnVsbDtcclxuXHJcbiAgICByZXR1cm4gc291cmNlQ29ubmVjdGlvbnMuZmluZCgoY29ubikgPT4gZGVzdGluYXRpb25Db25uZWN0aW9ucy5pbmNsdWRlcyhjb25uKSkgfHwgbnVsbDtcclxuICB9O1xyXG5cclxuICAvLyBIZWxwZXI6IGZpbmQgbmVhcmVzdCBjZW50ZXIgcG9pbnQgZm9yIGEgZ2l2ZW4gcm9hZF9pZFxyXG4gIGNvbnN0IGdldE5lYXJlc3RDZW50ZXJQb2ludCA9IHVzZUNhbGxiYWNrKFxyXG4gICAgKHJvYWRJZCkgPT4ge1xyXG4gICAgICBpZiAoIWNlbnRlclBvaW50cyB8fCBjZW50ZXJQb2ludHMubGVuZ3RoID09PSAwKSByZXR1cm4gbnVsbDtcclxuICAgICAgaWYgKHJvYWRJZCAhPSBudWxsKSB7XHJcbiAgICAgICAgY29uc3QgbWF0Y2hlcyA9IGNlbnRlclBvaW50cy5maWx0ZXIoKHApID0+IFN0cmluZyhwLnJvYWRfaWQpID09PSBTdHJpbmcocm9hZElkKSk7XHJcbiAgICAgICAgaWYgKG1hdGNoZXMubGVuZ3RoID4gMCkgcmV0dXJuIG1hdGNoZXNbMF07XHJcbiAgICAgIH1cclxuICAgICAgLy8gRmFsbGJhY2s6IHJldHVybiBmaXJzdCBhdmFpbGFibGUgY2VudGVyIHBvaW50IHRvIGF2b2lkIG51bGxzXHJcbiAgICAgIHJldHVybiBjZW50ZXJQb2ludHNbMF07XHJcbiAgICB9LFxyXG4gICAgW2NlbnRlclBvaW50c11cclxuICApO1xyXG5cclxuICAvLyBIZWxwZXI6IHNpbXBsZSBoYXZlcnNpbmUgZGlzdGFuY2UgaW4gbWV0ZXJzXHJcbiAgY29uc3QgaGF2ZXJzaW5lTWV0ZXJzID0gKGxvbjEsIGxhdDEsIGxvbjIsIGxhdDIpID0+IHtcclxuICAgIGNvbnN0IFIgPSA2MzcxMDAwO1xyXG4gICAgY29uc3QgdG9SYWQgPSAoZCkgPT4gKGQgKiBNYXRoLlBJKSAvIDE4MDtcclxuICAgIGNvbnN0IGRMYXQgPSB0b1JhZChsYXQyIC0gbGF0MSk7XHJcbiAgICBjb25zdCBkTG9uID0gdG9SYWQobG9uMiAtIGxvbjEpO1xyXG4gICAgY29uc3QgYSA9XHJcbiAgICAgIE1hdGguc2luKGRMYXQgLyAyKSAqIE1hdGguc2luKGRMYXQgLyAyKSArXHJcbiAgICAgIE1hdGguY29zKHRvUmFkKGxhdDEpKSAqIE1hdGguY29zKHRvUmFkKGxhdDIpKSAqIE1hdGguc2luKGRMb24gLyAyKSAqIE1hdGguc2luKGRMb24gLyAyKTtcclxuICAgIGNvbnN0IGMgPSAyICogTWF0aC5hdGFuMihNYXRoLnNxcnQoYSksIE1hdGguc3FydCgxIC0gYSkpO1xyXG4gICAgcmV0dXJuIFIgKiBjO1xyXG4gIH07XHJcblxyXG4gIC8vIENvbXB1dGUgdHVybiBwYXRoIHZpYSBBUElcclxuICBjb25zdCBjb21wdXRlVHVyblBhdGggPSB1c2VDYWxsYmFjayhcclxuICAgIGFzeW5jIChzb3VyY2UsIGRlc3RpbmF0aW9uKSA9PiB7XHJcbiAgICAgIGNvbnN0IGNvbmZpZyA9IHBhdGhDb25maWdSZWYuY3VycmVudDtcclxuXHJcbiAgICAgIGlmICghY29uZmlnIHx8ICFzb3VyY2UgfHwgIWRlc3RpbmF0aW9uKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcignW1R1cm4gUGF0aF0gTWlzc2luZyByZXF1aXJlZCBkYXRhIGZvciBjb21wdXRhdGlvbicsIHtcclxuICAgICAgICAgIGNvbmZpZyxcclxuICAgICAgICAgIHNvdXJjZSxcclxuICAgICAgICAgIGRlc3RpbmF0aW9uLFxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBpZiAoIXNvdXJjZSkge1xyXG4gICAgICAgICAgYWxlcnQoJ1BsZWFzZSBzZWxlY3QgdGhlIHN0YXJ0aW5nIHJvYWQgZmlyc3QuJyk7XHJcbiAgICAgICAgICBzZXRDdXJyZW50U3RlcCgnc2VsZWN0aW5nX3NvdXJjZScpO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoIWRlc3RpbmF0aW9uKSB7XHJcbiAgICAgICAgICBhbGVydCgnUGxlYXNlIHNlbGVjdCB0aGUgZGVzdGluYXRpb24gcm9hZC4nKTtcclxuICAgICAgICAgIHNldEN1cnJlbnRTdGVwKCdzZWxlY3RpbmdfZGVzdGluYXRpb24nKTtcclxuICAgICAgICB9IGVsc2UgaWYgKCFjb25maWcpIHtcclxuICAgICAgICAgIGFsZXJ0KCdWZWhpY2xlIHNldHRpbmdzIG5vdCByZWFkeSB5ZXQuIFBsZWFzZSB3YWl0IGEgbW9tZW50IGFuZCB0cnkgYWdhaW4uJyk7XHJcbiAgICAgICAgICBzZXRDdXJyZW50U3RlcCgncHJvZmlsZScpO1xyXG4gICAgICAgICAgc2V0SXNEaWFsb2dPcGVuKHRydWUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHNldEN1cnJlbnRTdGVwKCdjb21wdXRpbmcnKTtcclxuXHJcbiAgICAgIHRyeSB7XHJcbiAgICAgICAgLy8gRmluZCBzaGFyZWQgaW50ZXJzZWN0aW9uXHJcbiAgICAgICAgbGV0IGludGVyc2VjdGlvbiA9IGF3YWl0IGZpbmRTaGFyZWRJbnRlcnNlY3Rpb24oXHJcbiAgICAgICAgICBzb3VyY2Uucm9hZF9pZCxcclxuICAgICAgICAgIGRlc3RpbmF0aW9uLnJvYWRfaWQsXHJcbiAgICAgICAgICBzb3VyY2Uuc2VnbWVudF9pZCxcclxuICAgICAgICAgIGRlc3RpbmF0aW9uLnNlZ21lbnRfaWRcclxuICAgICAgICApO1xyXG5cclxuICAgICAgICBpZiAoIWludGVyc2VjdGlvbikge1xyXG4gICAgICAgICAgY29uc3Qgc2hhcmVkRW5kcG9pbnQgPSBmaW5kU2hhcmVkRW5kcG9pbnRGcm9tU2VsZWN0aW9ucyhzb3VyY2UsIGRlc3RpbmF0aW9uKTtcclxuICAgICAgICAgIGlmIChzaGFyZWRFbmRwb2ludCkge1xyXG4gICAgICAgICAgICBpbnRlcnNlY3Rpb24gPSB7IG5hbWU6IHNoYXJlZEVuZHBvaW50IH07XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoIWludGVyc2VjdGlvbikge1xyXG4gICAgICAgICAgY29uc29sZS53YXJuKCdbVHVybiBQYXRoXSBObyBzaGFyZWQgaW50ZXJzZWN0aW9uOyBwcm9jZWVkaW5nIHdpdGhvdXQgaW50ZXJzZWN0aW9uIG5hbWUnKTtcclxuICAgICAgICAgIGludGVyc2VjdGlvbiA9IHsgbmFtZTogbnVsbCB9O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc29sZS5sb2coJ1tUdXJuIFBhdGhdIENvbXB1dGluZyBwYXRoOicsIHtcclxuICAgICAgICAgIGZyb206IHNvdXJjZS5yb2FkX2lkLFxyXG4gICAgICAgICAgdG86IGRlc3RpbmF0aW9uLnJvYWRfaWQsXHJcbiAgICAgICAgICBpbnRlcnNlY3Rpb246IGludGVyc2VjdGlvbi5uYW1lLFxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBjb25zdCBwYXlsb2FkID0ge1xyXG4gICAgICAgICAgZnJvbV9yb2FkX2lkOiBzb3VyY2Uucm9hZF9pZCxcclxuICAgICAgICAgIHRvX3JvYWRfaWQ6IGRlc3RpbmF0aW9uLnJvYWRfaWQsXHJcbiAgICAgICAgICBpbnRlcnNlY3Rpb25fbmFtZTogaW50ZXJzZWN0aW9uLm5hbWUgfHwgJ3Vua25vd25faW50ZXJzZWN0aW9uJyxcclxuICAgICAgICAgIC4uLmNvbmZpZyxcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBpZiAoaW50ZXJzZWN0aW9uLmZyb21fbWFya2VyX29pZCAmJiBpbnRlcnNlY3Rpb24udG9fbWFya2VyX29pZCkge1xyXG4gICAgICAgICAgcGF5bG9hZC5mcm9tX21hcmtlcl9vaWQgPSBpbnRlcnNlY3Rpb24uZnJvbV9tYXJrZXJfb2lkO1xyXG4gICAgICAgICAgcGF5bG9hZC50b19tYXJrZXJfb2lkID0gaW50ZXJzZWN0aW9uLnRvX21hcmtlcl9vaWQ7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKCcvYXBpL3R1cm4tcGF0aCcsIHtcclxuICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxyXG4gICAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXHJcbiAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShwYXlsb2FkKSxcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xyXG5cclxuICAgICAgICBpZiAocmVzdWx0LnN0YXR1cyA9PT0gJ29rJykge1xyXG4gICAgICAgICAgY29uc29sZS5sb2coJ1tUdXJuIFBhdGhdIFBhdGggY29tcHV0ZWQgc3VjY2Vzc2Z1bGx5OicsIHJlc3VsdCk7XHJcblxyXG4gICAgICAgICAgc2V0Q29tcHV0ZWRQYXRoKHJlc3VsdCk7XHJcbiAgICAgICAgICBzZXRXYXJuaW5nKG51bGwpO1xyXG5cclxuICAgICAgICAgIGNvbnN0IGNsZWFyYW5jZU1zZyA9IHJlc3VsdC5jbGVhcmFuY2UudmVoaWNsZV9lbnZlbG9wZV9va1xyXG4gICAgICAgICAgICA/ICfinIUgVmVoaWNsZSBjbGVhcmFuY2UgT0snXHJcbiAgICAgICAgICAgIDogYOKaoO+4jyBWZWhpY2xlIGV4dGVuZHMgJHtyZXN1bHQuY2xlYXJhbmNlLm91dHNpZGVfYXJlYV9zcW0udG9GaXhlZChcclxuICAgICAgICAgICAgICAxXHJcbiAgICAgICAgICAgICl9IG3CsiBvdXRzaWRlIGludGVyc2VjdGlvbmA7XHJcblxyXG4gICAgICAgICAgY29uc29sZS5sb2coXHJcbiAgICAgICAgICAgIGBbVHVybiBQYXRoXSBsZW5ndGg9JHtyZXN1bHQucGF0aC5sZW5ndGhfbS50b0ZpeGVkKFxyXG4gICAgICAgICAgICAgIDFcclxuICAgICAgICAgICAgKX1tLCB0eXBlPSR7cmVzdWx0LnBhdGgucGF0aF90eXBlfSwgJHtjbGVhcmFuY2VNc2d9YFxyXG4gICAgICAgICAgKTtcclxuXHJcbiAgICAgICAgICBzZXRDdXJyZW50U3RlcCgnc2hvd2luZ19wYXRoJyk7XHJcbiAgICAgICAgICBzZXRJc0RpYWxvZ09wZW4oZmFsc2UpO1xyXG4gICAgICAgIH0gZWxzZSBpZiAocmVzdWx0LnN0YXR1cyA9PT0gJ2VudmVsb3BlX291dHNpZGVfaW50ZXJzZWN0aW9uJykge1xyXG4gICAgICAgICAgY29uc29sZS53YXJuKCdbVHVybiBQYXRoXSBFbnZlbG9wZSBsZWFrcyBvdXRzaWRlIGludGVyc2VjdGlvbjonLCByZXN1bHQuY2xlYXJhbmNlKTtcclxuICAgICAgICAgIGNvbnN0IGxlYWsgPSByZXN1bHQuY2xlYXJhbmNlPy5vdXRzaWRlX2FyZWFfc3FtO1xyXG5cclxuICAgICAgICAgIGNvbnN0IG1zZyA9XHJcbiAgICAgICAgICAgIGxlYWsgIT0gbnVsbFxyXG4gICAgICAgICAgICAgID8gYE5vIHZhbGlkIHR1cm4gcGF0aCBjYW4gYmUgZHJhd246IHZlaGljbGUgZW52ZWxvcGUgd291bGQgbGVhdmUgdGhlIGludGVyc2VjdGlvbiAob3V0c2lkZSBhcmVhIOKJiCAke2xlYWsudG9GaXhlZChcclxuICAgICAgICAgICAgICAgIDFcclxuICAgICAgICAgICAgICApfSBtwrIpLmBcclxuICAgICAgICAgICAgICA6ICdObyB2YWxpZCB0dXJuIHBhdGggY2FuIGJlIGRyYXduOiB2ZWhpY2xlIGVudmVsb3BlIHdvdWxkIGxlYXZlIHRoZSBpbnRlcnNlY3Rpb24uJztcclxuXHJcbiAgICAgICAgICBhbGVydChtc2cpO1xyXG5cclxuICAgICAgICAgIC8vIEhBUkQgRkFJTDogY2xlYXIgYW55IHBhdGggYW5kIHNlbGVjdGlvbiBzbyBub3RoaW5nIGlzIHJlbmRlcmVkXHJcbiAgICAgICAgICByZXNldFNlbGVjdGlvbigpO1xyXG4gICAgICAgICAgc2V0SXNEaWFsb2dPcGVuKGZhbHNlKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgY29uc29sZS5lcnJvcignW1R1cm4gUGF0aF0gUGF0aCBjb21wdXRhdGlvbiBmYWlsZWQ6JywgcmVzdWx0LmVycm9yKTtcclxuICAgICAgICAgIGFsZXJ0KGBGYWlsZWQgdG8gY29tcHV0ZSBwYXRoOiAke3Jlc3VsdC5lcnJvciB8fCByZXN1bHQuc3RhdHVzfWApO1xyXG4gICAgICAgICAgcmVzZXRTZWxlY3Rpb24oKTtcclxuICAgICAgICAgIHNldElzRGlhbG9nT3BlbihmYWxzZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tUdXJuIFBhdGhdIEVycm9yIGNvbXB1dGluZyBwYXRoOicsIGVycm9yKTtcclxuICAgICAgICBhbGVydChgRXJyb3I6ICR7ZXJyb3IubWVzc2FnZX1gKTtcclxuICAgICAgICByZXNldFNlbGVjdGlvbigpO1xyXG4gICAgICAgIHNldElzRGlhbG9nT3BlbihmYWxzZSk7XHJcbiAgICAgIH1cclxuICAgIH0sXHJcbiAgICBbcmVzZXRTZWxlY3Rpb24sIGNlbnRlclBvaW50cywgZ2V0TmVhcmVzdENlbnRlclBvaW50XVxyXG4gICk7XHJcblxyXG4gIC8vIEhhbmRsZSByb2FkIGNsaWNrIGR1cmluZyBzZWxlY3Rpb25cclxuICBjb25zdCBoYW5kbGVNYXBDbGljayA9IHVzZUNhbGxiYWNrKFxyXG4gICAgKGNsaWNrZWRFbnRpdHkpID0+IHtcclxuICAgICAgY29uc3Qgc3RlcCA9IGN1cnJlbnRTdGVwUmVmLmN1cnJlbnQ7XHJcbiAgICAgIGNvbnNvbGUubG9nKCdbVHVybiBQYXRoXSBoYW5kbGVNYXBDbGljayBjYWxsZWQ6Jywge1xyXG4gICAgICAgIGN1cnJlbnRTdGVwOiBzdGVwLFxyXG4gICAgICAgIGhhc0VudGl0eTogISFjbGlja2VkRW50aXR5LFxyXG4gICAgICAgIGhhc1ZpZXdlcjogISFjZXNpdW1WaWV3ZXJSZWYuY3VycmVudCxcclxuICAgICAgfSk7XHJcblxyXG4gICAgICBpZiAoIWNlc2l1bVZpZXdlclJlZi5jdXJyZW50IHx8ICFjbGlja2VkRW50aXR5KSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ1tUdXJuIFBhdGhdIE1pc3Npbmcgdmlld2VyIG9yIGVudGl0eScpO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gSWYgd2UgYWxyZWFkeSBoYXZlIGEgc291cmNlIGFuZCB3ZSdyZSBzdGlsbCBpbiBzZWxlY3Rpbmdfc291cmNlLCBibG9jayBkb3VibGUtY2xpY2tcclxuICAgICAgaWYgKHN0ZXAgPT09ICdzZWxlY3Rpbmdfc291cmNlJyAmJiBzZWxlY3RlZFNvdXJjZVJvYWRSZWYuY3VycmVudCkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdbVHVybiBQYXRoXSBTb3VyY2UgYWxyZWFkeSBzZWxlY3RlZCcpO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG5cclxuICAgICAgY29uc3QgQ2VzaXVtID0gd2luZG93LkNlc2l1bTtcclxuXHJcbiAgICAgIC8vIEV4dHJhY3Qgcm9hZC9zZWdtZW50IElEc1xyXG4gICAgICBjb25zdCByb2FkSWQgPVxyXG4gICAgICAgIGdldEVudGl0eVByb3BlcnR5KGNsaWNrZWRFbnRpdHksICdyb2FkX29pZCcpIHx8XHJcbiAgICAgICAgZ2V0RW50aXR5UHJvcGVydHkoY2xpY2tlZEVudGl0eSwgJ3JvYWRfaWQnKSB8fFxyXG4gICAgICAgIGdldEVudGl0eVByb3BlcnR5KGNsaWNrZWRFbnRpdHksICdyb2FkSWQnKSB8fFxyXG4gICAgICAgIGdldEVudGl0eVByb3BlcnR5KGNsaWNrZWRFbnRpdHksICdyb2FkX29pZF9pbnQnKSB8fFxyXG4gICAgICAgIGdldEVudGl0eVByb3BlcnR5KGNsaWNrZWRFbnRpdHksICdyb2FkT2lkJyk7XHJcblxyXG4gICAgICBjb25zdCBzZWdtZW50SWQgPVxyXG4gICAgICAgIGdldEVudGl0eVByb3BlcnR5KGNsaWNrZWRFbnRpdHksICdzZWdtZW50X2lkJykgfHxcclxuICAgICAgICBnZXRFbnRpdHlQcm9wZXJ0eShjbGlja2VkRW50aXR5LCAnbGFuZV9pZCcpIHx8XHJcbiAgICAgICAgZ2V0RW50aXR5UHJvcGVydHkoY2xpY2tlZEVudGl0eSwgJ3BhcmVudF9sYW5lX2lkJyk7XHJcblxyXG4gICAgICBjb25zdCBuYW1lID1cclxuICAgICAgICBnZXRFbnRpdHlQcm9wZXJ0eShjbGlja2VkRW50aXR5LCAncm9hZF9uYW1lJykgfHxcclxuICAgICAgICBnZXRFbnRpdHlQcm9wZXJ0eShjbGlja2VkRW50aXR5LCAnbmFtZScpIHx8XHJcbiAgICAgICAgYHJvYWRfJHtyb2FkSWR9YDtcclxuXHJcbiAgICAgIGlmICghcm9hZElkKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ1tUdXJuIFBhdGhdIENsaWNrZWQgZW50aXR5IGhhcyBubyByb2FkX2lkJyk7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBJZiBzZWxlY3Rpbmcgc291cmNlXHJcbiAgICAgIGlmIChzdGVwID09PSAnc2VsZWN0aW5nX3NvdXJjZScpIHtcclxuICAgICAgICBoaWdobGlnaHRFbnRpdGllcyhjbGlja2VkRW50aXR5LCBDZXNpdW0uQ29sb3IuR1JFRU4pO1xyXG4gICAgICAgIHNlbGVjdGVkU291cmNlUm9hZFJlZi5jdXJyZW50ID0ge1xyXG4gICAgICAgICAgcm9hZF9pZDogcm9hZElkLFxyXG4gICAgICAgICAgc2VnbWVudF9pZDogc2VnbWVudElkLFxyXG4gICAgICAgICAgbmFtZSxcclxuICAgICAgICAgIGVudGl0eTogY2xpY2tlZEVudGl0eSxcclxuICAgICAgICAgIGNvbm5lY3Rpb25zOiBleHRyYWN0Um9hZENvbm5lY3Rpb25zKGNsaWNrZWRFbnRpdHkpLFxyXG4gICAgICAgIH07XHJcbiAgICAgICAgc2V0U2VsZWN0ZWRTb3VyY2VSb2FkKHNlbGVjdGVkU291cmNlUm9hZFJlZi5jdXJyZW50KTtcclxuICAgICAgICBzZXRDdXJyZW50U3RlcCgnc2VsZWN0aW5nX2Rlc3RpbmF0aW9uJyk7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBJZiBzZWxlY3RpbmcgZGVzdGluYXRpb25cclxuICAgICAgaWYgKHN0ZXAgPT09ICdzZWxlY3RpbmdfZGVzdGluYXRpb24nKSB7XHJcbiAgICAgICAgLy8gcHJldmVudCBzYW1lIHJvYWRcclxuICAgICAgICBpZiAoU3RyaW5nKHJvYWRJZCkgPT09IFN0cmluZyhzZWxlY3RlZFNvdXJjZVJvYWRSZWYuY3VycmVudD8ucm9hZF9pZCkpIHtcclxuICAgICAgICAgIGFsZXJ0KCdQbGVhc2UgcGljayBhIGRpZmZlcmVudCByb2FkIGFzIGRlc3RpbmF0aW9uLicpO1xyXG4gICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaGlnaGxpZ2h0RW50aXRpZXMoY2xpY2tlZEVudGl0eSwgQ2VzaXVtLkNvbG9yLlJFRCk7XHJcbiAgICAgICAgc2VsZWN0ZWREZXN0aW5hdGlvblJvYWRSZWYuY3VycmVudCA9IHtcclxuICAgICAgICAgIHJvYWRfaWQ6IHJvYWRJZCxcclxuICAgICAgICAgIHNlZ21lbnRfaWQ6IHNlZ21lbnRJZCxcclxuICAgICAgICAgIG5hbWUsXHJcbiAgICAgICAgICBlbnRpdHk6IGNsaWNrZWRFbnRpdHksXHJcbiAgICAgICAgICBjb25uZWN0aW9uczogZXh0cmFjdFJvYWRDb25uZWN0aW9ucyhjbGlja2VkRW50aXR5KSxcclxuICAgICAgICB9O1xyXG4gICAgICAgIHNldFNlbGVjdGVkRGVzdGluYXRpb25Sb2FkKHNlbGVjdGVkRGVzdGluYXRpb25Sb2FkUmVmLmN1cnJlbnQpO1xyXG5cclxuICAgICAgICAvLyBDb21wdXRlXHJcbiAgICAgICAgY29tcHV0ZVR1cm5QYXRoKHNlbGVjdGVkU291cmNlUm9hZFJlZi5jdXJyZW50LCBzZWxlY3RlZERlc3RpbmF0aW9uUm9hZFJlZi5jdXJyZW50KTtcclxuICAgICAgfVxyXG4gICAgfSxcclxuICAgIFtjb21wdXRlVHVyblBhdGhdXHJcbiAgKTtcclxuXHJcbiAgY29uc3QgaGlnaGxpZ2h0RW50aXRpZXMgPSAoZW50aXR5LCBjb2xvcikgPT4ge1xyXG4gICAgY29uc3QgQ2VzaXVtID0gd2luZG93LkNlc2l1bTtcclxuICAgIGNvbnN0IGFwcGx5ID0gKGVudCkgPT4ge1xyXG4gICAgICBpZiAoZW50LnBvbHlnb24pIHtcclxuICAgICAgICBpZiAoIWVudC5fb3JpZ2luYWxNYXRlcmlhbCkgZW50Ll9vcmlnaW5hbE1hdGVyaWFsID0gZW50LnBvbHlnb24ubWF0ZXJpYWw7XHJcbiAgICAgICAgZW50LnBvbHlnb24ubWF0ZXJpYWwgPSBjb2xvci53aXRoQWxwaGEoMC4yNSk7XHJcbiAgICAgICAgZW50LnBvbHlnb24ub3V0bGluZSA9IHRydWU7XHJcbiAgICAgICAgZW50LnBvbHlnb24ub3V0bGluZUNvbG9yID0gQ2VzaXVtLkNvbG9yLldISVRFLndpdGhBbHBoYSgwLjkpO1xyXG4gICAgICB9XHJcbiAgICAgIGlmIChlbnQucG9seWxpbmUpIHtcclxuICAgICAgICBpZiAoIWVudC5fb3JpZ2luYWxNYXRlcmlhbCkgZW50Ll9vcmlnaW5hbE1hdGVyaWFsID0gZW50LnBvbHlsaW5lLm1hdGVyaWFsO1xyXG4gICAgICAgIGlmICghZW50Ll9vcmlnaW5hbFdpZHRoKSBlbnQuX29yaWdpbmFsV2lkdGggPSBlbnQucG9seWxpbmUud2lkdGg7XHJcbiAgICAgICAgZW50LnBvbHlsaW5lLm1hdGVyaWFsID0gY29sb3Iud2l0aEFscGhhKDAuOSk7XHJcbiAgICAgICAgZW50LnBvbHlsaW5lLndpZHRoID0gKGVudC5wb2x5bGluZS53aWR0aCB8fCAyKSAqIDEuNjtcclxuICAgICAgfVxyXG4gICAgICBpZiAoZW50LmNvcnJpZG9yKSB7XHJcbiAgICAgICAgaWYgKCFlbnQuX29yaWdpbmFsTWF0ZXJpYWwpIGVudC5fb3JpZ2luYWxNYXRlcmlhbCA9IGVudC5jb3JyaWRvci5tYXRlcmlhbDtcclxuICAgICAgICBlbnQuY29ycmlkb3IubWF0ZXJpYWwgPSBjb2xvci53aXRoQWxwaGEoMC4zNSk7XHJcbiAgICAgICAgZW50LmNvcnJpZG9yLm91dGxpbmVDb2xvciA9IENlc2l1bS5Db2xvci5XSElURS53aXRoQWxwaGEoMC44KTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICBpZiAoZW50aXR5Ll9zb3VyY2VGb3JUdXJuUGF0aCkge1xyXG4gICAgICAvLyBhbHJlYWR5IHByb2Nlc3NlZFxyXG4gICAgICBhcHBseShlbnRpdHkpO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgYXBwbHkoZW50aXR5KTtcclxuICAgIGVudGl0eS5fc291cmNlRm9yVHVyblBhdGggPSB0cnVlO1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IG9wZW5EaWFsb2cgPSAoKSA9PiB7XHJcbiAgICBzZXRJc0RpYWxvZ09wZW4odHJ1ZSk7XHJcbiAgICBzZXRDdXJyZW50U3RlcCgncHJvZmlsZScpO1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IGNsb3NlRGlhbG9nID0gKCkgPT4ge1xyXG4gICAgc2V0SXNEaWFsb2dPcGVuKGZhbHNlKTtcclxuICAgIGlmIChjdXJyZW50U3RlcCAhPT0gJ3Nob3dpbmdfcGF0aCcpIHtcclxuICAgICAgcmVzZXRTZWxlY3Rpb24oKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICBjb25zdCBzdGFydFNlbGVjdGlvbiA9IChjb25maWcpID0+IHtcclxuICAgIGNvbnNvbGUubG9nKCdbVHVybiBQYXRoXSBzdGFydFNlbGVjdGlvbiBjYWxsZWQgd2l0aCBjb25maWc6JywgY29uZmlnKTtcclxuICAgIHNldFBhdGhDb25maWcoY29uZmlnKTtcclxuICAgIHNldElzRGlhbG9nT3BlbihmYWxzZSk7XHJcbiAgICBzZXRDdXJyZW50U3RlcCgnc2VsZWN0aW5nX3NvdXJjZScpO1xyXG4gIH07XHJcblxyXG4gIHJldHVybiB7XHJcbiAgICAvLyBkaWFsb2dcclxuICAgIGlzRGlhbG9nT3BlbixcclxuICAgIG9wZW5EaWFsb2csXHJcbiAgICBjbG9zZURpYWxvZyxcclxuICAgIHN0YXJ0U2VsZWN0aW9uLFxyXG4gICAgY3VycmVudFN0ZXAsXHJcbiAgICBnZXRDdXJyZW50U3RlcCxcclxuICAgIC8vIHNlbGVjdGlvblxyXG4gICAgc2VsZWN0ZWRTb3VyY2VSb2FkLFxyXG4gICAgc2VsZWN0ZWREZXN0aW5hdGlvblJvYWQsXHJcbiAgICBnZXRTZWxlY3RlZFNvdXJjZVJvYWQsXHJcbiAgICBnZXRTZWxlY3RlZERlc3RpbmF0aW9uUm9hZCxcclxuICAgIGhhbmRsZU1hcENsaWNrLFxyXG4gICAgLy8gZGF0YVxyXG4gICAgdmVoaWNsZVByb2ZpbGVzLFxyXG4gICAgLy8gcGF0aFxyXG4gICAgY29tcHV0ZWRQYXRoLFxyXG4gICAgd2FybmluZyxcclxuICAgIHJlc2V0U2VsZWN0aW9uLFxyXG4gIH07XHJcbn1cclxuXHJcblxyXG4iXSwibmFtZXMiOlsidXNlU3RhdGUiLCJ1c2VFZmZlY3QiLCJ1c2VDYWxsYmFjayIsInVzZVJlZiIsInVzZVR1cm5QYXRoTWFuYWdlciIsImNlc2l1bVZpZXdlclJlZiIsImNlbnRlclBvaW50cyIsImlzRGlhbG9nT3BlbiIsInNldElzRGlhbG9nT3BlbiIsImN1cnJlbnRTdGVwIiwic2V0Q3VycmVudFN0ZXAiLCJ2ZWhpY2xlUHJvZmlsZXMiLCJzZXRWZWhpY2xlUHJvZmlsZXMiLCJwYXRoQ29uZmlnIiwic2V0UGF0aENvbmZpZyIsInNlbGVjdGVkU291cmNlUm9hZCIsInNldFNlbGVjdGVkU291cmNlUm9hZCIsInNlbGVjdGVkRGVzdGluYXRpb25Sb2FkIiwic2V0U2VsZWN0ZWREZXN0aW5hdGlvblJvYWQiLCJjb21wdXRlZFBhdGgiLCJzZXRDb21wdXRlZFBhdGgiLCJ3YXJuaW5nIiwic2V0V2FybmluZyIsImN1cnJlbnRTdGVwUmVmIiwic2VsZWN0ZWRTb3VyY2VSb2FkUmVmIiwic2VsZWN0ZWREZXN0aW5hdGlvblJvYWRSZWYiLCJwYXRoQ29uZmlnUmVmIiwiZ2V0RW50aXR5UHJvcGVydHkiLCJlbnRpdHkiLCJrZXkiLCJwcm9wZXJ0aWVzIiwicHJvcCIsInVuZGVmaW5lZCIsImdldFZhbHVlIiwiZXh0cmFjdFJvYWRDb25uZWN0aW9ucyIsInBvc3NpYmxlS2V5cyIsInZhbHVlcyIsIm1hcCIsImZpbHRlciIsInZhbCIsInRyaW0iLCJsZW5ndGgiLCJBcnJheSIsImZyb20iLCJTZXQiLCJ2IiwiY3VycmVudCIsImdldEN1cnJlbnRTdGVwIiwiZ2V0U2VsZWN0ZWRTb3VyY2VSb2FkIiwiZ2V0U2VsZWN0ZWREZXN0aW5hdGlvblJvYWQiLCJyZXNldFNlbGVjdGlvbiIsInJlc3RvcmVFbnRpdHlNYXRlcmlhbCIsInBvbHlnb24iLCJfb3JpZ2luYWxNYXRlcmlhbCIsIm1hdGVyaWFsIiwicG9seWxpbmUiLCJfb3JpZ2luYWxXaWR0aCIsIndpZHRoIiwiY29ycmlkb3IiLCJyZXN0b3JlQWxsIiwic2VsZWN0aW9uIiwiaXNBcnJheSIsImVudGl0aWVzIiwiZm9yRWFjaCIsImZldGNoIiwidGhlbiIsInJlcyIsImpzb24iLCJkYXRhIiwic3RhdHVzIiwicHJvZmlsZXMiLCJjYXRjaCIsImVyciIsImNvbnNvbGUiLCJlcnJvciIsImhhbmRsZUtleURvd24iLCJlIiwiY2xvc2VEaWFsb2ciLCJ3aW5kb3ciLCJhZGRFdmVudExpc3RlbmVyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImZpbmRTaGFyZWRJbnRlcnNlY3Rpb24iLCJyb2FkSWQxIiwicm9hZElkMiIsInNlZ0lkMSIsInNlZ0lkMiIsImlkc0VxdWFsIiwiYSIsImIiLCJTdHJpbmciLCJyMSIsInIyIiwidHJ5Q2VudGVyUG9pbnRzIiwib2siLCJyb3dzIiwiYnlSb2FkIiwicmVkdWNlIiwiYWNjIiwicm93Iiwicm9hZF9pZCIsInB1c2giLCJsaXN0MSIsImxpc3QyIiwiYmVzdCIsImJlc3RTY29yZSIsInNjb3JlIiwic2VsU2VnIiwic2VnbWVudF9pZCIsImludGVyc2VjdGlvbl9pZCIsInMiLCJuYW1lIiwiaW50ZXJzZWN0aW9uX25hbWUiLCJwaWNrRmFsbGJhY2siLCJsaXN0IiwiY291bnRzIiwidG9wSWQiLCJPYmplY3QiLCJrZXlzIiwic29ydCIsImZpbmQiLCJyIiwiZmluZFNoYXJlZEVuZHBvaW50RnJvbVNlbGVjdGlvbnMiLCJzb3VyY2UiLCJkZXN0aW5hdGlvbiIsInNvdXJjZUNvbm5lY3Rpb25zIiwiY29ubmVjdGlvbnMiLCJkZXN0aW5hdGlvbkNvbm5lY3Rpb25zIiwiY29ubiIsImluY2x1ZGVzIiwiZ2V0TmVhcmVzdENlbnRlclBvaW50Iiwicm9hZElkIiwibWF0Y2hlcyIsInAiLCJoYXZlcnNpbmVNZXRlcnMiLCJsb24xIiwibGF0MSIsImxvbjIiLCJsYXQyIiwiUiIsInRvUmFkIiwiZCIsIk1hdGgiLCJQSSIsImRMYXQiLCJkTG9uIiwic2luIiwiY29zIiwiYyIsImF0YW4yIiwic3FydCIsImNvbXB1dGVUdXJuUGF0aCIsImNvbmZpZyIsImFsZXJ0IiwiaW50ZXJzZWN0aW9uIiwic2hhcmVkRW5kcG9pbnQiLCJ3YXJuIiwibG9nIiwidG8iLCJwYXlsb2FkIiwiZnJvbV9yb2FkX2lkIiwidG9fcm9hZF9pZCIsImZyb21fbWFya2VyX29pZCIsInRvX21hcmtlcl9vaWQiLCJyZXNwb25zZSIsIm1ldGhvZCIsImhlYWRlcnMiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsInJlc3VsdCIsImNsZWFyYW5jZU1zZyIsImNsZWFyYW5jZSIsInZlaGljbGVfZW52ZWxvcGVfb2siLCJvdXRzaWRlX2FyZWFfc3FtIiwidG9GaXhlZCIsInBhdGgiLCJsZW5ndGhfbSIsInBhdGhfdHlwZSIsImxlYWsiLCJtc2ciLCJtZXNzYWdlIiwiaGFuZGxlTWFwQ2xpY2siLCJjbGlja2VkRW50aXR5Iiwic3RlcCIsImhhc0VudGl0eSIsImhhc1ZpZXdlciIsIkNlc2l1bSIsInNlZ21lbnRJZCIsImhpZ2hsaWdodEVudGl0aWVzIiwiQ29sb3IiLCJHUkVFTiIsIlJFRCIsImNvbG9yIiwiYXBwbHkiLCJlbnQiLCJ3aXRoQWxwaGEiLCJvdXRsaW5lIiwib3V0bGluZUNvbG9yIiwiV0hJVEUiLCJfc291cmNlRm9yVHVyblBhdGgiLCJvcGVuRGlhbG9nIiwic3RhcnRTZWxlY3Rpb24iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./components/useTurnPathManager.js\n");

/***/ })

};
;