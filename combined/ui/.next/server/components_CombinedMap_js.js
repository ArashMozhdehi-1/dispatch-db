/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "components_CombinedMap_js";
exports.ids = ["components_CombinedMap_js"];
exports.modules = {

/***/ "./components/CombinedMap.js":
/*!***********************************!*\
  !*** ./components/CombinedMap.js ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ DispatchCesiumMap)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var next_script__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/script */ \"./node_modules/next/script.js\");\n/* harmony import */ var next_script__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_script__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var crypto__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! crypto */ \"crypto\");\n/* harmony import */ var crypto__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(crypto__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _TopMenuBar__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./TopMenuBar */ \"./components/TopMenuBar.js\");\n/* harmony import */ var _TurnPathDialog__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./TurnPathDialog */ \"./components/TurnPathDialog.js\");\n/* harmony import */ var _TurnPathStatusBanner__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./TurnPathStatusBanner */ \"./components/TurnPathStatusBanner.js\");\n/* harmony import */ var _TurnPathStatusBanner__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_TurnPathStatusBanner__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var _useTurnPathManager__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./useTurnPathManager */ \"./components/useTurnPathManager.js\");\n/* harmony import */ var _useMeasurementTool__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./useMeasurementTool */ \"./components/useMeasurementTool.js\");\n/* harmony import */ var _RoadProfileViewer__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./RoadProfileViewer */ \"./components/RoadProfileViewer.js\");\n/* harmony import */ var _SpeedManagementViewer__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./SpeedManagementViewer */ \"./components/SpeedManagementViewer.js\");\n\n\n\n\n\n\n\n\n\n\n\n// Color palette and helpers\nconst DISPATCH_LOCATION_COLOR_MAP = {\n    \"call point\": \"#FF6B6B\",\n    \"dump\": \"#FF8E72\",\n    \"blast\": \"#FFB347\",\n    \"stockpile\": \"#FFD166\",\n    \"workshop\": \"#F4A261\",\n    \"shiftchange\": \"#06D6A0\",\n    \"region\": \"#118AB2\",\n    \"crusher\": \"#9B5DE5\",\n    \"high dump\": \"#FF6B6B\",\n    \"load\": \"#FFD166\",\n    \"paddock dump\": \"#FF8E72\",\n    \"tiedown\": \"#06D6A0\",\n    \"pit\": \"#EF476F\",\n    \"parking\": \"#FFE066\",\n    \"fuel\": \"#FE5F55\",\n    \"tipping area\": \"#FF924C\",\n    \"infrastructure\": \"#5C677D\",\n    \"infrastructure_table\": \"#5C677D\",\n    \"default\": \"#9FA4B0\"\n};\n// Location types that render as squares\nconst SQUARE_TYPES = new Set([\n    \"blast\",\n    \"dump\",\n    \"stockpile\",\n    \"workshop\",\n    \"crusher\",\n    \"high dump\",\n    \"load\",\n    \"paddock dump\",\n    \"tiedown\"\n]);\nconst DEFAULT_HIDDEN_LOCATION_TYPES = [\n    \"call point\",\n    \"shiftchange\",\n    \"region\",\n    \"pit\"\n];\nconst resolveDispatchLocationType = (location)=>{\n    if (!location) return \"Infrastructure\";\n    const rawValue = location.unit_type || location.location_category || location.unit_type_id || location.category || location.source || \"Infrastructure\";\n    if (typeof rawValue !== \"string\") return \"Infrastructure\";\n    const trimmed = rawValue.trim();\n    return trimmed.length > 0 ? trimmed : \"Infrastructure\";\n};\nconst getDispatchLocationColor = (locationType)=>{\n    if (!locationType || typeof locationType !== \"string\") return DISPATCH_LOCATION_COLOR_MAP.default;\n    return DISPATCH_LOCATION_COLOR_MAP[locationType.trim().toLowerCase()] || DISPATCH_LOCATION_COLOR_MAP.default;\n};\n// Helpers to guard polygons\nconst ringArea2D = (coords)=>{\n    if (!Array.isArray(coords) || coords.length < 3) return 0;\n    let area = 0;\n    const n = coords.length;\n    for(let i = 0; i < n; i++){\n        const [x1, y1] = coords[i];\n        const [x2, y2] = coords[(i + 1) % n];\n        area += x1 * y2 - x2 * y1;\n    }\n    return Math.abs(area) * 0.5;\n};\nconst parsePolygonHierarchy = (geojson)=>{\n    if (!geojson || !window?.Cesium) return null;\n    const Cesium1 = window.Cesium;\n    let gj;\n    try {\n        gj = typeof geojson === \"string\" ? JSON.parse(geojson) : geojson;\n    } catch  {\n        return null;\n    }\n    if (!gj || !gj.coordinates) return null;\n    let rings = null;\n    if (gj.type === \"Polygon\") {\n        rings = gj.coordinates;\n    } else if (gj.type === \"MultiPolygon\" && Array.isArray(gj.coordinates) && gj.coordinates.length > 0) {\n        rings = gj.coordinates[0];\n    } else {\n        return null;\n    }\n    if (!Array.isArray(rings) || rings.length === 0) return null;\n    let outer = rings[0];\n    if (!Array.isArray(outer) || outer.length < 3) return null;\n    outer = outer.filter((c)=>Array.isArray(c) && c.length >= 2 && Number.isFinite(c[0]) && Number.isFinite(c[1]));\n    if (outer.length < 3) return null;\n    if (outer.length >= 2) {\n        const [fx, fy] = outer[0];\n        const [lx, ly] = outer[outer.length - 1];\n        if (fx === lx && fy === ly) {\n            outer = outer.slice(0, -1);\n        }\n    }\n    const cleaned = [];\n    for(let i = 0; i < outer.length; i++){\n        const cur = outer[i];\n        if (i === 0 || cur[0] !== outer[i - 1][0] || cur[1] !== outer[i - 1][1]) {\n            cleaned.push(cur);\n        }\n    }\n    if (cleaned.length < 3) return null;\n    const area2D = ringArea2D(cleaned);\n    if (!Number.isFinite(area2D) || area2D < 1e-10) return null;\n    const positions = Cesium1.Cartesian3.fromDegreesArray(cleaned.flat());\n    if (!positions || positions.length < 3) return null;\n    let minX = Infinity, maxX = -Infinity;\n    let minY = Infinity, maxY = -Infinity;\n    let minZ = Infinity, maxZ = -Infinity;\n    for (const p of positions){\n        if (!Number.isFinite(p.x) || !Number.isFinite(p.y) || !Number.isFinite(p.z)) return null;\n        if (p.x < minX) minX = p.x;\n        if (p.x > maxX) maxX = p.x;\n        if (p.y < minY) minY = p.y;\n        if (p.y > maxY) maxY = p.y;\n        if (p.z < minZ) minZ = p.z;\n        if (p.z > maxZ) maxZ = p.z;\n    }\n    const span = Math.max(maxX - minX, maxY - minY, maxZ - minZ);\n    if (!Number.isFinite(span) || span < 0.1) return null;\n    return new Cesium1.PolygonHierarchy(positions);\n};\n// Guard for arbitrary Cartesian3 position arrays (for polygons)\nconst arePositionsValid = (positions)=>{\n    if (!Array.isArray(positions) || positions.length < 3) return false;\n    let minX = Infinity, maxX = -Infinity;\n    let minY = Infinity, maxY = -Infinity;\n    let minZ = Infinity, maxZ = -Infinity;\n    for (const p of positions){\n        if (!p || !Number.isFinite(p.x) || !Number.isFinite(p.y) || !Number.isFinite(p.z)) {\n            return false;\n        }\n        if (p.x < minX) minX = p.x;\n        if (p.x > maxX) maxX = p.x;\n        if (p.y < minY) minY = p.y;\n        if (p.y > maxY) maxY = p.y;\n        if (p.z < minZ) minZ = p.z;\n        if (p.z > maxZ) maxZ = p.z;\n    }\n    const span = Math.max(maxX - minX, maxY - minY, maxZ - minZ);\n    return Number.isFinite(span) && span >= 0.1;\n};\nconst isDispatchSegmentClosed = (segment)=>{\n    if (!segment) return false;\n    const value = segment.is_closed;\n    if (typeof value === \"boolean\") return value;\n};\n// Render tooltip lines in the same label/value layout as the Lat/Lng box\nconst renderTooltipItems = (items, { compact = false } = {})=>{\n    return items.filter(Boolean).map((raw)=>{\n        let item = typeof raw === \"string\" ? raw : String(raw).trim();\n        if (!item) return \"\";\n        // SECTION HEADERS, e.g. \"--- ROAD DIMENSIONS ---\"\n        if (!item.includes(\":\")) {\n            const label = item.replace(/^[-\\s]+|[-\\s]+$/g, \"\");\n            return `\n          <div\n            style=\"\n              margin: ${compact ? \"4px\" : \"6px\"} 0 2px;\n              font-weight: 600;\n              color: #f5f5f5;\n              border-top: 1px solid rgba(255,255,255,0.08);\n              padding-top: 4px;\n            \"\n          >\n            ${label}\n          </div>\n        `;\n        }\n        // NORMAL \"LABEL: value\" LINES\n        const [rawLabel, ...rest] = item.split(\":\");\n        const label = rawLabel.trim();\n        const value = rest.join(\":\").trim();\n        return `\n        <div\n          style=\"\n            display: flex;\n            justify-content: space-between;\n            margin-bottom: ${compact ? \"1px\" : \"3px\"};\n          \"\n        >\n          <span style=\"color: #a0a0a0; font-weight: 400;\">\n            ${label}\n          </span>\n          <span style=\"\n            color: white;\n            font-weight: 500;\n            font-variant-numeric: tabular-nums;\n            text-align: right;\n            white-space: nowrap;\n          \">\n            ${value}\n          </span>\n        </div>\n      `;\n    }).join(\"\");\n};\nconst formatTooltipContent = (entity)=>{\n    if (!entity || !entity.properties) return \"\";\n    // Handle both Cesium Property objects and direct values\n    const getProp = (key)=>{\n        const prop = entity.properties[key];\n        if (prop === undefined || prop === null) return undefined;\n        if (prop && typeof prop.getValue === \"function\") {\n            return prop.getValue(window.Cesium.JulianDate.now());\n        }\n        return prop;\n    };\n    const items = [];\n    const category = getProp(\"category\");\n    if (category === \"dispatch_segment\") {\n        const source = (getProp(\"source\") || \"Segment\").toString().toUpperCase();\n        items.push(`--- ${source} SEGMENT ---`);\n        if (getProp(\"road_id\")) items.push(`ROAD ID: ${getProp(\"road_id\")}`);\n        if (getProp(\"lane_id\")) items.push(`LANE ID: ${getProp(\"lane_id\")}`);\n        if (getProp(\"length_m\")) items.push(`LENGTH: ${Math.round(getProp(\"length_m\"))} m`);\n        if (getProp(\"direction\")) items.push(`DIRECTION: ${getProp(\"direction\")}`);\n        const closed = getProp(\"is_closed\");\n        items.push(`STATUS: ${closed ? \"Closed\" : \"Open\"}`);\n    } else if (category === \"dispatch_location\") {\n        items.push(`--- LOCATION ---`);\n        items.push(`NAME: ${getProp(\"location_name\")}`);\n        items.push(`TYPE: ${getProp(\"unit_type\") || getProp(\"location_category\")}`);\n    } else if (category === \"dispatch_intersection\") {\n        items.push(`--- INTERSECTION ---`);\n        items.push(`NAME: ${getProp(\"intersection_name\")}`);\n        if (getProp(\"intersection_type\")) items.push(`TYPE: ${getProp(\"intersection_type\")}`);\n        if (getProp(\"safety_buffer_m\")) items.push(`SAFETY BUFFER: ${getProp(\"safety_buffer_m\")} m`);\n        if (getProp(\"r_min_m\")) items.push(`R-MIN: ${getProp(\"r_min_m\")} m`);\n        const roads = getProp(\"connected_roads\");\n        if (roads && Array.isArray(roads) && roads.length > 0) {\n            items.push(`CONNECTED ROADS: ${roads.join(\", \")}`);\n        }\n    } else if (category === \"dispatch_trolley\") {\n        items.push(`--- TROLLEY ---`);\n        items.push(`TYPE: Trolley Line`);\n    }\n    return renderTooltipItems(items, {\n        compact: true\n    });\n};\nfunction DispatchCesiumMap() {\n    const mapContainer = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const cesiumViewerRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const measurementHandlerRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const [mapLoaded, setMapLoaded] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [mapError, setMapError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [cesiumLoaded, setCesiumLoaded] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [dialogOpen, setDialogOpen] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [dialogData, setDialogData] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [showProfileViewer, setShowProfileViewer] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [showSpeedManagement, setShowSpeedManagement] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [selectedRoadId, setSelectedRoadId] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    // Data\n    const [locations, setLocations] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [segments, setSegments] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [trolleySegments, setTrolleySegments] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [wateringStations, setWateringStations] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [speedMonitoring, setSpeedMonitoring] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [intersections, setIntersections] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [centerPoints, setCenterPoints] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const centerPointEntitiesRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)([]);\n    const { isDialogOpen: turnDialogOpen, currentStep: turnCurrentStep, getCurrentStep: getTurnCurrentStep, selectedSourceRoad: turnSourceRoad, selectedDestinationRoad: turnDestRoad, openDialog: openTurnDialog, closeDialog: closeTurnDialog, startSelection: startTurnSelection, handleMapClick: handleTurnPathClick } = (0,_useTurnPathManager__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(cesiumViewerRef, centerPoints);\n    // UI State\n    const [roadNetworksExpanded, setRoadNetworksExpanded] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const [locationTypesExpanded, setLocationTypesExpanded] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const [baseLayer, setBaseLayer] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"night\"); // 'night' or 'day'\n    const [sceneMode, setSceneMode] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"3d\"); // '3d' or '2d'\n    const [measurementMode, setMeasurementMode] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"none\"); // none | distance | area\n    // Visibility\n    const [showOpenRoads, setShowOpenRoads] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const [showClosedRoads, setShowClosedRoads] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const [showIntersections, setShowIntersections] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const [showCenterPoints, setShowCenterPoints] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [showTrolley, setShowTrolley] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const [showWatering, setShowWatering] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const [showSpeed, setShowSpeed] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const [visibleLocationTypes, setVisibleLocationTypes] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(new Set());\n    // Frontrunner-style measurement hook\n    const { measurementMode: frMeasurementMode, startMeasurement: frStartMeasurement, cancelMeasurement: frCancelMeasurement, addMeasurementPoint: frAddPoint, clearMeasurements: frClearMeasurements, updatePreviewLine: frUpdatePreview, finalizeAreaMeasurement: frFinalizeArea, getMeasurementMode: frGetMode } = (0,_useMeasurementTool__WEBPACK_IMPORTED_MODULE_8__[\"default\"])(cesiumViewerRef);\n    const recenterView = ()=>{\n        const viewer = cesiumViewerRef.current;\n        if (!viewer || !window?.Cesium) return;\n        const Cesium1 = window.Cesium;\n        viewer.camera.flyTo({\n            destination: Cesium1.Cartesian3.fromDegrees(148.980202, -23.847083, 5000),\n            orientation: {\n                heading: 0,\n                pitch: Cesium1.Math.toRadians(-90),\n                roll: 0\n            },\n            duration: 0.8\n        });\n    };\n    // Computed\n    // ---------------------------------------------------------------------\n    // Hide info/tooltip overlays while turn-path selection is active\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const selecting = turnCurrentStep === \"selecting_source\" || turnCurrentStep === \"selecting_destination\";\n        if (selecting) {\n            setDialogOpen(false);\n            setDialogData(null);\n            const tooltip = document.getElementById(\"map-tooltip\");\n            if (tooltip) tooltip.style.display = \"none\";\n        }\n    }, [\n        turnCurrentStep\n    ]);\n    // ---------------------------------------------------------------------\n    const locationCounts = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>{\n        const counts = {};\n        locations.forEach((l)=>counts[resolveDispatchLocationType(l)] = (counts[resolveDispatchLocationType(l)] || 0) + 1);\n        return counts;\n    }, [\n        locations\n    ]);\n    const roadCounts = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>({\n            open: segments.filter((s)=>!isDispatchSegmentClosed(s)).length,\n            closed: segments.filter((s)=>isDispatchSegmentClosed(s)).length\n        }), [\n        segments\n    ]);\n    const centerPointCount = centerPoints.length;\n    const toggleLocationType = (type, checked)=>{\n        const newSet = new Set(visibleLocationTypes);\n        checked ? newSet.add(type) : newSet.delete(type);\n        setVisibleLocationTypes(newSet);\n    };\n    // Initialize Cesium\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (!cesiumLoaded || !mapContainer.current || cesiumViewerRef.current) return;\n        try {\n            const Cesium1 = window.Cesium;\n            Cesium1.Ion.defaultAccessToken = \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiJkN2JiMWMyMS05YmU0LTQ2MzktODk5Yy0xZjJjMDkyOGJkMzkiLCJpZCI6MTg0NzYsImlhdCI6MTYzOTQzOTU4Mn0.6GMOP-Y9nPwqGPZ0fLCuO-YXK1xVHK0HxxMz4EBqhJk\";\n            let coordHandler1 = null;\n            let coordDisplay1 = null;\n            const viewer = new Cesium1.Viewer(mapContainer.current, {\n                baseLayerPicker: false,\n                geocoder: false,\n                homeButton: false,\n                sceneModePicker: false,\n                navigationHelpButton: false,\n                animation: false,\n                timeline: false,\n                fullscreenButton: false,\n                vrButton: false,\n                imageryProvider: false,\n                terrainProvider: new Cesium1.EllipsoidTerrainProvider(),\n                selectionIndicator: false,\n                infoBox: false\n            });\n            viewer.cesiumWidget.creditContainer.style.display = \"none\";\n            viewer.camera.setView({\n                destination: Cesium1.Cartesian3.fromDegrees(148.980202, -23.847083, 5000),\n                orientation: {\n                    heading: 0,\n                    pitch: Cesium1.Math.toRadians(-90),\n                    roll: 0\n                }\n            });\n            cesiumViewerRef.current = viewer;\n            window.cesiumViewer = viewer;\n            setMapLoaded(true);\n            // Load center points from backend (intersection_center_points)\n            fetch(\"/api/intersection_center_points\").then((res)=>res.json()).then((data)=>{\n                if (Array.isArray(data)) {\n                    setCenterPoints(data);\n                }\n            }).catch((err)=>{\n                console.warn(\"Failed to load center points\", err?.message || err);\n            });\n            // Measurement handlers\n            const handler = new Cesium1.ScreenSpaceEventHandler(viewer.scene.canvas);\n            measurementHandlerRef.current = handler;\n            handler.setInputAction((movement)=>{\n                // Turn path selection takes priority if in selecting mode\n                const step = getTurnCurrentStep?.();\n                if (step === \"selecting_source\" || step === \"selecting_destination\") {\n                    const drill = viewer.scene.drillPick(movement.position);\n                    const picked = drill && drill[0] || viewer.scene.pick(movement.position);\n                    if (picked && picked.id) {\n                        handleTurnPathClick(picked.id);\n                        return;\n                    }\n                }\n                const mode = frGetMode();\n                if (!mode) return;\n                const ellipsoid = viewer.scene.globe.ellipsoid;\n                let cartesian = viewer.camera.pickEllipsoid(movement.position, ellipsoid) || viewer.scene.pickPosition(movement.position);\n                if (!cartesian) {\n                    const ray = viewer.camera.getPickRay(movement.position);\n                    if (ray) cartesian = viewer.scene.globe.pick(ray, viewer.scene);\n                }\n                if (!cartesian) return;\n                const carto = ellipsoid.cartesianToCartographic(cartesian);\n                const clamped = Cesium1.Cartesian3.fromRadians(carto.longitude, carto.latitude, 0.0);\n                frAddPoint(clamped);\n            }, Cesium1.ScreenSpaceEventType.LEFT_CLICK);\n            handler.setInputAction((movement)=>{\n                const mode = frGetMode();\n                if (mode !== \"distance\") return;\n                const ellipsoid = viewer.scene.globe.ellipsoid;\n                let cartesian = viewer.camera.pickEllipsoid(movement.endPosition, ellipsoid) || viewer.scene.pickPosition(movement.endPosition);\n                if (!cartesian) {\n                    frUpdatePreview(null);\n                    return;\n                }\n                const carto = ellipsoid.cartesianToCartographic(cartesian);\n                const clamped = Cesium1.Cartesian3.fromRadians(carto.longitude, carto.latitude, 0.0);\n                frUpdatePreview(clamped);\n            }, Cesium1.ScreenSpaceEventType.MOUSE_MOVE);\n            handler.setInputAction(()=>{\n                frFinalizeArea();\n            }, Cesium1.ScreenSpaceEventType.RIGHT_CLICK);\n            // Coordinates (exact Frontrunner style)\n            coordDisplay1 = document.createElement(\"div\");\n            coordDisplay1.id = \"mouse-coordinates\";\n            coordDisplay1.style.cssText = `\n              position: absolute;\n              bottom: 20px;\n              right: 20px;\n              background: rgba(50, 50, 50, 0.92);\n              color: white;\n              padding: 12px 16px;\n              border-radius: 9px;\n              font-family: 'Segoe UI', -apple-system, BlinkMacSystemFont, sans-serif;\n              font-size: 12px;\n              font-weight: 400;\n              box-shadow: 0 4px 16px rgba(0, 0, 0, 0.3);\n              backdrop-filter: blur(12px);\n              border: none;\n              z-index: 1000;\n              min-width: 160px;\n              text-align: left;\n              display: block;\n              line-height: 1.35;\n            `;\n            document.body.appendChild(coordDisplay1);\n            coordHandler1 = new Cesium1.ScreenSpaceEventHandler(viewer.scene.canvas);\n            coordHandler1.setInputAction((movement)=>{\n                const cartesian = viewer.scene.pickPosition(movement.endPosition);\n                if (Cesium1.defined(cartesian)) {\n                    const cart = Cesium1.Cartographic.fromCartesian(cartesian);\n                    const lng = Cesium1.Math.toDegrees(cart.longitude).toFixed(6);\n                    const lat = Cesium1.Math.toDegrees(cart.latitude).toFixed(6);\n                    coordDisplay1.innerHTML = `\n                      <div style=\"display: flex; justify-content: space-between; margin-bottom: 4px;\">\n                        <span style=\"color: #a0a0a0; font-weight: 400;\">Lat:</span>\n                        <span style=\"color: white; font-weight: 500; font-variant-numeric: tabular-nums;\">${lat}°</span>\n                      </div>\n                      <div style=\"display: flex; justify-content: space-between;\">\n                        <span style=\"color: #a0a0a0; font-weight: 400;\">Lng:</span>\n                        <span style=\"color: white; font-weight: 500; font-variant-numeric: tabular-nums;\">${lng}°</span>\n                      </div>\n                    `;\n                    coordDisplay1.style.display = \"block\";\n                }\n            }, Cesium1.ScreenSpaceEventType.MOUSE_MOVE);\n        } catch (e) {\n            setMapError(e.message);\n        }\n        return ()=>{\n            if (measurementHandlerRef.current) {\n                measurementHandlerRef.current.destroy();\n                measurementHandlerRef.current = null;\n            }\n            if (coordHandler && !coordHandler.isDestroyed()) {\n                coordHandler.destroy();\n            }\n            if (coordDisplay && coordDisplay.parentNode) {\n                coordDisplay.remove();\n            }\n            cesiumViewerRef.current?.destroy();\n        };\n    }, [\n        cesiumLoaded\n    ]);\n    // Tooltip Handler\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (!mapLoaded || !cesiumViewerRef.current) return;\n        const viewer = cesiumViewerRef.current;\n        const Cesium1 = window.Cesium;\n        const handler = new Cesium1.ScreenSpaceEventHandler(viewer.scene.canvas);\n        const tooltip = document.createElement(\"div\");\n        tooltip.style.cssText = `\n            position: absolute; display: none; pointer-events: none;\n            background: rgba(20, 20, 30, 0.95); color: white;\n            padding: 8px 12px; border-radius: 6px;\n            font-family: 'Inter', sans-serif; font-size: 12px;\n            box-shadow: 0 4px 12px rgba(0,0,0,0.4);\n            border: 1px solid rgba(255,255,255,0.15);\n            z-index: 10000; max-width: 300px;\n        `;\n        viewer.container.appendChild(tooltip);\n        handler.setInputAction((movement)=>{\n            const step = getTurnCurrentStep?.();\n            if (step === \"selecting_source\" || step === \"selecting_destination\") {\n                tooltip.style.display = \"none\";\n                viewer.container.style.cursor = \"default\";\n                return;\n            }\n            const pickedObject = viewer.scene.pick(movement.endPosition);\n            if (pickedObject && pickedObject.id && pickedObject.id.properties) {\n                const content = formatTooltipContent(pickedObject.id);\n                if (content) {\n                    tooltip.style.display = \"block\";\n                    tooltip.innerHTML = content;\n                    // Position tooltip near mouse but not under it\n                    const x = movement.endPosition.x + 15;\n                    const y = movement.endPosition.y + 15;\n                    tooltip.style.left = `${x}px`;\n                    tooltip.style.top = `${y}px`;\n                    // Keep within bounds\n                    const containerRect = viewer.container.getBoundingClientRect();\n                    if (x + tooltip.offsetWidth > containerRect.width) {\n                        tooltip.style.left = `${movement.endPosition.x - tooltip.offsetWidth - 10}px`;\n                    }\n                    if (y + tooltip.offsetHeight > containerRect.height) {\n                        tooltip.style.top = `${movement.endPosition.y - tooltip.offsetHeight - 10}px`;\n                    }\n                    viewer.container.style.cursor = \"pointer\";\n                    return;\n                }\n            }\n            tooltip.style.display = \"none\";\n            viewer.container.style.cursor = \"default\";\n        }, Cesium1.ScreenSpaceEventType.MOUSE_MOVE);\n        return ()=>{\n            handler.destroy();\n            if (tooltip.parentNode) tooltip.parentNode.removeChild(tooltip);\n        };\n    }, [\n        mapLoaded\n    ]);\n    // Click Handler for Dialog\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (!mapLoaded || !cesiumViewerRef.current) return;\n        const viewer = cesiumViewerRef.current;\n        const Cesium1 = window.Cesium;\n        const handler = new Cesium1.ScreenSpaceEventHandler(viewer.scene.canvas);\n        handler.setInputAction((click)=>{\n            // Short-circuit to turn-path selection: no info dialog while selecting\n            const step = getTurnCurrentStep?.();\n            if (step === \"selecting_source\" || step === \"selecting_destination\") {\n                const drill = viewer.scene.drillPick(click.position);\n                const picked = drill && drill[0] || viewer.scene.pick(click.position);\n                if (picked && picked.id) {\n                    handleTurnPathClick(picked.id);\n                }\n                return; // always suppress info dialog while selecting\n            }\n            // Look at *all* primitives under the cursor\n            const picked = viewer.scene.drillPick(click.position) || [];\n            // Prefer locations / intersections over roads when overlapping\n            let pickedObject = picked.find((o)=>{\n                if (!o.id || !o.id.properties || !o.id.properties.category) return false;\n                const catProp = o.id.properties.category;\n                const cat = catProp.getValue ? catProp.getValue(window.Cesium.JulianDate.now()) : catProp;\n                return cat === \"dispatch_location\" || cat === \"dispatch_intersection\";\n            }) || picked[0];\n            if (Cesium1.defined(pickedObject) && pickedObject.id && pickedObject.id.properties) {\n                const entity = pickedObject.id;\n                const allProperties = {};\n                // Extract properties\n                const propertyNames = entity.properties.propertyNames || Object.keys(entity.properties);\n                propertyNames.forEach((propName)=>{\n                    // Skip internal Cesium properties\n                    if (propName.startsWith(\"_\") || propName === \"propertyNames\" || propName === \"definitionChanged\" || propName === \"color\" || propName === \"style_role\") return;\n                    try {\n                        const prop = entity.properties[propName];\n                        if (prop && typeof prop.getValue === \"function\") {\n                            const val = prop.getValue(Cesium1.JulianDate.now());\n                            if (val !== undefined && val !== null) allProperties[propName] = val;\n                        } else if (prop !== undefined && prop !== null) {\n                            allProperties[propName] = prop;\n                        }\n                    } catch (e) {}\n                });\n                // Also try direct properties if not found above\n                if (entity.properties.category && !allProperties.category) {\n                    allProperties.category = entity.properties.category.getValue ? entity.properties.category.getValue() : entity.properties.category;\n                }\n                if (entity.properties.name && !allProperties.name) {\n                    allProperties.name = entity.properties.name.getValue ? entity.properties.name.getValue() : entity.properties.name;\n                }\n                // Clear previous highlights\n                viewer.entities.values.forEach((prevEntity)=>{\n                    if (prevEntity._originalMaterial) {\n                        if (prevEntity.corridor) {\n                            prevEntity.corridor.material = prevEntity._originalMaterial;\n                            prevEntity.corridor.outline = false;\n                        } else if (prevEntity.polygon) {\n                            prevEntity.polygon.material = prevEntity._originalMaterial;\n                            prevEntity.polygon.outline = false;\n                        }\n                        delete prevEntity._originalMaterial;\n                    }\n                });\n                // Highlight clicked entity\n                if (entity.corridor) {\n                    if (!entity._originalMaterial) entity._originalMaterial = entity.corridor.material;\n                    entity.corridor.material = Cesium1.Color.CYAN.withAlpha(1.0);\n                    entity.corridor.outline = true;\n                    entity.corridor.outlineColor = Cesium1.Color.YELLOW;\n                    entity.corridor.outlineWidth = 3;\n                } else if (entity.polygon) {\n                    if (!entity._originalMaterial) entity._originalMaterial = entity.polygon.material;\n                    entity.polygon.material = Cesium1.Color.CYAN.withAlpha(0.9);\n                    entity.polygon.outline = true;\n                    entity.polygon.outlineColor = Cesium1.Color.YELLOW;\n                    entity.polygon.outlineWidth = 3;\n                }\n                setDialogData({\n                    category: allProperties.category,\n                    name: allProperties.name || \"Unknown\",\n                    allProperties: allProperties\n                });\n                setDialogOpen(true);\n            } else {\n                // Clicked empty space\n                setDialogOpen(false);\n                setDialogData(null);\n                // Reset highlights\n                viewer.entities.values.forEach((prevEntity)=>{\n                    if (prevEntity._originalMaterial) {\n                        if (prevEntity.corridor) {\n                            prevEntity.corridor.material = prevEntity._originalMaterial;\n                            prevEntity.corridor.outline = false;\n                        } else if (prevEntity.polygon) {\n                            prevEntity.polygon.material = prevEntity._originalMaterial;\n                            prevEntity.polygon.outline = false;\n                        }\n                        delete prevEntity._originalMaterial;\n                    }\n                });\n            }\n        }, Cesium1.ScreenSpaceEventType.LEFT_CLICK);\n        return ()=>{\n            handler.destroy();\n        };\n    }, [\n        mapLoaded\n    ]);\n    // Center points renderer (magenta markers, like Frontrunner)\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const viewer = cesiumViewerRef.current;\n        if (!viewer || !viewer.entities) return;\n        // clear old\n        if (centerPointEntitiesRef.current.length) {\n            centerPointEntitiesRef.current.forEach((e)=>{\n                try {\n                    viewer.entities.remove(e);\n                } catch (_) {}\n            });\n            centerPointEntitiesRef.current = [];\n        }\n        if (!showCenterPoints || !Array.isArray(centerPoints)) {\n            viewer.scene?.requestRender();\n            return;\n        }\n        const Cesium1 = window.Cesium;\n        centerPoints.forEach((cp)=>{\n            if (cp.lon == null || cp.lat == null) return;\n            const pos = Cesium1.Cartesian3.fromDegrees(cp.lon, cp.lat, 2.0);\n            const ent = viewer.entities.add({\n                position: pos,\n                point: {\n                    pixelSize: 25,\n                    color: Cesium1.Color.MAGENTA,\n                    outlineColor: Cesium1.Color.WHITE,\n                    outlineWidth: 6,\n                    heightReference: Cesium1.HeightReference.RELATIVE_TO_GROUND,\n                    disableDepthTestDistance: Number.POSITIVE_INFINITY,\n                    scaleByDistance: new Cesium1.NearFarScalar(1.5e2, 3.0, 1.5e7, 1.5)\n                },\n                cylinder: {\n                    length: 2.0,\n                    topRadius: 0.8,\n                    bottomRadius: 0.8,\n                    material: Cesium1.Color.MAGENTA.withAlpha(0.9),\n                    outline: true,\n                    outlineColor: Cesium1.Color.WHITE,\n                    outlineWidth: 2,\n                    heightReference: Cesium1.HeightReference.RELATIVE_TO_GROUND\n                },\n                properties: {\n                    category: \"road_intersection_center\",\n                    road_id: cp.road_id,\n                    intersection_id: cp.intersection_id,\n                    intersection_name: cp.intersection_name\n                },\n                name: `Center Point ${cp.intersection_name || \"\"} (${cp.road_id || \"\"})`\n            });\n            centerPointEntitiesRef.current.push(ent);\n        });\n        viewer.scene?.requestRender();\n    }, [\n        centerPoints,\n        showCenterPoints\n    ]);\n    // Base Layer Logic\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (!cesiumViewerRef.current || !window.Cesium) return;\n        const viewer = cesiumViewerRef.current;\n        const Cesium1 = window.Cesium;\n        let cancelled = false;\n        const updateBaseLayer = async ()=>{\n            viewer.imageryLayers.removeAll();\n            let provider;\n            switch(baseLayer){\n                case \"night\":\n                    provider = new Cesium1.UrlTemplateImageryProvider({\n                        url: \"https://a.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}.png\",\n                        credit: \"\\xa9 OpenStreetMap contributors, \\xa9 CARTO\"\n                    });\n                    break;\n                case \"day\":\n                    provider = new Cesium1.UrlTemplateImageryProvider({\n                        url: \"https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}\",\n                        credit: \"\\xa9 Esri, DigitalGlobe, GeoEye, Earthstar Geographics, CNES/Airbus DS, USDA, USGS, AeroGRID, IGN, and the GIS User Community\"\n                    });\n                    break;\n                case \"topographic\":\n                    provider = new Cesium1.UrlTemplateImageryProvider({\n                        url: \"https://{s}.tile.opentopomap.org/{z}/{x}/{y}.png\",\n                        credit: \"\\xa9 OpenTopoMap contributors\",\n                        subdomains: [\n                            \"a\",\n                            \"b\",\n                            \"c\"\n                        ]\n                    });\n                    break;\n                case \"terrain\":\n                    provider = new Cesium1.UrlTemplateImageryProvider({\n                        url: \"https://tiles.stadiamaps.com/tiles/stamen_terrain/{z}/{x}/{y}.png\",\n                        credit: \"\\xa9 Stadia Maps \\xa9 Stamen Design \\xa9 OpenMapTiles \\xa9 OpenStreetMap contributors\"\n                    });\n                    break;\n                default:\n                    provider = new Cesium1.UrlTemplateImageryProvider({\n                        url: \"https://a.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}.png\",\n                        credit: \"\\xa9 OpenStreetMap contributors, \\xa9 CARTO\"\n                    });\n            }\n            if (!cancelled) {\n                viewer.imageryLayers.addImageryProvider(provider);\n                // Ensure base color is dark for night mode or general consistency\n                viewer.scene.globe.baseColor = Cesium1.Color.fromCssColorString(\"#1a1a2e\");\n            }\n        };\n        updateBaseLayer();\n        return ()=>{\n            cancelled = true;\n        };\n    }, [\n        baseLayer,\n        mapLoaded\n    ]);\n    // Scene mode toggle (2D vs 3D)\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (!mapLoaded || !cesiumViewerRef.current || !window.Cesium) return;\n        const viewer = cesiumViewerRef.current;\n        const Cesium1 = window.Cesium;\n        if (sceneMode === \"2d\") {\n            viewer.scene.morphTo2D(0);\n        } else {\n            viewer.scene.morphTo3D(0);\n        }\n    }, [\n        sceneMode,\n        mapLoaded\n    ]);\n    // Load Data (combined API)\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (!mapLoaded) return;\n        const load = async ()=>{\n            try {\n                const res = await fetch(\"/api/combined-map-data\");\n                const data = await res.json();\n                // Show everything from the combined API (both dispatch and frontrunner)\n                const roads = data?.roads || [];\n                const intersections = data?.intersections || [];\n                const infrastructure = data?.infrastructure || [];\n                const apiSegments = data?.segments || [];\n                const mappedSegments = (apiSegments.length ? apiSegments : roads).map((s)=>({\n                        lane_id: s.lane_id || s.road_id,\n                        road_id: s.road_id || s.lane_id,\n                        geometry: s.geometry_geojson || s.geometry || s.centerline_geojson,\n                        is_closed: s.is_closed,\n                        direction: s.direction ?? null,\n                        length_m: s.length_m ?? null\n                    }));\n                const mappedLocations = infrastructure.map((p)=>{\n                    let lat = null, lon = null;\n                    try {\n                        const gj = p.point_geojson ? JSON.parse(p.point_geojson) : null;\n                        if (gj && gj.type === \"Point\" && Array.isArray(gj.coordinates)) {\n                            [lon, lat] = gj.coordinates;\n                        }\n                    } catch (_) {}\n                    return {\n                        location_id: p.location_id,\n                        location_name: p.location_name || \"\",\n                        latitude: lat,\n                        longitude: lon,\n                        geometry: p.geom_geojson || p.geometry || null,\n                        unit_type: p.unit_type || p.location_category || p.unit_type_id || p.unit_id || p.source || \"infrastructure\",\n                        location_category: p.location_category || p.unit_type || p.unit_type_id || p.unit_id || p.source || \"infrastructure\",\n                        unit_type_id: p.unit_type_id || p.unit_id || null,\n                        source: p.source || \"\"\n                    };\n                }).filter((p)=>Number.isFinite(p.latitude) && Number.isFinite(p.longitude));\n                const mappedIntersections = intersections.map((i)=>({\n                        ...i,\n                        geometry: i.geom_geojson || i.geometry\n                    }));\n                // Debug: log counts and top types\n                const typeCounts = {};\n                mappedLocations.forEach((loc)=>{\n                    const t = resolveDispatchLocationType(loc);\n                    typeCounts[t] = (typeCounts[t] || 0) + 1;\n                });\n                // Log a few sample locations with resolved type\n                console.log(\"[CombinedMap][Data]\", {\n                    roads: roads.length,\n                    segments: mappedSegments.length,\n                    intersections: mappedIntersections.length,\n                    infrastructure: mappedLocations.length,\n                    typeCounts,\n                    samples: mappedLocations.slice(0, 5).map((loc)=>({\n                            location_id: loc.location_id,\n                            source: loc.source,\n                            unit_type: loc.unit_type,\n                            unit_type_id: loc.unit_type_id,\n                            resolved_type: resolveDispatchLocationType(loc)\n                        }))\n                });\n                setLocations(mappedLocations);\n                setSegments(mappedSegments);\n                setTrolleySegments(data?.trolleySegments || []);\n                setWateringStations(data?.wateringStations || []);\n                setSpeedMonitoring(data?.speedMonitoring || []);\n                setIntersections(mappedIntersections);\n                // Build visible types from the resolved types present in the payload\n                const resolvedTypes = Array.from(new Set(mappedLocations.map((loc)=>resolveDispatchLocationType(loc))));\n                const visibleSet = new Set();\n                resolvedTypes.forEach((t)=>{\n                    const key = String(t).trim().toLowerCase();\n                    const isNumeric = /^[0-9]+$/.test(key);\n                    if (SQUARE_TYPES.has(key) || isNumeric) {\n                        visibleSet.add(t);\n                    }\n                });\n                SQUARE_TYPES.forEach((t)=>visibleSet.add(t));\n                setVisibleLocationTypes(visibleSet);\n                console.log(`[CombinedMap] Loaded data:\n                  - Locations: ${mappedLocations.length}\n                  - Segments: ${mappedSegments.length}\n                  - Intersections: ${mappedIntersections.length}`);\n            } catch (e) {\n                console.error(e);\n            }\n        };\n        load();\n    }, [\n        mapLoaded\n    ]);\n    // Render\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (!cesiumViewerRef.current || !window.Cesium) return;\n        const viewer = cesiumViewerRef.current;\n        const Cesium1 = window.Cesium;\n        // Clear existing entities\n        viewer.entities.removeAll();\n        // Helper function to compute an offset polyline (for road edges)\n        const computeOffsetLine = (positions, offsetMeters)=>{\n            const Cesium1 = window.Cesium;\n            const ellipsoid = Cesium1.Ellipsoid.WGS84;\n            const offsetPositions = [];\n            const direction = new Cesium1.Cartesian3();\n            const up = new Cesium1.Cartesian3();\n            const right = new Cesium1.Cartesian3();\n            const n = positions.length;\n            if (n === 0) return offsetPositions;\n            if (n === 1) {\n                offsetPositions.push(positions[0]);\n                return offsetPositions;\n            }\n            for(let i = 0; i < n; i++){\n                const cur = positions[i];\n                // ---- choose a forward vector with CONSISTENT orientation ----\n                if (i === 0) {\n                    // first: use next - current\n                    Cesium1.Cartesian3.subtract(positions[1], cur, direction);\n                } else if (i === n - 1) {\n                    // last: use current - previous\n                    Cesium1.Cartesian3.subtract(cur, positions[n - 2], direction);\n                } else {\n                    // middle: average prev and next directions for smoother corners\n                    const d1 = new Cesium1.Cartesian3();\n                    const d2 = new Cesium1.Cartesian3();\n                    Cesium1.Cartesian3.subtract(cur, positions[i - 1], d1);\n                    Cesium1.Cartesian3.subtract(positions[i + 1], cur, d2);\n                    if (Cesium1.Cartesian3.magnitudeSquared(d1) > Cesium1.Math.EPSILON10) Cesium1.Cartesian3.normalize(d1, d1);\n                    if (Cesium1.Cartesian3.magnitudeSquared(d2) > Cesium1.Math.EPSILON10) Cesium1.Cartesian3.normalize(d2, d2);\n                    Cesium1.Cartesian3.add(d1, d2, direction);\n                }\n                // zero-length safety\n                if (Cesium1.Cartesian3.magnitudeSquared(direction) < Cesium1.Math.EPSILON10) {\n                    offsetPositions.push(cur);\n                    continue;\n                }\n                Cesium1.Cartesian3.normalize(direction, direction);\n                if (isNaN(direction.x) || isNaN(direction.y) || isNaN(direction.z)) {\n                    offsetPositions.push(cur);\n                    continue;\n                }\n                // local \"up\" (normal to ellipsoid at this point)\n                ellipsoid.geodeticSurfaceNormal(cur, up);\n                // right = direction x up  (perpendicular to road, tangent to ground)\n                Cesium1.Cartesian3.cross(direction, up, right);\n                if (Cesium1.Cartesian3.magnitudeSquared(right) < Cesium1.Math.EPSILON10) {\n                    offsetPositions.push(cur);\n                    continue;\n                }\n                Cesium1.Cartesian3.normalize(right, right);\n                if (isNaN(right.x) || isNaN(right.y) || isNaN(right.z)) {\n                    offsetPositions.push(cur);\n                    continue;\n                }\n                const offset = Cesium1.Cartesian3.multiplyByScalar(right, offsetMeters, new Cesium1.Cartesian3());\n                const finalPos = Cesium1.Cartesian3.add(cur, offset, new Cesium1.Cartesian3());\n                if (isNaN(finalPos.x) || isNaN(finalPos.y) || isNaN(finalPos.z)) {\n                    offsetPositions.push(cur);\n                } else {\n                    offsetPositions.push(finalPos);\n                }\n            }\n            return offsetPositions;\n        };\n        // Helper: Filter unique positions to prevent zero-length segments\n        const filterUniquePositions = (positions)=>{\n            if (!positions || positions.length < 2) return positions;\n            return positions.filter((p, idx)=>{\n                if (idx === 0) return true;\n                const prev = positions[idx - 1];\n                return Cesium1.Cartesian3.distanceSquared(p, prev) > 0.0001; // 1cm^2 threshold\n            });\n        };\n        // Helper: bearing (heading) of the nearest road segment to a location.\n        // Returns heading in radians, measured clockwise from NORTH.\n        const getNearestRoadBearing = (location, segments)=>{\n            const locCart = Cesium1.Cartesian3.fromDegrees(location.longitude, location.latitude);\n            let minDistance = Infinity;\n            let bestBearing = 0;\n            segments.forEach((s)=>{\n                const g = typeof s.geometry === \"string\" ? JSON.parse(s.geometry) : s.geometry;\n                if (!g?.coordinates || g.coordinates.length < 2) return;\n                const coords = g.coordinates;\n                for(let i = 0; i < coords.length - 1; i++){\n                    const c1Raw = coords[i];\n                    const c2Raw = coords[i + 1];\n                    if (!Number.isFinite(c1Raw[0]) || !Number.isFinite(c1Raw[1]) || !Number.isFinite(c2Raw[0]) || !Number.isFinite(c2Raw[1])) {\n                        continue;\n                    }\n                    const p1 = Cesium1.Cartesian3.fromDegrees(c1Raw[0], c1Raw[1]);\n                    const p2 = Cesium1.Cartesian3.fromDegrees(c2Raw[0], c2Raw[1]);\n                    // use segment midpoint as \"position\" to compare distance\n                    const mid = Cesium1.Cartesian3.multiplyByScalar(Cesium1.Cartesian3.add(p1, p2, new Cesium1.Cartesian3()), 0.5, new Cesium1.Cartesian3());\n                    const distSq = Cesium1.Cartesian3.distanceSquared(locCart, mid);\n                    if (distSq >= minDistance) continue;\n                    // closer -> update bearing\n                    minDistance = distSq;\n                    const c1 = Cesium1.Cartographic.fromDegrees(c1Raw[0], c1Raw[1]);\n                    const c2 = Cesium1.Cartographic.fromDegrees(c2Raw[0], c2Raw[1]);\n                    const dLon = c2.longitude - c1.longitude;\n                    const y = Math.sin(dLon) * Math.cos(c2.latitude);\n                    const x = Math.cos(c1.latitude) * Math.sin(c2.latitude) - Math.sin(c1.latitude) * Math.cos(c2.latitude) * Math.cos(dLon);\n                    // heading from NORTH, clockwise, in radians\n                    bestBearing = Math.atan2(y, x);\n                }\n            });\n            return isNaN(bestBearing) ? 0 : bestBearing;\n        };\n        // Helper: 50m x 50m square polygon, rotated by angleFromEast (radians), in ENU frame\n        const computeSquarePolygon = (centerCartesian, sizeMeters, angleFromEast)=>{\n            if (isNaN(angleFromEast) || !centerCartesian) return null;\n            const half = sizeMeters / 2.0;\n            // ENU (East-North-Up) local frame at the center\n            const transform = Cesium1.Transforms.eastNorthUpToFixedFrame(centerCartesian);\n            const cos = Math.cos(angleFromEast);\n            const sin = Math.sin(angleFromEast);\n            // square corners in local ENU before rotation (meters)\n            const baseCorners = [\n                {\n                    x: -half,\n                    y: -half\n                },\n                {\n                    x: half,\n                    y: -half\n                },\n                {\n                    x: half,\n                    y: half\n                },\n                {\n                    x: -half,\n                    y: half\n                }\n            ];\n            const result = baseCorners.map((c)=>{\n                // rotate in ENU\n                const rx = c.x * cos - c.y * sin;\n                const ry = c.x * sin + c.y * cos;\n                const localPos = new Cesium1.Cartesian3(rx, ry, 0.0);\n                return Cesium1.Matrix4.multiplyByPoint(transform, localPos, new Cesium1.Cartesian3());\n            });\n            // Validate result for NaNs\n            for (const p of result){\n                if (isNaN(p.x) || isNaN(p.y) || isNaN(p.z)) return null;\n            }\n            return result;\n        };\n        // Exact theme (only using the colors now)\n        const NIGHT_THEME = {\n            // Dark asphalt surfaces; edge color carries status\n            roadSurfaceColorOpen: \"#2C2F3A\",\n            roadSurfaceColorClosed: \"#2C2F3A\",\n            roadSurfaceAlpha: 0.98,\n            roadShoulderColorOpen: \"#2C2F3A\",\n            roadShoulderColorClosed: \"#2C2F3A\",\n            roadShoulderAlpha: 0.98,\n            polygonOutlineColor: \"#A0A0A0\",\n            polygonOutlineAlpha: 0.95,\n            polygonOutlineWidth: 2.2,\n            // Intersection styling: red fill, white outline\n            intersectionFillColor: \"#E74C3C\",\n            intersectionFillAlpha: 1.0,\n            intersectionOutlineColor: \"#FFFFFF\",\n            intersectionOutlineAlpha: 1.0\n        };\n        // ----- cross-section constants -----\n        // total width (forward + backward + centre white line)\n        const TOTAL_ROAD_WIDTH = 40.0; // metres\n        const CENTERLINE_WIDTH = 1.0; // metres\n        // each direction (incl. its shoulder) gets half of the remaining width\n        const LANE_TOTAL_WIDTH = (TOTAL_ROAD_WIDTH - CENTERLINE_WIDTH) / 2.0; // 19.5 m\n        const HALF_LANE_TOTAL_WIDTH = LANE_TOTAL_WIDTH / 2.0; // 9.75 m\n        // make the asphalt slightly narrower than the lane (so there is a subtle shoulder)\n        const LANE_SHOULDER_PADDING = 1.0; // m each side\n        const LANE_SURFACE_WIDTH = LANE_TOTAL_WIDTH - 2 * LANE_SHOULDER_PADDING; // 17.5 m\n        // distance from the global centreline to the centre of each carriageway\n        // = half centreline + half lane width\n        const LANE_CENTER_OFFSET_MAG = CENTERLINE_WIDTH / 2.0 + HALF_LANE_TOTAL_WIDTH; // 0.5 + 9.75 = 10.25 m\n        // ROAD SEGMENTS\n        segments.forEach((s)=>{\n            const closed = isDispatchSegmentClosed(s);\n            if (!(closed && showClosedRoads || !closed && showOpenRoads)) return;\n            try {\n                const surfaceColor = Cesium1.Color.fromCssColorString(closed ? NIGHT_THEME.roadSurfaceColorClosed : NIGHT_THEME.roadSurfaceColorOpen).withAlpha(NIGHT_THEME.roadSurfaceAlpha);\n                const shoulderColor = Cesium1.Color.fromCssColorString(closed ? NIGHT_THEME.roadShoulderColorClosed : NIGHT_THEME.roadShoulderColorOpen).withAlpha(NIGHT_THEME.roadShoulderAlpha);\n                const edgeColor = closed ? Cesium1.Color.fromCssColorString(\"#E74C3C\") : Cesium1.Color.fromCssColorString(\"#FFD600\");\n                const centerlineColor = Cesium1.Color.WHITE;\n                const g = typeof s.geometry === \"string\" ? JSON.parse(s.geometry) : s.geometry;\n                if (!g?.coordinates) return;\n                // If Frontrunner road geometries arrive as polygons, render them as filled polygons.\n                if (g.type === \"Polygon\" || g.type === \"MultiPolygon\") {\n                    const polys = g.type === \"Polygon\" ? [\n                        g.coordinates\n                    ] : g.coordinates;\n                    polys.forEach((coords)=>{\n                        const hierarchy = parsePolygonHierarchy({\n                            type: \"Polygon\",\n                            coordinates: coords\n                        });\n                        if (hierarchy && hierarchy.positions && hierarchy.positions.length >= 3 && arePositionsValid(hierarchy.positions)) {\n                            viewer.entities.add({\n                                polygon: {\n                                    hierarchy,\n                                    material: surfaceColor,\n                                    outline: true,\n                                    outlineColor: edgeColor,\n                                    height: 0.0\n                                },\n                                properties: {\n                                    category: \"frontrunner_road_polygon\",\n                                    ...s\n                                }\n                            });\n                        }\n                    });\n                    return; // handled polygon case; skip corridor rendering\n                }\n                let allLineStrings = [];\n                if (g.type === \"MultiLineString\") {\n                    allLineStrings = g.coordinates;\n                } else if (g.type === \"LineString\") {\n                    allLineStrings = [\n                        g.coordinates\n                    ];\n                } else {\n                    return;\n                }\n                allLineStrings.forEach((coordinates)=>{\n                    // Validate coordinates structure\n                    if (!coordinates || !Array.isArray(coordinates) || coordinates.length < 2) return;\n                    // Filter invalid coordinates (NaN, etc)\n                    const validCoords = coordinates.filter((c)=>Array.isArray(c) && c.length >= 2 && Number.isFinite(c[0]) && Number.isFinite(c[1]));\n                    if (validCoords.length < 2) return;\n                    const rawPositions = validCoords.map((c)=>Cesium1.Cartesian3.fromDegrees(c[0], c[1]));\n                    // Filter duplicates and points that are too close (within 1cm)\n                    const positions = filterUniquePositions(rawPositions);\n                    if (positions.length < 2) return;\n                    // Extra guard for NaNs/degeneracy\n                    const spanOk = positions.every((p)=>Number.isFinite(p.x) && Number.isFinite(p.y) && Number.isFinite(p.z));\n                    if (!spanOk) return;\n                    const bbox = positions.reduce((acc, p)=>{\n                        acc.minX = Math.min(acc.minX, p.x);\n                        acc.maxX = Math.max(acc.maxX, p.x);\n                        acc.minY = Math.min(acc.minY, p.y);\n                        acc.maxY = Math.max(acc.maxY, p.y);\n                        acc.minZ = Math.min(acc.minZ, p.z);\n                        acc.maxZ = Math.max(acc.maxZ, p.z);\n                        return acc;\n                    }, {\n                        minX: Infinity,\n                        maxX: -Infinity,\n                        minY: Infinity,\n                        maxY: -Infinity,\n                        minZ: Infinity,\n                        maxZ: -Infinity\n                    });\n                    const span = Math.max(bbox.maxX - bbox.minX, bbox.maxY - bbox.minY, bbox.maxZ - bbox.minZ);\n                    if (!Number.isFinite(span) || span < 0.1) return;\n                    // ----- decide which side this lane sits on -----\n                    const dir = (s.direction || \"\").toString().toLowerCase();\n                    let dirSign = 0; // 0 = centred (if no direction), +1 = one side, -1 = opposite\n                    if (dir.includes(\"forward\")) dirSign = 1;\n                    else if (dir.includes(\"backward\")) dirSign = -1;\n                    const laneCenterOffset = dirSign * LANE_CENTER_OFFSET_MAG;\n                    // centreline of this *lane* (shifted left/right from global centreline)\n                    let lanePositions = laneCenterOffset === 0 ? positions : computeOffsetLine(positions, laneCenterOffset);\n                    // Final filter to ensure no duplicates after offset calculation\n                    lanePositions = filterUniquePositions(lanePositions);\n                    // Verify lanePositions after offset calculation\n                    if (!lanePositions || lanePositions.length < 2) return;\n                    // Colours: dark fill, edges indicate status (open yellow, closed red)\n                    // 1. Lane shoulder (full lane width, shifted to its side)\n                    viewer.entities.add({\n                        corridor: {\n                            positions: lanePositions,\n                            width: LANE_TOTAL_WIDTH,\n                            material: shoulderColor,\n                            height: 0.0,\n                            cornerType: Cesium1.CornerType.MITERED,\n                            outline: false\n                        },\n                        properties: {\n                            category: \"dispatch_segment\",\n                            style_role: \"road_shoulder\",\n                            ...s\n                        }\n                    });\n                    // 2. Lane asphalt surface (slightly narrower)\n                    viewer.entities.add({\n                        corridor: {\n                            positions: lanePositions,\n                            width: LANE_SURFACE_WIDTH,\n                            material: surfaceColor,\n                            height: 0.18,\n                            cornerType: Cesium1.CornerType.MITERED,\n                            outline: false\n                        },\n                        properties: {\n                            category: \"dispatch_segment\",\n                            style_role: \"road_surface\",\n                            ...s\n                        }\n                    });\n                    // 3. Centerline (dashed line)\n                    viewer.entities.add({\n                        polyline: {\n                            positions: lanePositions,\n                            width: CENTERLINE_WIDTH,\n                            material: new Cesium1.PolylineDashMaterialProperty({\n                                color: centerlineColor,\n                                dashLength: 16.0\n                            }),\n                            arcType: Cesium1.ArcType.GEODESIC\n                        },\n                        properties: {\n                            category: \"dispatch_segment\",\n                            style_role: \"road_centerline\",\n                            ...s\n                        }\n                    });\n                    // 4. Edges (solid lines)\n                    // Left edge\n                    const leftEdgeOffset = -HALF_LANE_TOTAL_WIDTH;\n                    let leftEdgePositions = computeOffsetLine(lanePositions, leftEdgeOffset);\n                    leftEdgePositions = filterUniquePositions(leftEdgePositions);\n                    if (leftEdgePositions && leftEdgePositions.length >= 2) {\n                        viewer.entities.add({\n                            polyline: {\n                                positions: leftEdgePositions,\n                                width: 2.0,\n                                material: edgeColor,\n                                arcType: Cesium1.ArcType.GEODESIC\n                            },\n                            properties: {\n                                category: \"dispatch_segment\",\n                                style_role: \"road_edge_left\",\n                                ...s\n                            }\n                        });\n                    }\n                    // Right edge\n                    const rightEdgeOffset = HALF_LANE_TOTAL_WIDTH;\n                    let rightEdgePositions = computeOffsetLine(lanePositions, rightEdgeOffset);\n                    rightEdgePositions = filterUniquePositions(rightEdgePositions);\n                    if (rightEdgePositions && rightEdgePositions.length >= 2) {\n                        viewer.entities.add({\n                            polyline: {\n                                positions: rightEdgePositions,\n                                width: 2.0,\n                                material: edgeColor,\n                                arcType: Cesium1.ArcType.GEODESIC\n                            },\n                            properties: {\n                                category: \"dispatch_segment\",\n                                style_role: \"road_edge_right\",\n                                ...s\n                            }\n                        });\n                    }\n                });\n            } catch (e) {\n                console.error(\"Error rendering segment\", s, e);\n            }\n        });\n        // OTHER LAYERS (trolley, intersections, etc.)\n        if (showTrolley) {\n            trolleySegments.forEach((t)=>{\n                try {\n                    if (!Number.isFinite(t.start_longitude) || !Number.isFinite(t.start_latitude) || !Number.isFinite(t.end_longitude) || !Number.isFinite(t.end_latitude)) {\n                        return;\n                    }\n                    viewer.entities.add({\n                        polyline: {\n                            positions: Cesium1.Cartesian3.fromDegreesArray([\n                                t.start_longitude,\n                                t.start_latitude,\n                                t.end_longitude,\n                                t.end_latitude\n                            ]),\n                            width: 5,\n                            material: Cesium1.Color.fromCssColorString(\"#FF6B6B\").withAlpha(0.9)\n                        },\n                        properties: {\n                            category: \"dispatch_trolley\",\n                            ...t\n                        }\n                    });\n                } catch (e) {\n                    console.error(\"Error rendering trolley segment\", t, e);\n                }\n            });\n        }\n        if (showIntersections) {\n            console.log(`Rendering ${intersections.length} intersections`);\n            intersections.forEach((i)=>{\n                try {\n                    const raw = i.geom_geojson || i.geometry;\n                    const hierarchy = parsePolygonHierarchy(raw);\n                    if (!hierarchy || !hierarchy.positions || hierarchy.positions.length < 3 || !arePositionsValid(hierarchy.positions)) {\n                        return;\n                    }\n                    viewer.entities.add({\n                        polygon: {\n                            hierarchy,\n                            material: Cesium1.Color.fromCssColorString(NIGHT_THEME.intersectionFillColor).withAlpha(NIGHT_THEME.intersectionFillAlpha),\n                            height: 0.6,\n                            outline: true,\n                            outlineColor: Cesium1.Color.fromCssColorString(NIGHT_THEME.intersectionOutlineColor).withAlpha(NIGHT_THEME.intersectionOutlineAlpha),\n                            outlineWidth: NIGHT_THEME.polygonOutlineWidth\n                        },\n                        properties: {\n                            category: \"dispatch_intersection\",\n                            ...i,\n                            part_index: 0\n                        }\n                    });\n                } catch (e) {\n                    console.error(\"Bad intersection geometry\", i, e);\n                }\n            });\n        }\n        locations.forEach((l)=>{\n            try {\n                if (!Number.isFinite(l.latitude) || !Number.isFinite(l.longitude)) return;\n                const type = resolveDispatchLocationType(l);\n                const typeLower = (type || \"\").toLowerCase();\n                const sourceLower = (l.source || \"\").toLowerCase();\n                const isNumericType = /^[0-9]+$/.test(typeLower);\n                if (!visibleLocationTypes.has(type)) {\n                    // console.log('[CombinedMap][Locations] Skip type not visible', {\n                    //     type,\n                    //     location_id: l.location_id,\n                    //     unit_type: l.unit_type,\n                    //     unit_type_id: l.unit_type_id,\n                    //     location_category: l.location_category,\n                    //     source: l.source,\n                    // });\n                    return;\n                }\n                const color = Cesium1.Color.fromCssColorString(getDispatchLocationColor(type));\n                const position = Cesium1.Cartesian3.fromDegrees(l.longitude, l.latitude, 2.0 // 2m above ground so locations sit clearly above the road surface\n                );\n                // If geometry is a polygon, render it; otherwise render square/point.\n                const rawGeom = l.geometry ? typeof l.geometry === \"string\" ? l.geometry : JSON.stringify(l.geometry) : null;\n                if (rawGeom) {\n                    const hierarchy = parsePolygonHierarchy(rawGeom);\n                    if (hierarchy && hierarchy.positions && hierarchy.positions.length >= 3 && arePositionsValid(hierarchy.positions)) {\n                        viewer.entities.add({\n                            polygon: {\n                                hierarchy,\n                                material: color.withAlpha(0.9),\n                                outline: true,\n                                outlineColor: Cesium1.Color.WHITE,\n                                perPositionHeight: true\n                            },\n                            properties: {\n                                category: \"frontrunner_location\",\n                                ...l\n                            }\n                        });\n                        return;\n                    }\n                }\n                const showSquare = SQUARE_TYPES.has(typeLower) || isNumericType;\n                if (!showSquare) {\n                    return; // skip all non-target types\n                }\n                // Render square pad for allowed types\n                const bearingFromNorth = getNearestRoadBearing(l, segments);\n                const angleFromEast = -bearingFromNorth; // perpendicular to road\n                const squarePositions = computeSquarePolygon(position, 40.0, angleFromEast);\n                if (squarePositions && arePositionsValid(squarePositions)) {\n                    const hierarchy = new Cesium1.PolygonHierarchy(squarePositions);\n                    viewer.entities.add({\n                        polygon: {\n                            hierarchy,\n                            material: color.withAlpha(1.0),\n                            outline: true,\n                            outlineColor: Cesium1.Color.WHITE,\n                            perPositionHeight: true // use the actual heights in hierarchy (≈2m)\n                        },\n                        properties: {\n                            category: \"dispatch_location\",\n                            ...l\n                        }\n                    });\n                } else {\n                // console.log('[CombinedMap][Locations] Invalid square geometry, skipping', {\n                //     type,\n                //     location_id: l.location_id,\n                //     unit_type: l.unit_type,\n                //     unit_type_id: l.unit_type_id,\n                //     location_category: l.location_category,\n                //     source: l.source,\n                // });\n                }\n            // If invalid square, skip (no point fallback)\n            } catch (e) {\n                console.error(\"Error rendering location\", l, e);\n            }\n        });\n    }, [\n        locations,\n        segments,\n        trolleySegments,\n        wateringStations,\n        speedMonitoring,\n        intersections,\n        showOpenRoads,\n        showClosedRoads,\n        showIntersections,\n        showTrolley,\n        showWatering,\n        showSpeed,\n        visibleLocationTypes\n    ]);\n    const getCategoryDisplayName = (consolidatedCategory)=>{\n        const displayNames = {\n            \"pit\": \"Pit Locations\",\n            \"parking\": \"Parking Bay\",\n            \"crusher\": \"Crusher Operations\",\n            \"fuel\": \"Fuel Station\",\n            \"intersection\": \"Road Networks\",\n            \"dump\": \"Dump Site\",\n            \"blast\": \"Blast Area\",\n            \"stockpile\": \"Stockpile\",\n            \"workshop\": \"Workshop\",\n            \"gate\": \"Gate\",\n            \"access\": \"Access Point\",\n            \"default\": \"Other\"\n        };\n        if (displayNames[consolidatedCategory]) {\n            return displayNames[consolidatedCategory];\n        }\n        const categoryStr = String(consolidatedCategory || \"Other\");\n        return categoryStr.split(\"_\").map((word)=>word.charAt(0).toUpperCase() + word.slice(1)).join(\" \");\n    };\n    // --- Measurement helpers (mirror Frontrunner behavior) ---\n    const removePreviewEntities = (viewer)=>{\n        if (!viewer) return;\n        const refs = [\n            previewLineEntityRef,\n            previewLabelEntityRef\n        ];\n        refs.forEach((ref)=>{\n            if (ref.current) {\n                try {\n                    viewer.entities.remove(ref.current);\n                } catch (_) {}\n                ref.current = null;\n            }\n        });\n        viewer.scene?.requestRender();\n    };\n    const clearMeasurements = (viewer)=>{\n        if (!viewer) return;\n        measurementEntitiesRef.current.forEach((e)=>{\n            try {\n                viewer.entities.remove(e);\n            } catch (_) {}\n        });\n        overlayEntitiesRef.current.forEach((e)=>{\n            try {\n                viewer.entities.remove(e);\n            } catch (_) {}\n        });\n        removePreviewEntities(viewer);\n        measurementEntitiesRef.current = [];\n        overlayEntitiesRef.current = [];\n        measurementPointsRef.current = [];\n        areaLockedRef.current = false;\n        measurementModeRef.current = \"none\";\n        setMeasurementMode(\"none\");\n        viewer.scene?.requestRender();\n    };\n    const drawDistance = (viewer, points)=>{\n        overlayEntitiesRef.current.forEach((e)=>{\n            try {\n                viewer.entities.remove(e);\n            } catch (_) {}\n        });\n        overlayEntitiesRef.current = [];\n        const positions = points.map((p)=>p.cartesian);\n        const line = viewer.entities.add({\n            polyline: {\n                positions,\n                width: 4,\n                material: Cesium.Color.WHITE\n            }\n        });\n        measurementEntitiesRef.current.push(line);\n        overlayEntitiesRef.current.push(line);\n        const ellipsoid = viewer.scene.globe.ellipsoid;\n        const c1 = ellipsoid.cartesianToCartographic(positions[0]);\n        const c2 = ellipsoid.cartesianToCartographic(positions[1]);\n        const geodesic = new Cesium.EllipsoidGeodesic(c1, c2);\n        const distanceMeters = geodesic.surfaceDistance;\n        const distanceFeet = distanceMeters * 3.28084;\n        if (!Number.isFinite(distanceMeters) || distanceMeters < 0.01) {\n            // discard second point\n            const lastPoint = measurementEntitiesRef.current.pop();\n            try {\n                viewer.entities.remove(lastPoint);\n            } catch (_) {}\n            measurementPointsRef.current = [\n                points[0]\n            ];\n            viewer.scene?.requestRender();\n            return;\n        }\n        const metersText = `${distanceMeters.toFixed(2)} m`;\n        const feetText = `${distanceFeet.toFixed(2)} ft`;\n        const mid = Cesium.Cartesian3.lerp(positions[0], positions[1], 0.5, new Cesium.Cartesian3());\n        const label1 = viewer.entities.add({\n            position: mid,\n            label: {\n                text: metersText,\n                font: '22px bold \"Arial\", sans-serif',\n                fillColor: Cesium.Color.YELLOW,\n                outlineColor: Cesium.Color.BLACK,\n                outlineWidth: 4,\n                style: Cesium.LabelStyle.FILL_AND_OUTLINE,\n                verticalOrigin: Cesium.VerticalOrigin.CENTER,\n                horizontalOrigin: Cesium.HorizontalOrigin.CENTER,\n                pixelOffset: new Cesium.Cartesian2(0, -30),\n                disableDepthTestDistance: Number.POSITIVE_INFINITY\n            }\n        });\n        const label2 = viewer.entities.add({\n            position: mid,\n            label: {\n                text: feetText,\n                font: '20px bold \"Arial\", sans-serif',\n                fillColor: Cesium.Color.WHITE,\n                outlineColor: Cesium.Color.BLACK,\n                outlineWidth: 4,\n                style: Cesium.LabelStyle.FILL_AND_OUTLINE,\n                verticalOrigin: Cesium.VerticalOrigin.CENTER,\n                horizontalOrigin: Cesium.HorizontalOrigin.CENTER,\n                pixelOffset: new Cesium.Cartesian2(0, 30),\n                disableDepthTestDistance: Number.POSITIVE_INFINITY\n            }\n        });\n        measurementEntitiesRef.current.push(label1, label2);\n        overlayEntitiesRef.current.push(label1, label2);\n        areaLockedRef.current = true;\n        measurementModeRef.current = \"none\";\n        setMeasurementMode(\"none\");\n        viewer.scene?.requestRender();\n    };\n    const drawAreaPreview = (viewer, points)=>{\n        overlayEntitiesRef.current.forEach((e)=>{\n            try {\n                viewer.entities.remove(e);\n            } catch (_) {}\n        });\n        overlayEntitiesRef.current = [];\n        if (points.length < 2) return;\n        const positions = points.map((p)=>p.cartesian);\n        const polyline = viewer.entities.add({\n            polyline: {\n                positions,\n                width: 2,\n                material: Cesium.Color.CYAN.withAlpha(0.8)\n            }\n        });\n        overlayEntitiesRef.current.push(polyline);\n        viewer.scene?.requestRender();\n    };\n    const computeArea = (positions, ellipsoid)=>{\n        const origin = positions[0];\n        const enu = Cesium.Transforms.eastNorthUpToFixedFrame(origin, ellipsoid);\n        const inv = Cesium.Matrix4.inverseTransformation(enu, new Cesium.Matrix4());\n        const local = positions.map((p)=>{\n            const diff = Cesium.Cartesian3.subtract(p, origin, new Cesium.Cartesian3());\n            return Cesium.Matrix4.multiplyByPointAsVector(inv, diff, new Cesium.Cartesian3());\n        });\n        let area = 0;\n        for(let i = 0, j = local.length - 1; i < local.length; j = i++){\n            area += local[j].x * local[i].y - local[i].x * local[j].y;\n        }\n        return Math.abs(area) * 0.5;\n    };\n    const finalizeAreaMeasurement = (viewer)=>{\n        const pts = measurementPointsRef.current;\n        if (!viewer || pts.length < 3 || areaLockedRef.current) return;\n        overlayEntitiesRef.current.forEach((e)=>{\n            try {\n                viewer.entities.remove(e);\n            } catch (_) {}\n        });\n        overlayEntitiesRef.current = [];\n        removePreviewEntities(viewer);\n        const positions = pts.map((p)=>p.cartesian);\n        if (!arePositionsValid(positions)) {\n            measurementPointsRef.current = pts.slice(0, 1);\n            viewer.scene?.requestRender();\n            return;\n        }\n        const poly = viewer.entities.add({\n            polygon: {\n                hierarchy: new Cesium.PolygonHierarchy(positions),\n                material: Cesium.Color.YELLOW.withAlpha(0.25),\n                outline: true,\n                outlineColor: Cesium.Color.YELLOW,\n                outlineWidth: 2\n            }\n        });\n        measurementEntitiesRef.current.push(poly);\n        overlayEntitiesRef.current.push(poly);\n        const ellipsoid = viewer.scene.globe.ellipsoid;\n        const areaSqm = computeArea(positions, ellipsoid);\n        const areaSqft = areaSqm * 10.7639;\n        const centroid = positions.reduce((acc, cur)=>Cesium.Cartesian3.add(acc, cur, acc), new Cesium.Cartesian3());\n        Cesium.Cartesian3.multiplyByScalar(centroid, 1 / positions.length, centroid);\n        const label = viewer.entities.add({\n            position: centroid,\n            label: {\n                text: `${areaSqm.toFixed(2)} m² / ${areaSqft.toFixed(2)} ft²`,\n                font: '20px bold \"Arial\", sans-serif',\n                fillColor: Cesium.Color.YELLOW,\n                outlineColor: Cesium.Color.BLACK,\n                outlineWidth: 4,\n                style: Cesium.LabelStyle.FILL_AND_OUTLINE,\n                verticalOrigin: Cesium.VerticalOrigin.CENTER,\n                horizontalOrigin: Cesium.HorizontalOrigin.CENTER,\n                pixelOffset: new Cesium.Cartesian2(0, -20),\n                disableDepthTestDistance: Number.POSITIVE_INFINITY\n            }\n        });\n        measurementEntitiesRef.current.push(label);\n        overlayEntitiesRef.current.push(label);\n        areaLockedRef.current = true;\n        measurementModeRef.current = \"none\";\n        setMeasurementMode(\"none\");\n        viewer.scene?.requestRender();\n    };\n    const updatePreviewLine = (viewer, cursorCartesian)=>{\n        if (!viewer) return;\n        if (areaLockedRef.current) {\n            removePreviewEntities(viewer);\n            return;\n        }\n        const mode = measurementModeRef.current;\n        const pts = measurementPointsRef.current;\n        if (mode !== \"distance\" || pts.length !== 1) {\n            removePreviewEntities(viewer);\n            return;\n        }\n        if (!cursorCartesian) {\n            removePreviewEntities(viewer);\n            return;\n        }\n        const first = pts[0].cartesian;\n        removePreviewEntities(viewer);\n        previewLineEntityRef.current = viewer.entities.add({\n            polyline: {\n                positions: [\n                    first,\n                    cursorCartesian\n                ],\n                width: 3,\n                material: Cesium.Color.YELLOW.withAlpha(0.8)\n            }\n        });\n        const ellipsoid = viewer.scene.globe.ellipsoid;\n        const c1 = ellipsoid.cartesianToCartographic(first);\n        const c2 = ellipsoid.cartesianToCartographic(cursorCartesian);\n        const geodesic = new Cesium.EllipsoidGeodesic(c1, c2);\n        const distanceMeters = geodesic.surfaceDistance;\n        const distanceFeet = distanceMeters * 3.28084;\n        const text = `${distanceMeters.toFixed(2)} m / ${distanceFeet.toFixed(2)} ft`;\n        const mid = Cesium.Cartesian3.lerp(first, cursorCartesian, 0.5, new Cesium.Cartesian3());\n        previewLabelEntityRef.current = viewer.entities.add({\n            position: mid,\n            label: {\n                text,\n                font: '20px bold \"Arial\", sans-serif',\n                fillColor: Cesium.Color.YELLOW,\n                outlineColor: Cesium.Color.BLACK,\n                outlineWidth: 4,\n                style: Cesium.LabelStyle.FILL_AND_OUTLINE,\n                verticalOrigin: Cesium.VerticalOrigin.CENTER,\n                pixelOffset: new Cesium.Cartesian2(0, -25),\n                disableDepthTestDistance: Number.POSITIVE_INFINITY\n            }\n        });\n        viewer.scene?.requestRender();\n    };\n    const addMeasurementPoint = (viewer, cartesian)=>{\n        if (!viewer || !cartesian) return;\n        if (areaLockedRef.current) return;\n        const mode = measurementModeRef.current;\n        if (mode === \"none\") return;\n        const newPoint = {\n            id: (0,crypto__WEBPACK_IMPORTED_MODULE_3__.randomUUID)(),\n            cartesian\n        };\n        const newPoints = [\n            ...measurementPointsRef.current,\n            newPoint\n        ];\n        measurementPointsRef.current = newPoints;\n        const pointEntity = viewer.entities.add({\n            position: cartesian,\n            point: {\n                pixelSize: 12,\n                color: Cesium.Color.WHITE,\n                outlineColor: Cesium.Color.CYAN,\n                outlineWidth: 3,\n                heightReference: Cesium.HeightReference.CLAMP_TO_GROUND,\n                disableDepthTestDistance: Number.POSITIVE_INFINITY\n            }\n        });\n        measurementEntitiesRef.current.push(pointEntity);\n        if (mode === \"distance\" && newPoints.length === 2) {\n            removePreviewEntities(viewer);\n            drawDistance(viewer, newPoints);\n        } else if (mode === \"area\" && newPoints.length >= 2) {\n            drawAreaPreview(viewer, newPoints);\n        }\n    };\n    const handleMeasureChange = (mode)=>{\n        if (mode === \"clear\") {\n            frClearMeasurements();\n            setMeasurementMode(\"none\");\n            return;\n        }\n        frStartMeasurement(mode);\n        setMeasurementMode(mode);\n    };\n    if (mapError) return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        style: {\n            color: \"white\",\n            padding: 20\n        },\n        children: [\n            \"Error: \",\n            mapError\n        ]\n    }, void 0, true, {\n        fileName: \"/app/components/CombinedMap.js\",\n        lineNumber: 1888,\n        columnNumber: 26\n    }, this);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((next_script__WEBPACK_IMPORTED_MODULE_2___default()), {\n                src: \"https://cdnjs.cloudflare.com/ajax/libs/cesium/1.126.0/Cesium.js\",\n                onLoad: ()=>setCesiumLoaded(true)\n            }, void 0, false, {\n                fileName: \"/app/components/CombinedMap.js\",\n                lineNumber: 1892,\n                columnNumber: 13\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_TopMenuBar__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n                onComputePath: ()=>{\n                    openTurnDialog();\n                },\n                onManageProfiles: ()=>{\n                    const val = window.prompt(\"Enter Road ID to view profile\");\n                    if (val && val.trim().length > 0) {\n                        setSelectedRoadId(val.trim());\n                        setShowProfileViewer(true);\n                    }\n                },\n                onMeasureDistance: ()=>handleMeasureChange(\"distance\"),\n                onMeasureArea: ()=>handleMeasureChange(\"area\"),\n                currentBaseLayer: baseLayer,\n                onChangeBaseLayer: setBaseLayer,\n                currentSceneMode: sceneMode,\n                onChangeSceneMode: setSceneMode\n            }, void 0, false, {\n                fileName: \"/app/components/CombinedMap.js\",\n                lineNumber: 1893,\n                columnNumber: 13\n            }, this),\n            turnDialogOpen && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((_TurnPathStatusBanner__WEBPACK_IMPORTED_MODULE_6___default()), {\n                        currentStep: turnCurrentStep,\n                        selectedSourceRoad: turnSourceRoad,\n                        selectedDestinationRoad: turnDestRoad,\n                        onCancel: closeTurnDialog\n                    }, void 0, false, {\n                        fileName: \"/app/components/CombinedMap.js\",\n                        lineNumber: 1913,\n                        columnNumber: 21\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_TurnPathDialog__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n                        isOpen: turnDialogOpen,\n                        onClose: closeTurnDialog,\n                        onStartSelection: (config)=>{\n                            startTurnSelection(config);\n                        },\n                        vehicleProfiles: {},\n                        currentStep: turnCurrentStep\n                    }, void 0, false, {\n                        fileName: \"/app/components/CombinedMap.js\",\n                        lineNumber: 1919,\n                        columnNumber: 21\n                    }, this)\n                ]\n            }, void 0, true),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                style: {\n                    position: \"fixed\",\n                    top: 40,\n                    left: 0,\n                    right: 0,\n                    bottom: 0,\n                    overflow: \"hidden\",\n                    background: \"#000\"\n                },\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        ref: mapContainer,\n                        style: {\n                            position: \"absolute\",\n                            inset: 0,\n                            background: \"#1a1a2e\"\n                        }\n                    }, void 0, false, {\n                        fileName: \"/app/components/CombinedMap.js\",\n                        lineNumber: 1931,\n                        columnNumber: 17\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        style: {\n                            display: \"none\",\n                            position: \"absolute\",\n                            top: 20,\n                            right: 20,\n                            width: 300,\n                            backgroundColor: \"rgba(40, 40, 40, 0.75)\",\n                            border: \"1px solid rgba(120, 120, 120, 0.6)\",\n                            borderRadius: \"8px\",\n                            boxShadow: \"0 4px 20px rgba(0, 0, 0, 0.4)\",\n                            backdropFilter: \"blur(15px)\",\n                            zIndex: 1000,\n                            fontFamily: `'Inter','Segoe UI',Arial,sans-serif`,\n                            overflow: \"hidden\"\n                        },\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                style: {\n                                    backgroundColor: \"rgba(30, 30, 30, 0.8)\",\n                                    padding: \"12px 16px\",\n                                    borderRadius: \"8px 8px 0 0\",\n                                    display: \"flex\",\n                                    alignItems: \"center\",\n                                    justifyContent: \"space-between\"\n                                },\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        style: {\n                                            display: \"flex\",\n                                            alignItems: \"center\",\n                                            gap: \"10px\"\n                                        },\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                style: {\n                                                    width: \"20px\",\n                                                    height: \"20px\",\n                                                    backgroundColor: \"#3498db\",\n                                                    borderRadius: \"4px\",\n                                                    display: \"flex\",\n                                                    alignItems: \"center\",\n                                                    justifyContent: \"center\"\n                                                }\n                                            }, void 0, false, {\n                                                fileName: \"/app/components/CombinedMap.js\",\n                                                lineNumber: 1956,\n                                                columnNumber: 29\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                style: {\n                                                    color: \"white\",\n                                                    fontWeight: \"600\",\n                                                    fontSize: \"14px\"\n                                                },\n                                                children: \"Dispatch Map\"\n                                            }, void 0, false, {\n                                                fileName: \"/app/components/CombinedMap.js\",\n                                                lineNumber: 1966,\n                                                columnNumber: 29\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/app/components/CombinedMap.js\",\n                                        lineNumber: 1955,\n                                        columnNumber: 25\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        style: {\n                                            display: \"flex\",\n                                            alignItems: \"center\",\n                                            gap: \"8px\"\n                                        },\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                style: {\n                                                    backgroundColor: \"rgba(52, 152, 219, 0.3)\",\n                                                    border: \"1px solid rgba(52, 152, 219, 0.5)\",\n                                                    borderRadius: \"4px\",\n                                                    color: \"#3498db\",\n                                                    cursor: \"pointer\",\n                                                    padding: \"4px 8px\",\n                                                    fontSize: \"12px\",\n                                                    fontWeight: \"500\",\n                                                    display: \"flex\",\n                                                    alignItems: \"center\",\n                                                    gap: \"4px\",\n                                                    transition: \"all 0.2s\"\n                                                },\n                                                onClick: recenterView,\n                                                onMouseEnter: (e)=>{\n                                                    e.target.style.backgroundColor = \"rgba(52, 152, 219, 0.5)\";\n                                                },\n                                                onMouseLeave: (e)=>{\n                                                    e.target.style.backgroundColor = \"rgba(52, 152, 219, 0.3)\";\n                                                },\n                                                title: \"Recenter map on current data\",\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                                    width: \"16\",\n                                                    height: \"16\",\n                                                    viewBox: \"0 0 16 16\",\n                                                    style: {\n                                                        display: \"inline-block\",\n                                                        verticalAlign: \"middle\"\n                                                    },\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"circle\", {\n                                                            cx: \"8\",\n                                                            cy: \"8\",\n                                                            r: \"7.5\",\n                                                            fill: \"#000\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/app/components/CombinedMap.js\",\n                                                            lineNumber: 2001,\n                                                            columnNumber: 37\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"circle\", {\n                                                            cx: \"8\",\n                                                            cy: \"8\",\n                                                            r: \"6\",\n                                                            fill: \"none\",\n                                                            stroke: \"#CC5500\",\n                                                            strokeWidth: \"1.5\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/app/components/CombinedMap.js\",\n                                                            lineNumber: 2002,\n                                                            columnNumber: 37\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"circle\", {\n                                                            cx: \"8\",\n                                                            cy: \"8\",\n                                                            r: \"3\",\n                                                            fill: \"#CC5500\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/app/components/CombinedMap.js\",\n                                                            lineNumber: 2003,\n                                                            columnNumber: 37\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"rect\", {\n                                                            x: \"7\",\n                                                            y: \"0\",\n                                                            width: \"2\",\n                                                            height: \"3\",\n                                                            fill: \"#CC5500\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/app/components/CombinedMap.js\",\n                                                            lineNumber: 2004,\n                                                            columnNumber: 37\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"rect\", {\n                                                            x: \"7\",\n                                                            y: \"13\",\n                                                            width: \"2\",\n                                                            height: \"3\",\n                                                            fill: \"#CC5500\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/app/components/CombinedMap.js\",\n                                                            lineNumber: 2005,\n                                                            columnNumber: 37\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"rect\", {\n                                                            x: \"0\",\n                                                            y: \"7\",\n                                                            width: \"3\",\n                                                            height: \"2\",\n                                                            fill: \"#CC5500\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/app/components/CombinedMap.js\",\n                                                            lineNumber: 2006,\n                                                            columnNumber: 37\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"rect\", {\n                                                            x: \"13\",\n                                                            y: \"7\",\n                                                            width: \"3\",\n                                                            height: \"2\",\n                                                            fill: \"#CC5500\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/app/components/CombinedMap.js\",\n                                                            lineNumber: 2007,\n                                                            columnNumber: 37\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/app/components/CombinedMap.js\",\n                                                    lineNumber: 1995,\n                                                    columnNumber: 33\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"/app/components/CombinedMap.js\",\n                                                lineNumber: 1971,\n                                                columnNumber: 29\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                style: {\n                                                    color: \"white\",\n                                                    fontSize: \"16px\",\n                                                    cursor: \"pointer\",\n                                                    padding: \"4px\",\n                                                    transition: \"transform 0.2s\"\n                                                },\n                                                children: \"▼\"\n                                            }, void 0, false, {\n                                                fileName: \"/app/components/CombinedMap.js\",\n                                                lineNumber: 2010,\n                                                columnNumber: 29\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/app/components/CombinedMap.js\",\n                                        lineNumber: 1970,\n                                        columnNumber: 25\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/app/components/CombinedMap.js\",\n                                lineNumber: 1947,\n                                columnNumber: 21\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                style: {\n                                    padding: \"12px\",\n                                    borderBottom: \"1px solid rgba(120, 120, 120, 0.3)\",\n                                    backgroundColor: \"rgba(52, 152, 219, 0.1)\"\n                                },\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                        style: {\n                                            display: \"block\",\n                                            marginBottom: \"6px\",\n                                            fontSize: \"11px\",\n                                            color: \"#bdc3c7\",\n                                            fontWeight: \"600\"\n                                        },\n                                        children: \"Base Layer\"\n                                    }, void 0, false, {\n                                        fileName: \"/app/components/CombinedMap.js\",\n                                        lineNumber: 2029,\n                                        columnNumber: 25\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"select\", {\n                                        value: baseLayer,\n                                        onChange: (e)=>setBaseLayer(e.target.value),\n                                        style: {\n                                            width: \"100%\",\n                                            padding: \"6px 8px\",\n                                            backgroundColor: \"rgba(40, 40, 40, 0.9)\",\n                                            color: \"white\",\n                                            border: \"1px solid rgba(120, 120, 120, 0.4)\",\n                                            borderRadius: \"4px\",\n                                            fontSize: \"12px\",\n                                            cursor: \"pointer\",\n                                            outline: \"none\"\n                                        },\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                                value: \"night\",\n                                                children: \"Night Mode (Dark)\"\n                                            }, void 0, false, {\n                                                fileName: \"/app/components/CombinedMap.js\",\n                                                lineNumber: 2053,\n                                                columnNumber: 29\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                                value: \"day\",\n                                                children: \"Day Mode (Satellite)\"\n                                            }, void 0, false, {\n                                                fileName: \"/app/components/CombinedMap.js\",\n                                                lineNumber: 2054,\n                                                columnNumber: 29\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                                value: \"topographic\",\n                                                children: \"Topographic\"\n                                            }, void 0, false, {\n                                                fileName: \"/app/components/CombinedMap.js\",\n                                                lineNumber: 2055,\n                                                columnNumber: 29\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                                value: \"terrain\",\n                                                children: \"Terrain\"\n                                            }, void 0, false, {\n                                                fileName: \"/app/components/CombinedMap.js\",\n                                                lineNumber: 2056,\n                                                columnNumber: 29\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/app/components/CombinedMap.js\",\n                                        lineNumber: 2038,\n                                        columnNumber: 25\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/app/components/CombinedMap.js\",\n                                lineNumber: 2024,\n                                columnNumber: 21\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                style: {\n                                    padding: \"12px\",\n                                    color: \"white\",\n                                    fontSize: \"12px\",\n                                    maxHeight: \"320px\",\n                                    overflowY: \"auto\",\n                                    overflowX: \"hidden\",\n                                    scrollbarWidth: \"thin\",\n                                    scrollbarColor: \"rgba(120, 120, 120, 0.6) rgba(40, 40, 40, 0.3)\"\n                                }\n                            }, void 0, false, {\n                                fileName: \"/app/components/CombinedMap.js\",\n                                lineNumber: 2061,\n                                columnNumber: 21\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/app/components/CombinedMap.js\",\n                        lineNumber: 1935,\n                        columnNumber: 17\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/app/components/CombinedMap.js\",\n                lineNumber: 1930,\n                columnNumber: 13\n            }, this),\n            dialogOpen && dialogData && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                style: {\n                    position: \"fixed\",\n                    top: 0,\n                    left: 0,\n                    right: 0,\n                    bottom: 0,\n                    backgroundColor: \"rgba(0, 0, 0, 0.7)\",\n                    display: \"flex\",\n                    alignItems: \"center\",\n                    justifyContent: \"center\",\n                    zIndex: 10000,\n                    backdropFilter: \"blur(5px)\"\n                },\n                onClick: ()=>{\n                    setDialogOpen(false);\n                    setDialogData(null);\n                },\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    style: {\n                        backgroundColor: \"#1e1e1e\",\n                        borderRadius: \"8px\",\n                        padding: \"16px\",\n                        maxWidth: \"600px\",\n                        maxHeight: \"70vh\",\n                        width: \"85%\",\n                        boxShadow: \"0 8px 32px rgba(0, 0, 0, 0.5)\",\n                        border: \"1px solid rgba(255, 255, 255, 0.1)\",\n                        overflow: \"hidden\",\n                        display: \"flex\",\n                        flexDirection: \"column\"\n                    },\n                    onClick: (e)=>e.stopPropagation(),\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            style: {\n                                display: \"flex\",\n                                justifyContent: \"space-between\",\n                                alignItems: \"center\",\n                                marginBottom: \"12px\",\n                                paddingBottom: \"10px\",\n                                borderBottom: \"1px solid rgba(255, 255, 255, 0.2)\"\n                            },\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                                            style: {\n                                                color: \"#fff\",\n                                                margin: 0,\n                                                fontSize: \"16px\",\n                                                fontWeight: \"600\"\n                                            },\n                                            children: [\n                                                dialogData.category === \"intersection\" ? \"\\uD83D\\uDEA6\" : \"\\uD83D\\uDCCD\",\n                                                \" \",\n                                                dialogData.name\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/app/components/CombinedMap.js\",\n                                            lineNumber: 2103,\n                                            columnNumber: 33\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                            style: {\n                                                color: \"#bdc3c7\",\n                                                margin: \"2px 0 0 0\",\n                                                fontSize: \"11px\",\n                                                textTransform: \"capitalize\"\n                                            },\n                                            children: [\n                                                getCategoryDisplayName(dialogData.category),\n                                                \" Information\"\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/app/components/CombinedMap.js\",\n                                            lineNumber: 2106,\n                                            columnNumber: 33\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/app/components/CombinedMap.js\",\n                                    lineNumber: 2102,\n                                    columnNumber: 29\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    onClick: ()=>{\n                                        setDialogOpen(false);\n                                        setDialogData(null);\n                                    },\n                                    style: {\n                                        background: \"rgba(255, 255, 255, 0.1)\",\n                                        border: \"1px solid rgba(255, 255, 255, 0.2)\",\n                                        borderRadius: \"4px\",\n                                        color: \"#fff\",\n                                        cursor: \"pointer\",\n                                        padding: \"6px 12px\",\n                                        fontSize: \"12px\",\n                                        fontWeight: \"500\"\n                                    },\n                                    children: \"✕\"\n                                }, void 0, false, {\n                                    fileName: \"/app/components/CombinedMap.js\",\n                                    lineNumber: 2110,\n                                    columnNumber: 29\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/app/components/CombinedMap.js\",\n                            lineNumber: 2097,\n                            columnNumber: 25\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            style: {\n                                overflowY: \"auto\",\n                                flex: 1,\n                                paddingRight: \"6px\"\n                            },\n                            children: [\n                                (dialogData.category === \"dispatch_segment\" || dialogData.category === \"frontrunner_segment\") && dialogData.allProperties.road_id && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    style: {\n                                        marginBottom: \"16px\",\n                                        padding: \"12px\",\n                                        backgroundColor: \"rgba(52, 152, 219, 0.1)\",\n                                        borderRadius: \"6px\",\n                                        border: \"1px solid rgba(52, 152, 219, 0.3)\"\n                                    },\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        style: {\n                                            display: \"flex\",\n                                            gap: \"10px\"\n                                        },\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                onClick: ()=>{\n                                                    setDialogOpen(false);\n                                                    setSelectedRoadId(dialogData.allProperties.road_id);\n                                                    setShowProfileViewer(true);\n                                                },\n                                                style: {\n                                                    flex: 1,\n                                                    background: \"#4ECDC4\",\n                                                    color: \"white\",\n                                                    border: \"none\",\n                                                    padding: \"12px\",\n                                                    borderRadius: \"6px\",\n                                                    cursor: \"pointer\",\n                                                    fontWeight: \"bold\",\n                                                    fontSize: \"14px\",\n                                                    display: \"flex\",\n                                                    alignItems: \"center\",\n                                                    justifyContent: \"center\",\n                                                    gap: \"8px\"\n                                                },\n                                                children: \"View Profile\"\n                                            }, void 0, false, {\n                                                fileName: \"/app/components/CombinedMap.js\",\n                                                lineNumber: 2128,\n                                                columnNumber: 41\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                onClick: ()=>{\n                                                    setDialogOpen(false);\n                                                    setSelectedRoadId(dialogData.allProperties.road_id);\n                                                    setShowSpeedManagement(true);\n                                                },\n                                                style: {\n                                                    flex: 1,\n                                                    background: \"#E67E22\",\n                                                    color: \"white\",\n                                                    border: \"none\",\n                                                    padding: \"12px\",\n                                                    borderRadius: \"6px\",\n                                                    cursor: \"pointer\",\n                                                    fontWeight: \"bold\",\n                                                    fontSize: \"14px\",\n                                                    display: \"flex\",\n                                                    alignItems: \"center\",\n                                                    justifyContent: \"center\",\n                                                    gap: \"8px\"\n                                                },\n                                                children: \"Speed Management\"\n                                            }, void 0, false, {\n                                                fileName: \"/app/components/CombinedMap.js\",\n                                                lineNumber: 2152,\n                                                columnNumber: 41\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/app/components/CombinedMap.js\",\n                                        lineNumber: 2127,\n                                        columnNumber: 37\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/app/components/CombinedMap.js\",\n                                    lineNumber: 2126,\n                                    columnNumber: 33\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    style: {\n                                        display: \"grid\",\n                                        gridTemplateColumns: \"repeat(auto-fit, minmax(200px, 1fr))\",\n                                        gap: \"8px\"\n                                    },\n                                    children: Object.entries(dialogData.allProperties).filter(([key])=>![\n                                            \"linestring\",\n                                            \"polygon\",\n                                            \"geometry\",\n                                            \"geometry_3d\",\n                                            \"propertyNames\",\n                                            \"definitionChanged\",\n                                            \"_listeners\",\n                                            \"color\",\n                                            \"style_role\"\n                                        ].includes(key) && !key.startsWith(\"_\")).map(([key, value])=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            style: {\n                                                backgroundColor: \"rgba(255, 255, 255, 0.05)\",\n                                                padding: \"8px\",\n                                                borderRadius: \"6px\",\n                                                border: \"1px solid rgba(255, 255, 255, 0.1)\"\n                                            },\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    style: {\n                                                        color: \"#bdc3c7\",\n                                                        fontSize: \"10px\",\n                                                        fontWeight: \"600\",\n                                                        textTransform: \"uppercase\",\n                                                        marginBottom: \"4px\"\n                                                    },\n                                                    children: key.replace(/_/g, \" \")\n                                                }, void 0, false, {\n                                                    fileName: \"/app/components/CombinedMap.js\",\n                                                    lineNumber: 2187,\n                                                    columnNumber: 45\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    style: {\n                                                        color: \"#fff\",\n                                                        fontSize: \"12px\",\n                                                        wordBreak: \"break-word\",\n                                                        fontFamily: \"monospace\",\n                                                        whiteSpace: \"pre-wrap\"\n                                                    },\n                                                    children: String(value)\n                                                }, void 0, false, {\n                                                    fileName: \"/app/components/CombinedMap.js\",\n                                                    lineNumber: 2190,\n                                                    columnNumber: 45\n                                                }, this)\n                                            ]\n                                        }, key, true, {\n                                            fileName: \"/app/components/CombinedMap.js\",\n                                            lineNumber: 2183,\n                                            columnNumber: 41\n                                        }, this))\n                                }, void 0, false, {\n                                    fileName: \"/app/components/CombinedMap.js\",\n                                    lineNumber: 2179,\n                                    columnNumber: 29\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/app/components/CombinedMap.js\",\n                            lineNumber: 2123,\n                            columnNumber: 25\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/app/components/CombinedMap.js\",\n                    lineNumber: 2086,\n                    columnNumber: 21\n                }, this)\n            }, void 0, false, {\n                fileName: \"/app/components/CombinedMap.js\",\n                lineNumber: 2077,\n                columnNumber: 17\n            }, this),\n            showProfileViewer && selectedRoadId && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_RoadProfileViewer__WEBPACK_IMPORTED_MODULE_9__[\"default\"], {\n                roadId: selectedRoadId,\n                onClose: ()=>{\n                    setShowProfileViewer(false);\n                    setSelectedRoadId(null);\n                }\n            }, void 0, false, {\n                fileName: \"/app/components/CombinedMap.js\",\n                lineNumber: 2201,\n                columnNumber: 17\n            }, this),\n            showSpeedManagement && selectedRoadId && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_SpeedManagementViewer__WEBPACK_IMPORTED_MODULE_10__[\"default\"], {\n                roadId: selectedRoadId,\n                onClose: ()=>{\n                    setShowSpeedManagement(false);\n                    setSelectedRoadId(null);\n                }\n            }, void 0, false, {\n                fileName: \"/app/components/CombinedMap.js\",\n                lineNumber: 2210,\n                columnNumber: 17\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"style\", {\n                dangerouslySetInnerHTML: {\n                    __html: `\n                .cesium-viewer-bottom, .cesium-viewer-cesiumWidgetContainer .cesium-widget-credits,\n                .cesium-viewer-cesiumLogoContainer, .cesium-credit-logoContainer, .cesium-credit-expand-link,\n                .cesium-viewer-creditTextContainer { display: none !important; }\n                a[href*=\"cesium.com\"], a[href*=\"cesiumion.com\"] { display: none !important; }\n                .cesium-widget-credits { display: none !important; }\n            `\n                }\n            }, void 0, false, {\n                fileName: \"/app/components/CombinedMap.js\",\n                lineNumber: 2218,\n                columnNumber: 13\n            }, this)\n        ]\n    }, void 0, true);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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d0IsY0FBYztnREFBT0QsUUFBUTs0Q0FDakM7OzhEQUNJLDhEQUFDeEI7b0RBQUkzWSxPQUFPO3dEQUFFa0osT0FBTzt3REFBVzJSLFVBQVU7d0RBQVFELFlBQVk7d0RBQU9vQyxlQUFlO3dEQUFhZixjQUFjO29EQUFNOzhEQUNoSDNqQixJQUFJVCxPQUFPLENBQUMsTUFBTTs7Ozs7OzhEQUV2Qiw4REFBQzhnQjtvREFBSTNZLE9BQU87d0RBQUVrSixPQUFPO3dEQUFRMlIsVUFBVTt3REFBUXdDLFdBQVc7d0RBQWM3QyxZQUFZO3dEQUFhOEMsWUFBWTtvREFBVzs4REFDbkg1bEIsT0FBT1Q7Ozs7Ozs7MkNBUk5xQjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O1lBaUJyQ3lCLHFCQUFxQkksZ0NBQ2xCLDhEQUFDakksMERBQWlCQTtnQkFDZHFyQixRQUFRcGpCO2dCQUNSdWYsU0FBUztvQkFDTDFmLHFCQUFxQjtvQkFDckJJLGtCQUFrQjtnQkFDdEI7Ozs7OztZQUdQSCx1QkFBdUJFLGdDQUNwQiw4REFBQ2hJLCtEQUFxQkE7Z0JBQ2xCb3JCLFFBQVFwakI7Z0JBQ1J1ZixTQUFTO29CQUNMeGYsdUJBQXVCO29CQUN2QkUsa0JBQWtCO2dCQUN0Qjs7Ozs7OzBCQUdSLDhEQUFDNEY7Z0JBQU13ZCx5QkFBeUI7b0JBQzVCQyxRQUFRLENBQUM7Ozs7OztZQU1iLENBQUM7Z0JBQUE7Ozs7Ozs7O0FBR2IiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jb21iaW5lZC11aS8uL2NvbXBvbmVudHMvQ29tYmluZWRNYXAuanM/YTA4MCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QsIHsgdXNlU3RhdGUsIHVzZUVmZmVjdCwgdXNlUmVmLCB1c2VNZW1vIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IFNjcmlwdCBmcm9tICduZXh0L3NjcmlwdCc7XG5pbXBvcnQgeyByYW5kb21VVUlEIGFzIHV1aWR2NCB9IGZyb20gJ2NyeXB0byc7XG5pbXBvcnQgVG9wTWVudUJhciBmcm9tICcuL1RvcE1lbnVCYXInO1xuaW1wb3J0IFR1cm5QYXRoRGlhbG9nIGZyb20gJy4vVHVyblBhdGhEaWFsb2cnO1xuaW1wb3J0IFR1cm5QYXRoU3RhdHVzQmFubmVyIGZyb20gJy4vVHVyblBhdGhTdGF0dXNCYW5uZXInO1xuaW1wb3J0IHVzZVR1cm5QYXRoTWFuYWdlciBmcm9tICcuL3VzZVR1cm5QYXRoTWFuYWdlcic7XG5pbXBvcnQgdXNlTWVhc3VyZW1lbnRUb29sIGZyb20gJy4vdXNlTWVhc3VyZW1lbnRUb29sJztcbmltcG9ydCBSb2FkUHJvZmlsZVZpZXdlciBmcm9tICcuL1JvYWRQcm9maWxlVmlld2VyJztcbmltcG9ydCBTcGVlZE1hbmFnZW1lbnRWaWV3ZXIgZnJvbSAnLi9TcGVlZE1hbmFnZW1lbnRWaWV3ZXInO1xuXG4vLyBDb2xvciBwYWxldHRlIGFuZCBoZWxwZXJzXG5jb25zdCBESVNQQVRDSF9MT0NBVElPTl9DT0xPUl9NQVAgPSB7XG4gICAgJ2NhbGwgcG9pbnQnOiAnI0ZGNkI2QicsICdkdW1wJzogJyNGRjhFNzInLCAnYmxhc3QnOiAnI0ZGQjM0NycsICdzdG9ja3BpbGUnOiAnI0ZGRDE2NicsXG4gICAgJ3dvcmtzaG9wJzogJyNGNEEyNjEnLCAnc2hpZnRjaGFuZ2UnOiAnIzA2RDZBMCcsICdyZWdpb24nOiAnIzExOEFCMicsICdjcnVzaGVyJzogJyM5QjVERTUnLFxuICAgICdoaWdoIGR1bXAnOiAnI0ZGNkI2QicsICdsb2FkJzogJyNGRkQxNjYnLCAncGFkZG9jayBkdW1wJzogJyNGRjhFNzInLCAndGllZG93bic6ICcjMDZENkEwJyxcbiAgICAncGl0JzogJyNFRjQ3NkYnLCAncGFya2luZyc6ICcjRkZFMDY2JywgJ2Z1ZWwnOiAnI0ZFNUY1NScsICd0aXBwaW5nIGFyZWEnOiAnI0ZGOTI0QycsXG4gICAgJ2luZnJhc3RydWN0dXJlJzogJyM1QzY3N0QnLCAnaW5mcmFzdHJ1Y3R1cmVfdGFibGUnOiAnIzVDNjc3RCcsICdkZWZhdWx0JzogJyM5RkE0QjAnXG59O1xuXG4vLyBMb2NhdGlvbiB0eXBlcyB0aGF0IHJlbmRlciBhcyBzcXVhcmVzXG5jb25zdCBTUVVBUkVfVFlQRVMgPSBuZXcgU2V0KFtcbiAgICBcImJsYXN0XCIsXG4gICAgXCJkdW1wXCIsXG4gICAgXCJzdG9ja3BpbGVcIixcbiAgICBcIndvcmtzaG9wXCIsXG4gICAgXCJjcnVzaGVyXCIsXG4gICAgXCJoaWdoIGR1bXBcIixcbiAgICBcImxvYWRcIixcbiAgICBcInBhZGRvY2sgZHVtcFwiLFxuICAgIFwidGllZG93blwiXG5dKTtcblxuY29uc3QgREVGQVVMVF9ISURERU5fTE9DQVRJT05fVFlQRVMgPSBbXG4gICAgJ2NhbGwgcG9pbnQnLFxuICAgICdzaGlmdGNoYW5nZScsXG4gICAgJ3JlZ2lvbicsXG4gICAgJ3BpdCcsXG5dO1xuXG5jb25zdCByZXNvbHZlRGlzcGF0Y2hMb2NhdGlvblR5cGUgPSAobG9jYXRpb24pID0+IHtcbiAgICBpZiAoIWxvY2F0aW9uKSByZXR1cm4gJ0luZnJhc3RydWN0dXJlJztcbiAgICBjb25zdCByYXdWYWx1ZSA9IGxvY2F0aW9uLnVuaXRfdHlwZSB8fCBsb2NhdGlvbi5sb2NhdGlvbl9jYXRlZ29yeSB8fCBsb2NhdGlvbi51bml0X3R5cGVfaWQgfHwgbG9jYXRpb24uY2F0ZWdvcnkgfHwgbG9jYXRpb24uc291cmNlIHx8ICdJbmZyYXN0cnVjdHVyZSc7XG4gICAgaWYgKHR5cGVvZiByYXdWYWx1ZSAhPT0gJ3N0cmluZycpIHJldHVybiAnSW5mcmFzdHJ1Y3R1cmUnO1xuICAgIGNvbnN0IHRyaW1tZWQgPSByYXdWYWx1ZS50cmltKCk7XG4gICAgcmV0dXJuIHRyaW1tZWQubGVuZ3RoID4gMCA/IHRyaW1tZWQgOiAnSW5mcmFzdHJ1Y3R1cmUnO1xufTtcblxuY29uc3QgZ2V0RGlzcGF0Y2hMb2NhdGlvbkNvbG9yID0gKGxvY2F0aW9uVHlwZSkgPT4ge1xuICAgIGlmICghbG9jYXRpb25UeXBlIHx8IHR5cGVvZiBsb2NhdGlvblR5cGUgIT09ICdzdHJpbmcnKSByZXR1cm4gRElTUEFUQ0hfTE9DQVRJT05fQ09MT1JfTUFQLmRlZmF1bHQ7XG4gICAgcmV0dXJuIERJU1BBVENIX0xPQ0FUSU9OX0NPTE9SX01BUFtsb2NhdGlvblR5cGUudHJpbSgpLnRvTG93ZXJDYXNlKCldIHx8IERJU1BBVENIX0xPQ0FUSU9OX0NPTE9SX01BUC5kZWZhdWx0O1xufTtcblxuLy8gSGVscGVycyB0byBndWFyZCBwb2x5Z29uc1xuY29uc3QgcmluZ0FyZWEyRCA9IChjb29yZHMpID0+IHtcbiAgICBpZiAoIUFycmF5LmlzQXJyYXkoY29vcmRzKSB8fCBjb29yZHMubGVuZ3RoIDwgMykgcmV0dXJuIDA7XG4gICAgbGV0IGFyZWEgPSAwO1xuICAgIGNvbnN0IG4gPSBjb29yZHMubGVuZ3RoO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbjsgaSsrKSB7XG4gICAgICAgIGNvbnN0IFt4MSwgeTFdID0gY29vcmRzW2ldO1xuICAgICAgICBjb25zdCBbeDIsIHkyXSA9IGNvb3Jkc1soaSArIDEpICUgbl07XG4gICAgICAgIGFyZWEgKz0geDEgKiB5MiAtIHgyICogeTE7XG4gICAgfVxuICAgIHJldHVybiBNYXRoLmFicyhhcmVhKSAqIDAuNTtcbn07XG5cbmNvbnN0IHBhcnNlUG9seWdvbkhpZXJhcmNoeSA9IChnZW9qc29uKSA9PiB7XG4gICAgaWYgKCFnZW9qc29uIHx8ICF3aW5kb3c/LkNlc2l1bSkgcmV0dXJuIG51bGw7XG4gICAgY29uc3QgQ2VzaXVtID0gd2luZG93LkNlc2l1bTtcbiAgICBsZXQgZ2o7XG4gICAgdHJ5IHtcbiAgICAgICAgZ2ogPSB0eXBlb2YgZ2VvanNvbiA9PT0gJ3N0cmluZycgPyBKU09OLnBhcnNlKGdlb2pzb24pIDogZ2VvanNvbjtcbiAgICB9IGNhdGNoIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGlmICghZ2ogfHwgIWdqLmNvb3JkaW5hdGVzKSByZXR1cm4gbnVsbDtcblxuICAgIGxldCByaW5ncyA9IG51bGw7XG4gICAgaWYgKGdqLnR5cGUgPT09ICdQb2x5Z29uJykge1xuICAgICAgICByaW5ncyA9IGdqLmNvb3JkaW5hdGVzO1xuICAgIH0gZWxzZSBpZiAoZ2oudHlwZSA9PT0gJ011bHRpUG9seWdvbicgJiYgQXJyYXkuaXNBcnJheShnai5jb29yZGluYXRlcykgJiYgZ2ouY29vcmRpbmF0ZXMubGVuZ3RoID4gMCkge1xuICAgICAgICByaW5ncyA9IGdqLmNvb3JkaW5hdGVzWzBdO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBpZiAoIUFycmF5LmlzQXJyYXkocmluZ3MpIHx8IHJpbmdzLmxlbmd0aCA9PT0gMCkgcmV0dXJuIG51bGw7XG5cbiAgICBsZXQgb3V0ZXIgPSByaW5nc1swXTtcbiAgICBpZiAoIUFycmF5LmlzQXJyYXkob3V0ZXIpIHx8IG91dGVyLmxlbmd0aCA8IDMpIHJldHVybiBudWxsO1xuXG4gICAgb3V0ZXIgPSBvdXRlci5maWx0ZXIoXG4gICAgICAgIChjKSA9PlxuICAgICAgICAgICAgQXJyYXkuaXNBcnJheShjKSAmJlxuICAgICAgICAgICAgYy5sZW5ndGggPj0gMiAmJlxuICAgICAgICAgICAgTnVtYmVyLmlzRmluaXRlKGNbMF0pICYmXG4gICAgICAgICAgICBOdW1iZXIuaXNGaW5pdGUoY1sxXSlcbiAgICApO1xuICAgIGlmIChvdXRlci5sZW5ndGggPCAzKSByZXR1cm4gbnVsbDtcblxuICAgIGlmIChvdXRlci5sZW5ndGggPj0gMikge1xuICAgICAgICBjb25zdCBbZngsIGZ5XSA9IG91dGVyWzBdO1xuICAgICAgICBjb25zdCBbbHgsIGx5XSA9IG91dGVyW291dGVyLmxlbmd0aCAtIDFdO1xuICAgICAgICBpZiAoZnggPT09IGx4ICYmIGZ5ID09PSBseSkge1xuICAgICAgICAgICAgb3V0ZXIgPSBvdXRlci5zbGljZSgwLCAtMSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCBjbGVhbmVkID0gW107XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBvdXRlci5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCBjdXIgPSBvdXRlcltpXTtcbiAgICAgICAgaWYgKGkgPT09IDAgfHwgY3VyWzBdICE9PSBvdXRlcltpIC0gMV1bMF0gfHwgY3VyWzFdICE9PSBvdXRlcltpIC0gMV1bMV0pIHtcbiAgICAgICAgICAgIGNsZWFuZWQucHVzaChjdXIpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChjbGVhbmVkLmxlbmd0aCA8IDMpIHJldHVybiBudWxsO1xuXG4gICAgY29uc3QgYXJlYTJEID0gcmluZ0FyZWEyRChjbGVhbmVkKTtcbiAgICBpZiAoIU51bWJlci5pc0Zpbml0ZShhcmVhMkQpIHx8IGFyZWEyRCA8IDFlLTEwKSByZXR1cm4gbnVsbDtcblxuICAgIGNvbnN0IHBvc2l0aW9ucyA9IENlc2l1bS5DYXJ0ZXNpYW4zLmZyb21EZWdyZWVzQXJyYXkoY2xlYW5lZC5mbGF0KCkpO1xuICAgIGlmICghcG9zaXRpb25zIHx8IHBvc2l0aW9ucy5sZW5ndGggPCAzKSByZXR1cm4gbnVsbDtcblxuICAgIGxldCBtaW5YID0gSW5maW5pdHksIG1heFggPSAtSW5maW5pdHk7XG4gICAgbGV0IG1pblkgPSBJbmZpbml0eSwgbWF4WSA9IC1JbmZpbml0eTtcbiAgICBsZXQgbWluWiA9IEluZmluaXR5LCBtYXhaID0gLUluZmluaXR5O1xuICAgIGZvciAoY29uc3QgcCBvZiBwb3NpdGlvbnMpIHtcbiAgICAgICAgaWYgKCFOdW1iZXIuaXNGaW5pdGUocC54KSB8fCAhTnVtYmVyLmlzRmluaXRlKHAueSkgfHwgIU51bWJlci5pc0Zpbml0ZShwLnopKSByZXR1cm4gbnVsbDtcbiAgICAgICAgaWYgKHAueCA8IG1pblgpIG1pblggPSBwLng7XG4gICAgICAgIGlmIChwLnggPiBtYXhYKSBtYXhYID0gcC54O1xuICAgICAgICBpZiAocC55IDwgbWluWSkgbWluWSA9IHAueTtcbiAgICAgICAgaWYgKHAueSA+IG1heFkpIG1heFkgPSBwLnk7XG4gICAgICAgIGlmIChwLnogPCBtaW5aKSBtaW5aID0gcC56O1xuICAgICAgICBpZiAocC56ID4gbWF4WikgbWF4WiA9IHAuejtcbiAgICB9XG4gICAgY29uc3Qgc3BhbiA9IE1hdGgubWF4KG1heFggLSBtaW5YLCBtYXhZIC0gbWluWSwgbWF4WiAtIG1pblopO1xuICAgIGlmICghTnVtYmVyLmlzRmluaXRlKHNwYW4pIHx8IHNwYW4gPCAwLjEpIHJldHVybiBudWxsO1xuXG4gICAgcmV0dXJuIG5ldyBDZXNpdW0uUG9seWdvbkhpZXJhcmNoeShwb3NpdGlvbnMpO1xufTtcblxuLy8gR3VhcmQgZm9yIGFyYml0cmFyeSBDYXJ0ZXNpYW4zIHBvc2l0aW9uIGFycmF5cyAoZm9yIHBvbHlnb25zKVxuY29uc3QgYXJlUG9zaXRpb25zVmFsaWQgPSAocG9zaXRpb25zKSA9PiB7XG4gICAgaWYgKCFBcnJheS5pc0FycmF5KHBvc2l0aW9ucykgfHwgcG9zaXRpb25zLmxlbmd0aCA8IDMpIHJldHVybiBmYWxzZTtcbiAgICBsZXQgbWluWCA9IEluZmluaXR5LCBtYXhYID0gLUluZmluaXR5O1xuICAgIGxldCBtaW5ZID0gSW5maW5pdHksIG1heFkgPSAtSW5maW5pdHk7XG4gICAgbGV0IG1pblogPSBJbmZpbml0eSwgbWF4WiA9IC1JbmZpbml0eTtcbiAgICBmb3IgKGNvbnN0IHAgb2YgcG9zaXRpb25zKSB7XG4gICAgICAgIGlmICghcCB8fCAhTnVtYmVyLmlzRmluaXRlKHAueCkgfHwgIU51bWJlci5pc0Zpbml0ZShwLnkpIHx8ICFOdW1iZXIuaXNGaW5pdGUocC56KSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwLnggPCBtaW5YKSBtaW5YID0gcC54O1xuICAgICAgICBpZiAocC54ID4gbWF4WCkgbWF4WCA9IHAueDtcbiAgICAgICAgaWYgKHAueSA8IG1pblkpIG1pblkgPSBwLnk7XG4gICAgICAgIGlmIChwLnkgPiBtYXhZKSBtYXhZID0gcC55O1xuICAgICAgICBpZiAocC56IDwgbWluWikgbWluWiA9IHAuejtcbiAgICAgICAgaWYgKHAueiA+IG1heFopIG1heFogPSBwLno7XG4gICAgfVxuICAgIGNvbnN0IHNwYW4gPSBNYXRoLm1heChtYXhYIC0gbWluWCwgbWF4WSAtIG1pblksIG1heFogLSBtaW5aKTtcbiAgICByZXR1cm4gTnVtYmVyLmlzRmluaXRlKHNwYW4pICYmIHNwYW4gPj0gMC4xO1xufTtcblxuY29uc3QgaXNEaXNwYXRjaFNlZ21lbnRDbG9zZWQgPSAoc2VnbWVudCkgPT4ge1xuICAgIGlmICghc2VnbWVudCkgcmV0dXJuIGZhbHNlO1xuICAgIGNvbnN0IHZhbHVlID0gc2VnbWVudC5pc19jbG9zZWQ7XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ2Jvb2xlYW4nKSByZXR1cm4gdmFsdWU7XG59O1xuXG4vLyBSZW5kZXIgdG9vbHRpcCBsaW5lcyBpbiB0aGUgc2FtZSBsYWJlbC92YWx1ZSBsYXlvdXQgYXMgdGhlIExhdC9MbmcgYm94XG5jb25zdCByZW5kZXJUb29sdGlwSXRlbXMgPSAoaXRlbXMsIHsgY29tcGFjdCA9IGZhbHNlIH0gPSB7fSkgPT4ge1xuICAgIHJldHVybiBpdGVtc1xuICAgICAgICAuZmlsdGVyKEJvb2xlYW4pXG4gICAgICAgIC5tYXAoKHJhdykgPT4ge1xuICAgICAgICAgICAgbGV0IGl0ZW0gPSB0eXBlb2YgcmF3ID09PSAnc3RyaW5nJyA/IHJhdyA6IFN0cmluZyhyYXcpLnRyaW0oKTtcbiAgICAgICAgICAgIGlmICghaXRlbSkgcmV0dXJuICcnO1xuXG4gICAgICAgICAgICAvLyBTRUNUSU9OIEhFQURFUlMsIGUuZy4gXCItLS0gUk9BRCBESU1FTlNJT05TIC0tLVwiXG4gICAgICAgICAgICBpZiAoIWl0ZW0uaW5jbHVkZXMoJzonKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGxhYmVsID0gaXRlbS5yZXBsYWNlKC9eWy1cXHNdK3xbLVxcc10rJC9nLCAnJyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBcbiAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICBzdHlsZT1cIlxuICAgICAgICAgICAgICBtYXJnaW46ICR7Y29tcGFjdCA/ICc0cHgnIDogJzZweCd9IDAgMnB4O1xuICAgICAgICAgICAgICBmb250LXdlaWdodDogNjAwO1xuICAgICAgICAgICAgICBjb2xvcjogI2Y1ZjVmNTtcbiAgICAgICAgICAgICAgYm9yZGVyLXRvcDogMXB4IHNvbGlkIHJnYmEoMjU1LDI1NSwyNTUsMC4wOCk7XG4gICAgICAgICAgICAgIHBhZGRpbmctdG9wOiA0cHg7XG4gICAgICAgICAgICBcIlxuICAgICAgICAgID5cbiAgICAgICAgICAgICR7bGFiZWx9XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIGA7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIE5PUk1BTCBcIkxBQkVMOiB2YWx1ZVwiIExJTkVTXG4gICAgICAgICAgICBjb25zdCBbcmF3TGFiZWwsIC4uLnJlc3RdID0gaXRlbS5zcGxpdCgnOicpO1xuICAgICAgICAgICAgY29uc3QgbGFiZWwgPSByYXdMYWJlbC50cmltKCk7XG4gICAgICAgICAgICBjb25zdCB2YWx1ZSA9IHJlc3Quam9pbignOicpLnRyaW0oKTtcblxuICAgICAgICAgICAgcmV0dXJuIGBcbiAgICAgICAgPGRpdlxuICAgICAgICAgIHN0eWxlPVwiXG4gICAgICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICAgICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xuICAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogJHtjb21wYWN0ID8gJzFweCcgOiAnM3B4J307XG4gICAgICAgICAgXCJcbiAgICAgICAgPlxuICAgICAgICAgIDxzcGFuIHN0eWxlPVwiY29sb3I6ICNhMGEwYTA7IGZvbnQtd2VpZ2h0OiA0MDA7XCI+XG4gICAgICAgICAgICAke2xhYmVsfVxuICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICA8c3BhbiBzdHlsZT1cIlxuICAgICAgICAgICAgY29sb3I6IHdoaXRlO1xuICAgICAgICAgICAgZm9udC13ZWlnaHQ6IDUwMDtcbiAgICAgICAgICAgIGZvbnQtdmFyaWFudC1udW1lcmljOiB0YWJ1bGFyLW51bXM7XG4gICAgICAgICAgICB0ZXh0LWFsaWduOiByaWdodDtcbiAgICAgICAgICAgIHdoaXRlLXNwYWNlOiBub3dyYXA7XG4gICAgICAgICAgXCI+XG4gICAgICAgICAgICAke3ZhbHVlfVxuICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICBgO1xuICAgICAgICB9KVxuICAgICAgICAuam9pbignJyk7XG59O1xuXG5jb25zdCBmb3JtYXRUb29sdGlwQ29udGVudCA9IChlbnRpdHkpID0+IHtcbiAgICBpZiAoIWVudGl0eSB8fCAhZW50aXR5LnByb3BlcnRpZXMpIHJldHVybiAnJztcbiAgICAvLyBIYW5kbGUgYm90aCBDZXNpdW0gUHJvcGVydHkgb2JqZWN0cyBhbmQgZGlyZWN0IHZhbHVlc1xuICAgIGNvbnN0IGdldFByb3AgPSAoa2V5KSA9PiB7XG4gICAgICAgIGNvbnN0IHByb3AgPSBlbnRpdHkucHJvcGVydGllc1trZXldO1xuICAgICAgICBpZiAocHJvcCA9PT0gdW5kZWZpbmVkIHx8IHByb3AgPT09IG51bGwpIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIGlmIChwcm9wICYmIHR5cGVvZiBwcm9wLmdldFZhbHVlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICByZXR1cm4gcHJvcC5nZXRWYWx1ZSh3aW5kb3cuQ2VzaXVtLkp1bGlhbkRhdGUubm93KCkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBwcm9wO1xuICAgIH07XG5cbiAgICBjb25zdCBpdGVtcyA9IFtdO1xuICAgIGNvbnN0IGNhdGVnb3J5ID0gZ2V0UHJvcCgnY2F0ZWdvcnknKTtcblxuICAgIGlmIChjYXRlZ29yeSA9PT0gJ2Rpc3BhdGNoX3NlZ21lbnQnKSB7XG4gICAgICAgIGNvbnN0IHNvdXJjZSA9IChnZXRQcm9wKCdzb3VyY2UnKSB8fCAnU2VnbWVudCcpLnRvU3RyaW5nKCkudG9VcHBlckNhc2UoKTtcbiAgICAgICAgaXRlbXMucHVzaChgLS0tICR7c291cmNlfSBTRUdNRU5UIC0tLWApO1xuICAgICAgICBpZiAoZ2V0UHJvcCgncm9hZF9pZCcpKSBpdGVtcy5wdXNoKGBST0FEIElEOiAke2dldFByb3AoJ3JvYWRfaWQnKX1gKTtcbiAgICAgICAgaWYgKGdldFByb3AoJ2xhbmVfaWQnKSkgaXRlbXMucHVzaChgTEFORSBJRDogJHtnZXRQcm9wKCdsYW5lX2lkJyl9YCk7XG4gICAgICAgIGlmIChnZXRQcm9wKCdsZW5ndGhfbScpKSBpdGVtcy5wdXNoKGBMRU5HVEg6ICR7TWF0aC5yb3VuZChnZXRQcm9wKCdsZW5ndGhfbScpKX0gbWApO1xuICAgICAgICBpZiAoZ2V0UHJvcCgnZGlyZWN0aW9uJykpIGl0ZW1zLnB1c2goYERJUkVDVElPTjogJHtnZXRQcm9wKCdkaXJlY3Rpb24nKX1gKTtcbiAgICAgICAgY29uc3QgY2xvc2VkID0gZ2V0UHJvcCgnaXNfY2xvc2VkJyk7XG4gICAgICAgIGl0ZW1zLnB1c2goYFNUQVRVUzogJHtjbG9zZWQgPyAnQ2xvc2VkJyA6ICdPcGVuJ31gKTtcbiAgICB9IGVsc2UgaWYgKGNhdGVnb3J5ID09PSAnZGlzcGF0Y2hfbG9jYXRpb24nKSB7XG4gICAgICAgIGl0ZW1zLnB1c2goYC0tLSBMT0NBVElPTiAtLS1gKTtcbiAgICAgICAgaXRlbXMucHVzaChgTkFNRTogJHtnZXRQcm9wKCdsb2NhdGlvbl9uYW1lJyl9YCk7XG4gICAgICAgIGl0ZW1zLnB1c2goYFRZUEU6ICR7Z2V0UHJvcCgndW5pdF90eXBlJykgfHwgZ2V0UHJvcCgnbG9jYXRpb25fY2F0ZWdvcnknKX1gKTtcbiAgICB9IGVsc2UgaWYgKGNhdGVnb3J5ID09PSAnZGlzcGF0Y2hfaW50ZXJzZWN0aW9uJykge1xuICAgICAgICBpdGVtcy5wdXNoKGAtLS0gSU5URVJTRUNUSU9OIC0tLWApO1xuICAgICAgICBpdGVtcy5wdXNoKGBOQU1FOiAke2dldFByb3AoJ2ludGVyc2VjdGlvbl9uYW1lJyl9YCk7XG4gICAgICAgIGlmIChnZXRQcm9wKCdpbnRlcnNlY3Rpb25fdHlwZScpKSBpdGVtcy5wdXNoKGBUWVBFOiAke2dldFByb3AoJ2ludGVyc2VjdGlvbl90eXBlJyl9YCk7XG4gICAgICAgIGlmIChnZXRQcm9wKCdzYWZldHlfYnVmZmVyX20nKSkgaXRlbXMucHVzaChgU0FGRVRZIEJVRkZFUjogJHtnZXRQcm9wKCdzYWZldHlfYnVmZmVyX20nKX0gbWApO1xuICAgICAgICBpZiAoZ2V0UHJvcCgncl9taW5fbScpKSBpdGVtcy5wdXNoKGBSLU1JTjogJHtnZXRQcm9wKCdyX21pbl9tJyl9IG1gKTtcbiAgICAgICAgY29uc3Qgcm9hZHMgPSBnZXRQcm9wKCdjb25uZWN0ZWRfcm9hZHMnKTtcbiAgICAgICAgaWYgKHJvYWRzICYmIEFycmF5LmlzQXJyYXkocm9hZHMpICYmIHJvYWRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGl0ZW1zLnB1c2goYENPTk5FQ1RFRCBST0FEUzogJHtyb2Fkcy5qb2luKCcsICcpfWApO1xuICAgICAgICB9XG4gICAgfSBlbHNlIGlmIChjYXRlZ29yeSA9PT0gJ2Rpc3BhdGNoX3Ryb2xsZXknKSB7XG4gICAgICAgIGl0ZW1zLnB1c2goYC0tLSBUUk9MTEVZIC0tLWApO1xuICAgICAgICBpdGVtcy5wdXNoKGBUWVBFOiBUcm9sbGV5IExpbmVgKTtcbiAgICB9XG5cbiAgICByZXR1cm4gcmVuZGVyVG9vbHRpcEl0ZW1zKGl0ZW1zLCB7IGNvbXBhY3Q6IHRydWUgfSk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBEaXNwYXRjaENlc2l1bU1hcCgpIHtcbiAgICBjb25zdCBtYXBDb250YWluZXIgPSB1c2VSZWYobnVsbCk7XG4gICAgY29uc3QgY2VzaXVtVmlld2VyUmVmID0gdXNlUmVmKG51bGwpO1xuICAgIGNvbnN0IG1lYXN1cmVtZW50SGFuZGxlclJlZiA9IHVzZVJlZihudWxsKTtcbiAgICBjb25zdCBbbWFwTG9hZGVkLCBzZXRNYXBMb2FkZWRdID0gdXNlU3RhdGUoZmFsc2UpO1xuICAgIGNvbnN0IFttYXBFcnJvciwgc2V0TWFwRXJyb3JdID0gdXNlU3RhdGUobnVsbCk7XG4gICAgY29uc3QgW2Nlc2l1bUxvYWRlZCwgc2V0Q2VzaXVtTG9hZGVkXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgICBjb25zdCBbZGlhbG9nT3Blbiwgc2V0RGlhbG9nT3Blbl0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gICAgY29uc3QgW2RpYWxvZ0RhdGEsIHNldERpYWxvZ0RhdGFdID0gdXNlU3RhdGUobnVsbCk7XG4gICAgY29uc3QgW3Nob3dQcm9maWxlVmlld2VyLCBzZXRTaG93UHJvZmlsZVZpZXdlcl0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gICAgY29uc3QgW3Nob3dTcGVlZE1hbmFnZW1lbnQsIHNldFNob3dTcGVlZE1hbmFnZW1lbnRdID0gdXNlU3RhdGUoZmFsc2UpO1xuICAgIGNvbnN0IFtzZWxlY3RlZFJvYWRJZCwgc2V0U2VsZWN0ZWRSb2FkSWRdID0gdXNlU3RhdGUobnVsbCk7XG4gICAgLy8gRGF0YVxuICAgIGNvbnN0IFtsb2NhdGlvbnMsIHNldExvY2F0aW9uc10gPSB1c2VTdGF0ZShbXSk7XG4gICAgY29uc3QgW3NlZ21lbnRzLCBzZXRTZWdtZW50c10gPSB1c2VTdGF0ZShbXSk7XG4gICAgY29uc3QgW3Ryb2xsZXlTZWdtZW50cywgc2V0VHJvbGxleVNlZ21lbnRzXSA9IHVzZVN0YXRlKFtdKTtcbiAgICBjb25zdCBbd2F0ZXJpbmdTdGF0aW9ucywgc2V0V2F0ZXJpbmdTdGF0aW9uc10gPSB1c2VTdGF0ZShbXSk7XG4gICAgY29uc3QgW3NwZWVkTW9uaXRvcmluZywgc2V0U3BlZWRNb25pdG9yaW5nXSA9IHVzZVN0YXRlKFtdKTtcbiAgICBjb25zdCBbaW50ZXJzZWN0aW9ucywgc2V0SW50ZXJzZWN0aW9uc10gPSB1c2VTdGF0ZShbXSk7XG4gICAgY29uc3QgW2NlbnRlclBvaW50cywgc2V0Q2VudGVyUG9pbnRzXSA9IHVzZVN0YXRlKFtdKTtcbiAgICBjb25zdCBjZW50ZXJQb2ludEVudGl0aWVzUmVmID0gdXNlUmVmKFtdKTtcblxuICAgIGNvbnN0IHtcbiAgICAgICAgaXNEaWFsb2dPcGVuOiB0dXJuRGlhbG9nT3BlbixcbiAgICAgICAgY3VycmVudFN0ZXA6IHR1cm5DdXJyZW50U3RlcCwgICAgICAgICAgIC8vIGZvciBVSVxuICAgICAgICBnZXRDdXJyZW50U3RlcDogZ2V0VHVybkN1cnJlbnRTdGVwLCAgICAgLy8gcmVmLWJhY2tlZCBmb3IgQ2VzaXVtIGhhbmRsZXJzXG4gICAgICAgIHNlbGVjdGVkU291cmNlUm9hZDogdHVyblNvdXJjZVJvYWQsXG4gICAgICAgIHNlbGVjdGVkRGVzdGluYXRpb25Sb2FkOiB0dXJuRGVzdFJvYWQsXG4gICAgICAgIG9wZW5EaWFsb2c6IG9wZW5UdXJuRGlhbG9nLFxuICAgICAgICBjbG9zZURpYWxvZzogY2xvc2VUdXJuRGlhbG9nLFxuICAgICAgICBzdGFydFNlbGVjdGlvbjogc3RhcnRUdXJuU2VsZWN0aW9uLFxuICAgICAgICBoYW5kbGVNYXBDbGljazogaGFuZGxlVHVyblBhdGhDbGljayxcbiAgICB9ID0gdXNlVHVyblBhdGhNYW5hZ2VyKGNlc2l1bVZpZXdlclJlZiwgY2VudGVyUG9pbnRzKTtcblxuICAgIC8vIFVJIFN0YXRlXG4gICAgY29uc3QgW3JvYWROZXR3b3Jrc0V4cGFuZGVkLCBzZXRSb2FkTmV0d29ya3NFeHBhbmRlZF0gPSB1c2VTdGF0ZSh0cnVlKTtcbiAgICBjb25zdCBbbG9jYXRpb25UeXBlc0V4cGFuZGVkLCBzZXRMb2NhdGlvblR5cGVzRXhwYW5kZWRdID0gdXNlU3RhdGUodHJ1ZSk7XG4gICAgY29uc3QgW2Jhc2VMYXllciwgc2V0QmFzZUxheWVyXSA9IHVzZVN0YXRlKCduaWdodCcpOyAvLyAnbmlnaHQnIG9yICdkYXknXG4gICAgY29uc3QgW3NjZW5lTW9kZSwgc2V0U2NlbmVNb2RlXSA9IHVzZVN0YXRlKCczZCcpOyAvLyAnM2QnIG9yICcyZCdcbiAgICBjb25zdCBbbWVhc3VyZW1lbnRNb2RlLCBzZXRNZWFzdXJlbWVudE1vZGVdID0gdXNlU3RhdGUoJ25vbmUnKTsgLy8gbm9uZSB8IGRpc3RhbmNlIHwgYXJlYVxuXG4gICAgLy8gVmlzaWJpbGl0eVxuICAgIGNvbnN0IFtzaG93T3BlblJvYWRzLCBzZXRTaG93T3BlblJvYWRzXSA9IHVzZVN0YXRlKHRydWUpO1xuICAgIGNvbnN0IFtzaG93Q2xvc2VkUm9hZHMsIHNldFNob3dDbG9zZWRSb2Fkc10gPSB1c2VTdGF0ZSh0cnVlKTtcbiAgICBjb25zdCBbc2hvd0ludGVyc2VjdGlvbnMsIHNldFNob3dJbnRlcnNlY3Rpb25zXSA9IHVzZVN0YXRlKHRydWUpO1xuICAgIGNvbnN0IFtzaG93Q2VudGVyUG9pbnRzLCBzZXRTaG93Q2VudGVyUG9pbnRzXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgICBjb25zdCBbc2hvd1Ryb2xsZXksIHNldFNob3dUcm9sbGV5XSA9IHVzZVN0YXRlKHRydWUpO1xuICAgIGNvbnN0IFtzaG93V2F0ZXJpbmcsIHNldFNob3dXYXRlcmluZ10gPSB1c2VTdGF0ZSh0cnVlKTtcbiAgICBjb25zdCBbc2hvd1NwZWVkLCBzZXRTaG93U3BlZWRdID0gdXNlU3RhdGUodHJ1ZSk7XG4gICAgY29uc3QgW3Zpc2libGVMb2NhdGlvblR5cGVzLCBzZXRWaXNpYmxlTG9jYXRpb25UeXBlc10gPSB1c2VTdGF0ZShuZXcgU2V0KCkpO1xuXG4gICAgLy8gRnJvbnRydW5uZXItc3R5bGUgbWVhc3VyZW1lbnQgaG9va1xuICAgIGNvbnN0IHtcbiAgICAgICAgbWVhc3VyZW1lbnRNb2RlOiBmck1lYXN1cmVtZW50TW9kZSxcbiAgICAgICAgc3RhcnRNZWFzdXJlbWVudDogZnJTdGFydE1lYXN1cmVtZW50LFxuICAgICAgICBjYW5jZWxNZWFzdXJlbWVudDogZnJDYW5jZWxNZWFzdXJlbWVudCxcbiAgICAgICAgYWRkTWVhc3VyZW1lbnRQb2ludDogZnJBZGRQb2ludCxcbiAgICAgICAgY2xlYXJNZWFzdXJlbWVudHM6IGZyQ2xlYXJNZWFzdXJlbWVudHMsXG4gICAgICAgIHVwZGF0ZVByZXZpZXdMaW5lOiBmclVwZGF0ZVByZXZpZXcsXG4gICAgICAgIGZpbmFsaXplQXJlYU1lYXN1cmVtZW50OiBmckZpbmFsaXplQXJlYSxcbiAgICAgICAgZ2V0TWVhc3VyZW1lbnRNb2RlOiBmckdldE1vZGUsXG4gICAgfSA9IHVzZU1lYXN1cmVtZW50VG9vbChjZXNpdW1WaWV3ZXJSZWYpO1xuXG4gICAgY29uc3QgcmVjZW50ZXJWaWV3ID0gKCkgPT4ge1xuICAgICAgICBjb25zdCB2aWV3ZXIgPSBjZXNpdW1WaWV3ZXJSZWYuY3VycmVudDtcbiAgICAgICAgaWYgKCF2aWV3ZXIgfHwgIXdpbmRvdz8uQ2VzaXVtKSByZXR1cm47XG4gICAgICAgIGNvbnN0IENlc2l1bSA9IHdpbmRvdy5DZXNpdW07XG4gICAgICAgIHZpZXdlci5jYW1lcmEuZmx5VG8oe1xuICAgICAgICAgICAgZGVzdGluYXRpb246IENlc2l1bS5DYXJ0ZXNpYW4zLmZyb21EZWdyZWVzKDE0OC45ODAyMDIsIC0yMy44NDcwODMsIDUwMDApLFxuICAgICAgICAgICAgb3JpZW50YXRpb246IHsgaGVhZGluZzogMCwgcGl0Y2g6IENlc2l1bS5NYXRoLnRvUmFkaWFucygtOTApLCByb2xsOiAwIH0sXG4gICAgICAgICAgICBkdXJhdGlvbjogMC44LFxuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgLy8gQ29tcHV0ZWRcblxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIC8vIEhpZGUgaW5mby90b29sdGlwIG92ZXJsYXlzIHdoaWxlIHR1cm4tcGF0aCBzZWxlY3Rpb24gaXMgYWN0aXZlXG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgY29uc3Qgc2VsZWN0aW5nID1cbiAgICAgICAgICAgIHR1cm5DdXJyZW50U3RlcCA9PT0gJ3NlbGVjdGluZ19zb3VyY2UnIHx8XG4gICAgICAgICAgICB0dXJuQ3VycmVudFN0ZXAgPT09ICdzZWxlY3RpbmdfZGVzdGluYXRpb24nO1xuICAgICAgICBpZiAoc2VsZWN0aW5nKSB7XG4gICAgICAgICAgICBzZXREaWFsb2dPcGVuKGZhbHNlKTtcbiAgICAgICAgICAgIHNldERpYWxvZ0RhdGEobnVsbCk7XG4gICAgICAgICAgICBjb25zdCB0b29sdGlwID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21hcC10b29sdGlwJyk7XG4gICAgICAgICAgICBpZiAodG9vbHRpcCkgdG9vbHRpcC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgICB9XG4gICAgfSwgW3R1cm5DdXJyZW50U3RlcF0pO1xuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIGNvbnN0IGxvY2F0aW9uQ291bnRzID0gdXNlTWVtbygoKSA9PiB7XG4gICAgICAgIGNvbnN0IGNvdW50cyA9IHt9O1xuICAgICAgICBsb2NhdGlvbnMuZm9yRWFjaChsID0+IGNvdW50c1tyZXNvbHZlRGlzcGF0Y2hMb2NhdGlvblR5cGUobCldID0gKGNvdW50c1tyZXNvbHZlRGlzcGF0Y2hMb2NhdGlvblR5cGUobCldIHx8IDApICsgMSk7XG4gICAgICAgIHJldHVybiBjb3VudHM7XG4gICAgfSwgW2xvY2F0aW9uc10pO1xuXG4gICAgY29uc3Qgcm9hZENvdW50cyA9IHVzZU1lbW8oKCkgPT4gKHtcbiAgICAgICAgb3Blbjogc2VnbWVudHMuZmlsdGVyKHMgPT4gIWlzRGlzcGF0Y2hTZWdtZW50Q2xvc2VkKHMpKS5sZW5ndGgsXG4gICAgICAgIGNsb3NlZDogc2VnbWVudHMuZmlsdGVyKHMgPT4gaXNEaXNwYXRjaFNlZ21lbnRDbG9zZWQocykpLmxlbmd0aFxuICAgIH0pLCBbc2VnbWVudHNdKTtcblxuICAgIGNvbnN0IGNlbnRlclBvaW50Q291bnQgPSBjZW50ZXJQb2ludHMubGVuZ3RoO1xuXG4gICAgY29uc3QgdG9nZ2xlTG9jYXRpb25UeXBlID0gKHR5cGUsIGNoZWNrZWQpID0+IHtcbiAgICAgICAgY29uc3QgbmV3U2V0ID0gbmV3IFNldCh2aXNpYmxlTG9jYXRpb25UeXBlcyk7XG4gICAgICAgIGNoZWNrZWQgPyBuZXdTZXQuYWRkKHR5cGUpIDogbmV3U2V0LmRlbGV0ZSh0eXBlKTtcbiAgICAgICAgc2V0VmlzaWJsZUxvY2F0aW9uVHlwZXMobmV3U2V0KTtcbiAgICB9O1xuXG4gICAgLy8gSW5pdGlhbGl6ZSBDZXNpdW1cbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAoIWNlc2l1bUxvYWRlZCB8fCAhbWFwQ29udGFpbmVyLmN1cnJlbnQgfHwgY2VzaXVtVmlld2VyUmVmLmN1cnJlbnQpIHJldHVybjtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IENlc2l1bSA9IHdpbmRvdy5DZXNpdW07XG4gICAgICAgICAgICBDZXNpdW0uSW9uLmRlZmF1bHRBY2Nlc3NUb2tlbiA9ICdleUpoYkdjaU9pSklVekkxTmlJc0luUjVjQ0k2SWtwWFZDSjkuZXlKcWRHa2lPaUprTjJKaU1XTXlNUzA1WW1VMExUUTJNemt0T0RrNVl5MHhaakpqTURreU9HSmtNemtpTENKcFpDSTZNVGcwTnpZc0ltbGhkQ0k2TVRZek9UUXpPVFU0TW4wLjZHTU9QLVk5blB3cUdQWjBmTEN1Ty1ZWEsxeFZISzBIeHhNejRFQnFoSmsnO1xuXG4gICAgICAgICAgICBsZXQgY29vcmRIYW5kbGVyID0gbnVsbDtcbiAgICAgICAgICAgIGxldCBjb29yZERpc3BsYXkgPSBudWxsO1xuXG4gICAgICAgICAgICBjb25zdCB2aWV3ZXIgPSBuZXcgQ2VzaXVtLlZpZXdlcihtYXBDb250YWluZXIuY3VycmVudCwge1xuICAgICAgICAgICAgICAgIGJhc2VMYXllclBpY2tlcjogZmFsc2UsIGdlb2NvZGVyOiBmYWxzZSwgaG9tZUJ1dHRvbjogZmFsc2UsIHNjZW5lTW9kZVBpY2tlcjogZmFsc2UsXG4gICAgICAgICAgICAgICAgbmF2aWdhdGlvbkhlbHBCdXR0b246IGZhbHNlLCBhbmltYXRpb246IGZhbHNlLCB0aW1lbGluZTogZmFsc2UsIGZ1bGxzY3JlZW5CdXR0b246IGZhbHNlLFxuICAgICAgICAgICAgICAgIHZyQnV0dG9uOiBmYWxzZSwgaW1hZ2VyeVByb3ZpZGVyOiBmYWxzZSwgdGVycmFpblByb3ZpZGVyOiBuZXcgQ2VzaXVtLkVsbGlwc29pZFRlcnJhaW5Qcm92aWRlcigpLFxuICAgICAgICAgICAgICAgIHNlbGVjdGlvbkluZGljYXRvcjogZmFsc2UsIGluZm9Cb3g6IGZhbHNlXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgdmlld2VyLmNlc2l1bVdpZGdldC5jcmVkaXRDb250YWluZXIuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgICAgICAgIHZpZXdlci5jYW1lcmEuc2V0Vmlldyh7XG4gICAgICAgICAgICAgICAgZGVzdGluYXRpb246IENlc2l1bS5DYXJ0ZXNpYW4zLmZyb21EZWdyZWVzKDE0OC45ODAyMDIsIC0yMy44NDcwODMsIDUwMDApLFxuICAgICAgICAgICAgICAgIG9yaWVudGF0aW9uOiB7IGhlYWRpbmc6IDAsIHBpdGNoOiBDZXNpdW0uTWF0aC50b1JhZGlhbnMoLTkwKSwgcm9sbDogMCB9XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgY2VzaXVtVmlld2VyUmVmLmN1cnJlbnQgPSB2aWV3ZXI7XG4gICAgICAgICAgICB3aW5kb3cuY2VzaXVtVmlld2VyID0gdmlld2VyO1xuICAgICAgICAgICAgc2V0TWFwTG9hZGVkKHRydWUpO1xuXG4gICAgICAgICAgICAvLyBMb2FkIGNlbnRlciBwb2ludHMgZnJvbSBiYWNrZW5kIChpbnRlcnNlY3Rpb25fY2VudGVyX3BvaW50cylcbiAgICAgICAgICAgIGZldGNoKCcvYXBpL2ludGVyc2VjdGlvbl9jZW50ZXJfcG9pbnRzJylcbiAgICAgICAgICAgICAgICAudGhlbihyZXMgPT4gcmVzLmpzb24oKSlcbiAgICAgICAgICAgICAgICAudGhlbihkYXRhID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoZGF0YSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldENlbnRlclBvaW50cyhkYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLmNhdGNoKGVyciA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybignRmFpbGVkIHRvIGxvYWQgY2VudGVyIHBvaW50cycsIGVycj8ubWVzc2FnZSB8fCBlcnIpO1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAvLyBNZWFzdXJlbWVudCBoYW5kbGVyc1xuICAgICAgICAgICAgY29uc3QgaGFuZGxlciA9IG5ldyBDZXNpdW0uU2NyZWVuU3BhY2VFdmVudEhhbmRsZXIodmlld2VyLnNjZW5lLmNhbnZhcyk7XG4gICAgICAgICAgICBtZWFzdXJlbWVudEhhbmRsZXJSZWYuY3VycmVudCA9IGhhbmRsZXI7XG5cbiAgICAgICAgICAgIGhhbmRsZXIuc2V0SW5wdXRBY3Rpb24oKG1vdmVtZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgLy8gVHVybiBwYXRoIHNlbGVjdGlvbiB0YWtlcyBwcmlvcml0eSBpZiBpbiBzZWxlY3RpbmcgbW9kZVxuICAgICAgICAgICAgICAgIGNvbnN0IHN0ZXAgPSBnZXRUdXJuQ3VycmVudFN0ZXA/LigpO1xuICAgICAgICAgICAgICAgIGlmIChzdGVwID09PSAnc2VsZWN0aW5nX3NvdXJjZScgfHwgc3RlcCA9PT0gJ3NlbGVjdGluZ19kZXN0aW5hdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZHJpbGwgPSB2aWV3ZXIuc2NlbmUuZHJpbGxQaWNrKG1vdmVtZW50LnBvc2l0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcGlja2VkID0gKGRyaWxsICYmIGRyaWxsWzBdKSB8fCB2aWV3ZXIuc2NlbmUucGljayhtb3ZlbWVudC5wb3NpdGlvbik7XG4gICAgICAgICAgICAgICAgICAgIGlmIChwaWNrZWQgJiYgcGlja2VkLmlkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBoYW5kbGVUdXJuUGF0aENsaWNrKHBpY2tlZC5pZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBjb25zdCBtb2RlID0gZnJHZXRNb2RlKCk7XG4gICAgICAgICAgICAgICAgaWYgKCFtb2RlKSByZXR1cm47XG4gICAgICAgICAgICAgICAgY29uc3QgZWxsaXBzb2lkID0gdmlld2VyLnNjZW5lLmdsb2JlLmVsbGlwc29pZDtcbiAgICAgICAgICAgICAgICBsZXQgY2FydGVzaWFuID1cbiAgICAgICAgICAgICAgICAgICAgdmlld2VyLmNhbWVyYS5waWNrRWxsaXBzb2lkKG1vdmVtZW50LnBvc2l0aW9uLCBlbGxpcHNvaWQpIHx8XG4gICAgICAgICAgICAgICAgICAgIHZpZXdlci5zY2VuZS5waWNrUG9zaXRpb24obW92ZW1lbnQucG9zaXRpb24pO1xuICAgICAgICAgICAgICAgIGlmICghY2FydGVzaWFuKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJheSA9IHZpZXdlci5jYW1lcmEuZ2V0UGlja1JheShtb3ZlbWVudC5wb3NpdGlvbik7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyYXkpIGNhcnRlc2lhbiA9IHZpZXdlci5zY2VuZS5nbG9iZS5waWNrKHJheSwgdmlld2VyLnNjZW5lKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKCFjYXJ0ZXNpYW4pIHJldHVybjtcbiAgICAgICAgICAgICAgICBjb25zdCBjYXJ0byA9IGVsbGlwc29pZC5jYXJ0ZXNpYW5Ub0NhcnRvZ3JhcGhpYyhjYXJ0ZXNpYW4pO1xuICAgICAgICAgICAgICAgIGNvbnN0IGNsYW1wZWQgPSBDZXNpdW0uQ2FydGVzaWFuMy5mcm9tUmFkaWFucyhjYXJ0by5sb25naXR1ZGUsIGNhcnRvLmxhdGl0dWRlLCAwLjApO1xuICAgICAgICAgICAgICAgIGZyQWRkUG9pbnQoY2xhbXBlZCk7XG4gICAgICAgICAgICB9LCBDZXNpdW0uU2NyZWVuU3BhY2VFdmVudFR5cGUuTEVGVF9DTElDSyk7XG5cbiAgICAgICAgICAgIGhhbmRsZXIuc2V0SW5wdXRBY3Rpb24oKG1vdmVtZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgbW9kZSA9IGZyR2V0TW9kZSgpO1xuICAgICAgICAgICAgICAgIGlmIChtb2RlICE9PSAnZGlzdGFuY2UnKSByZXR1cm47XG4gICAgICAgICAgICAgICAgY29uc3QgZWxsaXBzb2lkID0gdmlld2VyLnNjZW5lLmdsb2JlLmVsbGlwc29pZDtcbiAgICAgICAgICAgICAgICBsZXQgY2FydGVzaWFuID1cbiAgICAgICAgICAgICAgICAgICAgdmlld2VyLmNhbWVyYS5waWNrRWxsaXBzb2lkKG1vdmVtZW50LmVuZFBvc2l0aW9uLCBlbGxpcHNvaWQpIHx8XG4gICAgICAgICAgICAgICAgICAgIHZpZXdlci5zY2VuZS5waWNrUG9zaXRpb24obW92ZW1lbnQuZW5kUG9zaXRpb24pO1xuICAgICAgICAgICAgICAgIGlmICghY2FydGVzaWFuKSB7XG4gICAgICAgICAgICAgICAgICAgIGZyVXBkYXRlUHJldmlldyhudWxsKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCBjYXJ0byA9IGVsbGlwc29pZC5jYXJ0ZXNpYW5Ub0NhcnRvZ3JhcGhpYyhjYXJ0ZXNpYW4pO1xuICAgICAgICAgICAgICAgIGNvbnN0IGNsYW1wZWQgPSBDZXNpdW0uQ2FydGVzaWFuMy5mcm9tUmFkaWFucyhjYXJ0by5sb25naXR1ZGUsIGNhcnRvLmxhdGl0dWRlLCAwLjApO1xuICAgICAgICAgICAgICAgIGZyVXBkYXRlUHJldmlldyhjbGFtcGVkKTtcbiAgICAgICAgICAgIH0sIENlc2l1bS5TY3JlZW5TcGFjZUV2ZW50VHlwZS5NT1VTRV9NT1ZFKTtcblxuICAgICAgICAgICAgaGFuZGxlci5zZXRJbnB1dEFjdGlvbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgZnJGaW5hbGl6ZUFyZWEoKTtcbiAgICAgICAgICAgIH0sIENlc2l1bS5TY3JlZW5TcGFjZUV2ZW50VHlwZS5SSUdIVF9DTElDSyk7XG5cbiAgICAgICAgICAgIC8vIENvb3JkaW5hdGVzIChleGFjdCBGcm9udHJ1bm5lciBzdHlsZSlcbiAgICAgICAgICAgIGNvb3JkRGlzcGxheSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICAgICAgY29vcmREaXNwbGF5LmlkID0gJ21vdXNlLWNvb3JkaW5hdGVzJztcbiAgICAgICAgICAgIGNvb3JkRGlzcGxheS5zdHlsZS5jc3NUZXh0ID0gYFxuICAgICAgICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICAgICAgICAgIGJvdHRvbTogMjBweDtcbiAgICAgICAgICAgICAgcmlnaHQ6IDIwcHg7XG4gICAgICAgICAgICAgIGJhY2tncm91bmQ6IHJnYmEoNTAsIDUwLCA1MCwgMC45Mik7XG4gICAgICAgICAgICAgIGNvbG9yOiB3aGl0ZTtcbiAgICAgICAgICAgICAgcGFkZGluZzogMTJweCAxNnB4O1xuICAgICAgICAgICAgICBib3JkZXItcmFkaXVzOiA5cHg7XG4gICAgICAgICAgICAgIGZvbnQtZmFtaWx5OiAnU2Vnb2UgVUknLCAtYXBwbGUtc3lzdGVtLCBCbGlua01hY1N5c3RlbUZvbnQsIHNhbnMtc2VyaWY7XG4gICAgICAgICAgICAgIGZvbnQtc2l6ZTogMTJweDtcbiAgICAgICAgICAgICAgZm9udC13ZWlnaHQ6IDQwMDtcbiAgICAgICAgICAgICAgYm94LXNoYWRvdzogMCA0cHggMTZweCByZ2JhKDAsIDAsIDAsIDAuMyk7XG4gICAgICAgICAgICAgIGJhY2tkcm9wLWZpbHRlcjogYmx1cigxMnB4KTtcbiAgICAgICAgICAgICAgYm9yZGVyOiBub25lO1xuICAgICAgICAgICAgICB6LWluZGV4OiAxMDAwO1xuICAgICAgICAgICAgICBtaW4td2lkdGg6IDE2MHB4O1xuICAgICAgICAgICAgICB0ZXh0LWFsaWduOiBsZWZ0O1xuICAgICAgICAgICAgICBkaXNwbGF5OiBibG9jaztcbiAgICAgICAgICAgICAgbGluZS1oZWlnaHQ6IDEuMzU7XG4gICAgICAgICAgICBgO1xuICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChjb29yZERpc3BsYXkpO1xuXG4gICAgICAgICAgICBjb29yZEhhbmRsZXIgPSBuZXcgQ2VzaXVtLlNjcmVlblNwYWNlRXZlbnRIYW5kbGVyKHZpZXdlci5zY2VuZS5jYW52YXMpO1xuICAgICAgICAgICAgY29vcmRIYW5kbGVyLnNldElucHV0QWN0aW9uKChtb3ZlbWVudCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNhcnRlc2lhbiA9IHZpZXdlci5zY2VuZS5waWNrUG9zaXRpb24obW92ZW1lbnQuZW5kUG9zaXRpb24pO1xuICAgICAgICAgICAgICAgIGlmIChDZXNpdW0uZGVmaW5lZChjYXJ0ZXNpYW4pKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNhcnQgPSBDZXNpdW0uQ2FydG9ncmFwaGljLmZyb21DYXJ0ZXNpYW4oY2FydGVzaWFuKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbG5nID0gQ2VzaXVtLk1hdGgudG9EZWdyZWVzKGNhcnQubG9uZ2l0dWRlKS50b0ZpeGVkKDYpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBsYXQgPSBDZXNpdW0uTWF0aC50b0RlZ3JlZXMoY2FydC5sYXRpdHVkZSkudG9GaXhlZCg2KTtcbiAgICAgICAgICAgICAgICAgICAgY29vcmREaXNwbGF5LmlubmVySFRNTCA9IGBcbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPVwiZGlzcGxheTogZmxleDsganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuOyBtYXJnaW4tYm90dG9tOiA0cHg7XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBzdHlsZT1cImNvbG9yOiAjYTBhMGEwOyBmb250LXdlaWdodDogNDAwO1wiPkxhdDo8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBzdHlsZT1cImNvbG9yOiB3aGl0ZTsgZm9udC13ZWlnaHQ6IDUwMDsgZm9udC12YXJpYW50LW51bWVyaWM6IHRhYnVsYXItbnVtcztcIj4ke2xhdH3CsDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPVwiZGlzcGxheTogZmxleDsganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gc3R5bGU9XCJjb2xvcjogI2EwYTBhMDsgZm9udC13ZWlnaHQ6IDQwMDtcIj5Mbmc6PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gc3R5bGU9XCJjb2xvcjogd2hpdGU7IGZvbnQtd2VpZ2h0OiA1MDA7IGZvbnQtdmFyaWFudC1udW1lcmljOiB0YWJ1bGFyLW51bXM7XCI+JHtsbmd9wrA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIGA7XG4gICAgICAgICAgICAgICAgICAgIGNvb3JkRGlzcGxheS5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCBDZXNpdW0uU2NyZWVuU3BhY2VFdmVudFR5cGUuTU9VU0VfTU9WRSk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHsgc2V0TWFwRXJyb3IoZS5tZXNzYWdlKTsgfVxuXG4gICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgICBpZiAobWVhc3VyZW1lbnRIYW5kbGVyUmVmLmN1cnJlbnQpIHtcbiAgICAgICAgICAgICAgICBtZWFzdXJlbWVudEhhbmRsZXJSZWYuY3VycmVudC5kZXN0cm95KCk7XG4gICAgICAgICAgICAgICAgbWVhc3VyZW1lbnRIYW5kbGVyUmVmLmN1cnJlbnQgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGNvb3JkSGFuZGxlciAmJiAhY29vcmRIYW5kbGVyLmlzRGVzdHJveWVkKCkpIHtcbiAgICAgICAgICAgICAgICBjb29yZEhhbmRsZXIuZGVzdHJveSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGNvb3JkRGlzcGxheSAmJiBjb29yZERpc3BsYXkucGFyZW50Tm9kZSkge1xuICAgICAgICAgICAgICAgIGNvb3JkRGlzcGxheS5yZW1vdmUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNlc2l1bVZpZXdlclJlZi5jdXJyZW50Py5kZXN0cm95KCk7XG4gICAgICAgIH07XG4gICAgfSwgW2Nlc2l1bUxvYWRlZF0pO1xuXG4gICAgLy8gVG9vbHRpcCBIYW5kbGVyXG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgaWYgKCFtYXBMb2FkZWQgfHwgIWNlc2l1bVZpZXdlclJlZi5jdXJyZW50KSByZXR1cm47XG4gICAgICAgIGNvbnN0IHZpZXdlciA9IGNlc2l1bVZpZXdlclJlZi5jdXJyZW50O1xuICAgICAgICBjb25zdCBDZXNpdW0gPSB3aW5kb3cuQ2VzaXVtO1xuICAgICAgICBjb25zdCBoYW5kbGVyID0gbmV3IENlc2l1bS5TY3JlZW5TcGFjZUV2ZW50SGFuZGxlcih2aWV3ZXIuc2NlbmUuY2FudmFzKTtcblxuICAgICAgICBjb25zdCB0b29sdGlwID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIHRvb2x0aXAuc3R5bGUuY3NzVGV4dCA9IGBcbiAgICAgICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsgZGlzcGxheTogbm9uZTsgcG9pbnRlci1ldmVudHM6IG5vbmU7XG4gICAgICAgICAgICBiYWNrZ3JvdW5kOiByZ2JhKDIwLCAyMCwgMzAsIDAuOTUpOyBjb2xvcjogd2hpdGU7XG4gICAgICAgICAgICBwYWRkaW5nOiA4cHggMTJweDsgYm9yZGVyLXJhZGl1czogNnB4O1xuICAgICAgICAgICAgZm9udC1mYW1pbHk6ICdJbnRlcicsIHNhbnMtc2VyaWY7IGZvbnQtc2l6ZTogMTJweDtcbiAgICAgICAgICAgIGJveC1zaGFkb3c6IDAgNHB4IDEycHggcmdiYSgwLDAsMCwwLjQpO1xuICAgICAgICAgICAgYm9yZGVyOiAxcHggc29saWQgcmdiYSgyNTUsMjU1LDI1NSwwLjE1KTtcbiAgICAgICAgICAgIHotaW5kZXg6IDEwMDAwOyBtYXgtd2lkdGg6IDMwMHB4O1xuICAgICAgICBgO1xuICAgICAgICB2aWV3ZXIuY29udGFpbmVyLmFwcGVuZENoaWxkKHRvb2x0aXApO1xuXG4gICAgICAgIGhhbmRsZXIuc2V0SW5wdXRBY3Rpb24oKG1vdmVtZW50KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBzdGVwID0gZ2V0VHVybkN1cnJlbnRTdGVwPy4oKTtcbiAgICAgICAgICAgIGlmIChzdGVwID09PSAnc2VsZWN0aW5nX3NvdXJjZScgfHwgc3RlcCA9PT0gJ3NlbGVjdGluZ19kZXN0aW5hdGlvbicpIHtcbiAgICAgICAgICAgICAgICB0b29sdGlwLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICAgICAgICAgICAgdmlld2VyLmNvbnRhaW5lci5zdHlsZS5jdXJzb3IgPSAnZGVmYXVsdCc7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCBwaWNrZWRPYmplY3QgPSB2aWV3ZXIuc2NlbmUucGljayhtb3ZlbWVudC5lbmRQb3NpdGlvbik7XG4gICAgICAgICAgICBpZiAocGlja2VkT2JqZWN0ICYmIHBpY2tlZE9iamVjdC5pZCAmJiBwaWNrZWRPYmplY3QuaWQucHJvcGVydGllcykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNvbnRlbnQgPSBmb3JtYXRUb29sdGlwQ29udGVudChwaWNrZWRPYmplY3QuaWQpO1xuICAgICAgICAgICAgICAgIGlmIChjb250ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIHRvb2x0aXAuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG4gICAgICAgICAgICAgICAgICAgIHRvb2x0aXAuaW5uZXJIVE1MID0gY29udGVudDtcbiAgICAgICAgICAgICAgICAgICAgLy8gUG9zaXRpb24gdG9vbHRpcCBuZWFyIG1vdXNlIGJ1dCBub3QgdW5kZXIgaXRcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgeCA9IG1vdmVtZW50LmVuZFBvc2l0aW9uLnggKyAxNTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgeSA9IG1vdmVtZW50LmVuZFBvc2l0aW9uLnkgKyAxNTtcbiAgICAgICAgICAgICAgICAgICAgdG9vbHRpcC5zdHlsZS5sZWZ0ID0gYCR7eH1weGA7XG4gICAgICAgICAgICAgICAgICAgIHRvb2x0aXAuc3R5bGUudG9wID0gYCR7eX1weGA7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gS2VlcCB3aXRoaW4gYm91bmRzXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvbnRhaW5lclJlY3QgPSB2aWV3ZXIuY29udGFpbmVyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoeCArIHRvb2x0aXAub2Zmc2V0V2lkdGggPiBjb250YWluZXJSZWN0LndpZHRoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0b29sdGlwLnN0eWxlLmxlZnQgPSBgJHttb3ZlbWVudC5lbmRQb3NpdGlvbi54IC0gdG9vbHRpcC5vZmZzZXRXaWR0aCAtIDEwfXB4YDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoeSArIHRvb2x0aXAub2Zmc2V0SGVpZ2h0ID4gY29udGFpbmVyUmVjdC5oZWlnaHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvb2x0aXAuc3R5bGUudG9wID0gYCR7bW92ZW1lbnQuZW5kUG9zaXRpb24ueSAtIHRvb2x0aXAub2Zmc2V0SGVpZ2h0IC0gMTB9cHhgO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgdmlld2VyLmNvbnRhaW5lci5zdHlsZS5jdXJzb3IgPSAncG9pbnRlcic7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0b29sdGlwLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICAgICAgICB2aWV3ZXIuY29udGFpbmVyLnN0eWxlLmN1cnNvciA9ICdkZWZhdWx0JztcbiAgICAgICAgfSwgQ2VzaXVtLlNjcmVlblNwYWNlRXZlbnRUeXBlLk1PVVNFX01PVkUpO1xuXG4gICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgICBoYW5kbGVyLmRlc3Ryb3koKTtcbiAgICAgICAgICAgIGlmICh0b29sdGlwLnBhcmVudE5vZGUpIHRvb2x0aXAucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0b29sdGlwKTtcbiAgICAgICAgfTtcbiAgICB9LCBbbWFwTG9hZGVkXSk7XG5cbiAgICAvLyBDbGljayBIYW5kbGVyIGZvciBEaWFsb2dcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAoIW1hcExvYWRlZCB8fCAhY2VzaXVtVmlld2VyUmVmLmN1cnJlbnQpIHJldHVybjtcbiAgICAgICAgY29uc3Qgdmlld2VyID0gY2VzaXVtVmlld2VyUmVmLmN1cnJlbnQ7XG4gICAgICAgIGNvbnN0IENlc2l1bSA9IHdpbmRvdy5DZXNpdW07XG4gICAgICAgIGNvbnN0IGhhbmRsZXIgPSBuZXcgQ2VzaXVtLlNjcmVlblNwYWNlRXZlbnRIYW5kbGVyKHZpZXdlci5zY2VuZS5jYW52YXMpO1xuXG4gICAgICAgIGhhbmRsZXIuc2V0SW5wdXRBY3Rpb24oKGNsaWNrKSA9PiB7XG4gICAgICAgICAgICAvLyBTaG9ydC1jaXJjdWl0IHRvIHR1cm4tcGF0aCBzZWxlY3Rpb246IG5vIGluZm8gZGlhbG9nIHdoaWxlIHNlbGVjdGluZ1xuICAgICAgICAgICAgY29uc3Qgc3RlcCA9IGdldFR1cm5DdXJyZW50U3RlcD8uKCk7XG4gICAgICAgICAgICBpZiAoc3RlcCA9PT0gJ3NlbGVjdGluZ19zb3VyY2UnIHx8IHN0ZXAgPT09ICdzZWxlY3RpbmdfZGVzdGluYXRpb24nKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZHJpbGwgPSB2aWV3ZXIuc2NlbmUuZHJpbGxQaWNrKGNsaWNrLnBvc2l0aW9uKTtcbiAgICAgICAgICAgICAgICBjb25zdCBwaWNrZWQgPSAoZHJpbGwgJiYgZHJpbGxbMF0pIHx8IHZpZXdlci5zY2VuZS5waWNrKGNsaWNrLnBvc2l0aW9uKTtcbiAgICAgICAgICAgICAgICBpZiAocGlja2VkICYmIHBpY2tlZC5pZCkge1xuICAgICAgICAgICAgICAgICAgICBoYW5kbGVUdXJuUGF0aENsaWNrKHBpY2tlZC5pZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybjsgLy8gYWx3YXlzIHN1cHByZXNzIGluZm8gZGlhbG9nIHdoaWxlIHNlbGVjdGluZ1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBMb29rIGF0ICphbGwqIHByaW1pdGl2ZXMgdW5kZXIgdGhlIGN1cnNvclxuICAgICAgICAgICAgY29uc3QgcGlja2VkID0gdmlld2VyLnNjZW5lLmRyaWxsUGljayhjbGljay5wb3NpdGlvbikgfHwgW107XG5cbiAgICAgICAgICAgIC8vIFByZWZlciBsb2NhdGlvbnMgLyBpbnRlcnNlY3Rpb25zIG92ZXIgcm9hZHMgd2hlbiBvdmVybGFwcGluZ1xuICAgICAgICAgICAgbGV0IHBpY2tlZE9iamVjdCA9XG4gICAgICAgICAgICAgICAgcGlja2VkLmZpbmQobyA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghby5pZCB8fCAhby5pZC5wcm9wZXJ0aWVzIHx8ICFvLmlkLnByb3BlcnRpZXMuY2F0ZWdvcnkpIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY2F0UHJvcCA9IG8uaWQucHJvcGVydGllcy5jYXRlZ29yeTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY2F0ID0gY2F0UHJvcC5nZXRWYWx1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgPyBjYXRQcm9wLmdldFZhbHVlKHdpbmRvdy5DZXNpdW0uSnVsaWFuRGF0ZS5ub3coKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIDogY2F0UHJvcDtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNhdCA9PT0gJ2Rpc3BhdGNoX2xvY2F0aW9uJyB8fCBjYXQgPT09ICdkaXNwYXRjaF9pbnRlcnNlY3Rpb24nO1xuICAgICAgICAgICAgICAgIH0pIHx8IHBpY2tlZFswXTtcblxuICAgICAgICAgICAgaWYgKENlc2l1bS5kZWZpbmVkKHBpY2tlZE9iamVjdCkgJiYgcGlja2VkT2JqZWN0LmlkICYmIHBpY2tlZE9iamVjdC5pZC5wcm9wZXJ0aWVzKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZW50aXR5ID0gcGlja2VkT2JqZWN0LmlkO1xuICAgICAgICAgICAgICAgIGNvbnN0IGFsbFByb3BlcnRpZXMgPSB7fTtcblxuICAgICAgICAgICAgICAgIC8vIEV4dHJhY3QgcHJvcGVydGllc1xuICAgICAgICAgICAgICAgIGNvbnN0IHByb3BlcnR5TmFtZXMgPSBlbnRpdHkucHJvcGVydGllcy5wcm9wZXJ0eU5hbWVzIHx8IE9iamVjdC5rZXlzKGVudGl0eS5wcm9wZXJ0aWVzKTtcbiAgICAgICAgICAgICAgICBwcm9wZXJ0eU5hbWVzLmZvckVhY2gocHJvcE5hbWUgPT4ge1xuICAgICAgICAgICAgICAgICAgICAvLyBTa2lwIGludGVybmFsIENlc2l1bSBwcm9wZXJ0aWVzXG4gICAgICAgICAgICAgICAgICAgIGlmIChwcm9wTmFtZS5zdGFydHNXaXRoKCdfJykgfHwgcHJvcE5hbWUgPT09ICdwcm9wZXJ0eU5hbWVzJyB8fCBwcm9wTmFtZSA9PT0gJ2RlZmluaXRpb25DaGFuZ2VkJyB8fCBwcm9wTmFtZSA9PT0gJ2NvbG9yJyB8fCBwcm9wTmFtZSA9PT0gJ3N0eWxlX3JvbGUnKSByZXR1cm47XG5cbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHByb3AgPSBlbnRpdHkucHJvcGVydGllc1twcm9wTmFtZV07XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocHJvcCAmJiB0eXBlb2YgcHJvcC5nZXRWYWx1ZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHZhbCA9IHByb3AuZ2V0VmFsdWUoQ2VzaXVtLkp1bGlhbkRhdGUubm93KCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWwgIT09IHVuZGVmaW5lZCAmJiB2YWwgIT09IG51bGwpIGFsbFByb3BlcnRpZXNbcHJvcE5hbWVdID0gdmFsO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChwcm9wICE9PSB1bmRlZmluZWQgJiYgcHJvcCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsbFByb3BlcnRpZXNbcHJvcE5hbWVdID0gcHJvcDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkgeyB9XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAvLyBBbHNvIHRyeSBkaXJlY3QgcHJvcGVydGllcyBpZiBub3QgZm91bmQgYWJvdmVcbiAgICAgICAgICAgICAgICBpZiAoZW50aXR5LnByb3BlcnRpZXMuY2F0ZWdvcnkgJiYgIWFsbFByb3BlcnRpZXMuY2F0ZWdvcnkpIHtcbiAgICAgICAgICAgICAgICAgICAgYWxsUHJvcGVydGllcy5jYXRlZ29yeSA9IGVudGl0eS5wcm9wZXJ0aWVzLmNhdGVnb3J5LmdldFZhbHVlID8gZW50aXR5LnByb3BlcnRpZXMuY2F0ZWdvcnkuZ2V0VmFsdWUoKSA6IGVudGl0eS5wcm9wZXJ0aWVzLmNhdGVnb3J5O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoZW50aXR5LnByb3BlcnRpZXMubmFtZSAmJiAhYWxsUHJvcGVydGllcy5uYW1lKSB7XG4gICAgICAgICAgICAgICAgICAgIGFsbFByb3BlcnRpZXMubmFtZSA9IGVudGl0eS5wcm9wZXJ0aWVzLm5hbWUuZ2V0VmFsdWUgPyBlbnRpdHkucHJvcGVydGllcy5uYW1lLmdldFZhbHVlKCkgOiBlbnRpdHkucHJvcGVydGllcy5uYW1lO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIENsZWFyIHByZXZpb3VzIGhpZ2hsaWdodHNcbiAgICAgICAgICAgICAgICB2aWV3ZXIuZW50aXRpZXMudmFsdWVzLmZvckVhY2gocHJldkVudGl0eSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChwcmV2RW50aXR5Ll9vcmlnaW5hbE1hdGVyaWFsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocHJldkVudGl0eS5jb3JyaWRvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByZXZFbnRpdHkuY29ycmlkb3IubWF0ZXJpYWwgPSBwcmV2RW50aXR5Ll9vcmlnaW5hbE1hdGVyaWFsO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByZXZFbnRpdHkuY29ycmlkb3Iub3V0bGluZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChwcmV2RW50aXR5LnBvbHlnb24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmV2RW50aXR5LnBvbHlnb24ubWF0ZXJpYWwgPSBwcmV2RW50aXR5Ll9vcmlnaW5hbE1hdGVyaWFsO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByZXZFbnRpdHkucG9seWdvbi5vdXRsaW5lID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgcHJldkVudGl0eS5fb3JpZ2luYWxNYXRlcmlhbDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgLy8gSGlnaGxpZ2h0IGNsaWNrZWQgZW50aXR5XG4gICAgICAgICAgICAgICAgaWYgKGVudGl0eS5jb3JyaWRvcikge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWVudGl0eS5fb3JpZ2luYWxNYXRlcmlhbCkgZW50aXR5Ll9vcmlnaW5hbE1hdGVyaWFsID0gZW50aXR5LmNvcnJpZG9yLm1hdGVyaWFsO1xuICAgICAgICAgICAgICAgICAgICBlbnRpdHkuY29ycmlkb3IubWF0ZXJpYWwgPSBDZXNpdW0uQ29sb3IuQ1lBTi53aXRoQWxwaGEoMS4wKTtcbiAgICAgICAgICAgICAgICAgICAgZW50aXR5LmNvcnJpZG9yLm91dGxpbmUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBlbnRpdHkuY29ycmlkb3Iub3V0bGluZUNvbG9yID0gQ2VzaXVtLkNvbG9yLllFTExPVztcbiAgICAgICAgICAgICAgICAgICAgZW50aXR5LmNvcnJpZG9yLm91dGxpbmVXaWR0aCA9IDM7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChlbnRpdHkucG9seWdvbikge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWVudGl0eS5fb3JpZ2luYWxNYXRlcmlhbCkgZW50aXR5Ll9vcmlnaW5hbE1hdGVyaWFsID0gZW50aXR5LnBvbHlnb24ubWF0ZXJpYWw7XG4gICAgICAgICAgICAgICAgICAgIGVudGl0eS5wb2x5Z29uLm1hdGVyaWFsID0gQ2VzaXVtLkNvbG9yLkNZQU4ud2l0aEFscGhhKDAuOSk7XG4gICAgICAgICAgICAgICAgICAgIGVudGl0eS5wb2x5Z29uLm91dGxpbmUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBlbnRpdHkucG9seWdvbi5vdXRsaW5lQ29sb3IgPSBDZXNpdW0uQ29sb3IuWUVMTE9XO1xuICAgICAgICAgICAgICAgICAgICBlbnRpdHkucG9seWdvbi5vdXRsaW5lV2lkdGggPSAzO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHNldERpYWxvZ0RhdGEoe1xuICAgICAgICAgICAgICAgICAgICBjYXRlZ29yeTogYWxsUHJvcGVydGllcy5jYXRlZ29yeSxcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogYWxsUHJvcGVydGllcy5uYW1lIHx8ICdVbmtub3duJyxcbiAgICAgICAgICAgICAgICAgICAgYWxsUHJvcGVydGllczogYWxsUHJvcGVydGllc1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHNldERpYWxvZ09wZW4odHJ1ZSk7XG5cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gQ2xpY2tlZCBlbXB0eSBzcGFjZVxuICAgICAgICAgICAgICAgIHNldERpYWxvZ09wZW4oZmFsc2UpO1xuICAgICAgICAgICAgICAgIHNldERpYWxvZ0RhdGEobnVsbCk7XG5cbiAgICAgICAgICAgICAgICAvLyBSZXNldCBoaWdobGlnaHRzXG4gICAgICAgICAgICAgICAgdmlld2VyLmVudGl0aWVzLnZhbHVlcy5mb3JFYWNoKHByZXZFbnRpdHkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAocHJldkVudGl0eS5fb3JpZ2luYWxNYXRlcmlhbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHByZXZFbnRpdHkuY29ycmlkb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmV2RW50aXR5LmNvcnJpZG9yLm1hdGVyaWFsID0gcHJldkVudGl0eS5fb3JpZ2luYWxNYXRlcmlhbDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmV2RW50aXR5LmNvcnJpZG9yLm91dGxpbmUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAocHJldkVudGl0eS5wb2x5Z29uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJldkVudGl0eS5wb2x5Z29uLm1hdGVyaWFsID0gcHJldkVudGl0eS5fb3JpZ2luYWxNYXRlcmlhbDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmV2RW50aXR5LnBvbHlnb24ub3V0bGluZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHByZXZFbnRpdHkuX29yaWdpbmFsTWF0ZXJpYWw7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgQ2VzaXVtLlNjcmVlblNwYWNlRXZlbnRUeXBlLkxFRlRfQ0xJQ0spO1xuXG4gICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgICBoYW5kbGVyLmRlc3Ryb3koKTtcbiAgICAgICAgfTtcbiAgICB9LCBbbWFwTG9hZGVkXSk7XG5cbiAgICAvLyBDZW50ZXIgcG9pbnRzIHJlbmRlcmVyIChtYWdlbnRhIG1hcmtlcnMsIGxpa2UgRnJvbnRydW5uZXIpXG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgY29uc3Qgdmlld2VyID0gY2VzaXVtVmlld2VyUmVmLmN1cnJlbnQ7XG4gICAgICAgIGlmICghdmlld2VyIHx8ICF2aWV3ZXIuZW50aXRpZXMpIHJldHVybjtcblxuICAgICAgICAvLyBjbGVhciBvbGRcbiAgICAgICAgaWYgKGNlbnRlclBvaW50RW50aXRpZXNSZWYuY3VycmVudC5sZW5ndGgpIHtcbiAgICAgICAgICAgIGNlbnRlclBvaW50RW50aXRpZXNSZWYuY3VycmVudC5mb3JFYWNoKGUgPT4ge1xuICAgICAgICAgICAgICAgIHRyeSB7IHZpZXdlci5lbnRpdGllcy5yZW1vdmUoZSk7IH0gY2F0Y2ggKF8pIHsgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjZW50ZXJQb2ludEVudGl0aWVzUmVmLmN1cnJlbnQgPSBbXTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghc2hvd0NlbnRlclBvaW50cyB8fCAhQXJyYXkuaXNBcnJheShjZW50ZXJQb2ludHMpKSB7XG4gICAgICAgICAgICB2aWV3ZXIuc2NlbmU/LnJlcXVlc3RSZW5kZXIoKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IENlc2l1bSA9IHdpbmRvdy5DZXNpdW07XG4gICAgICAgIGNlbnRlclBvaW50cy5mb3JFYWNoKChjcCkgPT4ge1xuICAgICAgICAgICAgaWYgKGNwLmxvbiA9PSBudWxsIHx8IGNwLmxhdCA9PSBudWxsKSByZXR1cm47XG4gICAgICAgICAgICBjb25zdCBwb3MgPSBDZXNpdW0uQ2FydGVzaWFuMy5mcm9tRGVncmVlcyhjcC5sb24sIGNwLmxhdCwgMi4wKTtcbiAgICAgICAgICAgIGNvbnN0IGVudCA9IHZpZXdlci5lbnRpdGllcy5hZGQoe1xuICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBwb3MsXG4gICAgICAgICAgICAgICAgcG9pbnQ6IHtcbiAgICAgICAgICAgICAgICAgICAgcGl4ZWxTaXplOiAyNSxcbiAgICAgICAgICAgICAgICAgICAgY29sb3I6IENlc2l1bS5Db2xvci5NQUdFTlRBLFxuICAgICAgICAgICAgICAgICAgICBvdXRsaW5lQ29sb3I6IENlc2l1bS5Db2xvci5XSElURSxcbiAgICAgICAgICAgICAgICAgICAgb3V0bGluZVdpZHRoOiA2LFxuICAgICAgICAgICAgICAgICAgICBoZWlnaHRSZWZlcmVuY2U6IENlc2l1bS5IZWlnaHRSZWZlcmVuY2UuUkVMQVRJVkVfVE9fR1JPVU5ELFxuICAgICAgICAgICAgICAgICAgICBkaXNhYmxlRGVwdGhUZXN0RGlzdGFuY2U6IE51bWJlci5QT1NJVElWRV9JTkZJTklUWSxcbiAgICAgICAgICAgICAgICAgICAgc2NhbGVCeURpc3RhbmNlOiBuZXcgQ2VzaXVtLk5lYXJGYXJTY2FsYXIoMS41ZTIsIDMuMCwgMS41ZTcsIDEuNSksXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBjeWxpbmRlcjoge1xuICAgICAgICAgICAgICAgICAgICBsZW5ndGg6IDIuMCxcbiAgICAgICAgICAgICAgICAgICAgdG9wUmFkaXVzOiAwLjgsXG4gICAgICAgICAgICAgICAgICAgIGJvdHRvbVJhZGl1czogMC44LFxuICAgICAgICAgICAgICAgICAgICBtYXRlcmlhbDogQ2VzaXVtLkNvbG9yLk1BR0VOVEEud2l0aEFscGhhKDAuOSksXG4gICAgICAgICAgICAgICAgICAgIG91dGxpbmU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIG91dGxpbmVDb2xvcjogQ2VzaXVtLkNvbG9yLldISVRFLFxuICAgICAgICAgICAgICAgICAgICBvdXRsaW5lV2lkdGg6IDIsXG4gICAgICAgICAgICAgICAgICAgIGhlaWdodFJlZmVyZW5jZTogQ2VzaXVtLkhlaWdodFJlZmVyZW5jZS5SRUxBVElWRV9UT19HUk9VTkQsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzOiB7XG4gICAgICAgICAgICAgICAgICAgIGNhdGVnb3J5OiAncm9hZF9pbnRlcnNlY3Rpb25fY2VudGVyJyxcbiAgICAgICAgICAgICAgICAgICAgcm9hZF9pZDogY3Aucm9hZF9pZCxcbiAgICAgICAgICAgICAgICAgICAgaW50ZXJzZWN0aW9uX2lkOiBjcC5pbnRlcnNlY3Rpb25faWQsXG4gICAgICAgICAgICAgICAgICAgIGludGVyc2VjdGlvbl9uYW1lOiBjcC5pbnRlcnNlY3Rpb25fbmFtZSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIG5hbWU6IGBDZW50ZXIgUG9pbnQgJHtjcC5pbnRlcnNlY3Rpb25fbmFtZSB8fCAnJ30gKCR7Y3Aucm9hZF9pZCB8fCAnJ30pYCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgY2VudGVyUG9pbnRFbnRpdGllc1JlZi5jdXJyZW50LnB1c2goZW50KTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdmlld2VyLnNjZW5lPy5yZXF1ZXN0UmVuZGVyKCk7XG4gICAgfSwgW2NlbnRlclBvaW50cywgc2hvd0NlbnRlclBvaW50c10pO1xuXG4gICAgLy8gQmFzZSBMYXllciBMb2dpY1xuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGlmICghY2VzaXVtVmlld2VyUmVmLmN1cnJlbnQgfHwgIXdpbmRvdy5DZXNpdW0pIHJldHVybjtcbiAgICAgICAgY29uc3Qgdmlld2VyID0gY2VzaXVtVmlld2VyUmVmLmN1cnJlbnQ7XG4gICAgICAgIGNvbnN0IENlc2l1bSA9IHdpbmRvdy5DZXNpdW07XG4gICAgICAgIGxldCBjYW5jZWxsZWQgPSBmYWxzZTtcblxuICAgICAgICBjb25zdCB1cGRhdGVCYXNlTGF5ZXIgPSBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICB2aWV3ZXIuaW1hZ2VyeUxheWVycy5yZW1vdmVBbGwoKTtcblxuICAgICAgICAgICAgbGV0IHByb3ZpZGVyO1xuICAgICAgICAgICAgc3dpdGNoIChiYXNlTGF5ZXIpIHtcbiAgICAgICAgICAgICAgICBjYXNlICduaWdodCc6XG4gICAgICAgICAgICAgICAgICAgIHByb3ZpZGVyID0gbmV3IENlc2l1bS5VcmxUZW1wbGF0ZUltYWdlcnlQcm92aWRlcih7XG4gICAgICAgICAgICAgICAgICAgICAgICB1cmw6ICdodHRwczovL2EuYmFzZW1hcHMuY2FydG9jZG4uY29tL2RhcmtfYWxsL3t6fS97eH0ve3l9LnBuZycsXG4gICAgICAgICAgICAgICAgICAgICAgICBjcmVkaXQ6ICfCqSBPcGVuU3RyZWV0TWFwIGNvbnRyaWJ1dG9ycywgwqkgQ0FSVE8nXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdkYXknOlxuICAgICAgICAgICAgICAgICAgICBwcm92aWRlciA9IG5ldyBDZXNpdW0uVXJsVGVtcGxhdGVJbWFnZXJ5UHJvdmlkZXIoe1xuICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiAnaHR0cHM6Ly9zZXJ2ZXIuYXJjZ2lzb25saW5lLmNvbS9BcmNHSVMvcmVzdC9zZXJ2aWNlcy9Xb3JsZF9JbWFnZXJ5L01hcFNlcnZlci90aWxlL3t6fS97eX0ve3h9JyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNyZWRpdDogJ8KpIEVzcmksIERpZ2l0YWxHbG9iZSwgR2VvRXllLCBFYXJ0aHN0YXIgR2VvZ3JhcGhpY3MsIENORVMvQWlyYnVzIERTLCBVU0RBLCBVU0dTLCBBZXJvR1JJRCwgSUdOLCBhbmQgdGhlIEdJUyBVc2VyIENvbW11bml0eSdcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ3RvcG9ncmFwaGljJzpcbiAgICAgICAgICAgICAgICAgICAgcHJvdmlkZXIgPSBuZXcgQ2VzaXVtLlVybFRlbXBsYXRlSW1hZ2VyeVByb3ZpZGVyKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHVybDogJ2h0dHBzOi8ve3N9LnRpbGUub3BlbnRvcG9tYXAub3JnL3t6fS97eH0ve3l9LnBuZycsXG4gICAgICAgICAgICAgICAgICAgICAgICBjcmVkaXQ6ICfCqSBPcGVuVG9wb01hcCBjb250cmlidXRvcnMnLFxuICAgICAgICAgICAgICAgICAgICAgICAgc3ViZG9tYWluczogWydhJywgJ2InLCAnYyddXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICd0ZXJyYWluJzpcbiAgICAgICAgICAgICAgICAgICAgcHJvdmlkZXIgPSBuZXcgQ2VzaXVtLlVybFRlbXBsYXRlSW1hZ2VyeVByb3ZpZGVyKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHVybDogJ2h0dHBzOi8vdGlsZXMuc3RhZGlhbWFwcy5jb20vdGlsZXMvc3RhbWVuX3RlcnJhaW4ve3p9L3t4fS97eX0ucG5nJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNyZWRpdDogJ8KpIFN0YWRpYSBNYXBzIMKpIFN0YW1lbiBEZXNpZ24gwqkgT3Blbk1hcFRpbGVzIMKpIE9wZW5TdHJlZXRNYXAgY29udHJpYnV0b3JzJ1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgcHJvdmlkZXIgPSBuZXcgQ2VzaXVtLlVybFRlbXBsYXRlSW1hZ2VyeVByb3ZpZGVyKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHVybDogJ2h0dHBzOi8vYS5iYXNlbWFwcy5jYXJ0b2Nkbi5jb20vZGFya19hbGwve3p9L3t4fS97eX0ucG5nJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNyZWRpdDogJ8KpIE9wZW5TdHJlZXRNYXAgY29udHJpYnV0b3JzLCDCqSBDQVJUTydcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICghY2FuY2VsbGVkKSB7XG4gICAgICAgICAgICAgICAgdmlld2VyLmltYWdlcnlMYXllcnMuYWRkSW1hZ2VyeVByb3ZpZGVyKHByb3ZpZGVyKTtcbiAgICAgICAgICAgICAgICAvLyBFbnN1cmUgYmFzZSBjb2xvciBpcyBkYXJrIGZvciBuaWdodCBtb2RlIG9yIGdlbmVyYWwgY29uc2lzdGVuY3lcbiAgICAgICAgICAgICAgICB2aWV3ZXIuc2NlbmUuZ2xvYmUuYmFzZUNvbG9yID0gQ2VzaXVtLkNvbG9yLmZyb21Dc3NDb2xvclN0cmluZygnIzFhMWEyZScpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIHVwZGF0ZUJhc2VMYXllcigpO1xuICAgICAgICByZXR1cm4gKCkgPT4geyBjYW5jZWxsZWQgPSB0cnVlOyB9O1xuICAgIH0sIFtiYXNlTGF5ZXIsIG1hcExvYWRlZF0pO1xuXG4gICAgLy8gU2NlbmUgbW9kZSB0b2dnbGUgKDJEIHZzIDNEKVxuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGlmICghbWFwTG9hZGVkIHx8ICFjZXNpdW1WaWV3ZXJSZWYuY3VycmVudCB8fCAhd2luZG93LkNlc2l1bSkgcmV0dXJuO1xuICAgICAgICBjb25zdCB2aWV3ZXIgPSBjZXNpdW1WaWV3ZXJSZWYuY3VycmVudDtcbiAgICAgICAgY29uc3QgQ2VzaXVtID0gd2luZG93LkNlc2l1bTtcbiAgICAgICAgaWYgKHNjZW5lTW9kZSA9PT0gJzJkJykge1xuICAgICAgICAgICAgdmlld2VyLnNjZW5lLm1vcnBoVG8yRCgwKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZpZXdlci5zY2VuZS5tb3JwaFRvM0QoMCk7XG4gICAgICAgIH1cbiAgICB9LCBbc2NlbmVNb2RlLCBtYXBMb2FkZWRdKTtcblxuICAgIC8vIExvYWQgRGF0YSAoY29tYmluZWQgQVBJKVxuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGlmICghbWFwTG9hZGVkKSByZXR1cm47XG4gICAgICAgIGNvbnN0IGxvYWQgPSBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IGZldGNoKCcvYXBpL2NvbWJpbmVkLW1hcC1kYXRhJyk7XG4gICAgICAgICAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlcy5qc29uKCk7XG5cbiAgICAgICAgICAgICAgICAvLyBTaG93IGV2ZXJ5dGhpbmcgZnJvbSB0aGUgY29tYmluZWQgQVBJIChib3RoIGRpc3BhdGNoIGFuZCBmcm9udHJ1bm5lcilcbiAgICAgICAgICAgICAgICBjb25zdCByb2FkcyA9IGRhdGE/LnJvYWRzIHx8IFtdO1xuICAgICAgICAgICAgICAgIGNvbnN0IGludGVyc2VjdGlvbnMgPSBkYXRhPy5pbnRlcnNlY3Rpb25zIHx8IFtdO1xuICAgICAgICAgICAgICAgIGNvbnN0IGluZnJhc3RydWN0dXJlID0gZGF0YT8uaW5mcmFzdHJ1Y3R1cmUgfHwgW107XG4gICAgICAgICAgICAgICAgY29uc3QgYXBpU2VnbWVudHMgPSBkYXRhPy5zZWdtZW50cyB8fCBbXTtcblxuICAgICAgICAgICAgICAgIGNvbnN0IG1hcHBlZFNlZ21lbnRzID0gKGFwaVNlZ21lbnRzLmxlbmd0aCA/IGFwaVNlZ21lbnRzIDogcm9hZHMpLm1hcCgocykgPT4gKHtcbiAgICAgICAgICAgICAgICAgICAgbGFuZV9pZDogcy5sYW5lX2lkIHx8IHMucm9hZF9pZCxcbiAgICAgICAgICAgICAgICAgICAgcm9hZF9pZDogcy5yb2FkX2lkIHx8IHMubGFuZV9pZCxcbiAgICAgICAgICAgICAgICAgICAgZ2VvbWV0cnk6IHMuZ2VvbWV0cnlfZ2VvanNvbiB8fCBzLmdlb21ldHJ5IHx8IHMuY2VudGVybGluZV9nZW9qc29uLFxuICAgICAgICAgICAgICAgICAgICBpc19jbG9zZWQ6IHMuaXNfY2xvc2VkLFxuICAgICAgICAgICAgICAgICAgICBkaXJlY3Rpb246IHMuZGlyZWN0aW9uID8/IG51bGwsXG4gICAgICAgICAgICAgICAgICAgIGxlbmd0aF9tOiBzLmxlbmd0aF9tID8/IG51bGwsXG4gICAgICAgICAgICAgICAgfSkpO1xuXG4gICAgICAgICAgICAgICAgY29uc3QgbWFwcGVkTG9jYXRpb25zID0gaW5mcmFzdHJ1Y3R1cmVcbiAgICAgICAgICAgICAgICAgICAgLm1hcCgocCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGxhdCA9IG51bGwsIGxvbiA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGdqID0gcC5wb2ludF9nZW9qc29uID8gSlNPTi5wYXJzZShwLnBvaW50X2dlb2pzb24pIDogbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZ2ogJiYgZ2oudHlwZSA9PT0gJ1BvaW50JyAmJiBBcnJheS5pc0FycmF5KGdqLmNvb3JkaW5hdGVzKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbbG9uLCBsYXRdID0gZ2ouY29vcmRpbmF0ZXM7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoXykgeyB9XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2F0aW9uX2lkOiBwLmxvY2F0aW9uX2lkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2F0aW9uX25hbWU6IHAubG9jYXRpb25fbmFtZSB8fCAnJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXRpdHVkZTogbGF0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvbmdpdHVkZTogbG9uLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdlb21ldHJ5OiBwLmdlb21fZ2VvanNvbiB8fCBwLmdlb21ldHJ5IHx8IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdW5pdF90eXBlOiBwLnVuaXRfdHlwZSB8fCBwLmxvY2F0aW9uX2NhdGVnb3J5IHx8IHAudW5pdF90eXBlX2lkIHx8IHAudW5pdF9pZCB8fCBwLnNvdXJjZSB8fCAnaW5mcmFzdHJ1Y3R1cmUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2F0aW9uX2NhdGVnb3J5OiBwLmxvY2F0aW9uX2NhdGVnb3J5IHx8IHAudW5pdF90eXBlIHx8IHAudW5pdF90eXBlX2lkIHx8IHAudW5pdF9pZCB8fCBwLnNvdXJjZSB8fCAnaW5mcmFzdHJ1Y3R1cmUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVuaXRfdHlwZV9pZDogcC51bml0X3R5cGVfaWQgfHwgcC51bml0X2lkIHx8IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc291cmNlOiBwLnNvdXJjZSB8fCAnJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgIC5maWx0ZXIoKHApID0+IE51bWJlci5pc0Zpbml0ZShwLmxhdGl0dWRlKSAmJiBOdW1iZXIuaXNGaW5pdGUocC5sb25naXR1ZGUpKTtcblxuICAgICAgICAgICAgICAgIGNvbnN0IG1hcHBlZEludGVyc2VjdGlvbnMgPSBpbnRlcnNlY3Rpb25zLm1hcCgoaSkgPT4gKHtcbiAgICAgICAgICAgICAgICAgICAgLi4uaSxcbiAgICAgICAgICAgICAgICAgICAgZ2VvbWV0cnk6IGkuZ2VvbV9nZW9qc29uIHx8IGkuZ2VvbWV0cnksXG4gICAgICAgICAgICAgICAgfSkpO1xuXG4gICAgICAgICAgICAgICAgLy8gRGVidWc6IGxvZyBjb3VudHMgYW5kIHRvcCB0eXBlc1xuICAgICAgICAgICAgICAgIGNvbnN0IHR5cGVDb3VudHMgPSB7fTtcbiAgICAgICAgICAgICAgICBtYXBwZWRMb2NhdGlvbnMuZm9yRWFjaCgobG9jKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHQgPSByZXNvbHZlRGlzcGF0Y2hMb2NhdGlvblR5cGUobG9jKTtcbiAgICAgICAgICAgICAgICAgICAgdHlwZUNvdW50c1t0XSA9ICh0eXBlQ291bnRzW3RdIHx8IDApICsgMTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAvLyBMb2cgYSBmZXcgc2FtcGxlIGxvY2F0aW9ucyB3aXRoIHJlc29sdmVkIHR5cGVcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnW0NvbWJpbmVkTWFwXVtEYXRhXScsIHtcbiAgICAgICAgICAgICAgICAgICAgcm9hZHM6IHJvYWRzLmxlbmd0aCxcbiAgICAgICAgICAgICAgICAgICAgc2VnbWVudHM6IG1hcHBlZFNlZ21lbnRzLmxlbmd0aCxcbiAgICAgICAgICAgICAgICAgICAgaW50ZXJzZWN0aW9uczogbWFwcGVkSW50ZXJzZWN0aW9ucy5sZW5ndGgsXG4gICAgICAgICAgICAgICAgICAgIGluZnJhc3RydWN0dXJlOiBtYXBwZWRMb2NhdGlvbnMubGVuZ3RoLFxuICAgICAgICAgICAgICAgICAgICB0eXBlQ291bnRzLFxuICAgICAgICAgICAgICAgICAgICBzYW1wbGVzOiBtYXBwZWRMb2NhdGlvbnMuc2xpY2UoMCwgNSkubWFwKChsb2MpID0+ICh7XG4gICAgICAgICAgICAgICAgICAgICAgICBsb2NhdGlvbl9pZDogbG9jLmxvY2F0aW9uX2lkLFxuICAgICAgICAgICAgICAgICAgICAgICAgc291cmNlOiBsb2Muc291cmNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgdW5pdF90eXBlOiBsb2MudW5pdF90eXBlLFxuICAgICAgICAgICAgICAgICAgICAgICAgdW5pdF90eXBlX2lkOiBsb2MudW5pdF90eXBlX2lkLFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZWRfdHlwZTogcmVzb2x2ZURpc3BhdGNoTG9jYXRpb25UeXBlKGxvYyksXG4gICAgICAgICAgICAgICAgICAgIH0pKSxcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIHNldExvY2F0aW9ucyhtYXBwZWRMb2NhdGlvbnMpO1xuICAgICAgICAgICAgICAgIHNldFNlZ21lbnRzKG1hcHBlZFNlZ21lbnRzKTtcbiAgICAgICAgICAgICAgICBzZXRUcm9sbGV5U2VnbWVudHMoZGF0YT8udHJvbGxleVNlZ21lbnRzIHx8IFtdKTtcbiAgICAgICAgICAgICAgICBzZXRXYXRlcmluZ1N0YXRpb25zKGRhdGE/LndhdGVyaW5nU3RhdGlvbnMgfHwgW10pO1xuICAgICAgICAgICAgICAgIHNldFNwZWVkTW9uaXRvcmluZyhkYXRhPy5zcGVlZE1vbml0b3JpbmcgfHwgW10pO1xuICAgICAgICAgICAgICAgIHNldEludGVyc2VjdGlvbnMobWFwcGVkSW50ZXJzZWN0aW9ucyk7XG5cbiAgICAgICAgICAgICAgICAvLyBCdWlsZCB2aXNpYmxlIHR5cGVzIGZyb20gdGhlIHJlc29sdmVkIHR5cGVzIHByZXNlbnQgaW4gdGhlIHBheWxvYWRcbiAgICAgICAgICAgICAgICBjb25zdCByZXNvbHZlZFR5cGVzID0gQXJyYXkuZnJvbShuZXcgU2V0KG1hcHBlZExvY2F0aW9ucy5tYXAoKGxvYykgPT4gcmVzb2x2ZURpc3BhdGNoTG9jYXRpb25UeXBlKGxvYykpKSk7XG5cbiAgICAgICAgICAgICAgICBjb25zdCB2aXNpYmxlU2V0ID0gbmV3IFNldCgpO1xuICAgICAgICAgICAgICAgIHJlc29sdmVkVHlwZXMuZm9yRWFjaCh0ID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qga2V5ID0gU3RyaW5nKHQpLnRyaW0oKS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBpc051bWVyaWMgPSAvXlswLTldKyQvLnRlc3Qoa2V5KTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKFNRVUFSRV9UWVBFUy5oYXMoa2V5KSB8fCBpc051bWVyaWMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZpc2libGVTZXQuYWRkKHQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgU1FVQVJFX1RZUEVTLmZvckVhY2godCA9PiB2aXNpYmxlU2V0LmFkZCh0KSk7XG4gICAgICAgICAgICAgICAgc2V0VmlzaWJsZUxvY2F0aW9uVHlwZXModmlzaWJsZVNldCk7XG5cbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhgW0NvbWJpbmVkTWFwXSBMb2FkZWQgZGF0YTpcbiAgICAgICAgICAgICAgICAgIC0gTG9jYXRpb25zOiAke21hcHBlZExvY2F0aW9ucy5sZW5ndGh9XG4gICAgICAgICAgICAgICAgICAtIFNlZ21lbnRzOiAke21hcHBlZFNlZ21lbnRzLmxlbmd0aH1cbiAgICAgICAgICAgICAgICAgIC0gSW50ZXJzZWN0aW9uczogJHttYXBwZWRJbnRlcnNlY3Rpb25zLmxlbmd0aH1gKTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHsgY29uc29sZS5lcnJvcihlKTsgfVxuICAgICAgICB9O1xuICAgICAgICBsb2FkKCk7XG4gICAgfSwgW21hcExvYWRlZF0pO1xuXG4gICAgLy8gUmVuZGVyXG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgaWYgKCFjZXNpdW1WaWV3ZXJSZWYuY3VycmVudCB8fCAhd2luZG93LkNlc2l1bSkgcmV0dXJuO1xuICAgICAgICBjb25zdCB2aWV3ZXIgPSBjZXNpdW1WaWV3ZXJSZWYuY3VycmVudDtcbiAgICAgICAgY29uc3QgQ2VzaXVtID0gd2luZG93LkNlc2l1bTtcblxuICAgICAgICAvLyBDbGVhciBleGlzdGluZyBlbnRpdGllc1xuICAgICAgICB2aWV3ZXIuZW50aXRpZXMucmVtb3ZlQWxsKCk7XG5cbiAgICAgICAgLy8gSGVscGVyIGZ1bmN0aW9uIHRvIGNvbXB1dGUgYW4gb2Zmc2V0IHBvbHlsaW5lIChmb3Igcm9hZCBlZGdlcylcbiAgICAgICAgY29uc3QgY29tcHV0ZU9mZnNldExpbmUgPSAocG9zaXRpb25zLCBvZmZzZXRNZXRlcnMpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IENlc2l1bSA9IHdpbmRvdy5DZXNpdW07XG4gICAgICAgICAgICBjb25zdCBlbGxpcHNvaWQgPSBDZXNpdW0uRWxsaXBzb2lkLldHUzg0O1xuXG4gICAgICAgICAgICBjb25zdCBvZmZzZXRQb3NpdGlvbnMgPSBbXTtcbiAgICAgICAgICAgIGNvbnN0IGRpcmVjdGlvbiA9IG5ldyBDZXNpdW0uQ2FydGVzaWFuMygpO1xuICAgICAgICAgICAgY29uc3QgdXAgPSBuZXcgQ2VzaXVtLkNhcnRlc2lhbjMoKTtcbiAgICAgICAgICAgIGNvbnN0IHJpZ2h0ID0gbmV3IENlc2l1bS5DYXJ0ZXNpYW4zKCk7XG5cbiAgICAgICAgICAgIGNvbnN0IG4gPSBwb3NpdGlvbnMubGVuZ3RoO1xuICAgICAgICAgICAgaWYgKG4gPT09IDApIHJldHVybiBvZmZzZXRQb3NpdGlvbnM7XG4gICAgICAgICAgICBpZiAobiA9PT0gMSkge1xuICAgICAgICAgICAgICAgIG9mZnNldFBvc2l0aW9ucy5wdXNoKHBvc2l0aW9uc1swXSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG9mZnNldFBvc2l0aW9ucztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBuOyBpKyspIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjdXIgPSBwb3NpdGlvbnNbaV07XG5cbiAgICAgICAgICAgICAgICAvLyAtLS0tIGNob29zZSBhIGZvcndhcmQgdmVjdG9yIHdpdGggQ09OU0lTVEVOVCBvcmllbnRhdGlvbiAtLS0tXG4gICAgICAgICAgICAgICAgaWYgKGkgPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gZmlyc3Q6IHVzZSBuZXh0IC0gY3VycmVudFxuICAgICAgICAgICAgICAgICAgICBDZXNpdW0uQ2FydGVzaWFuMy5zdWJ0cmFjdChwb3NpdGlvbnNbMV0sIGN1ciwgZGlyZWN0aW9uKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGkgPT09IG4gLSAxKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGxhc3Q6IHVzZSBjdXJyZW50IC0gcHJldmlvdXNcbiAgICAgICAgICAgICAgICAgICAgQ2VzaXVtLkNhcnRlc2lhbjMuc3VidHJhY3QoY3VyLCBwb3NpdGlvbnNbbiAtIDJdLCBkaXJlY3Rpb24pO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIG1pZGRsZTogYXZlcmFnZSBwcmV2IGFuZCBuZXh0IGRpcmVjdGlvbnMgZm9yIHNtb290aGVyIGNvcm5lcnNcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZDEgPSBuZXcgQ2VzaXVtLkNhcnRlc2lhbjMoKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZDIgPSBuZXcgQ2VzaXVtLkNhcnRlc2lhbjMoKTtcbiAgICAgICAgICAgICAgICAgICAgQ2VzaXVtLkNhcnRlc2lhbjMuc3VidHJhY3QoY3VyLCBwb3NpdGlvbnNbaSAtIDFdLCBkMSk7XG4gICAgICAgICAgICAgICAgICAgIENlc2l1bS5DYXJ0ZXNpYW4zLnN1YnRyYWN0KHBvc2l0aW9uc1tpICsgMV0sIGN1ciwgZDIpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoQ2VzaXVtLkNhcnRlc2lhbjMubWFnbml0dWRlU3F1YXJlZChkMSkgPiBDZXNpdW0uTWF0aC5FUFNJTE9OMTApIENlc2l1bS5DYXJ0ZXNpYW4zLm5vcm1hbGl6ZShkMSwgZDEpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoQ2VzaXVtLkNhcnRlc2lhbjMubWFnbml0dWRlU3F1YXJlZChkMikgPiBDZXNpdW0uTWF0aC5FUFNJTE9OMTApIENlc2l1bS5DYXJ0ZXNpYW4zLm5vcm1hbGl6ZShkMiwgZDIpO1xuICAgICAgICAgICAgICAgICAgICBDZXNpdW0uQ2FydGVzaWFuMy5hZGQoZDEsIGQyLCBkaXJlY3Rpb24pO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIHplcm8tbGVuZ3RoIHNhZmV0eVxuICAgICAgICAgICAgICAgIGlmIChDZXNpdW0uQ2FydGVzaWFuMy5tYWduaXR1ZGVTcXVhcmVkKGRpcmVjdGlvbikgPCBDZXNpdW0uTWF0aC5FUFNJTE9OMTApIHtcbiAgICAgICAgICAgICAgICAgICAgb2Zmc2V0UG9zaXRpb25zLnB1c2goY3VyKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgQ2VzaXVtLkNhcnRlc2lhbjMubm9ybWFsaXplKGRpcmVjdGlvbiwgZGlyZWN0aW9uKTtcbiAgICAgICAgICAgICAgICBpZiAoaXNOYU4oZGlyZWN0aW9uLngpIHx8IGlzTmFOKGRpcmVjdGlvbi55KSB8fCBpc05hTihkaXJlY3Rpb24ueikpIHtcbiAgICAgICAgICAgICAgICAgICAgb2Zmc2V0UG9zaXRpb25zLnB1c2goY3VyKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gbG9jYWwgXCJ1cFwiIChub3JtYWwgdG8gZWxsaXBzb2lkIGF0IHRoaXMgcG9pbnQpXG4gICAgICAgICAgICAgICAgZWxsaXBzb2lkLmdlb2RldGljU3VyZmFjZU5vcm1hbChjdXIsIHVwKTtcblxuICAgICAgICAgICAgICAgIC8vIHJpZ2h0ID0gZGlyZWN0aW9uIHggdXAgIChwZXJwZW5kaWN1bGFyIHRvIHJvYWQsIHRhbmdlbnQgdG8gZ3JvdW5kKVxuICAgICAgICAgICAgICAgIENlc2l1bS5DYXJ0ZXNpYW4zLmNyb3NzKGRpcmVjdGlvbiwgdXAsIHJpZ2h0KTtcbiAgICAgICAgICAgICAgICBpZiAoQ2VzaXVtLkNhcnRlc2lhbjMubWFnbml0dWRlU3F1YXJlZChyaWdodCkgPCBDZXNpdW0uTWF0aC5FUFNJTE9OMTApIHtcbiAgICAgICAgICAgICAgICAgICAgb2Zmc2V0UG9zaXRpb25zLnB1c2goY3VyKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIENlc2l1bS5DYXJ0ZXNpYW4zLm5vcm1hbGl6ZShyaWdodCwgcmlnaHQpO1xuICAgICAgICAgICAgICAgIGlmIChpc05hTihyaWdodC54KSB8fCBpc05hTihyaWdodC55KSB8fCBpc05hTihyaWdodC56KSkge1xuICAgICAgICAgICAgICAgICAgICBvZmZzZXRQb3NpdGlvbnMucHVzaChjdXIpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBjb25zdCBvZmZzZXQgPSBDZXNpdW0uQ2FydGVzaWFuMy5tdWx0aXBseUJ5U2NhbGFyKFxuICAgICAgICAgICAgICAgICAgICByaWdodCxcbiAgICAgICAgICAgICAgICAgICAgb2Zmc2V0TWV0ZXJzLFxuICAgICAgICAgICAgICAgICAgICBuZXcgQ2VzaXVtLkNhcnRlc2lhbjMoKVxuICAgICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgICAgICBjb25zdCBmaW5hbFBvcyA9IENlc2l1bS5DYXJ0ZXNpYW4zLmFkZChjdXIsIG9mZnNldCwgbmV3IENlc2l1bS5DYXJ0ZXNpYW4zKCkpO1xuICAgICAgICAgICAgICAgIGlmIChpc05hTihmaW5hbFBvcy54KSB8fCBpc05hTihmaW5hbFBvcy55KSB8fCBpc05hTihmaW5hbFBvcy56KSkge1xuICAgICAgICAgICAgICAgICAgICBvZmZzZXRQb3NpdGlvbnMucHVzaChjdXIpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIG9mZnNldFBvc2l0aW9ucy5wdXNoKGZpbmFsUG9zKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBvZmZzZXRQb3NpdGlvbnM7XG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gSGVscGVyOiBGaWx0ZXIgdW5pcXVlIHBvc2l0aW9ucyB0byBwcmV2ZW50IHplcm8tbGVuZ3RoIHNlZ21lbnRzXG4gICAgICAgIGNvbnN0IGZpbHRlclVuaXF1ZVBvc2l0aW9ucyA9IChwb3NpdGlvbnMpID0+IHtcbiAgICAgICAgICAgIGlmICghcG9zaXRpb25zIHx8IHBvc2l0aW9ucy5sZW5ndGggPCAyKSByZXR1cm4gcG9zaXRpb25zO1xuICAgICAgICAgICAgcmV0dXJuIHBvc2l0aW9ucy5maWx0ZXIoKHAsIGlkeCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChpZHggPT09IDApIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIGNvbnN0IHByZXYgPSBwb3NpdGlvbnNbaWR4IC0gMV07XG4gICAgICAgICAgICAgICAgcmV0dXJuIENlc2l1bS5DYXJ0ZXNpYW4zLmRpc3RhbmNlU3F1YXJlZChwLCBwcmV2KSA+IDAuMDAwMTsgLy8gMWNtXjIgdGhyZXNob2xkXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcblxuICAgICAgICAvLyBIZWxwZXI6IGJlYXJpbmcgKGhlYWRpbmcpIG9mIHRoZSBuZWFyZXN0IHJvYWQgc2VnbWVudCB0byBhIGxvY2F0aW9uLlxuICAgICAgICAvLyBSZXR1cm5zIGhlYWRpbmcgaW4gcmFkaWFucywgbWVhc3VyZWQgY2xvY2t3aXNlIGZyb20gTk9SVEguXG4gICAgICAgIGNvbnN0IGdldE5lYXJlc3RSb2FkQmVhcmluZyA9IChsb2NhdGlvbiwgc2VnbWVudHMpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGxvY0NhcnQgPSBDZXNpdW0uQ2FydGVzaWFuMy5mcm9tRGVncmVlcyhcbiAgICAgICAgICAgICAgICBsb2NhdGlvbi5sb25naXR1ZGUsXG4gICAgICAgICAgICAgICAgbG9jYXRpb24ubGF0aXR1ZGVcbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIGxldCBtaW5EaXN0YW5jZSA9IEluZmluaXR5O1xuICAgICAgICAgICAgbGV0IGJlc3RCZWFyaW5nID0gMDtcblxuICAgICAgICAgICAgc2VnbWVudHMuZm9yRWFjaCgocykgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGcgPVxuICAgICAgICAgICAgICAgICAgICB0eXBlb2Ygcy5nZW9tZXRyeSA9PT0gXCJzdHJpbmdcIiA/IEpTT04ucGFyc2Uocy5nZW9tZXRyeSkgOiBzLmdlb21ldHJ5O1xuICAgICAgICAgICAgICAgIGlmICghZz8uY29vcmRpbmF0ZXMgfHwgZy5jb29yZGluYXRlcy5sZW5ndGggPCAyKSByZXR1cm47XG5cbiAgICAgICAgICAgICAgICBjb25zdCBjb29yZHMgPSBnLmNvb3JkaW5hdGVzO1xuXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjb29yZHMubGVuZ3RoIC0gMTsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGMxUmF3ID0gY29vcmRzW2ldO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBjMlJhdyA9IGNvb3Jkc1tpICsgMV07XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKCFOdW1iZXIuaXNGaW5pdGUoYzFSYXdbMF0pIHx8ICFOdW1iZXIuaXNGaW5pdGUoYzFSYXdbMV0pIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAhTnVtYmVyLmlzRmluaXRlKGMyUmF3WzBdKSB8fCAhTnVtYmVyLmlzRmluaXRlKGMyUmF3WzFdKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBjb25zdCBwMSA9IENlc2l1bS5DYXJ0ZXNpYW4zLmZyb21EZWdyZWVzKGMxUmF3WzBdLCBjMVJhd1sxXSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHAyID0gQ2VzaXVtLkNhcnRlc2lhbjMuZnJvbURlZ3JlZXMoYzJSYXdbMF0sIGMyUmF3WzFdKTtcblxuICAgICAgICAgICAgICAgICAgICAvLyB1c2Ugc2VnbWVudCBtaWRwb2ludCBhcyBcInBvc2l0aW9uXCIgdG8gY29tcGFyZSBkaXN0YW5jZVxuICAgICAgICAgICAgICAgICAgICBjb25zdCBtaWQgPSBDZXNpdW0uQ2FydGVzaWFuMy5tdWx0aXBseUJ5U2NhbGFyKFxuICAgICAgICAgICAgICAgICAgICAgICAgQ2VzaXVtLkNhcnRlc2lhbjMuYWRkKHAxLCBwMiwgbmV3IENlc2l1bS5DYXJ0ZXNpYW4zKCkpLFxuICAgICAgICAgICAgICAgICAgICAgICAgMC41LFxuICAgICAgICAgICAgICAgICAgICAgICAgbmV3IENlc2l1bS5DYXJ0ZXNpYW4zKClcbiAgICAgICAgICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgICAgICAgICBjb25zdCBkaXN0U3EgPSBDZXNpdW0uQ2FydGVzaWFuMy5kaXN0YW5jZVNxdWFyZWQobG9jQ2FydCwgbWlkKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRpc3RTcSA+PSBtaW5EaXN0YW5jZSkgY29udGludWU7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gY2xvc2VyIC0+IHVwZGF0ZSBiZWFyaW5nXG4gICAgICAgICAgICAgICAgICAgIG1pbkRpc3RhbmNlID0gZGlzdFNxO1xuXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGMxID0gQ2VzaXVtLkNhcnRvZ3JhcGhpYy5mcm9tRGVncmVlcyhjMVJhd1swXSwgYzFSYXdbMV0pO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBjMiA9IENlc2l1bS5DYXJ0b2dyYXBoaWMuZnJvbURlZ3JlZXMoYzJSYXdbMF0sIGMyUmF3WzFdKTtcblxuICAgICAgICAgICAgICAgICAgICBjb25zdCBkTG9uID0gYzIubG9uZ2l0dWRlIC0gYzEubG9uZ2l0dWRlO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB5ID0gTWF0aC5zaW4oZExvbikgKiBNYXRoLmNvcyhjMi5sYXRpdHVkZSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHggPVxuICAgICAgICAgICAgICAgICAgICAgICAgTWF0aC5jb3MoYzEubGF0aXR1ZGUpICogTWF0aC5zaW4oYzIubGF0aXR1ZGUpIC1cbiAgICAgICAgICAgICAgICAgICAgICAgIE1hdGguc2luKGMxLmxhdGl0dWRlKSAqXG4gICAgICAgICAgICAgICAgICAgICAgICBNYXRoLmNvcyhjMi5sYXRpdHVkZSkgKlxuICAgICAgICAgICAgICAgICAgICAgICAgTWF0aC5jb3MoZExvbik7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gaGVhZGluZyBmcm9tIE5PUlRILCBjbG9ja3dpc2UsIGluIHJhZGlhbnNcbiAgICAgICAgICAgICAgICAgICAgYmVzdEJlYXJpbmcgPSBNYXRoLmF0YW4yKHksIHgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICByZXR1cm4gaXNOYU4oYmVzdEJlYXJpbmcpID8gMCA6IGJlc3RCZWFyaW5nO1xuICAgICAgICB9O1xuXG4gICAgICAgIC8vIEhlbHBlcjogNTBtIHggNTBtIHNxdWFyZSBwb2x5Z29uLCByb3RhdGVkIGJ5IGFuZ2xlRnJvbUVhc3QgKHJhZGlhbnMpLCBpbiBFTlUgZnJhbWVcbiAgICAgICAgY29uc3QgY29tcHV0ZVNxdWFyZVBvbHlnb24gPSAoY2VudGVyQ2FydGVzaWFuLCBzaXplTWV0ZXJzLCBhbmdsZUZyb21FYXN0KSA9PiB7XG4gICAgICAgICAgICBpZiAoaXNOYU4oYW5nbGVGcm9tRWFzdCkgfHwgIWNlbnRlckNhcnRlc2lhbikgcmV0dXJuIG51bGw7XG5cbiAgICAgICAgICAgIGNvbnN0IGhhbGYgPSBzaXplTWV0ZXJzIC8gMi4wO1xuXG4gICAgICAgICAgICAvLyBFTlUgKEVhc3QtTm9ydGgtVXApIGxvY2FsIGZyYW1lIGF0IHRoZSBjZW50ZXJcbiAgICAgICAgICAgIGNvbnN0IHRyYW5zZm9ybSA9IENlc2l1bS5UcmFuc2Zvcm1zLmVhc3ROb3J0aFVwVG9GaXhlZEZyYW1lKFxuICAgICAgICAgICAgICAgIGNlbnRlckNhcnRlc2lhblxuICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgY29uc3QgY29zID0gTWF0aC5jb3MoYW5nbGVGcm9tRWFzdCk7XG4gICAgICAgICAgICBjb25zdCBzaW4gPSBNYXRoLnNpbihhbmdsZUZyb21FYXN0KTtcblxuICAgICAgICAgICAgLy8gc3F1YXJlIGNvcm5lcnMgaW4gbG9jYWwgRU5VIGJlZm9yZSByb3RhdGlvbiAobWV0ZXJzKVxuICAgICAgICAgICAgY29uc3QgYmFzZUNvcm5lcnMgPSBbXG4gICAgICAgICAgICAgICAgeyB4OiAtaGFsZiwgeTogLWhhbGYgfSxcbiAgICAgICAgICAgICAgICB7IHg6IGhhbGYsIHk6IC1oYWxmIH0sXG4gICAgICAgICAgICAgICAgeyB4OiBoYWxmLCB5OiBoYWxmIH0sXG4gICAgICAgICAgICAgICAgeyB4OiAtaGFsZiwgeTogaGFsZiB9XG4gICAgICAgICAgICBdO1xuXG4gICAgICAgICAgICBjb25zdCByZXN1bHQgPSBiYXNlQ29ybmVycy5tYXAoKGMpID0+IHtcbiAgICAgICAgICAgICAgICAvLyByb3RhdGUgaW4gRU5VXG4gICAgICAgICAgICAgICAgY29uc3QgcnggPSBjLnggKiBjb3MgLSBjLnkgKiBzaW47XG4gICAgICAgICAgICAgICAgY29uc3QgcnkgPSBjLnggKiBzaW4gKyBjLnkgKiBjb3M7XG5cbiAgICAgICAgICAgICAgICBjb25zdCBsb2NhbFBvcyA9IG5ldyBDZXNpdW0uQ2FydGVzaWFuMyhyeCwgcnksIDAuMCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIENlc2l1bS5NYXRyaXg0Lm11bHRpcGx5QnlQb2ludChcbiAgICAgICAgICAgICAgICAgICAgdHJhbnNmb3JtLFxuICAgICAgICAgICAgICAgICAgICBsb2NhbFBvcyxcbiAgICAgICAgICAgICAgICAgICAgbmV3IENlc2l1bS5DYXJ0ZXNpYW4zKClcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIC8vIFZhbGlkYXRlIHJlc3VsdCBmb3IgTmFOc1xuICAgICAgICAgICAgZm9yIChjb25zdCBwIG9mIHJlc3VsdCkge1xuICAgICAgICAgICAgICAgIGlmIChpc05hTihwLngpIHx8IGlzTmFOKHAueSkgfHwgaXNOYU4ocC56KSkgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9O1xuXG4gICAgICAgIC8vIEV4YWN0IHRoZW1lIChvbmx5IHVzaW5nIHRoZSBjb2xvcnMgbm93KVxuICAgICAgICBjb25zdCBOSUdIVF9USEVNRSA9IHtcbiAgICAgICAgICAgIC8vIERhcmsgYXNwaGFsdCBzdXJmYWNlczsgZWRnZSBjb2xvciBjYXJyaWVzIHN0YXR1c1xuICAgICAgICAgICAgcm9hZFN1cmZhY2VDb2xvck9wZW46ICcjMkMyRjNBJyxcbiAgICAgICAgICAgIHJvYWRTdXJmYWNlQ29sb3JDbG9zZWQ6ICcjMkMyRjNBJyxcbiAgICAgICAgICAgIHJvYWRTdXJmYWNlQWxwaGE6IDAuOTgsXG4gICAgICAgICAgICByb2FkU2hvdWxkZXJDb2xvck9wZW46ICcjMkMyRjNBJyxcbiAgICAgICAgICAgIHJvYWRTaG91bGRlckNvbG9yQ2xvc2VkOiAnIzJDMkYzQScsXG4gICAgICAgICAgICByb2FkU2hvdWxkZXJBbHBoYTogMC45OCxcbiAgICAgICAgICAgIHBvbHlnb25PdXRsaW5lQ29sb3I6ICcjQTBBMEEwJyxcbiAgICAgICAgICAgIHBvbHlnb25PdXRsaW5lQWxwaGE6IDAuOTUsXG4gICAgICAgICAgICBwb2x5Z29uT3V0bGluZVdpZHRoOiAyLjIsXG4gICAgICAgICAgICAvLyBJbnRlcnNlY3Rpb24gc3R5bGluZzogcmVkIGZpbGwsIHdoaXRlIG91dGxpbmVcbiAgICAgICAgICAgIGludGVyc2VjdGlvbkZpbGxDb2xvcjogJyNFNzRDM0MnLFxuICAgICAgICAgICAgaW50ZXJzZWN0aW9uRmlsbEFscGhhOiAxLjAsXG4gICAgICAgICAgICBpbnRlcnNlY3Rpb25PdXRsaW5lQ29sb3I6ICcjRkZGRkZGJyxcbiAgICAgICAgICAgIGludGVyc2VjdGlvbk91dGxpbmVBbHBoYTogMS4wLFxuICAgICAgICB9O1xuXG4gICAgICAgIC8vIC0tLS0tIGNyb3NzLXNlY3Rpb24gY29uc3RhbnRzIC0tLS0tXG4gICAgICAgIC8vIHRvdGFsIHdpZHRoIChmb3J3YXJkICsgYmFja3dhcmQgKyBjZW50cmUgd2hpdGUgbGluZSlcbiAgICAgICAgY29uc3QgVE9UQUxfUk9BRF9XSURUSCA9IDQwLjA7ICAgICAgLy8gbWV0cmVzXG4gICAgICAgIGNvbnN0IENFTlRFUkxJTkVfV0lEVEggPSAxLjA7ICAgICAgIC8vIG1ldHJlc1xuXG4gICAgICAgIC8vIGVhY2ggZGlyZWN0aW9uIChpbmNsLiBpdHMgc2hvdWxkZXIpIGdldHMgaGFsZiBvZiB0aGUgcmVtYWluaW5nIHdpZHRoXG4gICAgICAgIGNvbnN0IExBTkVfVE9UQUxfV0lEVEggPSAoVE9UQUxfUk9BRF9XSURUSCAtIENFTlRFUkxJTkVfV0lEVEgpIC8gMi4wOyAvLyAxOS41IG1cbiAgICAgICAgY29uc3QgSEFMRl9MQU5FX1RPVEFMX1dJRFRIID0gTEFORV9UT1RBTF9XSURUSCAvIDIuMDsgICAgICAgICAgICAgICAgIC8vIDkuNzUgbVxuXG4gICAgICAgIC8vIG1ha2UgdGhlIGFzcGhhbHQgc2xpZ2h0bHkgbmFycm93ZXIgdGhhbiB0aGUgbGFuZSAoc28gdGhlcmUgaXMgYSBzdWJ0bGUgc2hvdWxkZXIpXG4gICAgICAgIGNvbnN0IExBTkVfU0hPVUxERVJfUEFERElORyA9IDEuMDsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBtIGVhY2ggc2lkZVxuICAgICAgICBjb25zdCBMQU5FX1NVUkZBQ0VfV0lEVEggPSBMQU5FX1RPVEFMX1dJRFRIIC0gMiAqIExBTkVfU0hPVUxERVJfUEFERElORzsgLy8gMTcuNSBtXG5cbiAgICAgICAgLy8gZGlzdGFuY2UgZnJvbSB0aGUgZ2xvYmFsIGNlbnRyZWxpbmUgdG8gdGhlIGNlbnRyZSBvZiBlYWNoIGNhcnJpYWdld2F5XG4gICAgICAgIC8vID0gaGFsZiBjZW50cmVsaW5lICsgaGFsZiBsYW5lIHdpZHRoXG4gICAgICAgIGNvbnN0IExBTkVfQ0VOVEVSX09GRlNFVF9NQUcgPVxuICAgICAgICAgICAgQ0VOVEVSTElORV9XSURUSCAvIDIuMCArIEhBTEZfTEFORV9UT1RBTF9XSURUSDsgIC8vIDAuNSArIDkuNzUgPSAxMC4yNSBtXG5cbiAgICAgICAgLy8gUk9BRCBTRUdNRU5UU1xuICAgICAgICBzZWdtZW50cy5mb3JFYWNoKChzKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBjbG9zZWQgPSBpc0Rpc3BhdGNoU2VnbWVudENsb3NlZChzKTtcbiAgICAgICAgICAgIGlmICghKChjbG9zZWQgJiYgc2hvd0Nsb3NlZFJvYWRzKSB8fCAoIWNsb3NlZCAmJiBzaG93T3BlblJvYWRzKSkpIHJldHVybjtcblxuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCBzdXJmYWNlQ29sb3IgPSBDZXNpdW0uQ29sb3JcbiAgICAgICAgICAgICAgICAgICAgLmZyb21Dc3NDb2xvclN0cmluZyhjbG9zZWQgPyBOSUdIVF9USEVNRS5yb2FkU3VyZmFjZUNvbG9yQ2xvc2VkIDogTklHSFRfVEhFTUUucm9hZFN1cmZhY2VDb2xvck9wZW4pXG4gICAgICAgICAgICAgICAgICAgIC53aXRoQWxwaGEoTklHSFRfVEhFTUUucm9hZFN1cmZhY2VBbHBoYSk7XG5cbiAgICAgICAgICAgICAgICBjb25zdCBzaG91bGRlckNvbG9yID0gQ2VzaXVtLkNvbG9yXG4gICAgICAgICAgICAgICAgICAgIC5mcm9tQ3NzQ29sb3JTdHJpbmcoY2xvc2VkID8gTklHSFRfVEhFTUUucm9hZFNob3VsZGVyQ29sb3JDbG9zZWQgOiBOSUdIVF9USEVNRS5yb2FkU2hvdWxkZXJDb2xvck9wZW4pXG4gICAgICAgICAgICAgICAgICAgIC53aXRoQWxwaGEoTklHSFRfVEhFTUUucm9hZFNob3VsZGVyQWxwaGEpO1xuXG4gICAgICAgICAgICAgICAgY29uc3QgZWRnZUNvbG9yID0gY2xvc2VkXG4gICAgICAgICAgICAgICAgICAgID8gQ2VzaXVtLkNvbG9yLmZyb21Dc3NDb2xvclN0cmluZygnI0U3NEMzQycpXG4gICAgICAgICAgICAgICAgICAgIDogQ2VzaXVtLkNvbG9yLmZyb21Dc3NDb2xvclN0cmluZygnI0ZGRDYwMCcpO1xuXG4gICAgICAgICAgICAgICAgY29uc3QgY2VudGVybGluZUNvbG9yID0gQ2VzaXVtLkNvbG9yLldISVRFO1xuXG4gICAgICAgICAgICAgICAgY29uc3QgZyA9IHR5cGVvZiBzLmdlb21ldHJ5ID09PSAnc3RyaW5nJyA/IEpTT04ucGFyc2Uocy5nZW9tZXRyeSkgOiBzLmdlb21ldHJ5O1xuICAgICAgICAgICAgICAgIGlmICghZz8uY29vcmRpbmF0ZXMpIHJldHVybjtcblxuICAgICAgICAgICAgICAgIC8vIElmIEZyb250cnVubmVyIHJvYWQgZ2VvbWV0cmllcyBhcnJpdmUgYXMgcG9seWdvbnMsIHJlbmRlciB0aGVtIGFzIGZpbGxlZCBwb2x5Z29ucy5cbiAgICAgICAgICAgICAgICBpZiAoZy50eXBlID09PSAnUG9seWdvbicgfHwgZy50eXBlID09PSAnTXVsdGlQb2x5Z29uJykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBwb2x5cyA9IGcudHlwZSA9PT0gJ1BvbHlnb24nID8gW2cuY29vcmRpbmF0ZXNdIDogZy5jb29yZGluYXRlcztcbiAgICAgICAgICAgICAgICAgICAgcG9seXMuZm9yRWFjaCgoY29vcmRzKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBoaWVyYXJjaHkgPSBwYXJzZVBvbHlnb25IaWVyYXJjaHkoeyB0eXBlOiAnUG9seWdvbicsIGNvb3JkaW5hdGVzOiBjb29yZHMgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGllcmFyY2h5ICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGllcmFyY2h5LnBvc2l0aW9ucyAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhpZXJhcmNoeS5wb3NpdGlvbnMubGVuZ3RoID49IDMgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcmVQb3NpdGlvbnNWYWxpZChoaWVyYXJjaHkucG9zaXRpb25zKVxuICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmlld2VyLmVudGl0aWVzLmFkZCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvbHlnb246IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhpZXJhcmNoeSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hdGVyaWFsOiBzdXJmYWNlQ29sb3IsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvdXRsaW5lOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3V0bGluZUNvbG9yOiBlZGdlQ29sb3IsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IDAuMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvcGVydGllczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2F0ZWdvcnk6ICdmcm9udHJ1bm5lcl9yb2FkX3BvbHlnb24nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4ucyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjsgLy8gaGFuZGxlZCBwb2x5Z29uIGNhc2U7IHNraXAgY29ycmlkb3IgcmVuZGVyaW5nXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgbGV0IGFsbExpbmVTdHJpbmdzID0gW107XG4gICAgICAgICAgICAgICAgaWYgKGcudHlwZSA9PT0gJ011bHRpTGluZVN0cmluZycpIHtcbiAgICAgICAgICAgICAgICAgICAgYWxsTGluZVN0cmluZ3MgPSBnLmNvb3JkaW5hdGVzO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZy50eXBlID09PSAnTGluZVN0cmluZycpIHtcbiAgICAgICAgICAgICAgICAgICAgYWxsTGluZVN0cmluZ3MgPSBbZy5jb29yZGluYXRlc107XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGFsbExpbmVTdHJpbmdzLmZvckVhY2goKGNvb3JkaW5hdGVzKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFZhbGlkYXRlIGNvb3JkaW5hdGVzIHN0cnVjdHVyZVxuICAgICAgICAgICAgICAgICAgICBpZiAoIWNvb3JkaW5hdGVzIHx8ICFBcnJheS5pc0FycmF5KGNvb3JkaW5hdGVzKSB8fCBjb29yZGluYXRlcy5sZW5ndGggPCAyKSByZXR1cm47XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gRmlsdGVyIGludmFsaWQgY29vcmRpbmF0ZXMgKE5hTiwgZXRjKVxuICAgICAgICAgICAgICAgICAgICBjb25zdCB2YWxpZENvb3JkcyA9IGNvb3JkaW5hdGVzLmZpbHRlcihjID0+XG4gICAgICAgICAgICAgICAgICAgICAgICBBcnJheS5pc0FycmF5KGMpICYmIGMubGVuZ3RoID49IDIgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgIE51bWJlci5pc0Zpbml0ZShjWzBdKSAmJiBOdW1iZXIuaXNGaW5pdGUoY1sxXSlcbiAgICAgICAgICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAodmFsaWRDb29yZHMubGVuZ3RoIDwgMikgcmV0dXJuO1xuXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJhd1Bvc2l0aW9ucyA9IHZhbGlkQ29vcmRzLm1hcCgoYykgPT5cbiAgICAgICAgICAgICAgICAgICAgICAgIENlc2l1bS5DYXJ0ZXNpYW4zLmZyb21EZWdyZWVzKGNbMF0sIGNbMV0pXG4gICAgICAgICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gRmlsdGVyIGR1cGxpY2F0ZXMgYW5kIHBvaW50cyB0aGF0IGFyZSB0b28gY2xvc2UgKHdpdGhpbiAxY20pXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHBvc2l0aW9ucyA9IGZpbHRlclVuaXF1ZVBvc2l0aW9ucyhyYXdQb3NpdGlvbnMpO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChwb3NpdGlvbnMubGVuZ3RoIDwgMikgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAvLyBFeHRyYSBndWFyZCBmb3IgTmFOcy9kZWdlbmVyYWN5XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHNwYW5PayA9IHBvc2l0aW9ucy5ldmVyeShwID0+IE51bWJlci5pc0Zpbml0ZShwLngpICYmIE51bWJlci5pc0Zpbml0ZShwLnkpICYmIE51bWJlci5pc0Zpbml0ZShwLnopKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFzcGFuT2spIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYmJveCA9IHBvc2l0aW9ucy5yZWR1Y2UoKGFjYywgcCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgYWNjLm1pblggPSBNYXRoLm1pbihhY2MubWluWCwgcC54KTsgYWNjLm1heFggPSBNYXRoLm1heChhY2MubWF4WCwgcC54KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFjYy5taW5ZID0gTWF0aC5taW4oYWNjLm1pblksIHAueSk7IGFjYy5tYXhZID0gTWF0aC5tYXgoYWNjLm1heFksIHAueSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBhY2MubWluWiA9IE1hdGgubWluKGFjYy5taW5aLCBwLnopOyBhY2MubWF4WiA9IE1hdGgubWF4KGFjYy5tYXhaLCBwLnopO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFjYztcbiAgICAgICAgICAgICAgICAgICAgfSwgeyBtaW5YOiBJbmZpbml0eSwgbWF4WDogLUluZmluaXR5LCBtaW5ZOiBJbmZpbml0eSwgbWF4WTogLUluZmluaXR5LCBtaW5aOiBJbmZpbml0eSwgbWF4WjogLUluZmluaXR5IH0pO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBzcGFuID0gTWF0aC5tYXgoYmJveC5tYXhYIC0gYmJveC5taW5YLCBiYm94Lm1heFkgLSBiYm94Lm1pblksIGJib3gubWF4WiAtIGJib3gubWluWik7XG4gICAgICAgICAgICAgICAgICAgIGlmICghTnVtYmVyLmlzRmluaXRlKHNwYW4pIHx8IHNwYW4gPCAwLjEpIHJldHVybjtcblxuICAgICAgICAgICAgICAgICAgICAvLyAtLS0tLSBkZWNpZGUgd2hpY2ggc2lkZSB0aGlzIGxhbmUgc2l0cyBvbiAtLS0tLVxuICAgICAgICAgICAgICAgICAgICBjb25zdCBkaXIgPSAocy5kaXJlY3Rpb24gfHwgJycpLnRvU3RyaW5nKCkudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGRpclNpZ24gPSAwOyAvLyAwID0gY2VudHJlZCAoaWYgbm8gZGlyZWN0aW9uKSwgKzEgPSBvbmUgc2lkZSwgLTEgPSBvcHBvc2l0ZVxuICAgICAgICAgICAgICAgICAgICBpZiAoZGlyLmluY2x1ZGVzKCdmb3J3YXJkJykpIGRpclNpZ24gPSAxO1xuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChkaXIuaW5jbHVkZXMoJ2JhY2t3YXJkJykpIGRpclNpZ24gPSAtMTtcblxuICAgICAgICAgICAgICAgICAgICBjb25zdCBsYW5lQ2VudGVyT2Zmc2V0ID0gZGlyU2lnbiAqIExBTkVfQ0VOVEVSX09GRlNFVF9NQUc7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gY2VudHJlbGluZSBvZiB0aGlzICpsYW5lKiAoc2hpZnRlZCBsZWZ0L3JpZ2h0IGZyb20gZ2xvYmFsIGNlbnRyZWxpbmUpXG4gICAgICAgICAgICAgICAgICAgIGxldCBsYW5lUG9zaXRpb25zID1cbiAgICAgICAgICAgICAgICAgICAgICAgIGxhbmVDZW50ZXJPZmZzZXQgPT09IDBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IHBvc2l0aW9uc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogY29tcHV0ZU9mZnNldExpbmUocG9zaXRpb25zLCBsYW5lQ2VudGVyT2Zmc2V0KTtcblxuICAgICAgICAgICAgICAgICAgICAvLyBGaW5hbCBmaWx0ZXIgdG8gZW5zdXJlIG5vIGR1cGxpY2F0ZXMgYWZ0ZXIgb2Zmc2V0IGNhbGN1bGF0aW9uXG4gICAgICAgICAgICAgICAgICAgIGxhbmVQb3NpdGlvbnMgPSBmaWx0ZXJVbmlxdWVQb3NpdGlvbnMobGFuZVBvc2l0aW9ucyk7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gVmVyaWZ5IGxhbmVQb3NpdGlvbnMgYWZ0ZXIgb2Zmc2V0IGNhbGN1bGF0aW9uXG4gICAgICAgICAgICAgICAgICAgIGlmICghbGFuZVBvc2l0aW9ucyB8fCBsYW5lUG9zaXRpb25zLmxlbmd0aCA8IDIpIHJldHVybjtcblxuICAgICAgICAgICAgICAgICAgICAvLyBDb2xvdXJzOiBkYXJrIGZpbGwsIGVkZ2VzIGluZGljYXRlIHN0YXR1cyAob3BlbiB5ZWxsb3csIGNsb3NlZCByZWQpXG4gICAgICAgICAgICAgICAgICAgIC8vIDEuIExhbmUgc2hvdWxkZXIgKGZ1bGwgbGFuZSB3aWR0aCwgc2hpZnRlZCB0byBpdHMgc2lkZSlcbiAgICAgICAgICAgICAgICAgICAgdmlld2VyLmVudGl0aWVzLmFkZCh7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb3JyaWRvcjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uczogbGFuZVBvc2l0aW9ucyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogTEFORV9UT1RBTF9XSURUSCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXRlcmlhbDogc2hvdWxkZXJDb2xvcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IDAuMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb3JuZXJUeXBlOiBDZXNpdW0uQ29ybmVyVHlwZS5NSVRFUkVELFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG91dGxpbmU6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb3BlcnRpZXM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXRlZ29yeTogJ2Rpc3BhdGNoX3NlZ21lbnQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlX3JvbGU6ICdyb2FkX3Nob3VsZGVyJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5zLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gMi4gTGFuZSBhc3BoYWx0IHN1cmZhY2UgKHNsaWdodGx5IG5hcnJvd2VyKVxuICAgICAgICAgICAgICAgICAgICB2aWV3ZXIuZW50aXRpZXMuYWRkKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvcnJpZG9yOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb25zOiBsYW5lUG9zaXRpb25zLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiBMQU5FX1NVUkZBQ0VfV0lEVEgsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF0ZXJpYWw6IHN1cmZhY2VDb2xvcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IDAuMTgsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29ybmVyVHlwZTogQ2VzaXVtLkNvcm5lclR5cGUuTUlURVJFRCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvdXRsaW5lOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2F0ZWdvcnk6ICdkaXNwYXRjaF9zZWdtZW50JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZV9yb2xlOiAncm9hZF9zdXJmYWNlJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5zLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gMy4gQ2VudGVybGluZSAoZGFzaGVkIGxpbmUpXG4gICAgICAgICAgICAgICAgICAgIHZpZXdlci5lbnRpdGllcy5hZGQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgcG9seWxpbmU6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbnM6IGxhbmVQb3NpdGlvbnMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6IENFTlRFUkxJTkVfV0lEVEgsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF0ZXJpYWw6IG5ldyBDZXNpdW0uUG9seWxpbmVEYXNoTWF0ZXJpYWxQcm9wZXJ0eSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiBjZW50ZXJsaW5lQ29sb3IsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhc2hMZW5ndGg6IDE2LjAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJjVHlwZTogQ2VzaXVtLkFyY1R5cGUuR0VPREVTSUMsXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgcHJvcGVydGllczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhdGVnb3J5OiAnZGlzcGF0Y2hfc2VnbWVudCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGVfcm9sZTogJ3JvYWRfY2VudGVybGluZScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4ucyxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIDQuIEVkZ2VzIChzb2xpZCBsaW5lcylcbiAgICAgICAgICAgICAgICAgICAgLy8gTGVmdCBlZGdlXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGxlZnRFZGdlT2Zmc2V0ID0gLUhBTEZfTEFORV9UT1RBTF9XSURUSDtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGxlZnRFZGdlUG9zaXRpb25zID0gY29tcHV0ZU9mZnNldExpbmUobGFuZVBvc2l0aW9ucywgbGVmdEVkZ2VPZmZzZXQpO1xuICAgICAgICAgICAgICAgICAgICBsZWZ0RWRnZVBvc2l0aW9ucyA9IGZpbHRlclVuaXF1ZVBvc2l0aW9ucyhsZWZ0RWRnZVBvc2l0aW9ucyk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGxlZnRFZGdlUG9zaXRpb25zICYmIGxlZnRFZGdlUG9zaXRpb25zLmxlbmd0aCA+PSAyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2aWV3ZXIuZW50aXRpZXMuYWRkKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb2x5bGluZToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbnM6IGxlZnRFZGdlUG9zaXRpb25zLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogMi4wLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXRlcmlhbDogZWRnZUNvbG9yLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcmNUeXBlOiBDZXNpdW0uQXJjVHlwZS5HRU9ERVNJQyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3BlcnRpZXM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2F0ZWdvcnk6ICdkaXNwYXRjaF9zZWdtZW50JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGVfcm9sZTogJ3JvYWRfZWRnZV9sZWZ0JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4ucyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAvLyBSaWdodCBlZGdlXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJpZ2h0RWRnZU9mZnNldCA9IEhBTEZfTEFORV9UT1RBTF9XSURUSDtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHJpZ2h0RWRnZVBvc2l0aW9ucyA9IGNvbXB1dGVPZmZzZXRMaW5lKGxhbmVQb3NpdGlvbnMsIHJpZ2h0RWRnZU9mZnNldCk7XG4gICAgICAgICAgICAgICAgICAgIHJpZ2h0RWRnZVBvc2l0aW9ucyA9IGZpbHRlclVuaXF1ZVBvc2l0aW9ucyhyaWdodEVkZ2VQb3NpdGlvbnMpO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChyaWdodEVkZ2VQb3NpdGlvbnMgJiYgcmlnaHRFZGdlUG9zaXRpb25zLmxlbmd0aCA+PSAyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2aWV3ZXIuZW50aXRpZXMuYWRkKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb2x5bGluZToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbnM6IHJpZ2h0RWRnZVBvc2l0aW9ucyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6IDIuMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF0ZXJpYWw6IGVkZ2VDb2xvcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJjVHlwZTogQ2VzaXVtLkFyY1R5cGUuR0VPREVTSUMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhdGVnb3J5OiAnZGlzcGF0Y2hfc2VnbWVudCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlX3JvbGU6ICdyb2FkX2VkZ2VfcmlnaHQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5zLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSBjYXRjaCAoZSkgeyBjb25zb2xlLmVycm9yKCdFcnJvciByZW5kZXJpbmcgc2VnbWVudCcsIHMsIGUpOyB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIE9USEVSIExBWUVSUyAodHJvbGxleSwgaW50ZXJzZWN0aW9ucywgZXRjLilcbiAgICAgICAgaWYgKHNob3dUcm9sbGV5KSB7XG4gICAgICAgICAgICB0cm9sbGV5U2VnbWVudHMuZm9yRWFjaCgodCkgPT4ge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghTnVtYmVyLmlzRmluaXRlKHQuc3RhcnRfbG9uZ2l0dWRlKSB8fCAhTnVtYmVyLmlzRmluaXRlKHQuc3RhcnRfbGF0aXR1ZGUpIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAhTnVtYmVyLmlzRmluaXRlKHQuZW5kX2xvbmdpdHVkZSkgfHwgIU51bWJlci5pc0Zpbml0ZSh0LmVuZF9sYXRpdHVkZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIHZpZXdlci5lbnRpdGllcy5hZGQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgcG9seWxpbmU6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbnM6IENlc2l1bS5DYXJ0ZXNpYW4zLmZyb21EZWdyZWVzQXJyYXkoW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0LnN0YXJ0X2xvbmdpdHVkZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdC5zdGFydF9sYXRpdHVkZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdC5lbmRfbG9uZ2l0dWRlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0LmVuZF9sYXRpdHVkZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiA1LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hdGVyaWFsOiBDZXNpdW0uQ29sb3IuZnJvbUNzc0NvbG9yU3RyaW5nKFwiI0ZGNkI2QlwiKS53aXRoQWxwaGEoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDAuOVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzOiB7IGNhdGVnb3J5OiBcImRpc3BhdGNoX3Ryb2xsZXlcIiwgLi4udCB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIHJlbmRlcmluZyB0cm9sbGV5IHNlZ21lbnRcIiwgdCwgZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoc2hvd0ludGVyc2VjdGlvbnMpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGBSZW5kZXJpbmcgJHtpbnRlcnNlY3Rpb25zLmxlbmd0aH0gaW50ZXJzZWN0aW9uc2ApO1xuICAgICAgICAgICAgaW50ZXJzZWN0aW9ucy5mb3JFYWNoKChpKSA9PiB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmF3ID0gaS5nZW9tX2dlb2pzb24gfHwgaS5nZW9tZXRyeTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaGllcmFyY2h5ID0gcGFyc2VQb2x5Z29uSGllcmFyY2h5KHJhdyk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICFoaWVyYXJjaHkgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICFoaWVyYXJjaHkucG9zaXRpb25zIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICBoaWVyYXJjaHkucG9zaXRpb25zLmxlbmd0aCA8IDMgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICFhcmVQb3NpdGlvbnNWYWxpZChoaWVyYXJjaHkucG9zaXRpb25zKVxuICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIHZpZXdlci5lbnRpdGllcy5hZGQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgcG9seWdvbjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhpZXJhcmNoeSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXRlcmlhbDogQ2VzaXVtLkNvbG9yLmZyb21Dc3NDb2xvclN0cmluZyhOSUdIVF9USEVNRS5pbnRlcnNlY3Rpb25GaWxsQ29sb3IpLndpdGhBbHBoYShOSUdIVF9USEVNRS5pbnRlcnNlY3Rpb25GaWxsQWxwaGEpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogMC42LCAvLyBMaWZ0IHNsaWdodGx5IGFib3ZlIHJvYWRzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3V0bGluZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvdXRsaW5lQ29sb3I6IENlc2l1bS5Db2xvci5mcm9tQ3NzQ29sb3JTdHJpbmcoTklHSFRfVEhFTUUuaW50ZXJzZWN0aW9uT3V0bGluZUNvbG9yKS53aXRoQWxwaGEoTklHSFRfVEhFTUUuaW50ZXJzZWN0aW9uT3V0bGluZUFscGhhKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvdXRsaW5lV2lkdGg6IE5JR0hUX1RIRU1FLnBvbHlnb25PdXRsaW5lV2lkdGgsXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgcHJvcGVydGllczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhdGVnb3J5OiBcImRpc3BhdGNoX2ludGVyc2VjdGlvblwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFydF9pbmRleDogMFxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJCYWQgaW50ZXJzZWN0aW9uIGdlb21ldHJ5XCIsIGksIGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgbG9jYXRpb25zLmZvckVhY2goKGwpID0+IHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgaWYgKCFOdW1iZXIuaXNGaW5pdGUobC5sYXRpdHVkZSkgfHwgIU51bWJlci5pc0Zpbml0ZShsLmxvbmdpdHVkZSkpIHJldHVybjtcblxuICAgICAgICAgICAgICAgIGNvbnN0IHR5cGUgPSByZXNvbHZlRGlzcGF0Y2hMb2NhdGlvblR5cGUobCk7XG5cbiAgICAgICAgICAgICAgICBjb25zdCB0eXBlTG93ZXIgPSAodHlwZSB8fCAnJykudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgICAgICAgICBjb25zdCBzb3VyY2VMb3dlciA9IChsLnNvdXJjZSB8fCAnJykudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgICAgICAgICBjb25zdCBpc051bWVyaWNUeXBlID0gL15bMC05XSskLy50ZXN0KHR5cGVMb3dlcik7XG5cbiAgICAgICAgICAgICAgICBpZiAoIXZpc2libGVMb2NhdGlvblR5cGVzLmhhcyh0eXBlKSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZygnW0NvbWJpbmVkTWFwXVtMb2NhdGlvbnNdIFNraXAgdHlwZSBub3QgdmlzaWJsZScsIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgIHR5cGUsXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICBsb2NhdGlvbl9pZDogbC5sb2NhdGlvbl9pZCxcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgIHVuaXRfdHlwZTogbC51bml0X3R5cGUsXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICB1bml0X3R5cGVfaWQ6IGwudW5pdF90eXBlX2lkLFxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgbG9jYXRpb25fY2F0ZWdvcnk6IGwubG9jYXRpb25fY2F0ZWdvcnksXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICBzb3VyY2U6IGwuc291cmNlLFxuICAgICAgICAgICAgICAgICAgICAvLyB9KTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGNvbnN0IGNvbG9yID0gQ2VzaXVtLkNvbG9yLmZyb21Dc3NDb2xvclN0cmluZyhcbiAgICAgICAgICAgICAgICAgICAgZ2V0RGlzcGF0Y2hMb2NhdGlvbkNvbG9yKHR5cGUpXG4gICAgICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgICAgIGNvbnN0IHBvc2l0aW9uID0gQ2VzaXVtLkNhcnRlc2lhbjMuZnJvbURlZ3JlZXMoXG4gICAgICAgICAgICAgICAgICAgIGwubG9uZ2l0dWRlLFxuICAgICAgICAgICAgICAgICAgICBsLmxhdGl0dWRlLFxuICAgICAgICAgICAgICAgICAgICAyLjAgICAgLy8gMm0gYWJvdmUgZ3JvdW5kIHNvIGxvY2F0aW9ucyBzaXQgY2xlYXJseSBhYm92ZSB0aGUgcm9hZCBzdXJmYWNlXG4gICAgICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgICAgIC8vIElmIGdlb21ldHJ5IGlzIGEgcG9seWdvbiwgcmVuZGVyIGl0OyBvdGhlcndpc2UgcmVuZGVyIHNxdWFyZS9wb2ludC5cbiAgICAgICAgICAgICAgICBjb25zdCByYXdHZW9tID0gbC5nZW9tZXRyeSA/ICh0eXBlb2YgbC5nZW9tZXRyeSA9PT0gJ3N0cmluZycgPyBsLmdlb21ldHJ5IDogSlNPTi5zdHJpbmdpZnkobC5nZW9tZXRyeSkpIDogbnVsbDtcbiAgICAgICAgICAgICAgICBpZiAocmF3R2VvbSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBoaWVyYXJjaHkgPSBwYXJzZVBvbHlnb25IaWVyYXJjaHkocmF3R2VvbSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChoaWVyYXJjaHkgJiYgaGllcmFyY2h5LnBvc2l0aW9ucyAmJiBoaWVyYXJjaHkucG9zaXRpb25zLmxlbmd0aCA+PSAzICYmIGFyZVBvc2l0aW9uc1ZhbGlkKGhpZXJhcmNoeS5wb3NpdGlvbnMpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2aWV3ZXIuZW50aXRpZXMuYWRkKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb2x5Z29uOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhpZXJhcmNoeSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF0ZXJpYWw6IGNvbG9yLndpdGhBbHBoYSgwLjkpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvdXRsaW5lOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvdXRsaW5lQ29sb3I6IENlc2l1bS5Db2xvci5XSElURSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGVyUG9zaXRpb25IZWlnaHQ6IHRydWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3BlcnRpZXM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2F0ZWdvcnk6IFwiZnJvbnRydW5uZXJfbG9jYXRpb25cIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4ubFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgY29uc3Qgc2hvd1NxdWFyZSA9IFNRVUFSRV9UWVBFUy5oYXModHlwZUxvd2VyKSB8fCBpc051bWVyaWNUeXBlO1xuICAgICAgICAgICAgICAgIGlmICghc2hvd1NxdWFyZSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47IC8vIHNraXAgYWxsIG5vbi10YXJnZXQgdHlwZXNcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBSZW5kZXIgc3F1YXJlIHBhZCBmb3IgYWxsb3dlZCB0eXBlc1xuICAgICAgICAgICAgICAgIGNvbnN0IGJlYXJpbmdGcm9tTm9ydGggPSBnZXROZWFyZXN0Um9hZEJlYXJpbmcobCwgc2VnbWVudHMpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGFuZ2xlRnJvbUVhc3QgPSAtYmVhcmluZ0Zyb21Ob3J0aDsgLy8gcGVycGVuZGljdWxhciB0byByb2FkXG5cbiAgICAgICAgICAgICAgICBjb25zdCBzcXVhcmVQb3NpdGlvbnMgPSBjb21wdXRlU3F1YXJlUG9seWdvbihcbiAgICAgICAgICAgICAgICAgICAgcG9zaXRpb24sXG4gICAgICAgICAgICAgICAgICAgIDQwLjAsICAgICAgICAgIC8vIHNpemUgaW4gbWV0ZXJzXG4gICAgICAgICAgICAgICAgICAgIGFuZ2xlRnJvbUVhc3RcbiAgICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAgICAgaWYgKHNxdWFyZVBvc2l0aW9ucyAmJiBhcmVQb3NpdGlvbnNWYWxpZChzcXVhcmVQb3NpdGlvbnMpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGhpZXJhcmNoeSA9IG5ldyBDZXNpdW0uUG9seWdvbkhpZXJhcmNoeShzcXVhcmVQb3NpdGlvbnMpO1xuICAgICAgICAgICAgICAgICAgICB2aWV3ZXIuZW50aXRpZXMuYWRkKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvbHlnb246IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoaWVyYXJjaHksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF0ZXJpYWw6IGNvbG9yLndpdGhBbHBoYSgxLjApLCAgIC8vIG9wYXF1ZTogZnVsbHkgaGlkZSByb2FkcyB1bmRlcm5lYXRoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3V0bGluZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvdXRsaW5lQ29sb3I6IENlc2l1bS5Db2xvci5XSElURSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwZXJQb3NpdGlvbkhlaWdodDogdHJ1ZSAgICAgICAgICAgLy8gdXNlIHRoZSBhY3R1YWwgaGVpZ2h0cyBpbiBoaWVyYXJjaHkgKOKJiDJtKVxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb3BlcnRpZXM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXRlZ29yeTogXCJkaXNwYXRjaF9sb2NhdGlvblwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmxcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJ1tDb21iaW5lZE1hcF1bTG9jYXRpb25zXSBJbnZhbGlkIHNxdWFyZSBnZW9tZXRyeSwgc2tpcHBpbmcnLCB7XG4gICAgICAgICAgICAgICAgICAgIC8vICAgICB0eXBlLFxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgbG9jYXRpb25faWQ6IGwubG9jYXRpb25faWQsXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICB1bml0X3R5cGU6IGwudW5pdF90eXBlLFxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgdW5pdF90eXBlX2lkOiBsLnVuaXRfdHlwZV9pZCxcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgIGxvY2F0aW9uX2NhdGVnb3J5OiBsLmxvY2F0aW9uX2NhdGVnb3J5LFxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgc291cmNlOiBsLnNvdXJjZSxcbiAgICAgICAgICAgICAgICAgICAgLy8gfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIElmIGludmFsaWQgc3F1YXJlLCBza2lwIChubyBwb2ludCBmYWxsYmFjaylcbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgcmVuZGVyaW5nIGxvY2F0aW9uXCIsIGwsIGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9LCBbXG4gICAgICAgIGxvY2F0aW9ucyxcbiAgICAgICAgc2VnbWVudHMsXG4gICAgICAgIHRyb2xsZXlTZWdtZW50cyxcbiAgICAgICAgd2F0ZXJpbmdTdGF0aW9ucyxcbiAgICAgICAgc3BlZWRNb25pdG9yaW5nLFxuICAgICAgICBpbnRlcnNlY3Rpb25zLFxuICAgICAgICBzaG93T3BlblJvYWRzLFxuICAgICAgICBzaG93Q2xvc2VkUm9hZHMsXG4gICAgICAgIHNob3dJbnRlcnNlY3Rpb25zLFxuICAgICAgICBzaG93VHJvbGxleSxcbiAgICAgICAgc2hvd1dhdGVyaW5nLFxuICAgICAgICBzaG93U3BlZWQsXG4gICAgICAgIHZpc2libGVMb2NhdGlvblR5cGVzXG4gICAgXSk7XG5cbiAgICBjb25zdCBnZXRDYXRlZ29yeURpc3BsYXlOYW1lID0gKGNvbnNvbGlkYXRlZENhdGVnb3J5KSA9PiB7XG4gICAgICAgIGNvbnN0IGRpc3BsYXlOYW1lcyA9IHtcbiAgICAgICAgICAgICdwaXQnOiAnUGl0IExvY2F0aW9ucycsXG4gICAgICAgICAgICAncGFya2luZyc6ICdQYXJraW5nIEJheScsXG4gICAgICAgICAgICAnY3J1c2hlcic6ICdDcnVzaGVyIE9wZXJhdGlvbnMnLFxuICAgICAgICAgICAgJ2Z1ZWwnOiAnRnVlbCBTdGF0aW9uJyxcbiAgICAgICAgICAgICdpbnRlcnNlY3Rpb24nOiAnUm9hZCBOZXR3b3JrcycsXG4gICAgICAgICAgICAnZHVtcCc6ICdEdW1wIFNpdGUnLFxuICAgICAgICAgICAgJ2JsYXN0JzogJ0JsYXN0IEFyZWEnLFxuICAgICAgICAgICAgJ3N0b2NrcGlsZSc6ICdTdG9ja3BpbGUnLFxuICAgICAgICAgICAgJ3dvcmtzaG9wJzogJ1dvcmtzaG9wJyxcbiAgICAgICAgICAgICdnYXRlJzogJ0dhdGUnLFxuICAgICAgICAgICAgJ2FjY2Vzcyc6ICdBY2Nlc3MgUG9pbnQnLFxuICAgICAgICAgICAgJ2RlZmF1bHQnOiAnT3RoZXInXG4gICAgICAgIH07XG5cbiAgICAgICAgaWYgKGRpc3BsYXlOYW1lc1tjb25zb2xpZGF0ZWRDYXRlZ29yeV0pIHtcbiAgICAgICAgICAgIHJldHVybiBkaXNwbGF5TmFtZXNbY29uc29saWRhdGVkQ2F0ZWdvcnldO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgY2F0ZWdvcnlTdHIgPSBTdHJpbmcoY29uc29saWRhdGVkQ2F0ZWdvcnkgfHwgJ090aGVyJyk7XG4gICAgICAgIHJldHVybiBjYXRlZ29yeVN0ci5zcGxpdCgnXycpLm1hcCh3b3JkID0+XG4gICAgICAgICAgICB3b3JkLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgd29yZC5zbGljZSgxKVxuICAgICAgICApLmpvaW4oJyAnKTtcbiAgICB9O1xuXG4gICAgLy8gLS0tIE1lYXN1cmVtZW50IGhlbHBlcnMgKG1pcnJvciBGcm9udHJ1bm5lciBiZWhhdmlvcikgLS0tXG4gICAgY29uc3QgcmVtb3ZlUHJldmlld0VudGl0aWVzID0gKHZpZXdlcikgPT4ge1xuICAgICAgICBpZiAoIXZpZXdlcikgcmV0dXJuO1xuICAgICAgICBjb25zdCByZWZzID0gW3ByZXZpZXdMaW5lRW50aXR5UmVmLCBwcmV2aWV3TGFiZWxFbnRpdHlSZWZdO1xuICAgICAgICByZWZzLmZvckVhY2gocmVmID0+IHtcbiAgICAgICAgICAgIGlmIChyZWYuY3VycmVudCkge1xuICAgICAgICAgICAgICAgIHRyeSB7IHZpZXdlci5lbnRpdGllcy5yZW1vdmUocmVmLmN1cnJlbnQpOyB9IGNhdGNoIChfKSB7IH1cbiAgICAgICAgICAgICAgICByZWYuY3VycmVudCA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICB2aWV3ZXIuc2NlbmU/LnJlcXVlc3RSZW5kZXIoKTtcbiAgICB9O1xuXG4gICAgY29uc3QgY2xlYXJNZWFzdXJlbWVudHMgPSAodmlld2VyKSA9PiB7XG4gICAgICAgIGlmICghdmlld2VyKSByZXR1cm47XG4gICAgICAgIG1lYXN1cmVtZW50RW50aXRpZXNSZWYuY3VycmVudC5mb3JFYWNoKGUgPT4geyB0cnkgeyB2aWV3ZXIuZW50aXRpZXMucmVtb3ZlKGUpOyB9IGNhdGNoIChfKSB7IH0gfSk7XG4gICAgICAgIG92ZXJsYXlFbnRpdGllc1JlZi5jdXJyZW50LmZvckVhY2goZSA9PiB7IHRyeSB7IHZpZXdlci5lbnRpdGllcy5yZW1vdmUoZSk7IH0gY2F0Y2ggKF8pIHsgfSB9KTtcbiAgICAgICAgcmVtb3ZlUHJldmlld0VudGl0aWVzKHZpZXdlcik7XG4gICAgICAgIG1lYXN1cmVtZW50RW50aXRpZXNSZWYuY3VycmVudCA9IFtdO1xuICAgICAgICBvdmVybGF5RW50aXRpZXNSZWYuY3VycmVudCA9IFtdO1xuICAgICAgICBtZWFzdXJlbWVudFBvaW50c1JlZi5jdXJyZW50ID0gW107XG4gICAgICAgIGFyZWFMb2NrZWRSZWYuY3VycmVudCA9IGZhbHNlO1xuICAgICAgICBtZWFzdXJlbWVudE1vZGVSZWYuY3VycmVudCA9ICdub25lJztcbiAgICAgICAgc2V0TWVhc3VyZW1lbnRNb2RlKCdub25lJyk7XG4gICAgICAgIHZpZXdlci5zY2VuZT8ucmVxdWVzdFJlbmRlcigpO1xuICAgIH07XG5cbiAgICBjb25zdCBkcmF3RGlzdGFuY2UgPSAodmlld2VyLCBwb2ludHMpID0+IHtcbiAgICAgICAgb3ZlcmxheUVudGl0aWVzUmVmLmN1cnJlbnQuZm9yRWFjaChlID0+IHsgdHJ5IHsgdmlld2VyLmVudGl0aWVzLnJlbW92ZShlKTsgfSBjYXRjaCAoXykgeyB9IH0pO1xuICAgICAgICBvdmVybGF5RW50aXRpZXNSZWYuY3VycmVudCA9IFtdO1xuICAgICAgICBjb25zdCBwb3NpdGlvbnMgPSBwb2ludHMubWFwKHAgPT4gcC5jYXJ0ZXNpYW4pO1xuICAgICAgICBjb25zdCBsaW5lID0gdmlld2VyLmVudGl0aWVzLmFkZCh7XG4gICAgICAgICAgICBwb2x5bGluZToge1xuICAgICAgICAgICAgICAgIHBvc2l0aW9ucyxcbiAgICAgICAgICAgICAgICB3aWR0aDogNCxcbiAgICAgICAgICAgICAgICBtYXRlcmlhbDogQ2VzaXVtLkNvbG9yLldISVRFLFxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgbWVhc3VyZW1lbnRFbnRpdGllc1JlZi5jdXJyZW50LnB1c2gobGluZSk7XG4gICAgICAgIG92ZXJsYXlFbnRpdGllc1JlZi5jdXJyZW50LnB1c2gobGluZSk7XG5cbiAgICAgICAgY29uc3QgZWxsaXBzb2lkID0gdmlld2VyLnNjZW5lLmdsb2JlLmVsbGlwc29pZDtcbiAgICAgICAgY29uc3QgYzEgPSBlbGxpcHNvaWQuY2FydGVzaWFuVG9DYXJ0b2dyYXBoaWMocG9zaXRpb25zWzBdKTtcbiAgICAgICAgY29uc3QgYzIgPSBlbGxpcHNvaWQuY2FydGVzaWFuVG9DYXJ0b2dyYXBoaWMocG9zaXRpb25zWzFdKTtcbiAgICAgICAgY29uc3QgZ2VvZGVzaWMgPSBuZXcgQ2VzaXVtLkVsbGlwc29pZEdlb2Rlc2ljKGMxLCBjMik7XG4gICAgICAgIGNvbnN0IGRpc3RhbmNlTWV0ZXJzID0gZ2VvZGVzaWMuc3VyZmFjZURpc3RhbmNlO1xuICAgICAgICBjb25zdCBkaXN0YW5jZUZlZXQgPSBkaXN0YW5jZU1ldGVycyAqIDMuMjgwODQ7XG5cbiAgICAgICAgaWYgKCFOdW1iZXIuaXNGaW5pdGUoZGlzdGFuY2VNZXRlcnMpIHx8IGRpc3RhbmNlTWV0ZXJzIDwgMC4wMSkge1xuICAgICAgICAgICAgLy8gZGlzY2FyZCBzZWNvbmQgcG9pbnRcbiAgICAgICAgICAgIGNvbnN0IGxhc3RQb2ludCA9IG1lYXN1cmVtZW50RW50aXRpZXNSZWYuY3VycmVudC5wb3AoKTtcbiAgICAgICAgICAgIHRyeSB7IHZpZXdlci5lbnRpdGllcy5yZW1vdmUobGFzdFBvaW50KTsgfSBjYXRjaCAoXykgeyB9XG4gICAgICAgICAgICBtZWFzdXJlbWVudFBvaW50c1JlZi5jdXJyZW50ID0gW3BvaW50c1swXV07XG4gICAgICAgICAgICB2aWV3ZXIuc2NlbmU/LnJlcXVlc3RSZW5kZXIoKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IG1ldGVyc1RleHQgPSBgJHtkaXN0YW5jZU1ldGVycy50b0ZpeGVkKDIpfSBtYDtcbiAgICAgICAgY29uc3QgZmVldFRleHQgPSBgJHtkaXN0YW5jZUZlZXQudG9GaXhlZCgyKX0gZnRgO1xuICAgICAgICBjb25zdCBtaWQgPSBDZXNpdW0uQ2FydGVzaWFuMy5sZXJwKHBvc2l0aW9uc1swXSwgcG9zaXRpb25zWzFdLCAwLjUsIG5ldyBDZXNpdW0uQ2FydGVzaWFuMygpKTtcblxuICAgICAgICBjb25zdCBsYWJlbDEgPSB2aWV3ZXIuZW50aXRpZXMuYWRkKHtcbiAgICAgICAgICAgIHBvc2l0aW9uOiBtaWQsXG4gICAgICAgICAgICBsYWJlbDoge1xuICAgICAgICAgICAgICAgIHRleHQ6IG1ldGVyc1RleHQsXG4gICAgICAgICAgICAgICAgZm9udDogJzIycHggYm9sZCBcIkFyaWFsXCIsIHNhbnMtc2VyaWYnLFxuICAgICAgICAgICAgICAgIGZpbGxDb2xvcjogQ2VzaXVtLkNvbG9yLllFTExPVyxcbiAgICAgICAgICAgICAgICBvdXRsaW5lQ29sb3I6IENlc2l1bS5Db2xvci5CTEFDSyxcbiAgICAgICAgICAgICAgICBvdXRsaW5lV2lkdGg6IDQsXG4gICAgICAgICAgICAgICAgc3R5bGU6IENlc2l1bS5MYWJlbFN0eWxlLkZJTExfQU5EX09VVExJTkUsXG4gICAgICAgICAgICAgICAgdmVydGljYWxPcmlnaW46IENlc2l1bS5WZXJ0aWNhbE9yaWdpbi5DRU5URVIsXG4gICAgICAgICAgICAgICAgaG9yaXpvbnRhbE9yaWdpbjogQ2VzaXVtLkhvcml6b250YWxPcmlnaW4uQ0VOVEVSLFxuICAgICAgICAgICAgICAgIHBpeGVsT2Zmc2V0OiBuZXcgQ2VzaXVtLkNhcnRlc2lhbjIoMCwgLTMwKSxcbiAgICAgICAgICAgICAgICBkaXNhYmxlRGVwdGhUZXN0RGlzdGFuY2U6IE51bWJlci5QT1NJVElWRV9JTkZJTklUWSxcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IGxhYmVsMiA9IHZpZXdlci5lbnRpdGllcy5hZGQoe1xuICAgICAgICAgICAgcG9zaXRpb246IG1pZCxcbiAgICAgICAgICAgIGxhYmVsOiB7XG4gICAgICAgICAgICAgICAgdGV4dDogZmVldFRleHQsXG4gICAgICAgICAgICAgICAgZm9udDogJzIwcHggYm9sZCBcIkFyaWFsXCIsIHNhbnMtc2VyaWYnLFxuICAgICAgICAgICAgICAgIGZpbGxDb2xvcjogQ2VzaXVtLkNvbG9yLldISVRFLFxuICAgICAgICAgICAgICAgIG91dGxpbmVDb2xvcjogQ2VzaXVtLkNvbG9yLkJMQUNLLFxuICAgICAgICAgICAgICAgIG91dGxpbmVXaWR0aDogNCxcbiAgICAgICAgICAgICAgICBzdHlsZTogQ2VzaXVtLkxhYmVsU3R5bGUuRklMTF9BTkRfT1VUTElORSxcbiAgICAgICAgICAgICAgICB2ZXJ0aWNhbE9yaWdpbjogQ2VzaXVtLlZlcnRpY2FsT3JpZ2luLkNFTlRFUixcbiAgICAgICAgICAgICAgICBob3Jpem9udGFsT3JpZ2luOiBDZXNpdW0uSG9yaXpvbnRhbE9yaWdpbi5DRU5URVIsXG4gICAgICAgICAgICAgICAgcGl4ZWxPZmZzZXQ6IG5ldyBDZXNpdW0uQ2FydGVzaWFuMigwLCAzMCksXG4gICAgICAgICAgICAgICAgZGlzYWJsZURlcHRoVGVzdERpc3RhbmNlOiBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFksXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBtZWFzdXJlbWVudEVudGl0aWVzUmVmLmN1cnJlbnQucHVzaChsYWJlbDEsIGxhYmVsMik7XG4gICAgICAgIG92ZXJsYXlFbnRpdGllc1JlZi5jdXJyZW50LnB1c2gobGFiZWwxLCBsYWJlbDIpO1xuXG4gICAgICAgIGFyZWFMb2NrZWRSZWYuY3VycmVudCA9IHRydWU7XG4gICAgICAgIG1lYXN1cmVtZW50TW9kZVJlZi5jdXJyZW50ID0gJ25vbmUnO1xuICAgICAgICBzZXRNZWFzdXJlbWVudE1vZGUoJ25vbmUnKTtcbiAgICAgICAgdmlld2VyLnNjZW5lPy5yZXF1ZXN0UmVuZGVyKCk7XG4gICAgfTtcblxuICAgIGNvbnN0IGRyYXdBcmVhUHJldmlldyA9ICh2aWV3ZXIsIHBvaW50cykgPT4ge1xuICAgICAgICBvdmVybGF5RW50aXRpZXNSZWYuY3VycmVudC5mb3JFYWNoKGUgPT4geyB0cnkgeyB2aWV3ZXIuZW50aXRpZXMucmVtb3ZlKGUpOyB9IGNhdGNoIChfKSB7IH0gfSk7XG4gICAgICAgIG92ZXJsYXlFbnRpdGllc1JlZi5jdXJyZW50ID0gW107XG4gICAgICAgIGlmIChwb2ludHMubGVuZ3RoIDwgMikgcmV0dXJuO1xuICAgICAgICBjb25zdCBwb3NpdGlvbnMgPSBwb2ludHMubWFwKHAgPT4gcC5jYXJ0ZXNpYW4pO1xuICAgICAgICBjb25zdCBwb2x5bGluZSA9IHZpZXdlci5lbnRpdGllcy5hZGQoe1xuICAgICAgICAgICAgcG9seWxpbmU6IHtcbiAgICAgICAgICAgICAgICBwb3NpdGlvbnMsXG4gICAgICAgICAgICAgICAgd2lkdGg6IDIsXG4gICAgICAgICAgICAgICAgbWF0ZXJpYWw6IENlc2l1bS5Db2xvci5DWUFOLndpdGhBbHBoYSgwLjgpLFxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgb3ZlcmxheUVudGl0aWVzUmVmLmN1cnJlbnQucHVzaChwb2x5bGluZSk7XG4gICAgICAgIHZpZXdlci5zY2VuZT8ucmVxdWVzdFJlbmRlcigpO1xuICAgIH07XG5cbiAgICBjb25zdCBjb21wdXRlQXJlYSA9IChwb3NpdGlvbnMsIGVsbGlwc29pZCkgPT4ge1xuICAgICAgICBjb25zdCBvcmlnaW4gPSBwb3NpdGlvbnNbMF07XG4gICAgICAgIGNvbnN0IGVudSA9IENlc2l1bS5UcmFuc2Zvcm1zLmVhc3ROb3J0aFVwVG9GaXhlZEZyYW1lKG9yaWdpbiwgZWxsaXBzb2lkKTtcbiAgICAgICAgY29uc3QgaW52ID0gQ2VzaXVtLk1hdHJpeDQuaW52ZXJzZVRyYW5zZm9ybWF0aW9uKGVudSwgbmV3IENlc2l1bS5NYXRyaXg0KCkpO1xuICAgICAgICBjb25zdCBsb2NhbCA9IHBvc2l0aW9ucy5tYXAocCA9PiB7XG4gICAgICAgICAgICBjb25zdCBkaWZmID0gQ2VzaXVtLkNhcnRlc2lhbjMuc3VidHJhY3QocCwgb3JpZ2luLCBuZXcgQ2VzaXVtLkNhcnRlc2lhbjMoKSk7XG4gICAgICAgICAgICByZXR1cm4gQ2VzaXVtLk1hdHJpeDQubXVsdGlwbHlCeVBvaW50QXNWZWN0b3IoaW52LCBkaWZmLCBuZXcgQ2VzaXVtLkNhcnRlc2lhbjMoKSk7XG4gICAgICAgIH0pO1xuICAgICAgICBsZXQgYXJlYSA9IDA7XG4gICAgICAgIGZvciAobGV0IGkgPSAwLCBqID0gbG9jYWwubGVuZ3RoIC0gMTsgaSA8IGxvY2FsLmxlbmd0aDsgaiA9IGkrKykge1xuICAgICAgICAgICAgYXJlYSArPSBsb2NhbFtqXS54ICogbG9jYWxbaV0ueSAtIGxvY2FsW2ldLnggKiBsb2NhbFtqXS55O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBNYXRoLmFicyhhcmVhKSAqIDAuNTtcbiAgICB9O1xuXG4gICAgY29uc3QgZmluYWxpemVBcmVhTWVhc3VyZW1lbnQgPSAodmlld2VyKSA9PiB7XG4gICAgICAgIGNvbnN0IHB0cyA9IG1lYXN1cmVtZW50UG9pbnRzUmVmLmN1cnJlbnQ7XG4gICAgICAgIGlmICghdmlld2VyIHx8IHB0cy5sZW5ndGggPCAzIHx8IGFyZWFMb2NrZWRSZWYuY3VycmVudCkgcmV0dXJuO1xuICAgICAgICBvdmVybGF5RW50aXRpZXNSZWYuY3VycmVudC5mb3JFYWNoKGUgPT4geyB0cnkgeyB2aWV3ZXIuZW50aXRpZXMucmVtb3ZlKGUpOyB9IGNhdGNoIChfKSB7IH0gfSk7XG4gICAgICAgIG92ZXJsYXlFbnRpdGllc1JlZi5jdXJyZW50ID0gW107XG4gICAgICAgIHJlbW92ZVByZXZpZXdFbnRpdGllcyh2aWV3ZXIpO1xuXG4gICAgICAgIGNvbnN0IHBvc2l0aW9ucyA9IHB0cy5tYXAocCA9PiBwLmNhcnRlc2lhbik7XG4gICAgICAgIGlmICghYXJlUG9zaXRpb25zVmFsaWQocG9zaXRpb25zKSkge1xuICAgICAgICAgICAgbWVhc3VyZW1lbnRQb2ludHNSZWYuY3VycmVudCA9IHB0cy5zbGljZSgwLCAxKTtcbiAgICAgICAgICAgIHZpZXdlci5zY2VuZT8ucmVxdWVzdFJlbmRlcigpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHBvbHkgPSB2aWV3ZXIuZW50aXRpZXMuYWRkKHtcbiAgICAgICAgICAgIHBvbHlnb246IHtcbiAgICAgICAgICAgICAgICBoaWVyYXJjaHk6IG5ldyBDZXNpdW0uUG9seWdvbkhpZXJhcmNoeShwb3NpdGlvbnMpLFxuICAgICAgICAgICAgICAgIG1hdGVyaWFsOiBDZXNpdW0uQ29sb3IuWUVMTE9XLndpdGhBbHBoYSgwLjI1KSxcbiAgICAgICAgICAgICAgICBvdXRsaW5lOiB0cnVlLFxuICAgICAgICAgICAgICAgIG91dGxpbmVDb2xvcjogQ2VzaXVtLkNvbG9yLllFTExPVyxcbiAgICAgICAgICAgICAgICBvdXRsaW5lV2lkdGg6IDIsXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBtZWFzdXJlbWVudEVudGl0aWVzUmVmLmN1cnJlbnQucHVzaChwb2x5KTtcbiAgICAgICAgb3ZlcmxheUVudGl0aWVzUmVmLmN1cnJlbnQucHVzaChwb2x5KTtcblxuICAgICAgICBjb25zdCBlbGxpcHNvaWQgPSB2aWV3ZXIuc2NlbmUuZ2xvYmUuZWxsaXBzb2lkO1xuICAgICAgICBjb25zdCBhcmVhU3FtID0gY29tcHV0ZUFyZWEocG9zaXRpb25zLCBlbGxpcHNvaWQpO1xuICAgICAgICBjb25zdCBhcmVhU3FmdCA9IGFyZWFTcW0gKiAxMC43NjM5O1xuICAgICAgICBjb25zdCBjZW50cm9pZCA9IHBvc2l0aW9ucy5yZWR1Y2UoKGFjYywgY3VyKSA9PiBDZXNpdW0uQ2FydGVzaWFuMy5hZGQoYWNjLCBjdXIsIGFjYyksIG5ldyBDZXNpdW0uQ2FydGVzaWFuMygpKTtcbiAgICAgICAgQ2VzaXVtLkNhcnRlc2lhbjMubXVsdGlwbHlCeVNjYWxhcihjZW50cm9pZCwgMSAvIHBvc2l0aW9ucy5sZW5ndGgsIGNlbnRyb2lkKTtcblxuICAgICAgICBjb25zdCBsYWJlbCA9IHZpZXdlci5lbnRpdGllcy5hZGQoe1xuICAgICAgICAgICAgcG9zaXRpb246IGNlbnRyb2lkLFxuICAgICAgICAgICAgbGFiZWw6IHtcbiAgICAgICAgICAgICAgICB0ZXh0OiBgJHthcmVhU3FtLnRvRml4ZWQoMil9IG3CsiAvICR7YXJlYVNxZnQudG9GaXhlZCgyKX0gZnTCsmAsXG4gICAgICAgICAgICAgICAgZm9udDogJzIwcHggYm9sZCBcIkFyaWFsXCIsIHNhbnMtc2VyaWYnLFxuICAgICAgICAgICAgICAgIGZpbGxDb2xvcjogQ2VzaXVtLkNvbG9yLllFTExPVyxcbiAgICAgICAgICAgICAgICBvdXRsaW5lQ29sb3I6IENlc2l1bS5Db2xvci5CTEFDSyxcbiAgICAgICAgICAgICAgICBvdXRsaW5lV2lkdGg6IDQsXG4gICAgICAgICAgICAgICAgc3R5bGU6IENlc2l1bS5MYWJlbFN0eWxlLkZJTExfQU5EX09VVExJTkUsXG4gICAgICAgICAgICAgICAgdmVydGljYWxPcmlnaW46IENlc2l1bS5WZXJ0aWNhbE9yaWdpbi5DRU5URVIsXG4gICAgICAgICAgICAgICAgaG9yaXpvbnRhbE9yaWdpbjogQ2VzaXVtLkhvcml6b250YWxPcmlnaW4uQ0VOVEVSLFxuICAgICAgICAgICAgICAgIHBpeGVsT2Zmc2V0OiBuZXcgQ2VzaXVtLkNhcnRlc2lhbjIoMCwgLTIwKSxcbiAgICAgICAgICAgICAgICBkaXNhYmxlRGVwdGhUZXN0RGlzdGFuY2U6IE51bWJlci5QT1NJVElWRV9JTkZJTklUWSxcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIG1lYXN1cmVtZW50RW50aXRpZXNSZWYuY3VycmVudC5wdXNoKGxhYmVsKTtcbiAgICAgICAgb3ZlcmxheUVudGl0aWVzUmVmLmN1cnJlbnQucHVzaChsYWJlbCk7XG5cbiAgICAgICAgYXJlYUxvY2tlZFJlZi5jdXJyZW50ID0gdHJ1ZTtcbiAgICAgICAgbWVhc3VyZW1lbnRNb2RlUmVmLmN1cnJlbnQgPSAnbm9uZSc7XG4gICAgICAgIHNldE1lYXN1cmVtZW50TW9kZSgnbm9uZScpO1xuICAgICAgICB2aWV3ZXIuc2NlbmU/LnJlcXVlc3RSZW5kZXIoKTtcbiAgICB9O1xuXG4gICAgY29uc3QgdXBkYXRlUHJldmlld0xpbmUgPSAodmlld2VyLCBjdXJzb3JDYXJ0ZXNpYW4pID0+IHtcbiAgICAgICAgaWYgKCF2aWV3ZXIpIHJldHVybjtcbiAgICAgICAgaWYgKGFyZWFMb2NrZWRSZWYuY3VycmVudCkge1xuICAgICAgICAgICAgcmVtb3ZlUHJldmlld0VudGl0aWVzKHZpZXdlcik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbW9kZSA9IG1lYXN1cmVtZW50TW9kZVJlZi5jdXJyZW50O1xuICAgICAgICBjb25zdCBwdHMgPSBtZWFzdXJlbWVudFBvaW50c1JlZi5jdXJyZW50O1xuICAgICAgICBpZiAobW9kZSAhPT0gJ2Rpc3RhbmNlJyB8fCBwdHMubGVuZ3RoICE9PSAxKSB7XG4gICAgICAgICAgICByZW1vdmVQcmV2aWV3RW50aXRpZXModmlld2VyKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWN1cnNvckNhcnRlc2lhbikge1xuICAgICAgICAgICAgcmVtb3ZlUHJldmlld0VudGl0aWVzKHZpZXdlcik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBmaXJzdCA9IHB0c1swXS5jYXJ0ZXNpYW47XG4gICAgICAgIHJlbW92ZVByZXZpZXdFbnRpdGllcyh2aWV3ZXIpO1xuXG4gICAgICAgIHByZXZpZXdMaW5lRW50aXR5UmVmLmN1cnJlbnQgPSB2aWV3ZXIuZW50aXRpZXMuYWRkKHtcbiAgICAgICAgICAgIHBvbHlsaW5lOiB7XG4gICAgICAgICAgICAgICAgcG9zaXRpb25zOiBbZmlyc3QsIGN1cnNvckNhcnRlc2lhbl0sXG4gICAgICAgICAgICAgICAgd2lkdGg6IDMsXG4gICAgICAgICAgICAgICAgbWF0ZXJpYWw6IENlc2l1bS5Db2xvci5ZRUxMT1cud2l0aEFscGhhKDAuOCksXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNvbnN0IGVsbGlwc29pZCA9IHZpZXdlci5zY2VuZS5nbG9iZS5lbGxpcHNvaWQ7XG4gICAgICAgIGNvbnN0IGMxID0gZWxsaXBzb2lkLmNhcnRlc2lhblRvQ2FydG9ncmFwaGljKGZpcnN0KTtcbiAgICAgICAgY29uc3QgYzIgPSBlbGxpcHNvaWQuY2FydGVzaWFuVG9DYXJ0b2dyYXBoaWMoY3Vyc29yQ2FydGVzaWFuKTtcbiAgICAgICAgY29uc3QgZ2VvZGVzaWMgPSBuZXcgQ2VzaXVtLkVsbGlwc29pZEdlb2Rlc2ljKGMxLCBjMik7XG4gICAgICAgIGNvbnN0IGRpc3RhbmNlTWV0ZXJzID0gZ2VvZGVzaWMuc3VyZmFjZURpc3RhbmNlO1xuICAgICAgICBjb25zdCBkaXN0YW5jZUZlZXQgPSBkaXN0YW5jZU1ldGVycyAqIDMuMjgwODQ7XG4gICAgICAgIGNvbnN0IHRleHQgPSBgJHtkaXN0YW5jZU1ldGVycy50b0ZpeGVkKDIpfSBtIC8gJHtkaXN0YW5jZUZlZXQudG9GaXhlZCgyKX0gZnRgO1xuXG4gICAgICAgIGNvbnN0IG1pZCA9IENlc2l1bS5DYXJ0ZXNpYW4zLmxlcnAoZmlyc3QsIGN1cnNvckNhcnRlc2lhbiwgMC41LCBuZXcgQ2VzaXVtLkNhcnRlc2lhbjMoKSk7XG4gICAgICAgIHByZXZpZXdMYWJlbEVudGl0eVJlZi5jdXJyZW50ID0gdmlld2VyLmVudGl0aWVzLmFkZCh7XG4gICAgICAgICAgICBwb3NpdGlvbjogbWlkLFxuICAgICAgICAgICAgbGFiZWw6IHtcbiAgICAgICAgICAgICAgICB0ZXh0LFxuICAgICAgICAgICAgICAgIGZvbnQ6ICcyMHB4IGJvbGQgXFxcIkFyaWFsXFxcIiwgc2Fucy1zZXJpZicsXG4gICAgICAgICAgICAgICAgZmlsbENvbG9yOiBDZXNpdW0uQ29sb3IuWUVMTE9XLFxuICAgICAgICAgICAgICAgIG91dGxpbmVDb2xvcjogQ2VzaXVtLkNvbG9yLkJMQUNLLFxuICAgICAgICAgICAgICAgIG91dGxpbmVXaWR0aDogNCxcbiAgICAgICAgICAgICAgICBzdHlsZTogQ2VzaXVtLkxhYmVsU3R5bGUuRklMTF9BTkRfT1VUTElORSxcbiAgICAgICAgICAgICAgICB2ZXJ0aWNhbE9yaWdpbjogQ2VzaXVtLlZlcnRpY2FsT3JpZ2luLkNFTlRFUixcbiAgICAgICAgICAgICAgICBwaXhlbE9mZnNldDogbmV3IENlc2l1bS5DYXJ0ZXNpYW4yKDAsIC0yNSksXG4gICAgICAgICAgICAgICAgZGlzYWJsZURlcHRoVGVzdERpc3RhbmNlOiBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFksXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICB2aWV3ZXIuc2NlbmU/LnJlcXVlc3RSZW5kZXIoKTtcbiAgICB9O1xuXG4gICAgY29uc3QgYWRkTWVhc3VyZW1lbnRQb2ludCA9ICh2aWV3ZXIsIGNhcnRlc2lhbikgPT4ge1xuICAgICAgICBpZiAoIXZpZXdlciB8fCAhY2FydGVzaWFuKSByZXR1cm47XG4gICAgICAgIGlmIChhcmVhTG9ja2VkUmVmLmN1cnJlbnQpIHJldHVybjtcbiAgICAgICAgY29uc3QgbW9kZSA9IG1lYXN1cmVtZW50TW9kZVJlZi5jdXJyZW50O1xuICAgICAgICBpZiAobW9kZSA9PT0gJ25vbmUnKSByZXR1cm47XG5cbiAgICAgICAgY29uc3QgbmV3UG9pbnQgPSB7IGlkOiB1dWlkdjQoKSwgY2FydGVzaWFuIH07XG4gICAgICAgIGNvbnN0IG5ld1BvaW50cyA9IFsuLi5tZWFzdXJlbWVudFBvaW50c1JlZi5jdXJyZW50LCBuZXdQb2ludF07XG4gICAgICAgIG1lYXN1cmVtZW50UG9pbnRzUmVmLmN1cnJlbnQgPSBuZXdQb2ludHM7XG5cbiAgICAgICAgY29uc3QgcG9pbnRFbnRpdHkgPSB2aWV3ZXIuZW50aXRpZXMuYWRkKHtcbiAgICAgICAgICAgIHBvc2l0aW9uOiBjYXJ0ZXNpYW4sXG4gICAgICAgICAgICBwb2ludDoge1xuICAgICAgICAgICAgICAgIHBpeGVsU2l6ZTogMTIsXG4gICAgICAgICAgICAgICAgY29sb3I6IENlc2l1bS5Db2xvci5XSElURSxcbiAgICAgICAgICAgICAgICBvdXRsaW5lQ29sb3I6IENlc2l1bS5Db2xvci5DWUFOLFxuICAgICAgICAgICAgICAgIG91dGxpbmVXaWR0aDogMyxcbiAgICAgICAgICAgICAgICBoZWlnaHRSZWZlcmVuY2U6IENlc2l1bS5IZWlnaHRSZWZlcmVuY2UuQ0xBTVBfVE9fR1JPVU5ELFxuICAgICAgICAgICAgICAgIGRpc2FibGVEZXB0aFRlc3REaXN0YW5jZTogTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZLFxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgbWVhc3VyZW1lbnRFbnRpdGllc1JlZi5jdXJyZW50LnB1c2gocG9pbnRFbnRpdHkpO1xuXG4gICAgICAgIGlmIChtb2RlID09PSAnZGlzdGFuY2UnICYmIG5ld1BvaW50cy5sZW5ndGggPT09IDIpIHtcbiAgICAgICAgICAgIHJlbW92ZVByZXZpZXdFbnRpdGllcyh2aWV3ZXIpO1xuICAgICAgICAgICAgZHJhd0Rpc3RhbmNlKHZpZXdlciwgbmV3UG9pbnRzKTtcbiAgICAgICAgfSBlbHNlIGlmIChtb2RlID09PSAnYXJlYScgJiYgbmV3UG9pbnRzLmxlbmd0aCA+PSAyKSB7XG4gICAgICAgICAgICBkcmF3QXJlYVByZXZpZXcodmlld2VyLCBuZXdQb2ludHMpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IGhhbmRsZU1lYXN1cmVDaGFuZ2UgPSAobW9kZSkgPT4ge1xuICAgICAgICBpZiAobW9kZSA9PT0gJ2NsZWFyJykge1xuICAgICAgICAgICAgZnJDbGVhck1lYXN1cmVtZW50cygpO1xuICAgICAgICAgICAgc2V0TWVhc3VyZW1lbnRNb2RlKCdub25lJyk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgZnJTdGFydE1lYXN1cmVtZW50KG1vZGUpO1xuICAgICAgICBzZXRNZWFzdXJlbWVudE1vZGUobW9kZSk7XG4gICAgfTtcblxuICAgIGlmIChtYXBFcnJvcikgcmV0dXJuIDxkaXYgc3R5bGU9e3sgY29sb3I6ICd3aGl0ZScsIHBhZGRpbmc6IDIwIH19PkVycm9yOiB7bWFwRXJyb3J9PC9kaXY+O1xuXG4gICAgcmV0dXJuIChcbiAgICAgICAgPD5cbiAgICAgICAgICAgIDxTY3JpcHQgc3JjPVwiaHR0cHM6Ly9jZG5qcy5jbG91ZGZsYXJlLmNvbS9hamF4L2xpYnMvY2VzaXVtLzEuMTI2LjAvQ2VzaXVtLmpzXCIgb25Mb2FkPXsoKSA9PiBzZXRDZXNpdW1Mb2FkZWQodHJ1ZSl9IC8+XG4gICAgICAgICAgICA8VG9wTWVudUJhclxuICAgICAgICAgICAgICAgIG9uQ29tcHV0ZVBhdGg9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgb3BlblR1cm5EaWFsb2coKTtcbiAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgIG9uTWFuYWdlUHJvZmlsZXM9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdmFsID0gd2luZG93LnByb21wdCgnRW50ZXIgUm9hZCBJRCB0byB2aWV3IHByb2ZpbGUnKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbCAmJiB2YWwudHJpbSgpLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldFNlbGVjdGVkUm9hZElkKHZhbC50cmltKCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0U2hvd1Byb2ZpbGVWaWV3ZXIodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgIG9uTWVhc3VyZURpc3RhbmNlPXsoKSA9PiBoYW5kbGVNZWFzdXJlQ2hhbmdlKCdkaXN0YW5jZScpfVxuICAgICAgICAgICAgICAgIG9uTWVhc3VyZUFyZWE9eygpID0+IGhhbmRsZU1lYXN1cmVDaGFuZ2UoJ2FyZWEnKX1cbiAgICAgICAgICAgICAgICBjdXJyZW50QmFzZUxheWVyPXtiYXNlTGF5ZXJ9XG4gICAgICAgICAgICAgICAgb25DaGFuZ2VCYXNlTGF5ZXI9e3NldEJhc2VMYXllcn1cbiAgICAgICAgICAgICAgICBjdXJyZW50U2NlbmVNb2RlPXtzY2VuZU1vZGV9XG4gICAgICAgICAgICAgICAgb25DaGFuZ2VTY2VuZU1vZGU9e3NldFNjZW5lTW9kZX1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgICB7dHVybkRpYWxvZ09wZW4gJiYgKFxuICAgICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgICAgIDxUdXJuUGF0aFN0YXR1c0Jhbm5lclxuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFN0ZXA9e3R1cm5DdXJyZW50U3RlcH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkU291cmNlUm9hZD17dHVyblNvdXJjZVJvYWR9XG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZERlc3RpbmF0aW9uUm9hZD17dHVybkRlc3RSb2FkfVxuICAgICAgICAgICAgICAgICAgICAgICAgb25DYW5jZWw9e2Nsb3NlVHVybkRpYWxvZ31cbiAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgPFR1cm5QYXRoRGlhbG9nXG4gICAgICAgICAgICAgICAgICAgICAgICBpc09wZW49e3R1cm5EaWFsb2dPcGVufVxuICAgICAgICAgICAgICAgICAgICAgICAgb25DbG9zZT17Y2xvc2VUdXJuRGlhbG9nfVxuICAgICAgICAgICAgICAgICAgICAgICAgb25TdGFydFNlbGVjdGlvbj17KGNvbmZpZykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0VHVyblNlbGVjdGlvbihjb25maWcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgIHZlaGljbGVQcm9maWxlcz17e319XG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50U3RlcD17dHVybkN1cnJlbnRTdGVwfVxuICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgcG9zaXRpb246ICdmaXhlZCcsIHRvcDogNDAsIGxlZnQ6IDAsIHJpZ2h0OiAwLCBib3R0b206IDAsIG92ZXJmbG93OiAnaGlkZGVuJywgYmFja2dyb3VuZDogJyMwMDAnIH19PlxuICAgICAgICAgICAgICAgIDxkaXYgcmVmPXttYXBDb250YWluZXJ9IHN0eWxlPXt7IHBvc2l0aW9uOiAnYWJzb2x1dGUnLCBpbnNldDogMCwgYmFja2dyb3VuZDogJyMxYTFhMmUnIH19IC8+XG5cbiAgICAgICAgICAgICAgICB7LyogU2lkZWJhciAtIFJpZ2h0IFNpZGUgKi99XG4gICAgICAgICAgICAgICAgey8qIFNpZGViYXIgKGNvcHkgc3R5bGluZyBmcm9tIEZyb250cnVubmVyIGxlZ2VuZCkgKi99XG4gICAgICAgICAgICAgICAgPGRpdiBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiAnbm9uZScsXG4gICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLCB0b3A6IDIwLCByaWdodDogMjAsIHdpZHRoOiAzMDAsXG4gICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogJ3JnYmEoNDAsIDQwLCA0MCwgMC43NSknLFxuICAgICAgICAgICAgICAgICAgICBib3JkZXI6ICcxcHggc29saWQgcmdiYSgxMjAsIDEyMCwgMTIwLCAwLjYpJyxcbiAgICAgICAgICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiAnOHB4JyxcbiAgICAgICAgICAgICAgICAgICAgYm94U2hhZG93OiAnMCA0cHggMjBweCByZ2JhKDAsIDAsIDAsIDAuNCknLFxuICAgICAgICAgICAgICAgICAgICBiYWNrZHJvcEZpbHRlcjogJ2JsdXIoMTVweCknLFxuICAgICAgICAgICAgICAgICAgICB6SW5kZXg6IDEwMDAsXG4gICAgICAgICAgICAgICAgICAgIGZvbnRGYW1pbHk6IGAnSW50ZXInLCdTZWdvZSBVSScsQXJpYWwsc2Fucy1zZXJpZmAsXG4gICAgICAgICAgICAgICAgICAgIG92ZXJmbG93OiAnaGlkZGVuJ1xuICAgICAgICAgICAgICAgIH19PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICdyZ2JhKDMwLCAzMCwgMzAsIDAuOCknLFxuICAgICAgICAgICAgICAgICAgICAgICAgcGFkZGluZzogJzEycHggMTZweCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBib3JkZXJSYWRpdXM6ICc4cHggOHB4IDAgMCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiAnZmxleCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBhbGlnbkl0ZW1zOiAnY2VudGVyJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGp1c3RpZnlDb250ZW50OiAnc3BhY2UtYmV0d2VlbidcbiAgICAgICAgICAgICAgICAgICAgfX0+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IGRpc3BsYXk6ICdmbGV4JywgYWxpZ25JdGVtczogJ2NlbnRlcicsIGdhcDogJzEwcHgnIH19PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6ICcyMHB4JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiAnMjBweCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogJyMzNDk4ZGInLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib3JkZXJSYWRpdXM6ICc0cHgnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiAnZmxleCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsaWduSXRlbXM6ICdjZW50ZXInLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBqdXN0aWZ5Q29udGVudDogJ2NlbnRlcidcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBzdHlsZT17eyBjb2xvcjogJ3doaXRlJywgZm9udFdlaWdodDogJzYwMCcsIGZvbnRTaXplOiAnMTRweCcgfX0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERpc3BhdGNoIE1hcFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBkaXNwbGF5OiAnZmxleCcsIGFsaWduSXRlbXM6ICdjZW50ZXInLCBnYXA6ICc4cHgnIH19PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogJ3JnYmEoNTIsIDE1MiwgMjE5LCAwLjMpJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlcjogJzFweCBzb2xpZCByZ2JhKDUyLCAxNTIsIDIxOSwgMC41KScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib3JkZXJSYWRpdXM6ICc0cHgnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6ICcjMzQ5OGRiJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnNvcjogJ3BvaW50ZXInLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFkZGluZzogJzRweCA4cHgnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9udFNpemU6ICcxMnB4JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvbnRXZWlnaHQ6ICc1MDAnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogJ2ZsZXgnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxpZ25JdGVtczogJ2NlbnRlcicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBnYXA6ICc0cHgnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNpdGlvbjogJ2FsbCAwLjJzJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXtyZWNlbnRlclZpZXd9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uTW91c2VFbnRlcj17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUudGFyZ2V0LnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICdyZ2JhKDUyLCAxNTIsIDIxOSwgMC41KSc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uTW91c2VMZWF2ZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUudGFyZ2V0LnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICdyZ2JhKDUyLCAxNTIsIDIxOSwgMC4zKSc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlPVwiUmVjZW50ZXIgbWFwIG9uIGN1cnJlbnQgZGF0YVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3ZnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWR0aD1cIjE2XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodD1cIjE2XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZpZXdCb3g9XCIwIDAgMTYgMTZcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgZGlzcGxheTogJ2lubGluZS1ibG9jaycsIHZlcnRpY2FsQWxpZ246ICdtaWRkbGUnIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxjaXJjbGUgY3g9XCI4XCIgY3k9XCI4XCIgcj1cIjcuNVwiIGZpbGw9XCIjMDAwXCIgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxjaXJjbGUgY3g9XCI4XCIgY3k9XCI4XCIgcj1cIjZcIiBmaWxsPVwibm9uZVwiIHN0cm9rZT1cIiNDQzU1MDBcIiBzdHJva2VXaWR0aD1cIjEuNVwiIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Y2lyY2xlIGN4PVwiOFwiIGN5PVwiOFwiIHI9XCIzXCIgZmlsbD1cIiNDQzU1MDBcIiAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHJlY3QgeD1cIjdcIiB5PVwiMFwiIHdpZHRoPVwiMlwiIGhlaWdodD1cIjNcIiBmaWxsPVwiI0NDNTUwMFwiIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cmVjdCB4PVwiN1wiIHk9XCIxM1wiIHdpZHRoPVwiMlwiIGhlaWdodD1cIjNcIiBmaWxsPVwiI0NDNTUwMFwiIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cmVjdCB4PVwiMFwiIHk9XCI3XCIgd2lkdGg9XCIzXCIgaGVpZ2h0PVwiMlwiIGZpbGw9XCIjQ0M1NTAwXCIgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxyZWN0IHg9XCIxM1wiIHk9XCI3XCIgd2lkdGg9XCIzXCIgaGVpZ2h0PVwiMlwiIGZpbGw9XCIjQ0M1NTAwXCIgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zdmc+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6ICd3aGl0ZScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb250U2l6ZTogJzE2cHgnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3Vyc29yOiAncG9pbnRlcicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOiAnNHB4JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zaXRpb246ICd0cmFuc2Zvcm0gMC4ycydcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIOKWvFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6ICcxMnB4JyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlckJvdHRvbTogJzFweCBzb2xpZCByZ2JhKDEyMCwgMTIwLCAxMjAsIDAuMyknLFxuICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiAncmdiYSg1MiwgMTUyLCAyMTksIDAuMSknXG4gICAgICAgICAgICAgICAgICAgIH19PlxuICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogJ2Jsb2NrJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXJnaW5Cb3R0b206ICc2cHgnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvbnRTaXplOiAnMTFweCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6ICcjYmRjM2M3JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb250V2VpZ2h0OiAnNjAwJ1xuICAgICAgICAgICAgICAgICAgICAgICAgfX0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgQmFzZSBMYXllclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxzZWxlY3RcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17YmFzZUxheWVyfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0QmFzZUxheWVyKGUudGFyZ2V0LnZhbHVlKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogJzEwMCUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOiAnNnB4IDhweCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogJ3JnYmEoNDAsIDQwLCA0MCwgMC45KScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiAnd2hpdGUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib3JkZXI6ICcxcHggc29saWQgcmdiYSgxMjAsIDEyMCwgMTIwLCAwLjQpJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiAnNHB4JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9udFNpemU6ICcxMnB4JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3Vyc29yOiAncG9pbnRlcicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG91dGxpbmU6ICdub25lJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cIm5pZ2h0XCI+TmlnaHQgTW9kZSAoRGFyayk8L29wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwiZGF5XCI+RGF5IE1vZGUgKFNhdGVsbGl0ZSk8L29wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwidG9wb2dyYXBoaWNcIj5Ub3BvZ3JhcGhpYzwvb3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJ0ZXJyYWluXCI+VGVycmFpbjwvb3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9zZWxlY3Q+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgICAgICAgIHsvKiBTZWN0aW9ucyAqL31cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICAgICAgcGFkZGluZzogJzEycHgnLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6ICd3aGl0ZScsXG4gICAgICAgICAgICAgICAgICAgICAgICBmb250U2l6ZTogJzEycHgnLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWF4SGVpZ2h0OiAnMzIwcHgnLFxuICAgICAgICAgICAgICAgICAgICAgICAgb3ZlcmZsb3dZOiAnYXV0bycsXG4gICAgICAgICAgICAgICAgICAgICAgICBvdmVyZmxvd1g6ICdoaWRkZW4nLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2Nyb2xsYmFyV2lkdGg6ICd0aGluJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNjcm9sbGJhckNvbG9yOiAncmdiYSgxMjAsIDEyMCwgMTIwLCAwLjYpIHJnYmEoNDAsIDQwLCA0MCwgMC4zKSdcbiAgICAgICAgICAgICAgICAgICAgfX0+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIHsvKiBDbG9zZSBtYXAgd3JhcHBlciAqL31cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgey8qIEVudGl0eSBJbmZvcm1hdGlvbiBEaWFsb2cgKi99XG4gICAgICAgICAgICB7ZGlhbG9nT3BlbiAmJiBkaWFsb2dEYXRhICYmIChcbiAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogJ2ZpeGVkJywgdG9wOiAwLCBsZWZ0OiAwLCByaWdodDogMCwgYm90dG9tOiAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiAncmdiYSgwLCAwLCAwLCAwLjcpJywgZGlzcGxheTogJ2ZsZXgnLFxuICAgICAgICAgICAgICAgICAgICAgICAgYWxpZ25JdGVtczogJ2NlbnRlcicsIGp1c3RpZnlDb250ZW50OiAnY2VudGVyJywgekluZGV4OiAxMDAwMCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tkcm9wRmlsdGVyOiAnYmx1cig1cHgpJ1xuICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7IHNldERpYWxvZ09wZW4oZmFsc2UpOyBzZXREaWFsb2dEYXRhKG51bGwpOyB9fVxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICcjMWUxZTFlJywgYm9yZGVyUmFkaXVzOiAnOHB4JywgcGFkZGluZzogJzE2cHgnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1heFdpZHRoOiAnNjAwcHgnLCBtYXhIZWlnaHQ6ICc3MHZoJywgd2lkdGg6ICc4NSUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJveFNoYWRvdzogJzAgOHB4IDMycHggcmdiYSgwLCAwLCAwLCAwLjUpJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBib3JkZXI6ICcxcHggc29saWQgcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjEpJywgb3ZlcmZsb3c6ICdoaWRkZW4nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6ICdmbGV4JywgZmxleERpcmVjdGlvbjogJ2NvbHVtbidcbiAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoZSkgPT4gZS5zdG9wUHJvcGFnYXRpb24oKX1cbiAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgey8qIEhlYWRlciAqL31cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiAnZmxleCcsIGp1c3RpZnlDb250ZW50OiAnc3BhY2UtYmV0d2VlbicsIGFsaWduSXRlbXM6ICdjZW50ZXInLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hcmdpbkJvdHRvbTogJzEycHgnLCBwYWRkaW5nQm90dG9tOiAnMTBweCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9yZGVyQm90dG9tOiAnMXB4IHNvbGlkIHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4yKSdcbiAgICAgICAgICAgICAgICAgICAgICAgIH19PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMiBzdHlsZT17eyBjb2xvcjogJyNmZmYnLCBtYXJnaW46IDAsIGZvbnRTaXplOiAnMTZweCcsIGZvbnRXZWlnaHQ6ICc2MDAnIH19PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RpYWxvZ0RhdGEuY2F0ZWdvcnkgPT09ICdpbnRlcnNlY3Rpb24nID8gJ/CfmqYnIDogJ/Cfk40nfSB7ZGlhbG9nRGF0YS5uYW1lfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2gyPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBzdHlsZT17eyBjb2xvcjogJyNiZGMzYzcnLCBtYXJnaW46ICcycHggMCAwIDAnLCBmb250U2l6ZTogJzExcHgnLCB0ZXh0VHJhbnNmb3JtOiAnY2FwaXRhbGl6ZScgfX0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Z2V0Q2F0ZWdvcnlEaXNwbGF5TmFtZShkaWFsb2dEYXRhLmNhdGVnb3J5KX0gSW5mb3JtYXRpb25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4geyBzZXREaWFsb2dPcGVuKGZhbHNlKTsgc2V0RGlhbG9nRGF0YShudWxsKTsgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6ICdyZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMSknLCBib3JkZXI6ICcxcHggc29saWQgcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjIpJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlclJhZGl1czogJzRweCcsIGNvbG9yOiAnI2ZmZicsIGN1cnNvcjogJ3BvaW50ZXInLCBwYWRkaW5nOiAnNnB4IDEycHgnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9udFNpemU6ICcxMnB4JywgZm9udFdlaWdodDogJzUwMCdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIOKclVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHsvKiBDb250ZW50ICovfVxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBvdmVyZmxvd1k6ICdhdXRvJywgZmxleDogMSwgcGFkZGluZ1JpZ2h0OiAnNnB4JyB9fT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7LyogU2hvdyBWaWV3IFByb2ZpbGUgYW5kIFNwZWVkIE1hbmFnZW1lbnQgYnV0dG9ucyBmb3Igcm9hZCBzZWdtZW50cyAqL31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7KGRpYWxvZ0RhdGEuY2F0ZWdvcnkgPT09ICdkaXNwYXRjaF9zZWdtZW50JyB8fCBkaWFsb2dEYXRhLmNhdGVnb3J5ID09PSAnZnJvbnRydW5uZXJfc2VnbWVudCcpICYmIGRpYWxvZ0RhdGEuYWxsUHJvcGVydGllcy5yb2FkX2lkICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBtYXJnaW5Cb3R0b206ICcxNnB4JywgcGFkZGluZzogJzEycHgnLCBiYWNrZ3JvdW5kQ29sb3I6ICdyZ2JhKDUyLCAxNTIsIDIxOSwgMC4xKScsIGJvcmRlclJhZGl1czogJzZweCcsIGJvcmRlcjogJzFweCBzb2xpZCByZ2JhKDUyLCAxNTIsIDIxOSwgMC4zKScgfX0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IGRpc3BsYXk6ICdmbGV4JywgZ2FwOiAnMTBweCcgfX0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXREaWFsb2dPcGVuKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFNlbGVjdGVkUm9hZElkKGRpYWxvZ0RhdGEuYWxsUHJvcGVydGllcy5yb2FkX2lkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFNob3dQcm9maWxlVmlld2VyKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmxleDogMSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6ICcjNEVDREM0JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiAnd2hpdGUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9yZGVyOiAnbm9uZScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOiAnMTJweCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib3JkZXJSYWRpdXM6ICc2cHgnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3Vyc29yOiAncG9pbnRlcicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb250V2VpZ2h0OiAnYm9sZCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb250U2l6ZTogJzE0cHgnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogJ2ZsZXgnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxpZ25JdGVtczogJ2NlbnRlcicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBqdXN0aWZ5Q29udGVudDogJ2NlbnRlcicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBnYXA6ICc4cHgnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBWaWV3IFByb2ZpbGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldERpYWxvZ09wZW4oZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0U2VsZWN0ZWRSb2FkSWQoZGlhbG9nRGF0YS5hbGxQcm9wZXJ0aWVzLnJvYWRfaWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0U2hvd1NwZWVkTWFuYWdlbWVudCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZsZXg6IDEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiAnI0U2N0UyMicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogJ3doaXRlJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlcjogJ25vbmUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFkZGluZzogJzEycHgnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiAnNnB4JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnNvcjogJ3BvaW50ZXInLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9udFdlaWdodDogJ2JvbGQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9udFNpemU6ICcxNHB4JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6ICdmbGV4JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsaWduSXRlbXM6ICdjZW50ZXInLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAganVzdGlmeUNvbnRlbnQ6ICdjZW50ZXInLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2FwOiAnOHB4J1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgU3BlZWQgTWFuYWdlbWVudFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBkaXNwbGF5OiAnZ3JpZCcsIGdyaWRUZW1wbGF0ZUNvbHVtbnM6ICdyZXBlYXQoYXV0by1maXQsIG1pbm1heCgyMDBweCwgMWZyKSknLCBnYXA6ICc4cHgnIH19PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7T2JqZWN0LmVudHJpZXMoZGlhbG9nRGF0YS5hbGxQcm9wZXJ0aWVzKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmZpbHRlcigoW2tleV0pID0+ICFbJ2xpbmVzdHJpbmcnLCAncG9seWdvbicsICdnZW9tZXRyeScsICdnZW9tZXRyeV8zZCcsICdwcm9wZXJ0eU5hbWVzJywgJ2RlZmluaXRpb25DaGFuZ2VkJywgJ19saXN0ZW5lcnMnLCAnY29sb3InLCAnc3R5bGVfcm9sZSddLmluY2x1ZGVzKGtleSkgJiYgIWtleS5zdGFydHNXaXRoKCdfJykpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAubWFwKChba2V5LCB2YWx1ZV0pID0+IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGtleT17a2V5fSBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICdyZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMDUpJywgcGFkZGluZzogJzhweCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlclJhZGl1czogJzZweCcsIGJvcmRlcjogJzFweCBzb2xpZCByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMSknXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgY29sb3I6ICcjYmRjM2M3JywgZm9udFNpemU6ICcxMHB4JywgZm9udFdlaWdodDogJzYwMCcsIHRleHRUcmFuc2Zvcm06ICd1cHBlcmNhc2UnLCBtYXJnaW5Cb3R0b206ICc0cHgnIH19PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2tleS5yZXBsYWNlKC9fL2csICcgJyl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IGNvbG9yOiAnI2ZmZicsIGZvbnRTaXplOiAnMTJweCcsIHdvcmRCcmVhazogJ2JyZWFrLXdvcmQnLCBmb250RmFtaWx5OiAnbW9ub3NwYWNlJywgd2hpdGVTcGFjZTogJ3ByZS13cmFwJyB9fT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtTdHJpbmcodmFsdWUpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIHtzaG93UHJvZmlsZVZpZXdlciAmJiBzZWxlY3RlZFJvYWRJZCAmJiAoXG4gICAgICAgICAgICAgICAgPFJvYWRQcm9maWxlVmlld2VyXG4gICAgICAgICAgICAgICAgICAgIHJvYWRJZD17c2VsZWN0ZWRSb2FkSWR9XG4gICAgICAgICAgICAgICAgICAgIG9uQ2xvc2U9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldFNob3dQcm9maWxlVmlld2VyKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldFNlbGVjdGVkUm9hZElkKG51bGwpO1xuICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICApfVxuICAgICAgICAgICAge3Nob3dTcGVlZE1hbmFnZW1lbnQgJiYgc2VsZWN0ZWRSb2FkSWQgJiYgKFxuICAgICAgICAgICAgICAgIDxTcGVlZE1hbmFnZW1lbnRWaWV3ZXJcbiAgICAgICAgICAgICAgICAgICAgcm9hZElkPXtzZWxlY3RlZFJvYWRJZH1cbiAgICAgICAgICAgICAgICAgICAgb25DbG9zZT17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0U2hvd1NwZWVkTWFuYWdlbWVudChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRTZWxlY3RlZFJvYWRJZChudWxsKTtcbiAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIDxzdHlsZSBkYW5nZXJvdXNseVNldElubmVySFRNTD17e1xuICAgICAgICAgICAgICAgIF9faHRtbDogYFxuICAgICAgICAgICAgICAgIC5jZXNpdW0tdmlld2VyLWJvdHRvbSwgLmNlc2l1bS12aWV3ZXItY2VzaXVtV2lkZ2V0Q29udGFpbmVyIC5jZXNpdW0td2lkZ2V0LWNyZWRpdHMsXG4gICAgICAgICAgICAgICAgLmNlc2l1bS12aWV3ZXItY2VzaXVtTG9nb0NvbnRhaW5lciwgLmNlc2l1bS1jcmVkaXQtbG9nb0NvbnRhaW5lciwgLmNlc2l1bS1jcmVkaXQtZXhwYW5kLWxpbmssXG4gICAgICAgICAgICAgICAgLmNlc2l1bS12aWV3ZXItY3JlZGl0VGV4dENvbnRhaW5lciB7IGRpc3BsYXk6IG5vbmUgIWltcG9ydGFudDsgfVxuICAgICAgICAgICAgICAgIGFbaHJlZio9XCJjZXNpdW0uY29tXCJdLCBhW2hyZWYqPVwiY2VzaXVtaW9uLmNvbVwiXSB7IGRpc3BsYXk6IG5vbmUgIWltcG9ydGFudDsgfVxuICAgICAgICAgICAgICAgIC5jZXNpdW0td2lkZ2V0LWNyZWRpdHMgeyBkaXNwbGF5OiBub25lICFpbXBvcnRhbnQ7IH1cbiAgICAgICAgICAgIGB9fSAvPlxuICAgICAgICA8Lz5cbiAgICApO1xufVxuIl0sIm5hbWVzIjpbIlJlYWN0IiwidXNlU3RhdGUiLCJ1c2VFZmZlY3QiLCJ1c2VSZWYiLCJ1c2VNZW1vIiwiU2NyaXB0IiwicmFuZG9tVVVJRCIsInV1aWR2NCIsIlRvcE1lbnVCYXIiLCJUdXJuUGF0aERpYWxvZyIsIlR1cm5QYXRoU3RhdHVzQmFubmVyIiwidXNlVHVyblBhdGhNYW5hZ2VyIiwidXNlTWVhc3VyZW1lbnRUb29sIiwiUm9hZFByb2ZpbGVWaWV3ZXIiLCJTcGVlZE1hbmFnZW1lbnRWaWV3ZXIiLCJESVNQQVRDSF9MT0NBVElPTl9DT0xPUl9NQVAiLCJTUVVBUkVfVFlQRVMiLCJTZXQiLCJERUZBVUxUX0hJRERFTl9MT0NBVElPTl9UWVBFUyIsInJlc29sdmVEaXNwYXRjaExvY2F0aW9uVHlwZSIsImxvY2F0aW9uIiwicmF3VmFsdWUiLCJ1bml0X3R5cGUiLCJsb2NhdGlvbl9jYXRlZ29yeSIsInVuaXRfdHlwZV9pZCIsImNhdGVnb3J5Iiwic291cmNlIiwidHJpbW1lZCIsInRyaW0iLCJsZW5ndGgiLCJnZXREaXNwYXRjaExvY2F0aW9uQ29sb3IiLCJsb2NhdGlvblR5cGUiLCJkZWZhdWx0IiwidG9Mb3dlckNhc2UiLCJyaW5nQXJlYTJEIiwiY29vcmRzIiwiQXJyYXkiLCJpc0FycmF5IiwiYXJlYSIsIm4iLCJpIiwieDEiLCJ5MSIsIngyIiwieTIiLCJNYXRoIiwiYWJzIiwicGFyc2VQb2x5Z29uSGllcmFyY2h5IiwiZ2VvanNvbiIsIndpbmRvdyIsIkNlc2l1bSIsImdqIiwiSlNPTiIsInBhcnNlIiwiY29vcmRpbmF0ZXMiLCJyaW5ncyIsInR5cGUiLCJvdXRlciIsImZpbHRlciIsImMiLCJOdW1iZXIiLCJpc0Zpbml0ZSIsImZ4IiwiZnkiLCJseCIsImx5Iiwic2xpY2UiLCJjbGVhbmVkIiwiY3VyIiwicHVzaCIsImFyZWEyRCIsInBvc2l0aW9ucyIsIkNhcnRlc2lhbjMiLCJmcm9tRGVncmVlc0FycmF5IiwiZmxhdCIsIm1pblgiLCJJbmZpbml0eSIsIm1heFgiLCJtaW5ZIiwibWF4WSIsIm1pbloiLCJtYXhaIiwicCIsIngiLCJ5IiwieiIsInNwYW4iLCJtYXgiLCJQb2x5Z29uSGllcmFyY2h5IiwiYXJlUG9zaXRpb25zVmFsaWQiLCJpc0Rpc3BhdGNoU2VnbWVudENsb3NlZCIsInNlZ21lbnQiLCJ2YWx1ZSIsImlzX2Nsb3NlZCIsInJlbmRlclRvb2x0aXBJdGVtcyIsIml0ZW1zIiwiY29tcGFjdCIsIkJvb2xlYW4iLCJtYXAiLCJyYXciLCJpdGVtIiwiU3RyaW5nIiwiaW5jbHVkZXMiLCJsYWJlbCIsInJlcGxhY2UiLCJyYXdMYWJlbCIsInJlc3QiLCJzcGxpdCIsImpvaW4iLCJmb3JtYXRUb29sdGlwQ29udGVudCIsImVudGl0eSIsInByb3BlcnRpZXMiLCJnZXRQcm9wIiwia2V5IiwicHJvcCIsInVuZGVmaW5lZCIsImdldFZhbHVlIiwiSnVsaWFuRGF0ZSIsIm5vdyIsInRvU3RyaW5nIiwidG9VcHBlckNhc2UiLCJyb3VuZCIsImNsb3NlZCIsInJvYWRzIiwiRGlzcGF0Y2hDZXNpdW1NYXAiLCJtYXBDb250YWluZXIiLCJjZXNpdW1WaWV3ZXJSZWYiLCJtZWFzdXJlbWVudEhhbmRsZXJSZWYiLCJtYXBMb2FkZWQiLCJzZXRNYXBMb2FkZWQiLCJtYXBFcnJvciIsInNldE1hcEVycm9yIiwiY2VzaXVtTG9hZGVkIiwic2V0Q2VzaXVtTG9hZGVkIiwiZGlhbG9nT3BlbiIsInNldERpYWxvZ09wZW4iLCJkaWFsb2dEYXRhIiwic2V0RGlhbG9nRGF0YSIsInNob3dQcm9maWxlVmlld2VyIiwic2V0U2hvd1Byb2ZpbGVWaWV3ZXIiLCJzaG93U3BlZWRNYW5hZ2VtZW50Iiwic2V0U2hvd1NwZWVkTWFuYWdlbWVudCIsInNlbGVjdGVkUm9hZElkIiwic2V0U2VsZWN0ZWRSb2FkSWQiLCJsb2NhdGlvbnMiLCJzZXRMb2NhdGlvbnMiLCJzZWdtZW50cyIsInNldFNlZ21lbnRzIiwidHJvbGxleVNlZ21lbnRzIiwic2V0VHJvbGxleVNlZ21lbnRzIiwid2F0ZXJpbmdTdGF0aW9ucyIsInNldFdhdGVyaW5nU3RhdGlvbnMiLCJzcGVlZE1vbml0b3JpbmciLCJzZXRTcGVlZE1vbml0b3JpbmciLCJpbnRlcnNlY3Rpb25zIiwic2V0SW50ZXJzZWN0aW9ucyIsImNlbnRlclBvaW50cyIsInNldENlbnRlclBvaW50cyIsImNlbnRlclBvaW50RW50aXRpZXNSZWYiLCJpc0RpYWxvZ09wZW4iLCJ0dXJuRGlhbG9nT3BlbiIsImN1cnJlbnRTdGVwIiwidHVybkN1cnJlbnRTdGVwIiwiZ2V0Q3VycmVudFN0ZXAiLCJnZXRUdXJuQ3VycmVudFN0ZXAiLCJzZWxlY3RlZFNvdXJjZVJvYWQiLCJ0dXJuU291cmNlUm9hZCIsInNlbGVjdGVkRGVzdGluYXRpb25Sb2FkIiwidHVybkRlc3RSb2FkIiwib3BlbkRpYWxvZyIsIm9wZW5UdXJuRGlhbG9nIiwiY2xvc2VEaWFsb2ciLCJjbG9zZVR1cm5EaWFsb2ciLCJzdGFydFNlbGVjdGlvbiIsInN0YXJ0VHVyblNlbGVjdGlvbiIsImhhbmRsZU1hcENsaWNrIiwiaGFuZGxlVHVyblBhdGhDbGljayIsInJvYWROZXR3b3Jrc0V4cGFuZGVkIiwic2V0Um9hZE5ldHdvcmtzRXhwYW5kZWQiLCJsb2NhdGlvblR5cGVzRXhwYW5kZWQiLCJzZXRMb2NhdGlvblR5cGVzRXhwYW5kZWQiLCJiYXNlTGF5ZXIiLCJzZXRCYXNlTGF5ZXIiLCJzY2VuZU1vZGUiLCJzZXRTY2VuZU1vZGUiLCJtZWFzdXJlbWVudE1vZGUiLCJzZXRNZWFzdXJlbWVudE1vZGUiLCJzaG93T3BlblJvYWRzIiwic2V0U2hvd09wZW5Sb2FkcyIsInNob3dDbG9zZWRSb2FkcyIsInNldFNob3dDbG9zZWRSb2FkcyIsInNob3dJbnRlcnNlY3Rpb25zIiwic2V0U2hvd0ludGVyc2VjdGlvbnMiLCJzaG93Q2VudGVyUG9pbnRzIiwic2V0U2hvd0NlbnRlclBvaW50cyIsInNob3dUcm9sbGV5Iiwic2V0U2hvd1Ryb2xsZXkiLCJzaG93V2F0ZXJpbmciLCJzZXRTaG93V2F0ZXJpbmciLCJzaG93U3BlZWQiLCJzZXRTaG93U3BlZWQiLCJ2aXNpYmxlTG9jYXRpb25UeXBlcyIsInNldFZpc2libGVMb2NhdGlvblR5cGVzIiwiZnJNZWFzdXJlbWVudE1vZGUiLCJzdGFydE1lYXN1cmVtZW50IiwiZnJTdGFydE1lYXN1cmVtZW50IiwiY2FuY2VsTWVhc3VyZW1lbnQiLCJmckNhbmNlbE1lYXN1cmVtZW50IiwiYWRkTWVhc3VyZW1lbnRQb2ludCIsImZyQWRkUG9pbnQiLCJjbGVhck1lYXN1cmVtZW50cyIsImZyQ2xlYXJNZWFzdXJlbWVudHMiLCJ1cGRhdGVQcmV2aWV3TGluZSIsImZyVXBkYXRlUHJldmlldyIsImZpbmFsaXplQXJlYU1lYXN1cmVtZW50IiwiZnJGaW5hbGl6ZUFyZWEiLCJnZXRNZWFzdXJlbWVudE1vZGUiLCJmckdldE1vZGUiLCJyZWNlbnRlclZpZXciLCJ2aWV3ZXIiLCJjdXJyZW50IiwiY2FtZXJhIiwiZmx5VG8iLCJkZXN0aW5hdGlvbiIsImZyb21EZWdyZWVzIiwib3JpZW50YXRpb24iLCJoZWFkaW5nIiwicGl0Y2giLCJ0b1JhZGlhbnMiLCJyb2xsIiwiZHVyYXRpb24iLCJzZWxlY3RpbmciLCJ0b29sdGlwIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsInN0eWxlIiwiZGlzcGxheSIsImxvY2F0aW9uQ291bnRzIiwiY291bnRzIiwiZm9yRWFjaCIsImwiLCJyb2FkQ291bnRzIiwib3BlbiIsInMiLCJjZW50ZXJQb2ludENvdW50IiwidG9nZ2xlTG9jYXRpb25UeXBlIiwiY2hlY2tlZCIsIm5ld1NldCIsImFkZCIsImRlbGV0ZSIsIklvbiIsImRlZmF1bHRBY2Nlc3NUb2tlbiIsImNvb3JkSGFuZGxlciIsImNvb3JkRGlzcGxheSIsIlZpZXdlciIsImJhc2VMYXllclBpY2tlciIsImdlb2NvZGVyIiwiaG9tZUJ1dHRvbiIsInNjZW5lTW9kZVBpY2tlciIsIm5hdmlnYXRpb25IZWxwQnV0dG9uIiwiYW5pbWF0aW9uIiwidGltZWxpbmUiLCJmdWxsc2NyZWVuQnV0dG9uIiwidnJCdXR0b24iLCJpbWFnZXJ5UHJvdmlkZXIiLCJ0ZXJyYWluUHJvdmlkZXIiLCJFbGxpcHNvaWRUZXJyYWluUHJvdmlkZXIiLCJzZWxlY3Rpb25JbmRpY2F0b3IiLCJpbmZvQm94IiwiY2VzaXVtV2lkZ2V0IiwiY3JlZGl0Q29udGFpbmVyIiwic2V0VmlldyIsImNlc2l1bVZpZXdlciIsImZldGNoIiwidGhlbiIsInJlcyIsImpzb24iLCJkYXRhIiwiY2F0Y2giLCJlcnIiLCJjb25zb2xlIiwid2FybiIsIm1lc3NhZ2UiLCJoYW5kbGVyIiwiU2NyZWVuU3BhY2VFdmVudEhhbmRsZXIiLCJzY2VuZSIsImNhbnZhcyIsInNldElucHV0QWN0aW9uIiwibW92ZW1lbnQiLCJzdGVwIiwiZHJpbGwiLCJkcmlsbFBpY2siLCJwb3NpdGlvbiIsInBpY2tlZCIsInBpY2siLCJpZCIsIm1vZGUiLCJlbGxpcHNvaWQiLCJnbG9iZSIsImNhcnRlc2lhbiIsInBpY2tFbGxpcHNvaWQiLCJwaWNrUG9zaXRpb24iLCJyYXkiLCJnZXRQaWNrUmF5IiwiY2FydG8iLCJjYXJ0ZXNpYW5Ub0NhcnRvZ3JhcGhpYyIsImNsYW1wZWQiLCJmcm9tUmFkaWFucyIsImxvbmdpdHVkZSIsImxhdGl0dWRlIiwiU2NyZWVuU3BhY2VFdmVudFR5cGUiLCJMRUZUX0NMSUNLIiwiZW5kUG9zaXRpb24iLCJNT1VTRV9NT1ZFIiwiUklHSFRfQ0xJQ0siLCJjcmVhdGVFbGVtZW50IiwiY3NzVGV4dCIsImJvZHkiLCJhcHBlbmRDaGlsZCIsImRlZmluZWQiLCJjYXJ0IiwiQ2FydG9ncmFwaGljIiwiZnJvbUNhcnRlc2lhbiIsImxuZyIsInRvRGVncmVlcyIsInRvRml4ZWQiLCJsYXQiLCJpbm5lckhUTUwiLCJlIiwiZGVzdHJveSIsImlzRGVzdHJveWVkIiwicGFyZW50Tm9kZSIsInJlbW92ZSIsImNvbnRhaW5lciIsImN1cnNvciIsInBpY2tlZE9iamVjdCIsImNvbnRlbnQiLCJsZWZ0IiwidG9wIiwiY29udGFpbmVyUmVjdCIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsIm9mZnNldFdpZHRoIiwid2lkdGgiLCJvZmZzZXRIZWlnaHQiLCJoZWlnaHQiLCJyZW1vdmVDaGlsZCIsImNsaWNrIiwiZmluZCIsIm8iLCJjYXRQcm9wIiwiY2F0IiwiYWxsUHJvcGVydGllcyIsInByb3BlcnR5TmFtZXMiLCJPYmplY3QiLCJrZXlzIiwicHJvcE5hbWUiLCJzdGFydHNXaXRoIiwidmFsIiwibmFtZSIsImVudGl0aWVzIiwidmFsdWVzIiwicHJldkVudGl0eSIsIl9vcmlnaW5hbE1hdGVyaWFsIiwiY29ycmlkb3IiLCJtYXRlcmlhbCIsIm91dGxpbmUiLCJwb2x5Z29uIiwiQ29sb3IiLCJDWUFOIiwid2l0aEFscGhhIiwib3V0bGluZUNvbG9yIiwiWUVMTE9XIiwib3V0bGluZVdpZHRoIiwiXyIsInJlcXVlc3RSZW5kZXIiLCJjcCIsImxvbiIsInBvcyIsImVudCIsInBvaW50IiwicGl4ZWxTaXplIiwiY29sb3IiLCJNQUdFTlRBIiwiV0hJVEUiLCJoZWlnaHRSZWZlcmVuY2UiLCJIZWlnaHRSZWZlcmVuY2UiLCJSRUxBVElWRV9UT19HUk9VTkQiLCJkaXNhYmxlRGVwdGhUZXN0RGlzdGFuY2UiLCJQT1NJVElWRV9JTkZJTklUWSIsInNjYWxlQnlEaXN0YW5jZSIsIk5lYXJGYXJTY2FsYXIiLCJjeWxpbmRlciIsInRvcFJhZGl1cyIsImJvdHRvbVJhZGl1cyIsInJvYWRfaWQiLCJpbnRlcnNlY3Rpb25faWQiLCJpbnRlcnNlY3Rpb25fbmFtZSIsImNhbmNlbGxlZCIsInVwZGF0ZUJhc2VMYXllciIsImltYWdlcnlMYXllcnMiLCJyZW1vdmVBbGwiLCJwcm92aWRlciIsIlVybFRlbXBsYXRlSW1hZ2VyeVByb3ZpZGVyIiwidXJsIiwiY3JlZGl0Iiwic3ViZG9tYWlucyIsImFkZEltYWdlcnlQcm92aWRlciIsImJhc2VDb2xvciIsImZyb21Dc3NDb2xvclN0cmluZyIsIm1vcnBoVG8yRCIsIm1vcnBoVG8zRCIsImxvYWQiLCJpbmZyYXN0cnVjdHVyZSIsImFwaVNlZ21lbnRzIiwibWFwcGVkU2VnbWVudHMiLCJsYW5lX2lkIiwiZ2VvbWV0cnkiLCJnZW9tZXRyeV9nZW9qc29uIiwiY2VudGVybGluZV9nZW9qc29uIiwiZGlyZWN0aW9uIiwibGVuZ3RoX20iLCJtYXBwZWRMb2NhdGlvbnMiLCJwb2ludF9nZW9qc29uIiwibG9jYXRpb25faWQiLCJsb2NhdGlvbl9uYW1lIiwiZ2VvbV9nZW9qc29uIiwidW5pdF9pZCIsIm1hcHBlZEludGVyc2VjdGlvbnMiLCJ0eXBlQ291bnRzIiwibG9jIiwidCIsImxvZyIsInNhbXBsZXMiLCJyZXNvbHZlZF90eXBlIiwicmVzb2x2ZWRUeXBlcyIsImZyb20iLCJ2aXNpYmxlU2V0IiwiaXNOdW1lcmljIiwidGVzdCIsImhhcyIsImVycm9yIiwiY29tcHV0ZU9mZnNldExpbmUiLCJvZmZzZXRNZXRlcnMiLCJFbGxpcHNvaWQiLCJXR1M4NCIsIm9mZnNldFBvc2l0aW9ucyIsInVwIiwicmlnaHQiLCJzdWJ0cmFjdCIsImQxIiwiZDIiLCJtYWduaXR1ZGVTcXVhcmVkIiwiRVBTSUxPTjEwIiwibm9ybWFsaXplIiwiaXNOYU4iLCJnZW9kZXRpY1N1cmZhY2VOb3JtYWwiLCJjcm9zcyIsIm9mZnNldCIsIm11bHRpcGx5QnlTY2FsYXIiLCJmaW5hbFBvcyIsImZpbHRlclVuaXF1ZVBvc2l0aW9ucyIsImlkeCIsInByZXYiLCJkaXN0YW5jZVNxdWFyZWQiLCJnZXROZWFyZXN0Um9hZEJlYXJpbmciLCJsb2NDYXJ0IiwibWluRGlzdGFuY2UiLCJiZXN0QmVhcmluZyIsImciLCJjMVJhdyIsImMyUmF3IiwicDEiLCJwMiIsIm1pZCIsImRpc3RTcSIsImMxIiwiYzIiLCJkTG9uIiwic2luIiwiY29zIiwiYXRhbjIiLCJjb21wdXRlU3F1YXJlUG9seWdvbiIsImNlbnRlckNhcnRlc2lhbiIsInNpemVNZXRlcnMiLCJhbmdsZUZyb21FYXN0IiwiaGFsZiIsInRyYW5zZm9ybSIsIlRyYW5zZm9ybXMiLCJlYXN0Tm9ydGhVcFRvRml4ZWRGcmFtZSIsImJhc2VDb3JuZXJzIiwicmVzdWx0IiwicngiLCJyeSIsImxvY2FsUG9zIiwiTWF0cml4NCIsIm11bHRpcGx5QnlQb2ludCIsIk5JR0hUX1RIRU1FIiwicm9hZFN1cmZhY2VDb2xvck9wZW4iLCJyb2FkU3VyZmFjZUNvbG9yQ2xvc2VkIiwicm9hZFN1cmZhY2VBbHBoYSIsInJvYWRTaG91bGRlckNvbG9yT3BlbiIsInJvYWRTaG91bGRlckNvbG9yQ2xvc2VkIiwicm9hZFNob3VsZGVyQWxwaGEiLCJwb2x5Z29uT3V0bGluZUNvbG9yIiwicG9seWdvbk91dGxpbmVBbHBoYSIsInBvbHlnb25PdXRsaW5lV2lkdGgiLCJpbnRlcnNlY3Rpb25GaWxsQ29sb3IiLCJpbnRlcnNlY3Rpb25GaWxsQWxwaGEiLCJpbnRlcnNlY3Rpb25PdXRsaW5lQ29sb3IiLCJpbnRlcnNlY3Rpb25PdXRsaW5lQWxwaGEiLCJUT1RBTF9ST0FEX1dJRFRIIiwiQ0VOVEVSTElORV9XSURUSCIsIkxBTkVfVE9UQUxfV0lEVEgiLCJIQUxGX0xBTkVfVE9UQUxfV0lEVEgiLCJMQU5FX1NIT1VMREVSX1BBRERJTkciLCJMQU5FX1NVUkZBQ0VfV0lEVEgiLCJMQU5FX0NFTlRFUl9PRkZTRVRfTUFHIiwic3VyZmFjZUNvbG9yIiwic2hvdWxkZXJDb2xvciIsImVkZ2VDb2xvciIsImNlbnRlcmxpbmVDb2xvciIsInBvbHlzIiwiaGllcmFyY2h5IiwiYWxsTGluZVN0cmluZ3MiLCJ2YWxpZENvb3JkcyIsInJhd1Bvc2l0aW9ucyIsInNwYW5PayIsImV2ZXJ5IiwiYmJveCIsInJlZHVjZSIsImFjYyIsIm1pbiIsImRpciIsImRpclNpZ24iLCJsYW5lQ2VudGVyT2Zmc2V0IiwibGFuZVBvc2l0aW9ucyIsImNvcm5lclR5cGUiLCJDb3JuZXJUeXBlIiwiTUlURVJFRCIsInN0eWxlX3JvbGUiLCJwb2x5bGluZSIsIlBvbHlsaW5lRGFzaE1hdGVyaWFsUHJvcGVydHkiLCJkYXNoTGVuZ3RoIiwiYXJjVHlwZSIsIkFyY1R5cGUiLCJHRU9ERVNJQyIsImxlZnRFZGdlT2Zmc2V0IiwibGVmdEVkZ2VQb3NpdGlvbnMiLCJyaWdodEVkZ2VPZmZzZXQiLCJyaWdodEVkZ2VQb3NpdGlvbnMiLCJzdGFydF9sb25naXR1ZGUiLCJzdGFydF9sYXRpdHVkZSIsImVuZF9sb25naXR1ZGUiLCJlbmRfbGF0aXR1ZGUiLCJwYXJ0X2luZGV4IiwidHlwZUxvd2VyIiwic291cmNlTG93ZXIiLCJpc051bWVyaWNUeXBlIiwicmF3R2VvbSIsInN0cmluZ2lmeSIsInBlclBvc2l0aW9uSGVpZ2h0Iiwic2hvd1NxdWFyZSIsImJlYXJpbmdGcm9tTm9ydGgiLCJzcXVhcmVQb3NpdGlvbnMiLCJnZXRDYXRlZ29yeURpc3BsYXlOYW1lIiwiY29uc29saWRhdGVkQ2F0ZWdvcnkiLCJkaXNwbGF5TmFtZXMiLCJjYXRlZ29yeVN0ciIsIndvcmQiLCJjaGFyQXQiLCJyZW1vdmVQcmV2aWV3RW50aXRpZXMiLCJyZWZzIiwicHJldmlld0xpbmVFbnRpdHlSZWYiLCJwcmV2aWV3TGFiZWxFbnRpdHlSZWYiLCJyZWYiLCJtZWFzdXJlbWVudEVudGl0aWVzUmVmIiwib3ZlcmxheUVudGl0aWVzUmVmIiwibWVhc3VyZW1lbnRQb2ludHNSZWYiLCJhcmVhTG9ja2VkUmVmIiwibWVhc3VyZW1lbnRNb2RlUmVmIiwiZHJhd0Rpc3RhbmNlIiwicG9pbnRzIiwibGluZSIsImdlb2Rlc2ljIiwiRWxsaXBzb2lkR2VvZGVzaWMiLCJkaXN0YW5jZU1ldGVycyIsInN1cmZhY2VEaXN0YW5jZSIsImRpc3RhbmNlRmVldCIsImxhc3RQb2ludCIsInBvcCIsIm1ldGVyc1RleHQiLCJmZWV0VGV4dCIsImxlcnAiLCJsYWJlbDEiLCJ0ZXh0IiwiZm9udCIsImZpbGxDb2xvciIsIkJMQUNLIiwiTGFiZWxTdHlsZSIsIkZJTExfQU5EX09VVExJTkUiLCJ2ZXJ0aWNhbE9yaWdpbiIsIlZlcnRpY2FsT3JpZ2luIiwiQ0VOVEVSIiwiaG9yaXpvbnRhbE9yaWdpbiIsIkhvcml6b250YWxPcmlnaW4iLCJwaXhlbE9mZnNldCIsIkNhcnRlc2lhbjIiLCJsYWJlbDIiLCJkcmF3QXJlYVByZXZpZXciLCJjb21wdXRlQXJlYSIsIm9yaWdpbiIsImVudSIsImludiIsImludmVyc2VUcmFuc2Zvcm1hdGlvbiIsImxvY2FsIiwiZGlmZiIsIm11bHRpcGx5QnlQb2ludEFzVmVjdG9yIiwiaiIsInB0cyIsInBvbHkiLCJhcmVhU3FtIiwiYXJlYVNxZnQiLCJjZW50cm9pZCIsImN1cnNvckNhcnRlc2lhbiIsImZpcnN0IiwibmV3UG9pbnQiLCJuZXdQb2ludHMiLCJwb2ludEVudGl0eSIsIkNMQU1QX1RPX0dST1VORCIsImhhbmRsZU1lYXN1cmVDaGFuZ2UiLCJkaXYiLCJwYWRkaW5nIiwic3JjIiwib25Mb2FkIiwib25Db21wdXRlUGF0aCIsIm9uTWFuYWdlUHJvZmlsZXMiLCJwcm9tcHQiLCJvbk1lYXN1cmVEaXN0YW5jZSIsIm9uTWVhc3VyZUFyZWEiLCJjdXJyZW50QmFzZUxheWVyIiwib25DaGFuZ2VCYXNlTGF5ZXIiLCJjdXJyZW50U2NlbmVNb2RlIiwib25DaGFuZ2VTY2VuZU1vZGUiLCJvbkNhbmNlbCIsImlzT3BlbiIsIm9uQ2xvc2UiLCJvblN0YXJ0U2VsZWN0aW9uIiwiY29uZmlnIiwidmVoaWNsZVByb2ZpbGVzIiwiYm90dG9tIiwib3ZlcmZsb3ciLCJiYWNrZ3JvdW5kIiwiaW5zZXQiLCJiYWNrZ3JvdW5kQ29sb3IiLCJib3JkZXIiLCJib3JkZXJSYWRpdXMiLCJib3hTaGFkb3ciLCJiYWNrZHJvcEZpbHRlciIsInpJbmRleCIsImZvbnRGYW1pbHkiLCJhbGlnbkl0ZW1zIiwianVzdGlmeUNvbnRlbnQiLCJnYXAiLCJmb250V2VpZ2h0IiwiZm9udFNpemUiLCJidXR0b24iLCJ0cmFuc2l0aW9uIiwib25DbGljayIsIm9uTW91c2VFbnRlciIsInRhcmdldCIsIm9uTW91c2VMZWF2ZSIsInRpdGxlIiwic3ZnIiwidmlld0JveCIsInZlcnRpY2FsQWxpZ24iLCJjaXJjbGUiLCJjeCIsImN5IiwiciIsImZpbGwiLCJzdHJva2UiLCJzdHJva2VXaWR0aCIsInJlY3QiLCJib3JkZXJCb3R0b20iLCJtYXJnaW5Cb3R0b20iLCJzZWxlY3QiLCJvbkNoYW5nZSIsIm9wdGlvbiIsIm1heEhlaWdodCIsIm92ZXJmbG93WSIsIm92ZXJmbG93WCIsInNjcm9sbGJhcldpZHRoIiwic2Nyb2xsYmFyQ29sb3IiLCJtYXhXaWR0aCIsImZsZXhEaXJlY3Rpb24iLCJzdG9wUHJvcGFnYXRpb24iLCJwYWRkaW5nQm90dG9tIiwiaDIiLCJtYXJnaW4iLCJ0ZXh0VHJhbnNmb3JtIiwiZmxleCIsInBhZGRpbmdSaWdodCIsImdyaWRUZW1wbGF0ZUNvbHVtbnMiLCJlbnRyaWVzIiwid29yZEJyZWFrIiwid2hpdGVTcGFjZSIsInJvYWRJZCIsImRhbmdlcm91c2x5U2V0SW5uZXJIVE1MIiwiX19odG1sIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./components/CombinedMap.js\n");

/***/ }),

/***/ "./components/RoadProfileViewer.js":
/*!*****************************************!*\
  !*** ./components/RoadProfileViewer.js ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ RoadProfileViewer)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n\n\nconst REFERENCE_ELEVATION = 711; // meters\nfunction RoadProfileViewer({ roadId, onClose }) {\n    const [conditions, setConditions] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [totalRoadLength, setTotalRoadLength] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0);\n    const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const [editingId, setEditingId] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [editValue, setEditValue] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [saving, setSaving] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [splittingId, setSplittingId] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [splitPoint, setSplitPoint] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [addingNew, setAddingNew] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [newSegment, setNewSegment] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        lane_id: \"\",\n        start_measure: \"\",\n        end_measure: \"\",\n        condition_value: \"\"\n    });\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (roadId) {\n            fetchConditions();\n        }\n    }, [\n        roadId\n    ]);\n    const fetchConditions = async ()=>{\n        try {\n            setLoading(true);\n            const response = await fetch(`/api/lane-conditions?roadId=${roadId}`);\n            if (!response.ok) throw new Error(\"Failed to fetch conditions\");\n            const data = await response.json();\n            // Handle both old format (array) and new format (object with conditions and total_road_length)\n            if (Array.isArray(data)) {\n                setConditions(data);\n                setTotalRoadLength(0); // Will calculate from conditions\n            } else {\n                setConditions(data.conditions || []);\n                setTotalRoadLength(Number(data.total_road_length || 0));\n            }\n        } catch (error) {\n            console.error(\"Error fetching conditions:\", error);\n        } finally{\n            setLoading(false);\n        }\n    };\n    // Helper function to calculate elevation at a given cumulative road distance\n    // This properly maps lane segment conditions to cumulative road distance\n    const calculateElevationAtDistance = (cumulativeDistance, allConditions)=>{\n        let elevation = REFERENCE_ELEVATION;\n        let currentDistance = 0;\n        // Use adjusted conditions (already normalized, gap-free)\n        const laneGroups = {};\n        allConditions.forEach((cond)=>{\n            if (!laneGroups[cond.lane_id]) laneGroups[cond.lane_id] = [];\n            laneGroups[cond.lane_id].push(cond);\n        });\n        const laneEntries = Object.entries(laneGroups).map(([laneId, conds])=>{\n            const match = (laneId || \"\").match(/road_\\d+_(\\d+)_/);\n            const segNum = match ? parseInt(match[1], 10) : 999;\n            const laneLength = Math.max(...conds.map((c)=>Number(c.adj_end) || 0), 0);\n            return {\n                laneId,\n                conds,\n                segNum,\n                laneLength\n            };\n        }).sort((a, b)=>a.segNum - b.segNum);\n        for (const { conds, laneLength } of laneEntries){\n            const sortedConds = conds.sort((a, b)=>a.adj_start - b.adj_start);\n            const laneStartDistance = currentDistance;\n            for (const cond of sortedConds){\n                const condStartDist = laneStartDistance + (Number(cond.adj_start) || 0);\n                const condEndDist = laneStartDistance + (Number(cond.adj_end) || 0);\n                const slope = Number(cond.condition_value) || 0;\n                if (cumulativeDistance >= condStartDist && cumulativeDistance <= condEndDist) {\n                    const distInCondition = cumulativeDistance - condStartDist;\n                    elevation = elevation + distInCondition * slope / 100;\n                    return elevation;\n                } else if (cumulativeDistance > condEndDist) {\n                    const condLength = condEndDist - condStartDist;\n                    elevation = elevation + condLength * slope / 100;\n                }\n            }\n            currentDistance += laneLength;\n            if (currentDistance >= cumulativeDistance) break;\n        }\n        return elevation;\n    };\n    const normalizeConditions = (conds)=>{\n        if (!conds.length) return [];\n        const laneGroups = {};\n        conds.forEach((c)=>{\n            const start = Number(c.start_measure) || 0;\n            const end = Number(c.end_measure) || 0;\n            const slope = Number(c.condition_value) || 0;\n            const len = Number(c.lane_length) || 0;\n            const normalized = {\n                ...c,\n                start_measure: start,\n                end_measure: end,\n                condition_value: slope,\n                lane_length: len\n            };\n            if (!laneGroups[c.lane_id]) laneGroups[c.lane_id] = [];\n            laneGroups[c.lane_id].push(normalized);\n        });\n        // lane order\n        const laneEntries = Object.entries(laneGroups).map(([laneId, list])=>{\n            const match = (laneId || \"\").match(/road_\\d+_(\\d+)_/);\n            const segNum = match ? parseInt(match[1], 10) : 999;\n            return {\n                laneId,\n                list,\n                segNum\n            };\n        }).sort((a, b)=>a.segNum - b.segNum);\n        const laneStarts = new Map();\n        let cumulativeLane = 0;\n        const adjusted = [];\n        laneEntries.forEach(({ laneId, list })=>{\n            laneStarts.set(laneId, cumulativeLane);\n            const sorted = list.sort((a, b)=>a.start_measure - b.start_measure);\n            let cur = 0;\n            sorted.forEach((cond)=>{\n                const length = Math.max(0, cond.end_measure - cond.start_measure);\n                const adjStart = cur;\n                const adjEnd = adjStart + length;\n                adjusted.push({\n                    ...cond,\n                    adj_start: adjStart,\n                    adj_end: adjEnd,\n                    road_start: cumulativeLane + adjStart,\n                    road_end: cumulativeLane + adjEnd\n                });\n                cur = adjEnd;\n            });\n            const laneLen = Number(list[0]?.lane_length) || cur;\n            cumulativeLane += laneLen;\n        });\n        return {\n            adjusted,\n            totalLength: cumulativeLane\n        };\n    };\n    const normalized = normalizeConditions(conditions);\n    const adjustedConds = normalized?.adjusted || [];\n    const effectiveTotalLength = totalRoadLength > 0 ? totalRoadLength : normalized?.totalLength || 0;\n    const generateProfileData = ()=>{\n        if (!adjustedConds.length && effectiveTotalLength === 0) return [];\n        const distancePoints = new Set([\n            0,\n            effectiveTotalLength\n        ]);\n        adjustedConds.forEach((c)=>{\n            distancePoints.add(c.road_start);\n            distancePoints.add(c.road_end);\n        });\n        const sortedDistances = Array.from(distancePoints).sort((a, b)=>a - b);\n        const result = [];\n        sortedDistances.forEach((distance)=>{\n            const match = adjustedConds.find((c)=>distance >= c.road_start && distance <= c.road_end);\n            const elevation = calculateElevationAtDistance(distance, adjustedConds);\n            result.push({\n                distance,\n                elevation,\n                lane_id: match?.lane_id || null,\n                condition_id: match?.condition_id || null\n            });\n        });\n        return result;\n    };\n    const handleEdit = (condition)=>{\n        setEditingId(condition.condition_id);\n        setEditValue(condition.condition_value);\n    };\n    const handleSave = async (conditionId)=>{\n        try {\n            setSaving(true);\n            // Validate the input\n            const value = parseFloat(editValue);\n            if (isNaN(value)) {\n                alert(\"Please enter a valid number for the slope\");\n                return;\n            }\n            const response = await fetch(\"/api/lane-conditions\", {\n                method: \"PUT\",\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                },\n                body: JSON.stringify({\n                    condition_id: conditionId,\n                    condition_value: editValue\n                })\n            });\n            if (!response.ok) {\n                const errorData = await response.json().catch(()=>({}));\n                throw new Error(errorData.error || \"Failed to update\");\n            }\n            const result = await response.json();\n            console.log(\"Successfully updated condition:\", result);\n            // Refresh conditions to get updated data\n            await fetchConditions();\n            setEditingId(null);\n            setEditValue(\"\");\n        } catch (error) {\n            console.error(\"Error saving condition:\", error);\n            alert(`Failed to save slope value: ${error.message}`);\n        } finally{\n            setSaving(false);\n        }\n    };\n    const handleCancel = ()=>{\n        setEditingId(null);\n        setEditValue(\"\");\n        setSplittingId(null);\n        setSplitPoint(\"\");\n        setAddingNew(false);\n        setNewSegment({\n            lane_id: \"\",\n            start_measure: \"\",\n            end_measure: \"\",\n            condition_value: \"\"\n        });\n    };\n    const handleSplit = async (condition)=>{\n        const splitValue = parseFloat(splitPoint);\n        if (isNaN(splitValue) || splitValue <= condition.start_measure || splitValue >= condition.end_measure) {\n            alert(\"Please enter a valid split point between start and end measures\");\n            return;\n        }\n        try {\n            setSaving(true);\n            // Create first segment: start to split point\n            const response1 = await fetch(\"/api/lane-conditions\", {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                },\n                body: JSON.stringify({\n                    lane_id: condition.lane_id,\n                    start_measure: condition.start_measure,\n                    end_measure: splitValue,\n                    condition_value: condition.condition_value\n                })\n            });\n            // Create second segment: split point to end\n            const response2 = await fetch(\"/api/lane-conditions\", {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                },\n                body: JSON.stringify({\n                    lane_id: condition.lane_id,\n                    start_measure: splitValue,\n                    end_measure: condition.end_measure,\n                    condition_value: condition.condition_value\n                })\n            });\n            if (!response1.ok || !response2.ok) {\n                throw new Error(\"Failed to create split segments\");\n            }\n            // Delete original segment\n            await fetch(\"/api/lane-conditions\", {\n                method: \"DELETE\",\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                },\n                body: JSON.stringify({\n                    condition_id: condition.condition_id\n                })\n            });\n            await fetchConditions();\n            setSplittingId(null);\n            setSplitPoint(\"\");\n        } catch (error) {\n            console.error(\"Error splitting condition:\", error);\n            alert(`Failed to split segment: ${error.message}`);\n        } finally{\n            setSaving(false);\n        }\n    };\n    const handleDelete = async (conditionId)=>{\n        if (!confirm(\"Are you sure you want to delete this slope segment?\")) {\n            return;\n        }\n        try {\n            setSaving(true);\n            const response = await fetch(\"/api/lane-conditions\", {\n                method: \"DELETE\",\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                },\n                body: JSON.stringify({\n                    condition_id: conditionId\n                })\n            });\n            if (!response.ok) throw new Error(\"Failed to delete\");\n            await fetchConditions();\n        } catch (error) {\n            console.error(\"Error deleting condition:\", error);\n            alert(`Failed to delete segment: ${error.message}`);\n        } finally{\n            setSaving(false);\n        }\n    };\n    const handleAdd = async ()=>{\n        const { lane_id, start_measure, end_measure, condition_value } = newSegment;\n        if (!lane_id || !start_measure || !end_measure || !condition_value) {\n            alert(\"Please fill in all fields\");\n            return;\n        }\n        const start = parseFloat(start_measure);\n        const end = parseFloat(end_measure);\n        const value = parseFloat(condition_value);\n        if (isNaN(start) || isNaN(end) || isNaN(value)) {\n            alert(\"Please enter valid numbers\");\n            return;\n        }\n        if (start >= end) {\n            alert(\"Start measure must be less than end measure\");\n            return;\n        }\n        try {\n            setSaving(true);\n            const response = await fetch(\"/api/lane-conditions\", {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                },\n                body: JSON.stringify({\n                    lane_id,\n                    start_measure: start,\n                    end_measure: end,\n                    condition_value: value\n                })\n            });\n            if (!response.ok) throw new Error(\"Failed to create\");\n            await fetchConditions();\n            setAddingNew(false);\n            setNewSegment({\n                lane_id: \"\",\n                start_measure: \"\",\n                end_measure: \"\",\n                condition_value: \"\"\n            });\n        } catch (error) {\n            console.error(\"Error adding condition:\", error);\n            alert(`Failed to add segment: ${error.message}`);\n        } finally{\n            setSaving(false);\n        }\n    };\n    const profileData = generateProfileData();\n    // Distance domain: from lowest road start to highest road end\n    const minDistance = profileData.length ? Math.min(...profileData.map((p)=>p.distance)) : 0;\n    const maxDistance = profileData.length ? Math.max(...profileData.map((p)=>p.distance)) : 0;\n    // Elevation range based on actual profile, with a fallback band\n    const minElevation = profileData.length ? Math.min(...profileData.map((p)=>p.elevation)) : REFERENCE_ELEVATION - 50;\n    const maxElevation = profileData.length ? Math.max(...profileData.map((p)=>p.elevation)) : REFERENCE_ELEVATION + 50;\n    // Simple SVG chart\n    const chartWidth = 800;\n    const chartHeight = 400;\n    const padding = 60;\n    const plotWidth = chartWidth - 2 * padding;\n    const plotHeight = chartHeight - 2 * padding;\n    const elevationRange = maxElevation - minElevation || 1; // avoid divide by zero\n    const distanceRange = maxDistance - minDistance || 1;\n    const scaleX = (distance)=>padding + (distance - minDistance) / distanceRange * plotWidth;\n    const scaleY = (elevation)=>padding + plotHeight - (elevation - minElevation) / elevationRange * plotHeight;\n    // Generate path data for the profile line\n    const pathData = profileData.length > 0 ? `M ${profileData.map((p)=>`${scaleX(p.distance)},${scaleY(p.elevation)}`).join(\" L \")}` : null;\n    if (loading) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            style: {\n                position: \"fixed\",\n                top: 0,\n                left: 0,\n                right: 0,\n                bottom: 0,\n                backgroundColor: \"rgba(0, 0, 0, 0.8)\",\n                display: \"flex\",\n                justifyContent: \"center\",\n                alignItems: \"center\",\n                zIndex: 10000,\n                color: \"white\"\n            },\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                children: \"Loading road profile...\"\n            }, void 0, false, {\n                fileName: \"/app/components/RoadProfileViewer.js\",\n                lineNumber: 409,\n                columnNumber: 9\n            }, this)\n        }, void 0, false, {\n            fileName: \"/app/components/RoadProfileViewer.js\",\n            lineNumber: 396,\n            columnNumber: 7\n        }, this);\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        style: {\n            position: \"fixed\",\n            top: 0,\n            left: 0,\n            right: 0,\n            bottom: 0,\n            backgroundColor: \"rgba(0, 0, 0, 0.9)\",\n            zIndex: 10000,\n            display: \"flex\",\n            flexDirection: \"column\",\n            padding: \"20px\",\n            overflow: \"auto\",\n            color: \"white\"\n        },\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                style: {\n                    display: \"flex\",\n                    justifyContent: \"space-between\",\n                    alignItems: \"center\",\n                    marginBottom: \"20px\"\n                },\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                        style: {\n                            margin: 0,\n                            color: \"#4ECDC4\"\n                        },\n                        children: [\n                            \"Road Profile - Road ID: \",\n                            roadId\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/app/components/RoadProfileViewer.js\",\n                        lineNumber: 430,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        onClick: onClose,\n                        style: {\n                            background: \"#E74C3C\",\n                            color: \"white\",\n                            border: \"none\",\n                            padding: \"10px 20px\",\n                            borderRadius: \"6px\",\n                            cursor: \"pointer\",\n                            fontWeight: \"bold\",\n                            fontSize: \"14px\"\n                        },\n                        children: \"✕ Close\"\n                    }, void 0, false, {\n                        fileName: \"/app/components/RoadProfileViewer.js\",\n                        lineNumber: 431,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/app/components/RoadProfileViewer.js\",\n                lineNumber: 429,\n                columnNumber: 7\n            }, this),\n            conditions.length === 0 ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                style: {\n                    textAlign: \"center\",\n                    padding: \"40px\",\n                    color: \"#95a5a6\"\n                },\n                children: [\n                    \"No slope conditions found for this road.\",\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        style: {\n                            marginTop: \"16px\",\n                            display: \"inline-block\",\n                            textAlign: \"left\",\n                            background: \"rgba(30,30,30,0.8)\",\n                            padding: \"16px\",\n                            borderRadius: \"8px\",\n                            border: \"1px solid rgba(255,255,255,0.1)\"\n                        },\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                style: {\n                                    marginBottom: \"8px\",\n                                    color: \"#fff\"\n                                },\n                                children: \"Add first segment\"\n                            }, void 0, false, {\n                                fileName: \"/app/components/RoadProfileViewer.js\",\n                                lineNumber: 452,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                style: {\n                                    display: \"flex\",\n                                    gap: \"8px\",\n                                    flexWrap: \"wrap\"\n                                },\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                        type: \"text\",\n                                        placeholder: \"lane_id\",\n                                        value: newSegment.lane_id || `${roadId}`,\n                                        onChange: (e)=>setNewSegment({\n                                                ...newSegment,\n                                                lane_id: e.target.value\n                                            }),\n                                        style: {\n                                            padding: \"6px\",\n                                            borderRadius: \"4px\",\n                                            border: \"1px solid #555\",\n                                            background: \"#222\",\n                                            color: \"#fff\"\n                                        }\n                                    }, void 0, false, {\n                                        fileName: \"/app/components/RoadProfileViewer.js\",\n                                        lineNumber: 454,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                        type: \"number\",\n                                        placeholder: \"Start (m)\",\n                                        value: newSegment.start_measure,\n                                        onChange: (e)=>setNewSegment({\n                                                ...newSegment,\n                                                start_measure: e.target.value\n                                            }),\n                                        style: {\n                                            padding: \"6px\",\n                                            borderRadius: \"4px\",\n                                            border: \"1px solid #555\",\n                                            background: \"#222\",\n                                            color: \"#fff\",\n                                            width: \"110px\"\n                                        }\n                                    }, void 0, false, {\n                                        fileName: \"/app/components/RoadProfileViewer.js\",\n                                        lineNumber: 461,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                        type: \"number\",\n                                        placeholder: \"End (m)\",\n                                        value: newSegment.end_measure,\n                                        onChange: (e)=>setNewSegment({\n                                                ...newSegment,\n                                                end_measure: e.target.value\n                                            }),\n                                        style: {\n                                            padding: \"6px\",\n                                            borderRadius: \"4px\",\n                                            border: \"1px solid #555\",\n                                            background: \"#222\",\n                                            color: \"#fff\",\n                                            width: \"110px\"\n                                        }\n                                    }, void 0, false, {\n                                        fileName: \"/app/components/RoadProfileViewer.js\",\n                                        lineNumber: 468,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                        type: \"number\",\n                                        placeholder: \"Slope %\",\n                                        value: newSegment.condition_value,\n                                        onChange: (e)=>setNewSegment({\n                                                ...newSegment,\n                                                condition_value: e.target.value\n                                            }),\n                                        style: {\n                                            padding: \"6px\",\n                                            borderRadius: \"4px\",\n                                            border: \"1px solid #555\",\n                                            background: \"#222\",\n                                            color: \"#fff\",\n                                            width: \"110px\"\n                                        }\n                                    }, void 0, false, {\n                                        fileName: \"/app/components/RoadProfileViewer.js\",\n                                        lineNumber: 475,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        onClick: ()=>{\n                                            const laneDefault = newSegment.lane_id || `${roadId}`;\n                                            setNewSegment({\n                                                ...newSegment,\n                                                lane_id: laneDefault\n                                            });\n                                            handleAdd();\n                                        },\n                                        disabled: saving,\n                                        style: {\n                                            padding: \"8px 12px\",\n                                            background: \"#2ECC71\",\n                                            border: \"none\",\n                                            borderRadius: \"4px\",\n                                            color: \"white\",\n                                            cursor: \"pointer\",\n                                            fontWeight: \"bold\"\n                                        },\n                                        children: saving ? \"Saving...\" : \"Add\"\n                                    }, void 0, false, {\n                                        fileName: \"/app/components/RoadProfileViewer.js\",\n                                        lineNumber: 482,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/app/components/RoadProfileViewer.js\",\n                                lineNumber: 453,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/app/components/RoadProfileViewer.js\",\n                        lineNumber: 451,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/app/components/RoadProfileViewer.js\",\n                lineNumber: 449,\n                columnNumber: 9\n            }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        style: {\n                            marginBottom: \"30px\",\n                            backgroundColor: \"rgba(30, 30, 30, 0.8)\",\n                            padding: \"20px\",\n                            borderRadius: \"8px\"\n                        },\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                style: {\n                                    marginTop: 0,\n                                    marginBottom: \"16px\",\n                                    color: \"#4ECDC4\"\n                                },\n                                children: \"Elevation Profile\"\n                            }, void 0, false, {\n                                fileName: \"/app/components/RoadProfileViewer.js\",\n                                lineNumber: 500,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                width: chartWidth,\n                                height: chartHeight,\n                                style: {\n                                    border: \"1px solid rgba(255, 255, 255, 0.2)\",\n                                    borderRadius: \"4px\"\n                                },\n                                children: [\n                                    [\n                                        0,\n                                        0.25,\n                                        0.5,\n                                        0.75,\n                                        1\n                                    ].map((t)=>{\n                                        const elevation = minElevation + t * (maxElevation - minElevation);\n                                        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"line\", {\n                                            x1: padding,\n                                            y1: scaleY(elevation),\n                                            x2: chartWidth - padding,\n                                            y2: scaleY(elevation),\n                                            stroke: \"rgba(255, 255, 255, 0.1)\",\n                                            strokeWidth: \"1\"\n                                        }, `grid-h-${t}`, false, {\n                                            fileName: \"/app/components/RoadProfileViewer.js\",\n                                            lineNumber: 506,\n                                            columnNumber: 19\n                                        }, this);\n                                    }),\n                                    [\n                                        0,\n                                        0.25,\n                                        0.5,\n                                        0.75,\n                                        1\n                                    ].map((t)=>{\n                                        const distance = minDistance + t * distanceRange;\n                                        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"line\", {\n                                            x1: scaleX(distance),\n                                            y1: padding,\n                                            x2: scaleX(distance),\n                                            y2: chartHeight - padding,\n                                            stroke: \"rgba(255, 255, 255, 0.1)\",\n                                            strokeWidth: \"1\"\n                                        }, `grid-v-${t}`, false, {\n                                            fileName: \"/app/components/RoadProfileViewer.js\",\n                                            lineNumber: 520,\n                                            columnNumber: 19\n                                        }, this);\n                                    }),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"line\", {\n                                        x1: padding,\n                                        y1: padding,\n                                        x2: padding,\n                                        y2: chartHeight - padding,\n                                        stroke: \"white\",\n                                        strokeWidth: \"2\"\n                                    }, void 0, false, {\n                                        fileName: \"/app/components/RoadProfileViewer.js\",\n                                        lineNumber: 533,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"line\", {\n                                        x1: padding,\n                                        y1: chartHeight - padding,\n                                        x2: chartWidth - padding,\n                                        y2: chartHeight - padding,\n                                        stroke: \"white\",\n                                        strokeWidth: \"2\"\n                                    }, void 0, false, {\n                                        fileName: \"/app/components/RoadProfileViewer.js\",\n                                        lineNumber: 541,\n                                        columnNumber: 15\n                                    }, this),\n                                    [\n                                        0,\n                                        0.25,\n                                        0.5,\n                                        0.75,\n                                        1\n                                    ].map((t)=>{\n                                        const elevation = minElevation + t * (maxElevation - minElevation);\n                                        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"text\", {\n                                            x: padding - 10,\n                                            y: scaleY(elevation),\n                                            fill: \"white\",\n                                            textAnchor: \"end\",\n                                            fontSize: \"10\",\n                                            style: {\n                                                dominantBaseline: \"middle\"\n                                            },\n                                            children: elevation.toFixed(0)\n                                        }, `elev-${t}`, false, {\n                                            fileName: \"/app/components/RoadProfileViewer.js\",\n                                            lineNumber: 554,\n                                            columnNumber: 19\n                                        }, this);\n                                    }),\n                                    [\n                                        0,\n                                        0.25,\n                                        0.5,\n                                        0.75,\n                                        1\n                                    ].map((t)=>{\n                                        const distance = minDistance + t * distanceRange;\n                                        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"text\", {\n                                            x: padding + t * plotWidth,\n                                            y: chartHeight - 20,\n                                            fill: \"white\",\n                                            textAnchor: \"middle\",\n                                            fontSize: \"10\",\n                                            children: distance.toFixed(0)\n                                        }, `dist-${t}`, false, {\n                                            fileName: \"/app/components/RoadProfileViewer.js\",\n                                            lineNumber: 572,\n                                            columnNumber: 19\n                                        }, this);\n                                    }),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"text\", {\n                                        x: 15,\n                                        y: padding + plotHeight / 2,\n                                        fill: \"white\",\n                                        textAnchor: \"middle\",\n                                        fontSize: \"12\",\n                                        transform: `rotate(-90, 15, ${padding + plotHeight / 2})`,\n                                        style: {\n                                            dominantBaseline: \"middle\"\n                                        },\n                                        children: \"Elevation (m)\"\n                                    }, void 0, false, {\n                                        fileName: \"/app/components/RoadProfileViewer.js\",\n                                        lineNumber: 586,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"text\", {\n                                        x: padding + plotWidth / 2,\n                                        y: chartHeight - 10,\n                                        fill: \"white\",\n                                        textAnchor: \"middle\",\n                                        fontSize: \"12\",\n                                        children: \"Distance (m)\"\n                                    }, void 0, false, {\n                                        fileName: \"/app/components/RoadProfileViewer.js\",\n                                        lineNumber: 597,\n                                        columnNumber: 15\n                                    }, this),\n                                    pathData && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                        d: pathData,\n                                        fill: \"none\",\n                                        stroke: \"#4ECDC4\",\n                                        strokeWidth: \"3\"\n                                    }, void 0, false, {\n                                        fileName: \"/app/components/RoadProfileViewer.js\",\n                                        lineNumber: 603,\n                                        columnNumber: 17\n                                    }, this),\n                                    profileData.map((point, idx)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"circle\", {\n                                            cx: scaleX(point.distance),\n                                            cy: scaleY(point.elevation),\n                                            r: \"4\",\n                                            fill: \"#FFD700\",\n                                            stroke: \"#FFA500\",\n                                            strokeWidth: \"2\"\n                                        }, `point-${idx}`, false, {\n                                            fileName: \"/app/components/RoadProfileViewer.js\",\n                                            lineNumber: 613,\n                                            columnNumber: 17\n                                        }, this))\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/app/components/RoadProfileViewer.js\",\n                                lineNumber: 501,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/app/components/RoadProfileViewer.js\",\n                        lineNumber: 499,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                style: {\n                                    display: \"flex\",\n                                    justifyContent: \"space-between\",\n                                    alignItems: \"center\",\n                                    marginBottom: \"16px\"\n                                },\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                        style: {\n                                            margin: 0,\n                                            color: \"#4ECDC4\"\n                                        },\n                                        children: \"Slope Segments\"\n                                    }, void 0, false, {\n                                        fileName: \"/app/components/RoadProfileViewer.js\",\n                                        lineNumber: 629,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        onClick: ()=>{\n                                            const firstLane = conditions.length > 0 ? conditions[0].lane_id : `${roadId}`;\n                                            setNewSegment({\n                                                lane_id: firstLane,\n                                                start_measure: \"\",\n                                                end_measure: \"\",\n                                                condition_value: \"\"\n                                            });\n                                            setAddingNew(true);\n                                        },\n                                        style: {\n                                            padding: \"6px 12px\",\n                                            background: \"#2ECC71\",\n                                            color: \"white\",\n                                            border: \"none\",\n                                            borderRadius: \"4px\",\n                                            cursor: \"pointer\",\n                                            fontSize: \"12px\",\n                                            fontWeight: \"bold\"\n                                        },\n                                        children: \"+ Add Segment\"\n                                    }, void 0, false, {\n                                        fileName: \"/app/components/RoadProfileViewer.js\",\n                                        lineNumber: 630,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/app/components/RoadProfileViewer.js\",\n                                lineNumber: 628,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                style: {\n                                    overflowX: \"auto\"\n                                },\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"table\", {\n                                    style: {\n                                        width: \"100%\",\n                                        borderCollapse: \"collapse\"\n                                    },\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"thead\", {\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"tr\", {\n                                                style: {\n                                                    backgroundColor: \"rgba(52, 152, 219, 0.2)\"\n                                                },\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"th\", {\n                                                        style: {\n                                                            padding: \"8px\",\n                                                            textAlign: \"left\",\n                                                            border: \"1px solid rgba(255, 255, 255, 0.2)\"\n                                                        },\n                                                        children: \"Road Start (m)\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/app/components/RoadProfileViewer.js\",\n                                                        lineNumber: 659,\n                                                        columnNumber: 21\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"th\", {\n                                                        style: {\n                                                            padding: \"8px\",\n                                                            textAlign: \"left\",\n                                                            border: \"1px solid rgba(255, 255, 255, 0.2)\"\n                                                        },\n                                                        children: \"Road End (m)\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/app/components/RoadProfileViewer.js\",\n                                                        lineNumber: 660,\n                                                        columnNumber: 21\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"th\", {\n                                                        style: {\n                                                            padding: \"8px\",\n                                                            textAlign: \"left\",\n                                                            border: \"1px solid rgba(255, 255, 255, 0.2)\"\n                                                        },\n                                                        children: \"Slope (%)\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/app/components/RoadProfileViewer.js\",\n                                                        lineNumber: 661,\n                                                        columnNumber: 21\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"th\", {\n                                                        style: {\n                                                            padding: \"8px\",\n                                                            textAlign: \"left\",\n                                                            border: \"1px solid rgba(255, 255, 255, 0.2)\"\n                                                        },\n                                                        children: \"Elevation at Start (m)\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/app/components/RoadProfileViewer.js\",\n                                                        lineNumber: 662,\n                                                        columnNumber: 21\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"th\", {\n                                                        style: {\n                                                            padding: \"8px\",\n                                                            textAlign: \"left\",\n                                                            border: \"1px solid rgba(255, 255, 255, 0.2)\"\n                                                        },\n                                                        children: \"Elevation at End (m)\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/app/components/RoadProfileViewer.js\",\n                                                        lineNumber: 663,\n                                                        columnNumber: 21\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"th\", {\n                                                        style: {\n                                                            padding: \"8px\",\n                                                            textAlign: \"left\",\n                                                            border: \"1px solid rgba(255, 255, 255, 0.2)\"\n                                                        },\n                                                        children: \"Actions\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/app/components/RoadProfileViewer.js\",\n                                                        lineNumber: 664,\n                                                        columnNumber: 21\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/app/components/RoadProfileViewer.js\",\n                                                lineNumber: 658,\n                                                columnNumber: 19\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"/app/components/RoadProfileViewer.js\",\n                                            lineNumber: 657,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"tbody\", {\n                                            children: [\n                                                (()=>{\n                                                    // Sort by lane segment number first, then by start_measure within each lane\n                                                    const sortedConditions = [\n                                                        ...conditions\n                                                    ].sort((a, b)=>{\n                                                        const matchA = (a.lane_id || \"\").match(/road_\\d+_(\\d+)_/);\n                                                        const matchB = (b.lane_id || \"\").match(/road_\\d+_(\\d+)_/);\n                                                        const segNumA = matchA ? parseInt(matchA[1], 10) : 999;\n                                                        const segNumB = matchB ? parseInt(matchB[1], 10) : 999;\n                                                        if (segNumA !== segNumB) return segNumA - segNumB;\n                                                        if (a.start_measure !== b.start_measure) return a.start_measure - b.start_measure;\n                                                        return a.end_measure - b.end_measure;\n                                                    });\n                                                    const laneCumulativeDistances = new Map();\n                                                    let cumulativeDist = 0;\n                                                    const laneGroups = {};\n                                                    sortedConditions.forEach((cond)=>{\n                                                        if (!laneGroups[cond.lane_id]) laneGroups[cond.lane_id] = [];\n                                                        laneGroups[cond.lane_id].push(cond);\n                                                    });\n                                                    Object.keys(laneGroups).sort((a, b)=>{\n                                                        const matchA = (a || \"\").match(/road_\\d+_(\\d+)_/);\n                                                        const matchB = (b || \"\").match(/road_\\d+_(\\d+)_/);\n                                                        const segNumA = matchA ? parseInt(matchA[1], 10) : 999;\n                                                        const segNumB = matchB ? parseInt(matchB[1], 10) : 999;\n                                                        return segNumA - segNumB;\n                                                    }).forEach((laneId)=>{\n                                                        if (!laneCumulativeDistances.has(laneId)) {\n                                                            laneCumulativeDistances.set(laneId, cumulativeDist);\n                                                            const laneLength = Number(laneGroups[laneId][0]?.lane_length) || Math.max(...laneGroups[laneId].map((c)=>c.end_measure), 0);\n                                                            cumulativeDist += laneLength;\n                                                        }\n                                                    });\n                                                    return sortedConditions.map((cond)=>{\n                                                        // Get cumulative road distance for this lane segment\n                                                        const laneStartDist = Number(laneCumulativeDistances.get(cond.lane_id)) || 0;\n                                                        const roadStartDist = laneStartDist + (Number(cond.start_measure) || 0);\n                                                        const roadEndDist = laneStartDist + (Number(cond.end_measure) || 0);\n                                                        // Calculate elevation at these cumulative road distances\n                                                        const startElevation = calculateElevationAtDistance(roadStartDist, adjustedConds);\n                                                        const endElevation = calculateElevationAtDistance(roadEndDist, adjustedConds);\n                                                        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"tr\", {\n                                                            style: {\n                                                                borderBottom: \"1px solid rgba(255, 255, 255, 0.1)\"\n                                                            },\n                                                            children: [\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                                                    style: {\n                                                                        padding: \"8px\",\n                                                                        border: \"1px solid rgba(255, 255, 255, 0.1)\"\n                                                                    },\n                                                                    children: Number(roadStartDist).toFixed(2)\n                                                                }, void 0, false, {\n                                                                    fileName: \"/app/components/RoadProfileViewer.js\",\n                                                                    lineNumber: 715,\n                                                                    columnNumber: 25\n                                                                }, this),\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                                                    style: {\n                                                                        padding: \"8px\",\n                                                                        border: \"1px solid rgba(255, 255, 255, 0.1)\"\n                                                                    },\n                                                                    children: Number(roadEndDist).toFixed(2)\n                                                                }, void 0, false, {\n                                                                    fileName: \"/app/components/RoadProfileViewer.js\",\n                                                                    lineNumber: 716,\n                                                                    columnNumber: 25\n                                                                }, this),\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                                                    style: {\n                                                                        padding: \"8px\",\n                                                                        border: \"1px solid rgba(255, 255, 255, 0.1)\"\n                                                                    },\n                                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                        style: {\n                                                                            display: \"flex\",\n                                                                            flexDirection: \"column\",\n                                                                            gap: \"4px\"\n                                                                        },\n                                                                        children: [\n                                                                            editingId === cond.condition_id ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                                                type: \"number\",\n                                                                                value: editValue,\n                                                                                onChange: (e)=>setEditValue(e.target.value),\n                                                                                step: \"0.1\",\n                                                                                style: {\n                                                                                    width: \"80px\",\n                                                                                    padding: \"4px\",\n                                                                                    borderRadius: \"4px\",\n                                                                                    border: \"1px solid #555\",\n                                                                                    backgroundColor: \"#2c2c2c\",\n                                                                                    color: \"white\"\n                                                                                }\n                                                                            }, void 0, false, {\n                                                                                fileName: \"/app/components/RoadProfileViewer.js\",\n                                                                                lineNumber: 720,\n                                                                                columnNumber: 29\n                                                                            }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                                style: {\n                                                                                    color: parseFloat(cond.condition_value) >= 0 ? \"#2ECC71\" : \"#E74C3C\"\n                                                                                },\n                                                                                children: [\n                                                                                    parseFloat(cond.condition_value).toFixed(2),\n                                                                                    \"%\"\n                                                                                ]\n                                                                            }, void 0, true, {\n                                                                                fileName: \"/app/components/RoadProfileViewer.js\",\n                                                                                lineNumber: 735,\n                                                                                columnNumber: 31\n                                                                            }, this),\n                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                                style: {\n                                                                                    color: \"#95a5a6\",\n                                                                                    fontSize: \"11px\"\n                                                                                },\n                                                                                children: cond.lane_id\n                                                                            }, void 0, false, {\n                                                                                fileName: \"/app/components/RoadProfileViewer.js\",\n                                                                                lineNumber: 739,\n                                                                                columnNumber: 29\n                                                                            }, this)\n                                                                        ]\n                                                                    }, void 0, true, {\n                                                                        fileName: \"/app/components/RoadProfileViewer.js\",\n                                                                        lineNumber: 718,\n                                                                        columnNumber: 27\n                                                                    }, this)\n                                                                }, void 0, false, {\n                                                                    fileName: \"/app/components/RoadProfileViewer.js\",\n                                                                    lineNumber: 717,\n                                                                    columnNumber: 25\n                                                                }, this),\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                                                    style: {\n                                                                        padding: \"8px\",\n                                                                        border: \"1px solid rgba(255, 255, 255, 0.1)\"\n                                                                    },\n                                                                    children: startElevation.toFixed(2)\n                                                                }, void 0, false, {\n                                                                    fileName: \"/app/components/RoadProfileViewer.js\",\n                                                                    lineNumber: 742,\n                                                                    columnNumber: 25\n                                                                }, this),\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                                                    style: {\n                                                                        padding: \"8px\",\n                                                                        border: \"1px solid rgba(255, 255, 255, 0.1)\"\n                                                                    },\n                                                                    children: endElevation.toFixed(2)\n                                                                }, void 0, false, {\n                                                                    fileName: \"/app/components/RoadProfileViewer.js\",\n                                                                    lineNumber: 745,\n                                                                    columnNumber: 25\n                                                                }, this),\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                                                    style: {\n                                                                        padding: \"8px\",\n                                                                        border: \"1px solid rgba(255, 255, 255, 0.1)\"\n                                                                    },\n                                                                    children: editingId === cond.condition_id ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                        style: {\n                                                                            display: \"flex\",\n                                                                            gap: \"4px\"\n                                                                        },\n                                                                        children: [\n                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                                                onClick: ()=>handleSave(cond.condition_id),\n                                                                                disabled: saving,\n                                                                                style: {\n                                                                                    padding: \"4px 8px\",\n                                                                                    background: \"#2ECC71\",\n                                                                                    color: \"white\",\n                                                                                    border: \"none\",\n                                                                                    borderRadius: \"4px\",\n                                                                                    cursor: saving ? \"not-allowed\" : \"pointer\",\n                                                                                    fontSize: \"12px\"\n                                                                                },\n                                                                                children: saving ? \"Saving...\" : \"Save\"\n                                                                            }, void 0, false, {\n                                                                                fileName: \"/app/components/RoadProfileViewer.js\",\n                                                                                lineNumber: 751,\n                                                                                columnNumber: 31\n                                                                            }, this),\n                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                                                onClick: handleCancel,\n                                                                                style: {\n                                                                                    padding: \"4px 8px\",\n                                                                                    background: \"#95a5a6\",\n                                                                                    color: \"white\",\n                                                                                    border: \"none\",\n                                                                                    borderRadius: \"4px\",\n                                                                                    cursor: \"pointer\",\n                                                                                    fontSize: \"12px\"\n                                                                                },\n                                                                                children: \"Cancel\"\n                                                                            }, void 0, false, {\n                                                                                fileName: \"/app/components/RoadProfileViewer.js\",\n                                                                                lineNumber: 766,\n                                                                                columnNumber: 31\n                                                                            }, this)\n                                                                        ]\n                                                                    }, void 0, true, {\n                                                                        fileName: \"/app/components/RoadProfileViewer.js\",\n                                                                        lineNumber: 750,\n                                                                        columnNumber: 29\n                                                                    }, this) : splittingId === cond.condition_id ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                        style: {\n                                                                            display: \"flex\",\n                                                                            flexDirection: \"column\",\n                                                                            gap: \"4px\"\n                                                                        },\n                                                                        children: [\n                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                                                type: \"number\",\n                                                                                value: splitPoint,\n                                                                                onChange: (e)=>setSplitPoint(e.target.value),\n                                                                                placeholder: \"Split point\",\n                                                                                step: \"0.1\",\n                                                                                style: {\n                                                                                    width: \"100px\",\n                                                                                    padding: \"4px\",\n                                                                                    borderRadius: \"4px\",\n                                                                                    border: \"1px solid #555\",\n                                                                                    backgroundColor: \"#2c2c2c\",\n                                                                                    color: \"white\",\n                                                                                    fontSize: \"11px\"\n                                                                                }\n                                                                            }, void 0, false, {\n                                                                                fileName: \"/app/components/RoadProfileViewer.js\",\n                                                                                lineNumber: 783,\n                                                                                columnNumber: 31\n                                                                            }, this),\n                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                style: {\n                                                                                    display: \"flex\",\n                                                                                    gap: \"4px\"\n                                                                                },\n                                                                                children: [\n                                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                                                        onClick: ()=>handleSplit(cond),\n                                                                                        disabled: saving,\n                                                                                        style: {\n                                                                                            padding: \"4px 8px\",\n                                                                                            background: \"#E67E22\",\n                                                                                            color: \"white\",\n                                                                                            border: \"none\",\n                                                                                            borderRadius: \"4px\",\n                                                                                            cursor: saving ? \"not-allowed\" : \"pointer\",\n                                                                                            fontSize: \"11px\"\n                                                                                        },\n                                                                                        children: saving ? \"Splitting...\" : \"Split\"\n                                                                                    }, void 0, false, {\n                                                                                        fileName: \"/app/components/RoadProfileViewer.js\",\n                                                                                        lineNumber: 800,\n                                                                                        columnNumber: 33\n                                                                                    }, this),\n                                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                                                        onClick: handleCancel,\n                                                                                        style: {\n                                                                                            padding: \"4px 8px\",\n                                                                                            background: \"#95a5a6\",\n                                                                                            color: \"white\",\n                                                                                            border: \"none\",\n                                                                                            borderRadius: \"4px\",\n                                                                                            cursor: \"pointer\",\n                                                                                            fontSize: \"11px\"\n                                                                                        },\n                                                                                        children: \"Cancel\"\n                                                                                    }, void 0, false, {\n                                                                                        fileName: \"/app/components/RoadProfileViewer.js\",\n                                                                                        lineNumber: 815,\n                                                                                        columnNumber: 33\n                                                                                    }, this)\n                                                                                ]\n                                                                            }, void 0, true, {\n                                                                                fileName: \"/app/components/RoadProfileViewer.js\",\n                                                                                lineNumber: 799,\n                                                                                columnNumber: 31\n                                                                            }, this)\n                                                                        ]\n                                                                    }, void 0, true, {\n                                                                        fileName: \"/app/components/RoadProfileViewer.js\",\n                                                                        lineNumber: 782,\n                                                                        columnNumber: 29\n                                                                    }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                        style: {\n                                                                            display: \"flex\",\n                                                                            gap: \"4px\",\n                                                                            flexWrap: \"wrap\"\n                                                                        },\n                                                                        children: [\n                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                                                onClick: ()=>handleEdit(cond),\n                                                                                style: {\n                                                                                    padding: \"4px 8px\",\n                                                                                    background: \"#3498db\",\n                                                                                    color: \"white\",\n                                                                                    border: \"none\",\n                                                                                    borderRadius: \"4px\",\n                                                                                    cursor: \"pointer\",\n                                                                                    fontSize: \"11px\"\n                                                                                },\n                                                                                children: \"Edit\"\n                                                                            }, void 0, false, {\n                                                                                fileName: \"/app/components/RoadProfileViewer.js\",\n                                                                                lineNumber: 833,\n                                                                                columnNumber: 31\n                                                                            }, this),\n                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                                                onClick: ()=>setSplittingId(cond.condition_id),\n                                                                                style: {\n                                                                                    padding: \"4px 8px\",\n                                                                                    background: \"#E67E22\",\n                                                                                    color: \"white\",\n                                                                                    border: \"none\",\n                                                                                    borderRadius: \"4px\",\n                                                                                    cursor: \"pointer\",\n                                                                                    fontSize: \"11px\"\n                                                                                },\n                                                                                children: \"Split\"\n                                                                            }, void 0, false, {\n                                                                                fileName: \"/app/components/RoadProfileViewer.js\",\n                                                                                lineNumber: 847,\n                                                                                columnNumber: 31\n                                                                            }, this),\n                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                                                onClick: ()=>handleDelete(cond.condition_id),\n                                                                                disabled: saving,\n                                                                                style: {\n                                                                                    padding: \"4px 8px\",\n                                                                                    background: \"#E74C3C\",\n                                                                                    color: \"white\",\n                                                                                    border: \"none\",\n                                                                                    borderRadius: \"4px\",\n                                                                                    cursor: saving ? \"not-allowed\" : \"pointer\",\n                                                                                    fontSize: \"11px\"\n                                                                                },\n                                                                                children: \"Delete\"\n                                                                            }, void 0, false, {\n                                                                                fileName: \"/app/components/RoadProfileViewer.js\",\n                                                                                lineNumber: 861,\n                                                                                columnNumber: 31\n                                                                            }, this)\n                                                                        ]\n                                                                    }, void 0, true, {\n                                                                        fileName: \"/app/components/RoadProfileViewer.js\",\n                                                                        lineNumber: 832,\n                                                                        columnNumber: 29\n                                                                    }, this)\n                                                                }, void 0, false, {\n                                                                    fileName: \"/app/components/RoadProfileViewer.js\",\n                                                                    lineNumber: 748,\n                                                                    columnNumber: 25\n                                                                }, this)\n                                                            ]\n                                                        }, cond.condition_id, true, {\n                                                            fileName: \"/app/components/RoadProfileViewer.js\",\n                                                            lineNumber: 714,\n                                                            columnNumber: 23\n                                                        }, this);\n                                                    });\n                                                })(),\n                                                addingNew && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"tr\", {\n                                                    style: {\n                                                        borderBottom: \"1px solid rgba(255, 255, 255, 0.1)\",\n                                                        backgroundColor: \"rgba(46, 204, 113, 0.1)\"\n                                                    },\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                                            style: {\n                                                                padding: \"8px\",\n                                                                border: \"1px solid rgba(255, 255, 255, 0.1)\"\n                                                            },\n                                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                                type: \"text\",\n                                                                value: newSegment.lane_id,\n                                                                onChange: (e)=>setNewSegment({\n                                                                        ...newSegment,\n                                                                        lane_id: e.target.value\n                                                                    }),\n                                                                placeholder: \"lane_id\",\n                                                                style: {\n                                                                    width: \"150px\",\n                                                                    padding: \"4px\",\n                                                                    borderRadius: \"4px\",\n                                                                    border: \"1px solid #555\",\n                                                                    backgroundColor: \"#2c2c2c\",\n                                                                    color: \"white\",\n                                                                    fontSize: \"11px\"\n                                                                }\n                                                            }, void 0, false, {\n                                                                fileName: \"/app/components/RoadProfileViewer.js\",\n                                                                lineNumber: 887,\n                                                                columnNumber: 25\n                                                            }, this)\n                                                        }, void 0, false, {\n                                                            fileName: \"/app/components/RoadProfileViewer.js\",\n                                                            lineNumber: 886,\n                                                            columnNumber: 23\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                                            style: {\n                                                                padding: \"8px\",\n                                                                border: \"1px solid rgba(255, 255, 255, 0.1)\"\n                                                            },\n                                                            children: \"-\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/app/components/RoadProfileViewer.js\",\n                                                            lineNumber: 903,\n                                                            columnNumber: 23\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                                            style: {\n                                                                padding: \"8px\",\n                                                                border: \"1px solid rgba(255, 255, 255, 0.1)\"\n                                                            },\n                                                            children: \"-\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/app/components/RoadProfileViewer.js\",\n                                                            lineNumber: 904,\n                                                            columnNumber: 23\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                                            style: {\n                                                                padding: \"8px\",\n                                                                border: \"1px solid rgba(255, 255, 255, 0.1)\"\n                                                            },\n                                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                                type: \"number\",\n                                                                value: newSegment.start_measure,\n                                                                onChange: (e)=>setNewSegment({\n                                                                        ...newSegment,\n                                                                        start_measure: e.target.value\n                                                                    }),\n                                                                placeholder: \"Start\",\n                                                                step: \"0.1\",\n                                                                style: {\n                                                                    width: \"80px\",\n                                                                    padding: \"4px\",\n                                                                    borderRadius: \"4px\",\n                                                                    border: \"1px solid #555\",\n                                                                    backgroundColor: \"#2c2c2c\",\n                                                                    color: \"white\",\n                                                                    fontSize: \"11px\"\n                                                                }\n                                                            }, void 0, false, {\n                                                                fileName: \"/app/components/RoadProfileViewer.js\",\n                                                                lineNumber: 906,\n                                                                columnNumber: 25\n                                                            }, this)\n                                                        }, void 0, false, {\n                                                            fileName: \"/app/components/RoadProfileViewer.js\",\n                                                            lineNumber: 905,\n                                                            columnNumber: 23\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                                            style: {\n                                                                padding: \"8px\",\n                                                                border: \"1px solid rgba(255, 255, 255, 0.1)\"\n                                                            },\n                                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                                type: \"number\",\n                                                                value: newSegment.end_measure,\n                                                                onChange: (e)=>setNewSegment({\n                                                                        ...newSegment,\n                                                                        end_measure: e.target.value\n                                                                    }),\n                                                                placeholder: \"End\",\n                                                                step: \"0.1\",\n                                                                style: {\n                                                                    width: \"80px\",\n                                                                    padding: \"4px\",\n                                                                    borderRadius: \"4px\",\n                                                                    border: \"1px solid #555\",\n                                                                    backgroundColor: \"#2c2c2c\",\n                                                                    color: \"white\",\n                                                                    fontSize: \"11px\"\n                                                                }\n                                                            }, void 0, false, {\n                                                                fileName: \"/app/components/RoadProfileViewer.js\",\n                                                                lineNumber: 924,\n                                                                columnNumber: 25\n                                                            }, this)\n                                                        }, void 0, false, {\n                                                            fileName: \"/app/components/RoadProfileViewer.js\",\n                                                            lineNumber: 923,\n                                                            columnNumber: 23\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                                            style: {\n                                                                padding: \"8px\",\n                                                                border: \"1px solid rgba(255, 255, 255, 0.1)\"\n                                                            },\n                                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                                type: \"number\",\n                                                                value: newSegment.condition_value,\n                                                                onChange: (e)=>setNewSegment({\n                                                                        ...newSegment,\n                                                                        condition_value: e.target.value\n                                                                    }),\n                                                                placeholder: \"Slope %\",\n                                                                step: \"0.1\",\n                                                                style: {\n                                                                    width: \"80px\",\n                                                                    padding: \"4px\",\n                                                                    borderRadius: \"4px\",\n                                                                    border: \"1px solid #555\",\n                                                                    backgroundColor: \"#2c2c2c\",\n                                                                    color: \"white\",\n                                                                    fontSize: \"11px\"\n                                                                }\n                                                            }, void 0, false, {\n                                                                fileName: \"/app/components/RoadProfileViewer.js\",\n                                                                lineNumber: 942,\n                                                                columnNumber: 25\n                                                            }, this)\n                                                        }, void 0, false, {\n                                                            fileName: \"/app/components/RoadProfileViewer.js\",\n                                                            lineNumber: 941,\n                                                            columnNumber: 23\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                                            style: {\n                                                                padding: \"8px\",\n                                                                border: \"1px solid rgba(255, 255, 255, 0.1)\"\n                                                            },\n                                                            children: \"-\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/app/components/RoadProfileViewer.js\",\n                                                            lineNumber: 959,\n                                                            columnNumber: 23\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                                            style: {\n                                                                padding: \"8px\",\n                                                                border: \"1px solid rgba(255, 255, 255, 0.1)\"\n                                                            },\n                                                            children: \"-\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/app/components/RoadProfileViewer.js\",\n                                                            lineNumber: 960,\n                                                            columnNumber: 23\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                                            style: {\n                                                                padding: \"8px\",\n                                                                border: \"1px solid rgba(255, 255, 255, 0.1)\"\n                                                            },\n                                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                style: {\n                                                                    display: \"flex\",\n                                                                    gap: \"4px\"\n                                                                },\n                                                                children: [\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                                        onClick: handleAdd,\n                                                                        disabled: saving,\n                                                                        style: {\n                                                                            padding: \"4px 8px\",\n                                                                            background: \"#2ECC71\",\n                                                                            color: \"white\",\n                                                                            border: \"none\",\n                                                                            borderRadius: \"4px\",\n                                                                            cursor: saving ? \"not-allowed\" : \"pointer\",\n                                                                            fontSize: \"11px\"\n                                                                        },\n                                                                        children: saving ? \"Adding...\" : \"Add\"\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/app/components/RoadProfileViewer.js\",\n                                                                        lineNumber: 963,\n                                                                        columnNumber: 27\n                                                                    }, this),\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                                        onClick: handleCancel,\n                                                                        style: {\n                                                                            padding: \"4px 8px\",\n                                                                            background: \"#95a5a6\",\n                                                                            color: \"white\",\n                                                                            border: \"none\",\n                                                                            borderRadius: \"4px\",\n                                                                            cursor: \"pointer\",\n                                                                            fontSize: \"11px\"\n                                                                        },\n                                                                        children: \"Cancel\"\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/app/components/RoadProfileViewer.js\",\n                                                                        lineNumber: 978,\n                                                                        columnNumber: 27\n                                                                    }, this)\n                                                                ]\n                                                            }, void 0, true, {\n                                                                fileName: \"/app/components/RoadProfileViewer.js\",\n                                                                lineNumber: 962,\n                                                                columnNumber: 25\n                                                            }, this)\n                                                        }, void 0, false, {\n                                                            fileName: \"/app/components/RoadProfileViewer.js\",\n                                                            lineNumber: 961,\n                                                            columnNumber: 23\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/app/components/RoadProfileViewer.js\",\n                                                    lineNumber: 885,\n                                                    columnNumber: 21\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/app/components/RoadProfileViewer.js\",\n                                            lineNumber: 667,\n                                            columnNumber: 17\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/app/components/RoadProfileViewer.js\",\n                                    lineNumber: 656,\n                                    columnNumber: 15\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/app/components/RoadProfileViewer.js\",\n                                lineNumber: 655,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/app/components/RoadProfileViewer.js\",\n                        lineNumber: 627,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true)\n        ]\n    }, void 0, true, {\n        fileName: \"/app/components/RoadProfileViewer.js\",\n        lineNumber: 415,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LGNBQWM7Ozs7OztrRkFFMUIsOERBQUMySjt3RUFDQ0MsU0FBUzdDO3dFQUNUMkIsT0FBTzs0RUFDTFYsU0FBUzs0RUFDVDZCLFlBQVk7NEVBQ1pSLE9BQU87NEVBQ1BTLFFBQVE7NEVBQ1JDLGNBQWM7NEVBQ2RDLFFBQVE7NEVBQ1JFLFVBQVU7d0VBQ1o7a0ZBQ0Q7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQWUzQiIsInNvdXJjZXMiOlsid2VicGFjazovL2NvbWJpbmVkLXVpLy4vY29tcG9uZW50cy9Sb2FkUHJvZmlsZVZpZXdlci5qcz81OWQ1Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QgfSBmcm9tICdyZWFjdCc7XHJcblxyXG5jb25zdCBSRUZFUkVOQ0VfRUxFVkFUSU9OID0gNzExOyAvLyBtZXRlcnNcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIFJvYWRQcm9maWxlVmlld2VyKHsgcm9hZElkLCBvbkNsb3NlIH0pIHtcclxuICBjb25zdCBbY29uZGl0aW9ucywgc2V0Q29uZGl0aW9uc10gPSB1c2VTdGF0ZShbXSk7XHJcbiAgY29uc3QgW3RvdGFsUm9hZExlbmd0aCwgc2V0VG90YWxSb2FkTGVuZ3RoXSA9IHVzZVN0YXRlKDApO1xyXG4gIGNvbnN0IFtsb2FkaW5nLCBzZXRMb2FkaW5nXSA9IHVzZVN0YXRlKHRydWUpO1xyXG4gIGNvbnN0IFtlZGl0aW5nSWQsIHNldEVkaXRpbmdJZF0gPSB1c2VTdGF0ZShudWxsKTtcclxuICBjb25zdCBbZWRpdFZhbHVlLCBzZXRFZGl0VmFsdWVdID0gdXNlU3RhdGUoJycpO1xyXG4gIGNvbnN0IFtzYXZpbmcsIHNldFNhdmluZ10gPSB1c2VTdGF0ZShmYWxzZSk7XHJcbiAgY29uc3QgW3NwbGl0dGluZ0lkLCBzZXRTcGxpdHRpbmdJZF0gPSB1c2VTdGF0ZShudWxsKTtcclxuICBjb25zdCBbc3BsaXRQb2ludCwgc2V0U3BsaXRQb2ludF0gPSB1c2VTdGF0ZSgnJyk7XHJcbiAgY29uc3QgW2FkZGluZ05ldywgc2V0QWRkaW5nTmV3XSA9IHVzZVN0YXRlKGZhbHNlKTtcclxuICBjb25zdCBbbmV3U2VnbWVudCwgc2V0TmV3U2VnbWVudF0gPSB1c2VTdGF0ZSh7IGxhbmVfaWQ6ICcnLCBzdGFydF9tZWFzdXJlOiAnJywgZW5kX21lYXN1cmU6ICcnLCBjb25kaXRpb25fdmFsdWU6ICcnIH0pO1xyXG5cclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgaWYgKHJvYWRJZCkge1xyXG4gICAgICBmZXRjaENvbmRpdGlvbnMoKTtcclxuICAgIH1cclxuICB9LCBbcm9hZElkXSk7XHJcblxyXG4gIGNvbnN0IGZldGNoQ29uZGl0aW9ucyA9IGFzeW5jICgpID0+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgIHNldExvYWRpbmcodHJ1ZSk7XHJcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYC9hcGkvbGFuZS1jb25kaXRpb25zP3JvYWRJZD0ke3JvYWRJZH1gKTtcclxuICAgICAgaWYgKCFyZXNwb25zZS5vaykgdGhyb3cgbmV3IEVycm9yKCdGYWlsZWQgdG8gZmV0Y2ggY29uZGl0aW9ucycpO1xyXG4gICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xyXG4gICAgICAvLyBIYW5kbGUgYm90aCBvbGQgZm9ybWF0IChhcnJheSkgYW5kIG5ldyBmb3JtYXQgKG9iamVjdCB3aXRoIGNvbmRpdGlvbnMgYW5kIHRvdGFsX3JvYWRfbGVuZ3RoKVxyXG4gICAgICBpZiAoQXJyYXkuaXNBcnJheShkYXRhKSkge1xyXG4gICAgICAgIHNldENvbmRpdGlvbnMoZGF0YSk7XHJcbiAgICAgICAgc2V0VG90YWxSb2FkTGVuZ3RoKDApOyAvLyBXaWxsIGNhbGN1bGF0ZSBmcm9tIGNvbmRpdGlvbnNcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBzZXRDb25kaXRpb25zKGRhdGEuY29uZGl0aW9ucyB8fCBbXSk7XHJcbiAgICAgICAgc2V0VG90YWxSb2FkTGVuZ3RoKE51bWJlcihkYXRhLnRvdGFsX3JvYWRfbGVuZ3RoIHx8IDApKTtcclxuICAgICAgfVxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgY29uZGl0aW9uczonLCBlcnJvcik7XHJcbiAgICB9IGZpbmFsbHkge1xyXG4gICAgICBzZXRMb2FkaW5nKGZhbHNlKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICAvLyBIZWxwZXIgZnVuY3Rpb24gdG8gY2FsY3VsYXRlIGVsZXZhdGlvbiBhdCBhIGdpdmVuIGN1bXVsYXRpdmUgcm9hZCBkaXN0YW5jZVxyXG4gIC8vIFRoaXMgcHJvcGVybHkgbWFwcyBsYW5lIHNlZ21lbnQgY29uZGl0aW9ucyB0byBjdW11bGF0aXZlIHJvYWQgZGlzdGFuY2VcclxuICBjb25zdCBjYWxjdWxhdGVFbGV2YXRpb25BdERpc3RhbmNlID0gKGN1bXVsYXRpdmVEaXN0YW5jZSwgYWxsQ29uZGl0aW9ucykgPT4ge1xyXG4gICAgbGV0IGVsZXZhdGlvbiA9IFJFRkVSRU5DRV9FTEVWQVRJT047XHJcbiAgICBsZXQgY3VycmVudERpc3RhbmNlID0gMDtcclxuXHJcbiAgICAvLyBVc2UgYWRqdXN0ZWQgY29uZGl0aW9ucyAoYWxyZWFkeSBub3JtYWxpemVkLCBnYXAtZnJlZSlcclxuICAgIGNvbnN0IGxhbmVHcm91cHMgPSB7fTtcclxuICAgIGFsbENvbmRpdGlvbnMuZm9yRWFjaChjb25kID0+IHtcclxuICAgICAgaWYgKCFsYW5lR3JvdXBzW2NvbmQubGFuZV9pZF0pIGxhbmVHcm91cHNbY29uZC5sYW5lX2lkXSA9IFtdO1xyXG4gICAgICBsYW5lR3JvdXBzW2NvbmQubGFuZV9pZF0ucHVzaChjb25kKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGNvbnN0IGxhbmVFbnRyaWVzID0gT2JqZWN0LmVudHJpZXMobGFuZUdyb3VwcykubWFwKChbbGFuZUlkLCBjb25kc10pID0+IHtcclxuICAgICAgY29uc3QgbWF0Y2ggPSAobGFuZUlkIHx8ICcnKS5tYXRjaCgvcm9hZF9cXGQrXyhcXGQrKV8vKTtcclxuICAgICAgY29uc3Qgc2VnTnVtID0gbWF0Y2ggPyBwYXJzZUludChtYXRjaFsxXSwgMTApIDogOTk5O1xyXG4gICAgICBjb25zdCBsYW5lTGVuZ3RoID0gTWF0aC5tYXgoLi4uY29uZHMubWFwKGMgPT4gTnVtYmVyKGMuYWRqX2VuZCkgfHwgMCksIDApO1xyXG4gICAgICByZXR1cm4geyBsYW5lSWQsIGNvbmRzLCBzZWdOdW0sIGxhbmVMZW5ndGggfTtcclxuICAgIH0pLnNvcnQoKGEsIGIpID0+IGEuc2VnTnVtIC0gYi5zZWdOdW0pO1xyXG5cclxuICAgIGZvciAoY29uc3QgeyBjb25kcywgbGFuZUxlbmd0aCB9IG9mIGxhbmVFbnRyaWVzKSB7XHJcbiAgICAgIGNvbnN0IHNvcnRlZENvbmRzID0gY29uZHMuc29ydCgoYSwgYikgPT4gYS5hZGpfc3RhcnQgLSBiLmFkal9zdGFydCk7XHJcbiAgICAgIGNvbnN0IGxhbmVTdGFydERpc3RhbmNlID0gY3VycmVudERpc3RhbmNlO1xyXG5cclxuICAgICAgZm9yIChjb25zdCBjb25kIG9mIHNvcnRlZENvbmRzKSB7XHJcbiAgICAgICAgY29uc3QgY29uZFN0YXJ0RGlzdCA9IGxhbmVTdGFydERpc3RhbmNlICsgKE51bWJlcihjb25kLmFkal9zdGFydCkgfHwgMCk7XHJcbiAgICAgICAgY29uc3QgY29uZEVuZERpc3QgPSBsYW5lU3RhcnREaXN0YW5jZSArIChOdW1iZXIoY29uZC5hZGpfZW5kKSB8fCAwKTtcclxuICAgICAgICBjb25zdCBzbG9wZSA9IE51bWJlcihjb25kLmNvbmRpdGlvbl92YWx1ZSkgfHwgMDtcclxuXHJcbiAgICAgICAgaWYgKGN1bXVsYXRpdmVEaXN0YW5jZSA+PSBjb25kU3RhcnREaXN0ICYmIGN1bXVsYXRpdmVEaXN0YW5jZSA8PSBjb25kRW5kRGlzdCkge1xyXG4gICAgICAgICAgY29uc3QgZGlzdEluQ29uZGl0aW9uID0gY3VtdWxhdGl2ZURpc3RhbmNlIC0gY29uZFN0YXJ0RGlzdDtcclxuICAgICAgICAgIGVsZXZhdGlvbiA9IGVsZXZhdGlvbiArIChkaXN0SW5Db25kaXRpb24gKiBzbG9wZSAvIDEwMCk7XHJcbiAgICAgICAgICByZXR1cm4gZWxldmF0aW9uO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoY3VtdWxhdGl2ZURpc3RhbmNlID4gY29uZEVuZERpc3QpIHtcclxuICAgICAgICAgIGNvbnN0IGNvbmRMZW5ndGggPSBjb25kRW5kRGlzdCAtIGNvbmRTdGFydERpc3Q7XHJcbiAgICAgICAgICBlbGV2YXRpb24gPSBlbGV2YXRpb24gKyAoY29uZExlbmd0aCAqIHNsb3BlIC8gMTAwKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGN1cnJlbnREaXN0YW5jZSArPSBsYW5lTGVuZ3RoO1xyXG4gICAgICBpZiAoY3VycmVudERpc3RhbmNlID49IGN1bXVsYXRpdmVEaXN0YW5jZSkgYnJlYWs7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIGVsZXZhdGlvbjtcclxuICB9O1xyXG5cclxuICBjb25zdCBub3JtYWxpemVDb25kaXRpb25zID0gKGNvbmRzKSA9PiB7XHJcbiAgICBpZiAoIWNvbmRzLmxlbmd0aCkgcmV0dXJuIFtdO1xyXG4gICAgY29uc3QgbGFuZUdyb3VwcyA9IHt9O1xyXG4gICAgY29uZHMuZm9yRWFjaChjID0+IHtcclxuICAgICAgY29uc3Qgc3RhcnQgPSBOdW1iZXIoYy5zdGFydF9tZWFzdXJlKSB8fCAwO1xyXG4gICAgICBjb25zdCBlbmQgPSBOdW1iZXIoYy5lbmRfbWVhc3VyZSkgfHwgMDtcclxuICAgICAgY29uc3Qgc2xvcGUgPSBOdW1iZXIoYy5jb25kaXRpb25fdmFsdWUpIHx8IDA7XHJcbiAgICAgIGNvbnN0IGxlbiA9IE51bWJlcihjLmxhbmVfbGVuZ3RoKSB8fCAwO1xyXG4gICAgICBjb25zdCBub3JtYWxpemVkID0geyAuLi5jLCBzdGFydF9tZWFzdXJlOiBzdGFydCwgZW5kX21lYXN1cmU6IGVuZCwgY29uZGl0aW9uX3ZhbHVlOiBzbG9wZSwgbGFuZV9sZW5ndGg6IGxlbiB9O1xyXG4gICAgICBpZiAoIWxhbmVHcm91cHNbYy5sYW5lX2lkXSkgbGFuZUdyb3Vwc1tjLmxhbmVfaWRdID0gW107XHJcbiAgICAgIGxhbmVHcm91cHNbYy5sYW5lX2lkXS5wdXNoKG5vcm1hbGl6ZWQpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gbGFuZSBvcmRlclxyXG4gICAgY29uc3QgbGFuZUVudHJpZXMgPSBPYmplY3QuZW50cmllcyhsYW5lR3JvdXBzKS5tYXAoKFtsYW5lSWQsIGxpc3RdKSA9PiB7XHJcbiAgICAgIGNvbnN0IG1hdGNoID0gKGxhbmVJZCB8fCAnJykubWF0Y2goL3JvYWRfXFxkK18oXFxkKylfLyk7XHJcbiAgICAgIGNvbnN0IHNlZ051bSA9IG1hdGNoID8gcGFyc2VJbnQobWF0Y2hbMV0sIDEwKSA6IDk5OTtcclxuICAgICAgcmV0dXJuIHsgbGFuZUlkLCBsaXN0LCBzZWdOdW0gfTtcclxuICAgIH0pLnNvcnQoKGEsIGIpID0+IGEuc2VnTnVtIC0gYi5zZWdOdW0pO1xyXG5cclxuICAgIGNvbnN0IGxhbmVTdGFydHMgPSBuZXcgTWFwKCk7XHJcbiAgICBsZXQgY3VtdWxhdGl2ZUxhbmUgPSAwO1xyXG4gICAgY29uc3QgYWRqdXN0ZWQgPSBbXTtcclxuXHJcbiAgICBsYW5lRW50cmllcy5mb3JFYWNoKCh7IGxhbmVJZCwgbGlzdCB9KSA9PiB7XHJcbiAgICAgIGxhbmVTdGFydHMuc2V0KGxhbmVJZCwgY3VtdWxhdGl2ZUxhbmUpO1xyXG4gICAgICBjb25zdCBzb3J0ZWQgPSBsaXN0LnNvcnQoKGEsIGIpID0+IGEuc3RhcnRfbWVhc3VyZSAtIGIuc3RhcnRfbWVhc3VyZSk7XHJcbiAgICAgIGxldCBjdXIgPSAwO1xyXG4gICAgICBzb3J0ZWQuZm9yRWFjaChjb25kID0+IHtcclxuICAgICAgICBjb25zdCBsZW5ndGggPSBNYXRoLm1heCgwLCBjb25kLmVuZF9tZWFzdXJlIC0gY29uZC5zdGFydF9tZWFzdXJlKTtcclxuICAgICAgICBjb25zdCBhZGpTdGFydCA9IGN1cjtcclxuICAgICAgICBjb25zdCBhZGpFbmQgPSBhZGpTdGFydCArIGxlbmd0aDtcclxuICAgICAgICBhZGp1c3RlZC5wdXNoKHtcclxuICAgICAgICAgIC4uLmNvbmQsXHJcbiAgICAgICAgICBhZGpfc3RhcnQ6IGFkalN0YXJ0LFxyXG4gICAgICAgICAgYWRqX2VuZDogYWRqRW5kLFxyXG4gICAgICAgICAgcm9hZF9zdGFydDogY3VtdWxhdGl2ZUxhbmUgKyBhZGpTdGFydCxcclxuICAgICAgICAgIHJvYWRfZW5kOiBjdW11bGF0aXZlTGFuZSArIGFkakVuZCxcclxuICAgICAgICB9KTtcclxuICAgICAgICBjdXIgPSBhZGpFbmQ7XHJcbiAgICAgIH0pO1xyXG4gICAgICBjb25zdCBsYW5lTGVuID0gTnVtYmVyKGxpc3RbMF0/LmxhbmVfbGVuZ3RoKSB8fCBjdXI7XHJcbiAgICAgIGN1bXVsYXRpdmVMYW5lICs9IGxhbmVMZW47XHJcbiAgICB9KTtcclxuXHJcbiAgICByZXR1cm4geyBhZGp1c3RlZCwgdG90YWxMZW5ndGg6IGN1bXVsYXRpdmVMYW5lIH07XHJcbiAgfTtcclxuXHJcbiAgY29uc3Qgbm9ybWFsaXplZCA9IG5vcm1hbGl6ZUNvbmRpdGlvbnMoY29uZGl0aW9ucyk7XHJcbiAgY29uc3QgYWRqdXN0ZWRDb25kcyA9IG5vcm1hbGl6ZWQ/LmFkanVzdGVkIHx8IFtdO1xyXG4gIGNvbnN0IGVmZmVjdGl2ZVRvdGFsTGVuZ3RoID0gdG90YWxSb2FkTGVuZ3RoID4gMCA/IHRvdGFsUm9hZExlbmd0aCA6IChub3JtYWxpemVkPy50b3RhbExlbmd0aCB8fCAwKTtcclxuXHJcbiAgY29uc3QgZ2VuZXJhdGVQcm9maWxlRGF0YSA9ICgpID0+IHtcclxuICAgIGlmICghYWRqdXN0ZWRDb25kcy5sZW5ndGggJiYgZWZmZWN0aXZlVG90YWxMZW5ndGggPT09IDApIHJldHVybiBbXTtcclxuXHJcbiAgICBjb25zdCBkaXN0YW5jZVBvaW50cyA9IG5ldyBTZXQoWzAsIGVmZmVjdGl2ZVRvdGFsTGVuZ3RoXSk7XHJcbiAgICBhZGp1c3RlZENvbmRzLmZvckVhY2goYyA9PiB7XHJcbiAgICAgIGRpc3RhbmNlUG9pbnRzLmFkZChjLnJvYWRfc3RhcnQpO1xyXG4gICAgICBkaXN0YW5jZVBvaW50cy5hZGQoYy5yb2FkX2VuZCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBjb25zdCBzb3J0ZWREaXN0YW5jZXMgPSBBcnJheS5mcm9tKGRpc3RhbmNlUG9pbnRzKS5zb3J0KChhLCBiKSA9PiBhIC0gYik7XHJcbiAgICBjb25zdCByZXN1bHQgPSBbXTtcclxuICAgIHNvcnRlZERpc3RhbmNlcy5mb3JFYWNoKGRpc3RhbmNlID0+IHtcclxuICAgICAgY29uc3QgbWF0Y2ggPSBhZGp1c3RlZENvbmRzLmZpbmQoYyA9PiBkaXN0YW5jZSA+PSBjLnJvYWRfc3RhcnQgJiYgZGlzdGFuY2UgPD0gYy5yb2FkX2VuZCk7XHJcbiAgICAgIGNvbnN0IGVsZXZhdGlvbiA9IGNhbGN1bGF0ZUVsZXZhdGlvbkF0RGlzdGFuY2UoZGlzdGFuY2UsIGFkanVzdGVkQ29uZHMpO1xyXG4gICAgICByZXN1bHQucHVzaCh7XHJcbiAgICAgICAgZGlzdGFuY2UsXHJcbiAgICAgICAgZWxldmF0aW9uLFxyXG4gICAgICAgIGxhbmVfaWQ6IG1hdGNoPy5sYW5lX2lkIHx8IG51bGwsXHJcbiAgICAgICAgY29uZGl0aW9uX2lkOiBtYXRjaD8uY29uZGl0aW9uX2lkIHx8IG51bGwsXHJcbiAgICAgIH0pO1xyXG4gICAgfSk7XHJcblxyXG4gICAgcmV0dXJuIHJlc3VsdDtcclxuICB9O1xyXG5cclxuICBjb25zdCBoYW5kbGVFZGl0ID0gKGNvbmRpdGlvbikgPT4ge1xyXG4gICAgc2V0RWRpdGluZ0lkKGNvbmRpdGlvbi5jb25kaXRpb25faWQpO1xyXG4gICAgc2V0RWRpdFZhbHVlKGNvbmRpdGlvbi5jb25kaXRpb25fdmFsdWUpO1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IGhhbmRsZVNhdmUgPSBhc3luYyAoY29uZGl0aW9uSWQpID0+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgIHNldFNhdmluZyh0cnVlKTtcclxuICAgICAgXHJcbiAgICAgIC8vIFZhbGlkYXRlIHRoZSBpbnB1dFxyXG4gICAgICBjb25zdCB2YWx1ZSA9IHBhcnNlRmxvYXQoZWRpdFZhbHVlKTtcclxuICAgICAgaWYgKGlzTmFOKHZhbHVlKSkge1xyXG4gICAgICAgIGFsZXJ0KCdQbGVhc2UgZW50ZXIgYSB2YWxpZCBudW1iZXIgZm9yIHRoZSBzbG9wZScpO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG5cclxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCgnL2FwaS9sYW5lLWNvbmRpdGlvbnMnLCB7XHJcbiAgICAgICAgbWV0aG9kOiAnUFVUJyxcclxuICAgICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgICAgY29uZGl0aW9uX2lkOiBjb25kaXRpb25JZCxcclxuICAgICAgICAgIGNvbmRpdGlvbl92YWx1ZTogZWRpdFZhbHVlXHJcbiAgICAgICAgfSlcclxuICAgICAgfSk7XHJcblxyXG4gICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XHJcbiAgICAgICAgY29uc3QgZXJyb3JEYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihlcnJvckRhdGEuZXJyb3IgfHwgJ0ZhaWxlZCB0byB1cGRhdGUnKTtcclxuICAgICAgfVxyXG4gICAgICBcclxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xyXG4gICAgICBjb25zb2xlLmxvZygnU3VjY2Vzc2Z1bGx5IHVwZGF0ZWQgY29uZGl0aW9uOicsIHJlc3VsdCk7XHJcbiAgICAgIFxyXG4gICAgICAvLyBSZWZyZXNoIGNvbmRpdGlvbnMgdG8gZ2V0IHVwZGF0ZWQgZGF0YVxyXG4gICAgICBhd2FpdCBmZXRjaENvbmRpdGlvbnMoKTtcclxuICAgICAgc2V0RWRpdGluZ0lkKG51bGwpO1xyXG4gICAgICBzZXRFZGl0VmFsdWUoJycpO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcignRXJyb3Igc2F2aW5nIGNvbmRpdGlvbjonLCBlcnJvcik7XHJcbiAgICAgIGFsZXJ0KGBGYWlsZWQgdG8gc2F2ZSBzbG9wZSB2YWx1ZTogJHtlcnJvci5tZXNzYWdlfWApO1xyXG4gICAgfSBmaW5hbGx5IHtcclxuICAgICAgc2V0U2F2aW5nKGZhbHNlKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICBjb25zdCBoYW5kbGVDYW5jZWwgPSAoKSA9PiB7XHJcbiAgICBzZXRFZGl0aW5nSWQobnVsbCk7XHJcbiAgICBzZXRFZGl0VmFsdWUoJycpO1xyXG4gICAgc2V0U3BsaXR0aW5nSWQobnVsbCk7XHJcbiAgICBzZXRTcGxpdFBvaW50KCcnKTtcclxuICAgIHNldEFkZGluZ05ldyhmYWxzZSk7XHJcbiAgICBzZXROZXdTZWdtZW50KHsgbGFuZV9pZDogJycsIHN0YXJ0X21lYXN1cmU6ICcnLCBlbmRfbWVhc3VyZTogJycsIGNvbmRpdGlvbl92YWx1ZTogJycgfSk7XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgaGFuZGxlU3BsaXQgPSBhc3luYyAoY29uZGl0aW9uKSA9PiB7XHJcbiAgICBjb25zdCBzcGxpdFZhbHVlID0gcGFyc2VGbG9hdChzcGxpdFBvaW50KTtcclxuICAgIGlmIChpc05hTihzcGxpdFZhbHVlKSB8fCBzcGxpdFZhbHVlIDw9IGNvbmRpdGlvbi5zdGFydF9tZWFzdXJlIHx8IHNwbGl0VmFsdWUgPj0gY29uZGl0aW9uLmVuZF9tZWFzdXJlKSB7XHJcbiAgICAgIGFsZXJ0KCdQbGVhc2UgZW50ZXIgYSB2YWxpZCBzcGxpdCBwb2ludCBiZXR3ZWVuIHN0YXJ0IGFuZCBlbmQgbWVhc3VyZXMnKTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIHRyeSB7XHJcbiAgICAgIHNldFNhdmluZyh0cnVlKTtcclxuICAgICAgXHJcbiAgICAgIC8vIENyZWF0ZSBmaXJzdCBzZWdtZW50OiBzdGFydCB0byBzcGxpdCBwb2ludFxyXG4gICAgICBjb25zdCByZXNwb25zZTEgPSBhd2FpdCBmZXRjaCgnL2FwaS9sYW5lLWNvbmRpdGlvbnMnLCB7XHJcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsXHJcbiAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXHJcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgICAgbGFuZV9pZDogY29uZGl0aW9uLmxhbmVfaWQsXHJcbiAgICAgICAgICBzdGFydF9tZWFzdXJlOiBjb25kaXRpb24uc3RhcnRfbWVhc3VyZSxcclxuICAgICAgICAgIGVuZF9tZWFzdXJlOiBzcGxpdFZhbHVlLFxyXG4gICAgICAgICAgY29uZGl0aW9uX3ZhbHVlOiBjb25kaXRpb24uY29uZGl0aW9uX3ZhbHVlXHJcbiAgICAgICAgfSlcclxuICAgICAgfSk7XHJcblxyXG4gICAgICAvLyBDcmVhdGUgc2Vjb25kIHNlZ21lbnQ6IHNwbGl0IHBvaW50IHRvIGVuZFxyXG4gICAgICBjb25zdCByZXNwb25zZTIgPSBhd2FpdCBmZXRjaCgnL2FwaS9sYW5lLWNvbmRpdGlvbnMnLCB7XHJcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsXHJcbiAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXHJcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgICAgbGFuZV9pZDogY29uZGl0aW9uLmxhbmVfaWQsXHJcbiAgICAgICAgICBzdGFydF9tZWFzdXJlOiBzcGxpdFZhbHVlLFxyXG4gICAgICAgICAgZW5kX21lYXN1cmU6IGNvbmRpdGlvbi5lbmRfbWVhc3VyZSxcclxuICAgICAgICAgIGNvbmRpdGlvbl92YWx1ZTogY29uZGl0aW9uLmNvbmRpdGlvbl92YWx1ZVxyXG4gICAgICAgIH0pXHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgaWYgKCFyZXNwb25zZTEub2sgfHwgIXJlc3BvbnNlMi5vaykge1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignRmFpbGVkIHRvIGNyZWF0ZSBzcGxpdCBzZWdtZW50cycpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBEZWxldGUgb3JpZ2luYWwgc2VnbWVudFxyXG4gICAgICBhd2FpdCBmZXRjaCgnL2FwaS9sYW5lLWNvbmRpdGlvbnMnLCB7XHJcbiAgICAgICAgbWV0aG9kOiAnREVMRVRFJyxcclxuICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcclxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7IGNvbmRpdGlvbl9pZDogY29uZGl0aW9uLmNvbmRpdGlvbl9pZCB9KVxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIGF3YWl0IGZldGNoQ29uZGl0aW9ucygpO1xyXG4gICAgICBzZXRTcGxpdHRpbmdJZChudWxsKTtcclxuICAgICAgc2V0U3BsaXRQb2ludCgnJyk7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBzcGxpdHRpbmcgY29uZGl0aW9uOicsIGVycm9yKTtcclxuICAgICAgYWxlcnQoYEZhaWxlZCB0byBzcGxpdCBzZWdtZW50OiAke2Vycm9yLm1lc3NhZ2V9YCk7XHJcbiAgICB9IGZpbmFsbHkge1xyXG4gICAgICBzZXRTYXZpbmcoZmFsc2UpO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIGNvbnN0IGhhbmRsZURlbGV0ZSA9IGFzeW5jIChjb25kaXRpb25JZCkgPT4ge1xyXG4gICAgaWYgKCFjb25maXJtKCdBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gZGVsZXRlIHRoaXMgc2xvcGUgc2VnbWVudD8nKSkge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgdHJ5IHtcclxuICAgICAgc2V0U2F2aW5nKHRydWUpO1xyXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKCcvYXBpL2xhbmUtY29uZGl0aW9ucycsIHtcclxuICAgICAgICBtZXRob2Q6ICdERUxFVEUnLFxyXG4gICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxyXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsgY29uZGl0aW9uX2lkOiBjb25kaXRpb25JZCB9KVxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIGlmICghcmVzcG9uc2Uub2spIHRocm93IG5ldyBFcnJvcignRmFpbGVkIHRvIGRlbGV0ZScpO1xyXG4gICAgICBcclxuICAgICAgYXdhaXQgZmV0Y2hDb25kaXRpb25zKCk7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBkZWxldGluZyBjb25kaXRpb246JywgZXJyb3IpO1xyXG4gICAgICBhbGVydChgRmFpbGVkIHRvIGRlbGV0ZSBzZWdtZW50OiAke2Vycm9yLm1lc3NhZ2V9YCk7XHJcbiAgICB9IGZpbmFsbHkge1xyXG4gICAgICBzZXRTYXZpbmcoZmFsc2UpO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIGNvbnN0IGhhbmRsZUFkZCA9IGFzeW5jICgpID0+IHtcclxuICAgIGNvbnN0IHsgbGFuZV9pZCwgc3RhcnRfbWVhc3VyZSwgZW5kX21lYXN1cmUsIGNvbmRpdGlvbl92YWx1ZSB9ID0gbmV3U2VnbWVudDtcclxuICAgIFxyXG4gICAgaWYgKCFsYW5lX2lkIHx8ICFzdGFydF9tZWFzdXJlIHx8ICFlbmRfbWVhc3VyZSB8fCAhY29uZGl0aW9uX3ZhbHVlKSB7XHJcbiAgICAgIGFsZXJ0KCdQbGVhc2UgZmlsbCBpbiBhbGwgZmllbGRzJyk7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBzdGFydCA9IHBhcnNlRmxvYXQoc3RhcnRfbWVhc3VyZSk7XHJcbiAgICBjb25zdCBlbmQgPSBwYXJzZUZsb2F0KGVuZF9tZWFzdXJlKTtcclxuICAgIGNvbnN0IHZhbHVlID0gcGFyc2VGbG9hdChjb25kaXRpb25fdmFsdWUpO1xyXG5cclxuICAgIGlmIChpc05hTihzdGFydCkgfHwgaXNOYU4oZW5kKSB8fCBpc05hTih2YWx1ZSkpIHtcclxuICAgICAgYWxlcnQoJ1BsZWFzZSBlbnRlciB2YWxpZCBudW1iZXJzJyk7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoc3RhcnQgPj0gZW5kKSB7XHJcbiAgICAgIGFsZXJ0KCdTdGFydCBtZWFzdXJlIG11c3QgYmUgbGVzcyB0aGFuIGVuZCBtZWFzdXJlJyk7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICB0cnkge1xyXG4gICAgICBzZXRTYXZpbmcodHJ1ZSk7XHJcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goJy9hcGkvbGFuZS1jb25kaXRpb25zJywge1xyXG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxyXG4gICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxyXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICAgIGxhbmVfaWQsXHJcbiAgICAgICAgICBzdGFydF9tZWFzdXJlOiBzdGFydCxcclxuICAgICAgICAgIGVuZF9tZWFzdXJlOiBlbmQsXHJcbiAgICAgICAgICBjb25kaXRpb25fdmFsdWU6IHZhbHVlXHJcbiAgICAgICAgfSlcclxuICAgICAgfSk7XHJcblxyXG4gICAgICBpZiAoIXJlc3BvbnNlLm9rKSB0aHJvdyBuZXcgRXJyb3IoJ0ZhaWxlZCB0byBjcmVhdGUnKTtcclxuICAgICAgXHJcbiAgICAgIGF3YWl0IGZldGNoQ29uZGl0aW9ucygpO1xyXG4gICAgICBzZXRBZGRpbmdOZXcoZmFsc2UpO1xyXG4gICAgICBzZXROZXdTZWdtZW50KHsgbGFuZV9pZDogJycsIHN0YXJ0X21lYXN1cmU6ICcnLCBlbmRfbWVhc3VyZTogJycsIGNvbmRpdGlvbl92YWx1ZTogJycgfSk7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBhZGRpbmcgY29uZGl0aW9uOicsIGVycm9yKTtcclxuICAgICAgYWxlcnQoYEZhaWxlZCB0byBhZGQgc2VnbWVudDogJHtlcnJvci5tZXNzYWdlfWApO1xyXG4gICAgfSBmaW5hbGx5IHtcclxuICAgICAgc2V0U2F2aW5nKGZhbHNlKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICBjb25zdCBwcm9maWxlRGF0YSA9IGdlbmVyYXRlUHJvZmlsZURhdGEoKTtcclxuXHJcbiAgLy8gRGlzdGFuY2UgZG9tYWluOiBmcm9tIGxvd2VzdCByb2FkIHN0YXJ0IHRvIGhpZ2hlc3Qgcm9hZCBlbmRcclxuICBjb25zdCBtaW5EaXN0YW5jZSA9IHByb2ZpbGVEYXRhLmxlbmd0aFxyXG4gICAgPyBNYXRoLm1pbiguLi5wcm9maWxlRGF0YS5tYXAocCA9PiBwLmRpc3RhbmNlKSlcclxuICAgIDogMDtcclxuICBjb25zdCBtYXhEaXN0YW5jZSA9IHByb2ZpbGVEYXRhLmxlbmd0aFxyXG4gICAgPyBNYXRoLm1heCguLi5wcm9maWxlRGF0YS5tYXAocCA9PiBwLmRpc3RhbmNlKSlcclxuICAgIDogMDtcclxuXHJcbiAgLy8gRWxldmF0aW9uIHJhbmdlIGJhc2VkIG9uIGFjdHVhbCBwcm9maWxlLCB3aXRoIGEgZmFsbGJhY2sgYmFuZFxyXG4gIGNvbnN0IG1pbkVsZXZhdGlvbiA9IHByb2ZpbGVEYXRhLmxlbmd0aFxyXG4gICAgPyBNYXRoLm1pbiguLi5wcm9maWxlRGF0YS5tYXAocCA9PiBwLmVsZXZhdGlvbikpXHJcbiAgICA6IFJFRkVSRU5DRV9FTEVWQVRJT04gLSA1MDtcclxuXHJcbiAgY29uc3QgbWF4RWxldmF0aW9uID0gcHJvZmlsZURhdGEubGVuZ3RoXHJcbiAgICA/IE1hdGgubWF4KC4uLnByb2ZpbGVEYXRhLm1hcChwID0+IHAuZWxldmF0aW9uKSlcclxuICAgIDogUkVGRVJFTkNFX0VMRVZBVElPTiArIDUwO1xyXG5cclxuICAvLyBTaW1wbGUgU1ZHIGNoYXJ0XHJcbiAgY29uc3QgY2hhcnRXaWR0aCA9IDgwMDtcclxuICBjb25zdCBjaGFydEhlaWdodCA9IDQwMDtcclxuICBjb25zdCBwYWRkaW5nID0gNjA7XHJcbiAgY29uc3QgcGxvdFdpZHRoID0gY2hhcnRXaWR0aCAtIDIgKiBwYWRkaW5nO1xyXG4gIGNvbnN0IHBsb3RIZWlnaHQgPSBjaGFydEhlaWdodCAtIDIgKiBwYWRkaW5nO1xyXG5cclxuICBjb25zdCBlbGV2YXRpb25SYW5nZSA9IG1heEVsZXZhdGlvbiAtIG1pbkVsZXZhdGlvbiB8fCAxOyAvLyBhdm9pZCBkaXZpZGUgYnkgemVyb1xyXG4gIGNvbnN0IGRpc3RhbmNlUmFuZ2UgPSBtYXhEaXN0YW5jZSAtIG1pbkRpc3RhbmNlIHx8IDE7XHJcblxyXG4gIGNvbnN0IHNjYWxlWCA9IChkaXN0YW5jZSkgPT5cclxuICAgIHBhZGRpbmcgK1xyXG4gICAgKChkaXN0YW5jZSAtIG1pbkRpc3RhbmNlKSAvIGRpc3RhbmNlUmFuZ2UpICogcGxvdFdpZHRoO1xyXG5cclxuICBjb25zdCBzY2FsZVkgPSAoZWxldmF0aW9uKSA9PlxyXG4gICAgcGFkZGluZyArXHJcbiAgICBwbG90SGVpZ2h0IC1cclxuICAgICgoZWxldmF0aW9uIC0gbWluRWxldmF0aW9uKSAvIGVsZXZhdGlvblJhbmdlKSAqIHBsb3RIZWlnaHQ7XHJcblxyXG4gIC8vIEdlbmVyYXRlIHBhdGggZGF0YSBmb3IgdGhlIHByb2ZpbGUgbGluZVxyXG4gIGNvbnN0IHBhdGhEYXRhID0gcHJvZmlsZURhdGEubGVuZ3RoID4gMFxyXG4gICAgPyBgTSAke3Byb2ZpbGVEYXRhLm1hcChwID0+IGAke3NjYWxlWChwLmRpc3RhbmNlKX0sJHtzY2FsZVkocC5lbGV2YXRpb24pfWApLmpvaW4oJyBMICcpfWBcclxuICAgIDogbnVsbDtcclxuXHJcbiAgaWYgKGxvYWRpbmcpIHtcclxuICAgIHJldHVybiAoXHJcbiAgICAgIDxkaXYgc3R5bGU9e3tcclxuICAgICAgICBwb3NpdGlvbjogJ2ZpeGVkJyxcclxuICAgICAgICB0b3A6IDAsXHJcbiAgICAgICAgbGVmdDogMCxcclxuICAgICAgICByaWdodDogMCxcclxuICAgICAgICBib3R0b206IDAsXHJcbiAgICAgICAgYmFja2dyb3VuZENvbG9yOiAncmdiYSgwLCAwLCAwLCAwLjgpJyxcclxuICAgICAgICBkaXNwbGF5OiAnZmxleCcsXHJcbiAgICAgICAganVzdGlmeUNvbnRlbnQ6ICdjZW50ZXInLFxyXG4gICAgICAgIGFsaWduSXRlbXM6ICdjZW50ZXInLFxyXG4gICAgICAgIHpJbmRleDogMTAwMDAsXHJcbiAgICAgICAgY29sb3I6ICd3aGl0ZSdcclxuICAgICAgfX0+XHJcbiAgICAgICAgPGRpdj5Mb2FkaW5nIHJvYWQgcHJvZmlsZS4uLjwvZGl2PlxyXG4gICAgICA8L2Rpdj5cclxuICAgICk7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gKFxyXG4gICAgPGRpdiBzdHlsZT17e1xyXG4gICAgICBwb3NpdGlvbjogJ2ZpeGVkJyxcclxuICAgICAgdG9wOiAwLFxyXG4gICAgICBsZWZ0OiAwLFxyXG4gICAgICByaWdodDogMCxcclxuICAgICAgYm90dG9tOiAwLFxyXG4gICAgICBiYWNrZ3JvdW5kQ29sb3I6ICdyZ2JhKDAsIDAsIDAsIDAuOSknLFxyXG4gICAgICB6SW5kZXg6IDEwMDAwLFxyXG4gICAgICBkaXNwbGF5OiAnZmxleCcsXHJcbiAgICAgIGZsZXhEaXJlY3Rpb246ICdjb2x1bW4nLFxyXG4gICAgICBwYWRkaW5nOiAnMjBweCcsXHJcbiAgICAgIG92ZXJmbG93OiAnYXV0bycsXHJcbiAgICAgIGNvbG9yOiAnd2hpdGUnXHJcbiAgICB9fT5cclxuICAgICAgPGRpdiBzdHlsZT17eyBkaXNwbGF5OiAnZmxleCcsIGp1c3RpZnlDb250ZW50OiAnc3BhY2UtYmV0d2VlbicsIGFsaWduSXRlbXM6ICdjZW50ZXInLCBtYXJnaW5Cb3R0b206ICcyMHB4JyB9fT5cclxuICAgICAgICA8aDIgc3R5bGU9e3sgbWFyZ2luOiAwLCBjb2xvcjogJyM0RUNEQzQnIH19PlJvYWQgUHJvZmlsZSAtIFJvYWQgSUQ6IHtyb2FkSWR9PC9oMj5cclxuICAgICAgICA8YnV0dG9uXHJcbiAgICAgICAgICBvbkNsaWNrPXtvbkNsb3NlfVxyXG4gICAgICAgICAgc3R5bGU9e3tcclxuICAgICAgICAgICAgYmFja2dyb3VuZDogJyNFNzRDM0MnLFxyXG4gICAgICAgICAgICBjb2xvcjogJ3doaXRlJyxcclxuICAgICAgICAgICAgYm9yZGVyOiAnbm9uZScsXHJcbiAgICAgICAgICAgIHBhZGRpbmc6ICcxMHB4IDIwcHgnLFxyXG4gICAgICAgICAgICBib3JkZXJSYWRpdXM6ICc2cHgnLFxyXG4gICAgICAgICAgICBjdXJzb3I6ICdwb2ludGVyJyxcclxuICAgICAgICAgICAgZm9udFdlaWdodDogJ2JvbGQnLFxyXG4gICAgICAgICAgICBmb250U2l6ZTogJzE0cHgnXHJcbiAgICAgICAgICB9fVxyXG4gICAgICAgID5cclxuICAgICAgICAgIOKclSBDbG9zZVxyXG4gICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICA8L2Rpdj5cclxuXHJcbiAgICAgIHtjb25kaXRpb25zLmxlbmd0aCA9PT0gMCA/IChcclxuICAgICAgICA8ZGl2IHN0eWxlPXt7IHRleHRBbGlnbjogJ2NlbnRlcicsIHBhZGRpbmc6ICc0MHB4JywgY29sb3I6ICcjOTVhNWE2JyB9fT5cclxuICAgICAgICAgIE5vIHNsb3BlIGNvbmRpdGlvbnMgZm91bmQgZm9yIHRoaXMgcm9hZC5cclxuICAgICAgICAgIDxkaXYgc3R5bGU9e3sgbWFyZ2luVG9wOiAnMTZweCcsIGRpc3BsYXk6ICdpbmxpbmUtYmxvY2snLCB0ZXh0QWxpZ246ICdsZWZ0JywgYmFja2dyb3VuZDogJ3JnYmEoMzAsMzAsMzAsMC44KScsIHBhZGRpbmc6ICcxNnB4JywgYm9yZGVyUmFkaXVzOiAnOHB4JywgYm9yZGVyOiAnMXB4IHNvbGlkIHJnYmEoMjU1LDI1NSwyNTUsMC4xKScgfX0+XHJcbiAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgbWFyZ2luQm90dG9tOiAnOHB4JywgY29sb3I6ICcjZmZmJyB9fT5BZGQgZmlyc3Qgc2VnbWVudDwvZGl2PlxyXG4gICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IGRpc3BsYXk6ICdmbGV4JywgZ2FwOiAnOHB4JywgZmxleFdyYXA6ICd3cmFwJyB9fT5cclxuICAgICAgICAgICAgICA8aW5wdXRcclxuICAgICAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcclxuICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwibGFuZV9pZFwiXHJcbiAgICAgICAgICAgICAgICB2YWx1ZT17bmV3U2VnbWVudC5sYW5lX2lkIHx8IGAke3JvYWRJZH1gfVxyXG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXROZXdTZWdtZW50KHsgLi4ubmV3U2VnbWVudCwgbGFuZV9pZDogZS50YXJnZXQudmFsdWUgfSl9XHJcbiAgICAgICAgICAgICAgICBzdHlsZT17eyBwYWRkaW5nOiAnNnB4JywgYm9yZGVyUmFkaXVzOiAnNHB4JywgYm9yZGVyOiAnMXB4IHNvbGlkICM1NTUnLCBiYWNrZ3JvdW5kOiAnIzIyMicsIGNvbG9yOiAnI2ZmZicgfX1cclxuICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgIDxpbnB1dFxyXG4gICAgICAgICAgICAgICAgdHlwZT1cIm51bWJlclwiXHJcbiAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIlN0YXJ0IChtKVwiXHJcbiAgICAgICAgICAgICAgICB2YWx1ZT17bmV3U2VnbWVudC5zdGFydF9tZWFzdXJlfVxyXG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXROZXdTZWdtZW50KHsgLi4ubmV3U2VnbWVudCwgc3RhcnRfbWVhc3VyZTogZS50YXJnZXQudmFsdWUgfSl9XHJcbiAgICAgICAgICAgICAgICBzdHlsZT17eyBwYWRkaW5nOiAnNnB4JywgYm9yZGVyUmFkaXVzOiAnNHB4JywgYm9yZGVyOiAnMXB4IHNvbGlkICM1NTUnLCBiYWNrZ3JvdW5kOiAnIzIyMicsIGNvbG9yOiAnI2ZmZicsIHdpZHRoOiAnMTEwcHgnIH19XHJcbiAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICA8aW5wdXRcclxuICAgICAgICAgICAgICAgIHR5cGU9XCJudW1iZXJcIlxyXG4gICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJFbmQgKG0pXCJcclxuICAgICAgICAgICAgICAgIHZhbHVlPXtuZXdTZWdtZW50LmVuZF9tZWFzdXJlfVxyXG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXROZXdTZWdtZW50KHsgLi4ubmV3U2VnbWVudCwgZW5kX21lYXN1cmU6IGUudGFyZ2V0LnZhbHVlIH0pfVxyXG4gICAgICAgICAgICAgICAgc3R5bGU9e3sgcGFkZGluZzogJzZweCcsIGJvcmRlclJhZGl1czogJzRweCcsIGJvcmRlcjogJzFweCBzb2xpZCAjNTU1JywgYmFja2dyb3VuZDogJyMyMjInLCBjb2xvcjogJyNmZmYnLCB3aWR0aDogJzExMHB4JyB9fVxyXG4gICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgPGlucHV0XHJcbiAgICAgICAgICAgICAgICB0eXBlPVwibnVtYmVyXCJcclxuICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiU2xvcGUgJVwiXHJcbiAgICAgICAgICAgICAgICB2YWx1ZT17bmV3U2VnbWVudC5jb25kaXRpb25fdmFsdWV9XHJcbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHNldE5ld1NlZ21lbnQoeyAuLi5uZXdTZWdtZW50LCBjb25kaXRpb25fdmFsdWU6IGUudGFyZ2V0LnZhbHVlIH0pfVxyXG4gICAgICAgICAgICAgICAgc3R5bGU9e3sgcGFkZGluZzogJzZweCcsIGJvcmRlclJhZGl1czogJzRweCcsIGJvcmRlcjogJzFweCBzb2xpZCAjNTU1JywgYmFja2dyb3VuZDogJyMyMjInLCBjb2xvcjogJyNmZmYnLCB3aWR0aDogJzExMHB4JyB9fVxyXG4gICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgPGJ1dHRvblxyXG4gICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICBjb25zdCBsYW5lRGVmYXVsdCA9IG5ld1NlZ21lbnQubGFuZV9pZCB8fCBgJHtyb2FkSWR9YDtcclxuICAgICAgICAgICAgICAgICAgc2V0TmV3U2VnbWVudCh7IC4uLm5ld1NlZ21lbnQsIGxhbmVfaWQ6IGxhbmVEZWZhdWx0IH0pO1xyXG4gICAgICAgICAgICAgICAgICBoYW5kbGVBZGQoKTtcclxuICAgICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgICAgICBkaXNhYmxlZD17c2F2aW5nfVxyXG4gICAgICAgICAgICAgICAgc3R5bGU9e3sgcGFkZGluZzogJzhweCAxMnB4JywgYmFja2dyb3VuZDogJyMyRUNDNzEnLCBib3JkZXI6ICdub25lJywgYm9yZGVyUmFkaXVzOiAnNHB4JywgY29sb3I6ICd3aGl0ZScsIGN1cnNvcjogJ3BvaW50ZXInLCBmb250V2VpZ2h0OiAnYm9sZCcgfX1cclxuICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICB7c2F2aW5nID8gJ1NhdmluZy4uLicgOiAnQWRkJ31cclxuICAgICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgKSA6IChcclxuICAgICAgICA8PlxyXG4gICAgICAgICAgey8qIEVsZXZhdGlvbiBQcm9maWxlIENoYXJ0ICovfVxyXG4gICAgICAgICAgPGRpdiBzdHlsZT17eyBtYXJnaW5Cb3R0b206ICczMHB4JywgYmFja2dyb3VuZENvbG9yOiAncmdiYSgzMCwgMzAsIDMwLCAwLjgpJywgcGFkZGluZzogJzIwcHgnLCBib3JkZXJSYWRpdXM6ICc4cHgnIH19PlxyXG4gICAgICAgICAgICA8aDMgc3R5bGU9e3sgbWFyZ2luVG9wOiAwLCBtYXJnaW5Cb3R0b206ICcxNnB4JywgY29sb3I6ICcjNEVDREM0JyB9fT5FbGV2YXRpb24gUHJvZmlsZTwvaDM+XHJcbiAgICAgICAgICAgIDxzdmcgd2lkdGg9e2NoYXJ0V2lkdGh9IGhlaWdodD17Y2hhcnRIZWlnaHR9IHN0eWxlPXt7IGJvcmRlcjogJzFweCBzb2xpZCByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMiknLCBib3JkZXJSYWRpdXM6ICc0cHgnIH19PlxyXG4gICAgICAgICAgICAgIHsvKiBHcmlkIGxpbmVzICovfVxyXG4gICAgICAgICAgICAgIHtbMCwgMC4yNSwgMC41LCAwLjc1LCAxXS5tYXAodCA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBlbGV2YXRpb24gPSBtaW5FbGV2YXRpb24gKyB0ICogKG1heEVsZXZhdGlvbiAtIG1pbkVsZXZhdGlvbik7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICAgICAgICA8bGluZVxyXG4gICAgICAgICAgICAgICAgICAgIGtleT17YGdyaWQtaC0ke3R9YH1cclxuICAgICAgICAgICAgICAgICAgICB4MT17cGFkZGluZ31cclxuICAgICAgICAgICAgICAgICAgICB5MT17c2NhbGVZKGVsZXZhdGlvbil9XHJcbiAgICAgICAgICAgICAgICAgICAgeDI9e2NoYXJ0V2lkdGggLSBwYWRkaW5nfVxyXG4gICAgICAgICAgICAgICAgICAgIHkyPXtzY2FsZVkoZWxldmF0aW9uKX1cclxuICAgICAgICAgICAgICAgICAgICBzdHJva2U9XCJyZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMSlcIlxyXG4gICAgICAgICAgICAgICAgICAgIHN0cm9rZVdpZHRoPVwiMVwiXHJcbiAgICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgIH0pfVxyXG4gICAgICAgICAgICAgIHtbMCwgMC4yNSwgMC41LCAwLjc1LCAxXS5tYXAodCA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBkaXN0YW5jZSA9IG1pbkRpc3RhbmNlICsgdCAqIGRpc3RhbmNlUmFuZ2U7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICAgICAgICA8bGluZVxyXG4gICAgICAgICAgICAgICAgICAgIGtleT17YGdyaWQtdi0ke3R9YH1cclxuICAgICAgICAgICAgICAgICAgICB4MT17c2NhbGVYKGRpc3RhbmNlKX1cclxuICAgICAgICAgICAgICAgICAgICB5MT17cGFkZGluZ31cclxuICAgICAgICAgICAgICAgICAgICB4Mj17c2NhbGVYKGRpc3RhbmNlKX1cclxuICAgICAgICAgICAgICAgICAgICB5Mj17Y2hhcnRIZWlnaHQgLSBwYWRkaW5nfVxyXG4gICAgICAgICAgICAgICAgICAgIHN0cm9rZT1cInJnYmEoMjU1LCAyNTUsIDI1NSwgMC4xKVwiXHJcbiAgICAgICAgICAgICAgICAgICAgc3Ryb2tlV2lkdGg9XCIxXCJcclxuICAgICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgfSl9XHJcblxyXG4gICAgICAgICAgICAgIHsvKiBBeGVzICovfVxyXG4gICAgICAgICAgICAgIDxsaW5lXHJcbiAgICAgICAgICAgICAgICB4MT17cGFkZGluZ31cclxuICAgICAgICAgICAgICAgIHkxPXtwYWRkaW5nfVxyXG4gICAgICAgICAgICAgICAgeDI9e3BhZGRpbmd9XHJcbiAgICAgICAgICAgICAgICB5Mj17Y2hhcnRIZWlnaHQgLSBwYWRkaW5nfVxyXG4gICAgICAgICAgICAgICAgc3Ryb2tlPVwid2hpdGVcIlxyXG4gICAgICAgICAgICAgICAgc3Ryb2tlV2lkdGg9XCIyXCJcclxuICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgIDxsaW5lXHJcbiAgICAgICAgICAgICAgICB4MT17cGFkZGluZ31cclxuICAgICAgICAgICAgICAgIHkxPXtjaGFydEhlaWdodCAtIHBhZGRpbmd9XHJcbiAgICAgICAgICAgICAgICB4Mj17Y2hhcnRXaWR0aCAtIHBhZGRpbmd9XHJcbiAgICAgICAgICAgICAgICB5Mj17Y2hhcnRIZWlnaHQgLSBwYWRkaW5nfVxyXG4gICAgICAgICAgICAgICAgc3Ryb2tlPVwid2hpdGVcIlxyXG4gICAgICAgICAgICAgICAgc3Ryb2tlV2lkdGg9XCIyXCJcclxuICAgICAgICAgICAgICAvPlxyXG5cclxuICAgICAgICAgICAgICB7LyogRWxldmF0aW9uIGxhYmVscyAqL31cclxuICAgICAgICAgICAgICB7WzAsIDAuMjUsIDAuNSwgMC43NSwgMV0ubWFwKHQgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZWxldmF0aW9uID0gbWluRWxldmF0aW9uICsgdCAqIChtYXhFbGV2YXRpb24gLSBtaW5FbGV2YXRpb24pO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgICAgICAgPHRleHRcclxuICAgICAgICAgICAgICAgICAgICBrZXk9e2BlbGV2LSR7dH1gfVxyXG4gICAgICAgICAgICAgICAgICAgIHg9e3BhZGRpbmcgLSAxMH1cclxuICAgICAgICAgICAgICAgICAgICB5PXtzY2FsZVkoZWxldmF0aW9uKX1cclxuICAgICAgICAgICAgICAgICAgICBmaWxsPVwid2hpdGVcIlxyXG4gICAgICAgICAgICAgICAgICAgIHRleHRBbmNob3I9XCJlbmRcIlxyXG4gICAgICAgICAgICAgICAgICAgIGZvbnRTaXplPVwiMTBcIlxyXG4gICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IGRvbWluYW50QmFzZWxpbmU6ICdtaWRkbGUnIH19XHJcbiAgICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICB7ZWxldmF0aW9uLnRvRml4ZWQoMCl9XHJcbiAgICAgICAgICAgICAgICAgIDwvdGV4dD5cclxuICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgfSl9XHJcblxyXG4gICAgICAgICAgICAgIHsvKiBEaXN0YW5jZSBsYWJlbHMgKi99XHJcbiAgICAgICAgICAgICAge1swLCAwLjI1LCAwLjUsIDAuNzUsIDFdLm1hcCh0ID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGRpc3RhbmNlID0gbWluRGlzdGFuY2UgKyB0ICogZGlzdGFuY2VSYW5nZTtcclxuICAgICAgICAgICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgICAgICAgIDx0ZXh0XHJcbiAgICAgICAgICAgICAgICAgICAga2V5PXtgZGlzdC0ke3R9YH1cclxuICAgICAgICAgICAgICAgICAgICB4PXtwYWRkaW5nICsgdCAqIHBsb3RXaWR0aH1cclxuICAgICAgICAgICAgICAgICAgICB5PXtjaGFydEhlaWdodCAtIDIwfVxyXG4gICAgICAgICAgICAgICAgICAgIGZpbGw9XCJ3aGl0ZVwiXHJcbiAgICAgICAgICAgICAgICAgICAgdGV4dEFuY2hvcj1cIm1pZGRsZVwiXHJcbiAgICAgICAgICAgICAgICAgICAgZm9udFNpemU9XCIxMFwiXHJcbiAgICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICB7ZGlzdGFuY2UudG9GaXhlZCgwKX1cclxuICAgICAgICAgICAgICAgICAgPC90ZXh0PlxyXG4gICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICB9KX1cclxuXHJcbiAgICAgICAgICAgICAgey8qIEF4aXMgbGFiZWxzICovfVxyXG4gICAgICAgICAgICAgIDx0ZXh0IFxyXG4gICAgICAgICAgICAgICAgeD17MTV9IFxyXG4gICAgICAgICAgICAgICAgeT17cGFkZGluZyArIHBsb3RIZWlnaHQgLyAyfSBcclxuICAgICAgICAgICAgICAgIGZpbGw9XCJ3aGl0ZVwiIFxyXG4gICAgICAgICAgICAgICAgdGV4dEFuY2hvcj1cIm1pZGRsZVwiIFxyXG4gICAgICAgICAgICAgICAgZm9udFNpemU9XCIxMlwiXHJcbiAgICAgICAgICAgICAgICB0cmFuc2Zvcm09e2Byb3RhdGUoLTkwLCAxNSwgJHtwYWRkaW5nICsgcGxvdEhlaWdodCAvIDJ9KWB9XHJcbiAgICAgICAgICAgICAgICBzdHlsZT17eyBkb21pbmFudEJhc2VsaW5lOiAnbWlkZGxlJyB9fVxyXG4gICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgIEVsZXZhdGlvbiAobSlcclxuICAgICAgICAgICAgICA8L3RleHQ+XHJcbiAgICAgICAgICAgICAgPHRleHQgeD17cGFkZGluZyArIHBsb3RXaWR0aCAvIDJ9IHk9e2NoYXJ0SGVpZ2h0IC0gMTB9IGZpbGw9XCJ3aGl0ZVwiIHRleHRBbmNob3I9XCJtaWRkbGVcIiBmb250U2l6ZT1cIjEyXCI+XHJcbiAgICAgICAgICAgICAgICBEaXN0YW5jZSAobSlcclxuICAgICAgICAgICAgICA8L3RleHQ+XHJcblxyXG4gICAgICAgICAgICAgIHsvKiBQcm9maWxlIGxpbmUgKi99XHJcbiAgICAgICAgICAgICAge3BhdGhEYXRhICYmIChcclxuICAgICAgICAgICAgICAgIDxwYXRoXHJcbiAgICAgICAgICAgICAgICAgIGQ9e3BhdGhEYXRhfVxyXG4gICAgICAgICAgICAgICAgICBmaWxsPVwibm9uZVwiXHJcbiAgICAgICAgICAgICAgICAgIHN0cm9rZT1cIiM0RUNEQzRcIlxyXG4gICAgICAgICAgICAgICAgICBzdHJva2VXaWR0aD1cIjNcIlxyXG4gICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICApfVxyXG5cclxuICAgICAgICAgICAgICB7LyogRGF0YSBwb2ludHMgKi99XHJcbiAgICAgICAgICAgICAge3Byb2ZpbGVEYXRhLm1hcCgocG9pbnQsIGlkeCkgPT4gKFxyXG4gICAgICAgICAgICAgICAgPGNpcmNsZVxyXG4gICAgICAgICAgICAgICAgICBrZXk9e2Bwb2ludC0ke2lkeH1gfVxyXG4gICAgICAgICAgICAgICAgICBjeD17c2NhbGVYKHBvaW50LmRpc3RhbmNlKX1cclxuICAgICAgICAgICAgICAgICAgY3k9e3NjYWxlWShwb2ludC5lbGV2YXRpb24pfVxyXG4gICAgICAgICAgICAgICAgICByPVwiNFwiXHJcbiAgICAgICAgICAgICAgICAgIGZpbGw9XCIjRkZENzAwXCJcclxuICAgICAgICAgICAgICAgICAgc3Ryb2tlPVwiI0ZGQTUwMFwiXHJcbiAgICAgICAgICAgICAgICAgIHN0cm9rZVdpZHRoPVwiMlwiXHJcbiAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgICkpfVxyXG4gICAgICAgICAgICA8L3N2Zz5cclxuICAgICAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgICAgIHsvKiBTbG9wZSBTZWdtZW50cyBUYWJsZSAqL31cclxuICAgICAgICAgIDxkaXY+XHJcbiAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgZGlzcGxheTogJ2ZsZXgnLCBqdXN0aWZ5Q29udGVudDogJ3NwYWNlLWJldHdlZW4nLCBhbGlnbkl0ZW1zOiAnY2VudGVyJywgbWFyZ2luQm90dG9tOiAnMTZweCcgfX0+XHJcbiAgICAgICAgICAgICAgPGgzIHN0eWxlPXt7IG1hcmdpbjogMCwgY29sb3I6ICcjNEVDREM0JyB9fT5TbG9wZSBTZWdtZW50czwvaDM+XHJcbiAgICAgICAgICAgICAgPGJ1dHRvblxyXG4gICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICBjb25zdCBmaXJzdExhbmUgPSBjb25kaXRpb25zLmxlbmd0aCA+IDAgPyBjb25kaXRpb25zWzBdLmxhbmVfaWQgOiBgJHtyb2FkSWR9YDtcclxuICAgICAgICAgICAgICAgICAgc2V0TmV3U2VnbWVudCh7IFxyXG4gICAgICAgICAgICAgICAgICAgIGxhbmVfaWQ6IGZpcnN0TGFuZSwgXHJcbiAgICAgICAgICAgICAgICAgICAgc3RhcnRfbWVhc3VyZTogJycsIFxyXG4gICAgICAgICAgICAgICAgICAgIGVuZF9tZWFzdXJlOiAnJywgXHJcbiAgICAgICAgICAgICAgICAgICAgY29uZGl0aW9uX3ZhbHVlOiAnJyBcclxuICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgIHNldEFkZGluZ05ldyh0cnVlKTtcclxuICAgICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgICAgICBzdHlsZT17e1xyXG4gICAgICAgICAgICAgICAgICBwYWRkaW5nOiAnNnB4IDEycHgnLFxyXG4gICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiAnIzJFQ0M3MScsXHJcbiAgICAgICAgICAgICAgICAgIGNvbG9yOiAnd2hpdGUnLFxyXG4gICAgICAgICAgICAgICAgICBib3JkZXI6ICdub25lJyxcclxuICAgICAgICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiAnNHB4JyxcclxuICAgICAgICAgICAgICAgICAgY3Vyc29yOiAncG9pbnRlcicsXHJcbiAgICAgICAgICAgICAgICAgIGZvbnRTaXplOiAnMTJweCcsXHJcbiAgICAgICAgICAgICAgICAgIGZvbnRXZWlnaHQ6ICdib2xkJ1xyXG4gICAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICArIEFkZCBTZWdtZW50XHJcbiAgICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IG92ZXJmbG93WDogJ2F1dG8nIH19PlxyXG4gICAgICAgICAgICAgIDx0YWJsZSBzdHlsZT17eyB3aWR0aDogJzEwMCUnLCBib3JkZXJDb2xsYXBzZTogJ2NvbGxhcHNlJyB9fT5cclxuICAgICAgICAgICAgICAgIDx0aGVhZD5cclxuICAgICAgICAgICAgICAgICAgPHRyIHN0eWxlPXt7IGJhY2tncm91bmRDb2xvcjogJ3JnYmEoNTIsIDE1MiwgMjE5LCAwLjIpJyB9fT5cclxuICAgICAgICAgICAgICAgICAgICA8dGggc3R5bGU9e3sgcGFkZGluZzogJzhweCcsIHRleHRBbGlnbjogJ2xlZnQnLCBib3JkZXI6ICcxcHggc29saWQgcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjIpJyB9fT5Sb2FkIFN0YXJ0IChtKTwvdGg+XHJcbiAgICAgICAgICAgICAgICAgICAgPHRoIHN0eWxlPXt7IHBhZGRpbmc6ICc4cHgnLCB0ZXh0QWxpZ246ICdsZWZ0JywgYm9yZGVyOiAnMXB4IHNvbGlkIHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4yKScgfX0+Um9hZCBFbmQgKG0pPC90aD5cclxuICAgICAgICAgICAgICAgICAgICA8dGggc3R5bGU9e3sgcGFkZGluZzogJzhweCcsIHRleHRBbGlnbjogJ2xlZnQnLCBib3JkZXI6ICcxcHggc29saWQgcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjIpJyB9fT5TbG9wZSAoJSk8L3RoPlxyXG4gICAgICAgICAgICAgICAgICAgIDx0aCBzdHlsZT17eyBwYWRkaW5nOiAnOHB4JywgdGV4dEFsaWduOiAnbGVmdCcsIGJvcmRlcjogJzFweCBzb2xpZCByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMiknIH19PkVsZXZhdGlvbiBhdCBTdGFydCAobSk8L3RoPlxyXG4gICAgICAgICAgICAgICAgICAgIDx0aCBzdHlsZT17eyBwYWRkaW5nOiAnOHB4JywgdGV4dEFsaWduOiAnbGVmdCcsIGJvcmRlcjogJzFweCBzb2xpZCByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMiknIH19PkVsZXZhdGlvbiBhdCBFbmQgKG0pPC90aD5cclxuICAgICAgICAgICAgICAgICAgICA8dGggc3R5bGU9e3sgcGFkZGluZzogJzhweCcsIHRleHRBbGlnbjogJ2xlZnQnLCBib3JkZXI6ICcxcHggc29saWQgcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjIpJyB9fT5BY3Rpb25zPC90aD5cclxuICAgICAgICAgICAgICAgICAgPC90cj5cclxuICAgICAgICAgICAgICAgIDwvdGhlYWQ+XHJcbiAgICAgICAgICAgICAgICA8dGJvZHk+XHJcbiAgICAgICAgICAgICAgICAgIHsoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIFNvcnQgYnkgbGFuZSBzZWdtZW50IG51bWJlciBmaXJzdCwgdGhlbiBieSBzdGFydF9tZWFzdXJlIHdpdGhpbiBlYWNoIGxhbmVcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBzb3J0ZWRDb25kaXRpb25zID0gWy4uLmNvbmRpdGlvbnNdLnNvcnQoKGEsIGIpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG1hdGNoQSA9IChhLmxhbmVfaWQgfHwgJycpLm1hdGNoKC9yb2FkX1xcZCtfKFxcZCspXy8pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgY29uc3QgbWF0Y2hCID0gKGIubGFuZV9pZCB8fCAnJykubWF0Y2goL3JvYWRfXFxkK18oXFxkKylfLyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzZWdOdW1BID0gbWF0Y2hBID8gcGFyc2VJbnQobWF0Y2hBWzFdLCAxMCkgOiA5OTk7XHJcbiAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzZWdOdW1CID0gbWF0Y2hCID8gcGFyc2VJbnQobWF0Y2hCWzFdLCAxMCkgOiA5OTk7XHJcbiAgICAgICAgICAgICAgICAgICAgICBpZiAoc2VnTnVtQSAhPT0gc2VnTnVtQikgcmV0dXJuIHNlZ051bUEgLSBzZWdOdW1CO1xyXG4gICAgICAgICAgICAgICAgICAgICAgaWYgKGEuc3RhcnRfbWVhc3VyZSAhPT0gYi5zdGFydF9tZWFzdXJlKSByZXR1cm4gYS5zdGFydF9tZWFzdXJlIC0gYi5zdGFydF9tZWFzdXJlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGEuZW5kX21lYXN1cmUgLSBiLmVuZF9tZWFzdXJlO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGxhbmVDdW11bGF0aXZlRGlzdGFuY2VzID0gbmV3IE1hcCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBjdW11bGF0aXZlRGlzdCA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbGFuZUdyb3VwcyA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgIHNvcnRlZENvbmRpdGlvbnMuZm9yRWFjaChjb25kID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgIGlmICghbGFuZUdyb3Vwc1tjb25kLmxhbmVfaWRdKSBsYW5lR3JvdXBzW2NvbmQubGFuZV9pZF0gPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICAgIGxhbmVHcm91cHNbY29uZC5sYW5lX2lkXS5wdXNoKGNvbmQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgIE9iamVjdC5rZXlzKGxhbmVHcm91cHMpLnNvcnQoKGEsIGIpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG1hdGNoQSA9IChhIHx8ICcnKS5tYXRjaCgvcm9hZF9cXGQrXyhcXGQrKV8vKTtcclxuICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG1hdGNoQiA9IChiIHx8ICcnKS5tYXRjaCgvcm9hZF9cXGQrXyhcXGQrKV8vKTtcclxuICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHNlZ051bUEgPSBtYXRjaEEgPyBwYXJzZUludChtYXRjaEFbMV0sIDEwKSA6IDk5OTtcclxuICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHNlZ051bUIgPSBtYXRjaEIgPyBwYXJzZUludChtYXRjaEJbMV0sIDEwKSA6IDk5OTtcclxuICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBzZWdOdW1BIC0gc2VnTnVtQjtcclxuICAgICAgICAgICAgICAgICAgICB9KS5mb3JFYWNoKGxhbmVJZCA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICBpZiAoIWxhbmVDdW11bGF0aXZlRGlzdGFuY2VzLmhhcyhsYW5lSWQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxhbmVDdW11bGF0aXZlRGlzdGFuY2VzLnNldChsYW5lSWQsIGN1bXVsYXRpdmVEaXN0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbGFuZUxlbmd0aCA9IE51bWJlcihsYW5lR3JvdXBzW2xhbmVJZF1bMF0/LmxhbmVfbGVuZ3RoKSB8fCBNYXRoLm1heCguLi5sYW5lR3JvdXBzW2xhbmVJZF0ubWFwKGMgPT4gYy5lbmRfbWVhc3VyZSksIDApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjdW11bGF0aXZlRGlzdCArPSBsYW5lTGVuZ3RoO1xyXG4gICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBzb3J0ZWRDb25kaXRpb25zLm1hcCgoY29uZCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgLy8gR2V0IGN1bXVsYXRpdmUgcm9hZCBkaXN0YW5jZSBmb3IgdGhpcyBsYW5lIHNlZ21lbnRcclxuICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGxhbmVTdGFydERpc3QgPSBOdW1iZXIobGFuZUN1bXVsYXRpdmVEaXN0YW5jZXMuZ2V0KGNvbmQubGFuZV9pZCkpIHx8IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICBjb25zdCByb2FkU3RhcnREaXN0ID0gbGFuZVN0YXJ0RGlzdCArIChOdW1iZXIoY29uZC5zdGFydF9tZWFzdXJlKSB8fCAwKTtcclxuICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJvYWRFbmREaXN0ID0gbGFuZVN0YXJ0RGlzdCArIChOdW1iZXIoY29uZC5lbmRfbWVhc3VyZSkgfHwgMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAgIC8vIENhbGN1bGF0ZSBlbGV2YXRpb24gYXQgdGhlc2UgY3VtdWxhdGl2ZSByb2FkIGRpc3RhbmNlc1xyXG4gICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3RhcnRFbGV2YXRpb24gPSBjYWxjdWxhdGVFbGV2YXRpb25BdERpc3RhbmNlKHJvYWRTdGFydERpc3QsIGFkanVzdGVkQ29uZHMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgY29uc3QgZW5kRWxldmF0aW9uID0gY2FsY3VsYXRlRWxldmF0aW9uQXREaXN0YW5jZShyb2FkRW5kRGlzdCwgYWRqdXN0ZWRDb25kcyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgICAgICAgICAgICA8dHIga2V5PXtjb25kLmNvbmRpdGlvbl9pZH0gc3R5bGU9e3sgYm9yZGVyQm90dG9tOiAnMXB4IHNvbGlkIHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4xKScgfX0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDx0ZCBzdHlsZT17eyBwYWRkaW5nOiAnOHB4JywgYm9yZGVyOiAnMXB4IHNvbGlkIHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4xKScgfX0+e051bWJlcihyb2FkU3RhcnREaXN0KS50b0ZpeGVkKDIpfTwvdGQ+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDx0ZCBzdHlsZT17eyBwYWRkaW5nOiAnOHB4JywgYm9yZGVyOiAnMXB4IHNvbGlkIHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4xKScgfX0+e051bWJlcihyb2FkRW5kRGlzdCkudG9GaXhlZCgyKX08L3RkPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8dGQgc3R5bGU9e3sgcGFkZGluZzogJzhweCcsIGJvcmRlcjogJzFweCBzb2xpZCByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMSknIH19PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgZGlzcGxheTogJ2ZsZXgnLCBmbGV4RGlyZWN0aW9uOiAnY29sdW1uJywgZ2FwOiAnNHB4JyB9fT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICB7ZWRpdGluZ0lkID09PSBjb25kLmNvbmRpdGlvbl9pZCA/IChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwibnVtYmVyXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e2VkaXRWYWx1ZX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXRFZGl0VmFsdWUoZS50YXJnZXQudmFsdWUpfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGVwPVwiMC4xXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogJzgwcHgnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6ICc0cHgnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlclJhZGl1czogJzRweCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9yZGVyOiAnMXB4IHNvbGlkICM1NTUnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogJyMyYzJjMmMnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiAnd2hpdGUnXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICkgOiAoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIHN0eWxlPXt7IGNvbG9yOiBwYXJzZUZsb2F0KGNvbmQuY29uZGl0aW9uX3ZhbHVlKSA+PSAwID8gJyMyRUNDNzEnIDogJyNFNzRDM0MnIH19PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtwYXJzZUZsb2F0KGNvbmQuY29uZGl0aW9uX3ZhbHVlKS50b0ZpeGVkKDIpfSVcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBzdHlsZT17eyBjb2xvcjogJyM5NWE1YTYnLCBmb250U2l6ZTogJzExcHgnIH19Pntjb25kLmxhbmVfaWR9PC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L3RkPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8dGQgc3R5bGU9e3sgcGFkZGluZzogJzhweCcsIGJvcmRlcjogJzFweCBzb2xpZCByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMSknIH19PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtzdGFydEVsZXZhdGlvbi50b0ZpeGVkKDIpfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L3RkPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8dGQgc3R5bGU9e3sgcGFkZGluZzogJzhweCcsIGJvcmRlcjogJzFweCBzb2xpZCByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMSknIH19PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtlbmRFbGV2YXRpb24udG9GaXhlZCgyKX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC90ZD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPHRkIHN0eWxlPXt7IHBhZGRpbmc6ICc4cHgnLCBib3JkZXI6ICcxcHggc29saWQgcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjEpJyB9fT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICB7ZWRpdGluZ0lkID09PSBjb25kLmNvbmRpdGlvbl9pZCA/IChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgZGlzcGxheTogJ2ZsZXgnLCBnYXA6ICc0cHgnIH19PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gaGFuZGxlU2F2ZShjb25kLmNvbmRpdGlvbl9pZCl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3NhdmluZ31cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFkZGluZzogJzRweCA4cHgnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZDogJyMyRUNDNzEnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6ICd3aGl0ZScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib3JkZXI6ICdub25lJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlclJhZGl1czogJzRweCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJzb3I6IHNhdmluZyA/ICdub3QtYWxsb3dlZCcgOiAncG9pbnRlcicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb250U2l6ZTogJzEycHgnXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtzYXZpbmcgPyAnU2F2aW5nLi4uJyA6ICdTYXZlJ31cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVDYW5jZWx9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6ICc0cHggOHB4JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6ICcjOTVhNWE2JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiAnd2hpdGUnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9yZGVyOiAnbm9uZScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib3JkZXJSYWRpdXM6ICc0cHgnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3Vyc29yOiAncG9pbnRlcicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb250U2l6ZTogJzEycHgnXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIENhbmNlbFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICkgOiBzcGxpdHRpbmdJZCA9PT0gY29uZC5jb25kaXRpb25faWQgPyAoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IGRpc3BsYXk6ICdmbGV4JywgZmxleERpcmVjdGlvbjogJ2NvbHVtbicsIGdhcDogJzRweCcgfX0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJudW1iZXJcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXtzcGxpdFBvaW50fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0U3BsaXRQb2ludChlLnRhcmdldC52YWx1ZSl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJTcGxpdCBwb2ludFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RlcD1cIjAuMVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiAnMTAwcHgnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFkZGluZzogJzRweCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib3JkZXJSYWRpdXM6ICc0cHgnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9yZGVyOiAnMXB4IHNvbGlkICM1NTUnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiAnIzJjMmMyYycsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogJ3doaXRlJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvbnRTaXplOiAnMTFweCdcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IGRpc3BsYXk6ICdmbGV4JywgZ2FwOiAnNHB4JyB9fT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBoYW5kbGVTcGxpdChjb25kKX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXtzYXZpbmd9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOiAnNHB4IDhweCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6ICcjRTY3RTIyJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6ICd3aGl0ZScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlcjogJ25vbmUnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib3JkZXJSYWRpdXM6ICc0cHgnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJzb3I6IHNhdmluZyA/ICdub3QtYWxsb3dlZCcgOiAncG9pbnRlcicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvbnRTaXplOiAnMTFweCdcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3NhdmluZyA/ICdTcGxpdHRpbmcuLi4nIDogJ1NwbGl0J31cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVDYW5jZWx9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOiAnNHB4IDhweCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6ICcjOTVhNWE2JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6ICd3aGl0ZScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlcjogJ25vbmUnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib3JkZXJSYWRpdXM6ICc0cHgnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJzb3I6ICdwb2ludGVyJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9udFNpemU6ICcxMXB4J1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBDYW5jZWxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICApIDogKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBkaXNwbGF5OiAnZmxleCcsIGdhcDogJzRweCcsIGZsZXhXcmFwOiAnd3JhcCcgfX0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBoYW5kbGVFZGl0KGNvbmQpfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOiAnNHB4IDhweCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiAnIzM0OThkYicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogJ3doaXRlJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlcjogJ25vbmUnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiAnNHB4JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnNvcjogJ3BvaW50ZXInLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9udFNpemU6ICcxMXB4J1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBFZGl0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gc2V0U3BsaXR0aW5nSWQoY29uZC5jb25kaXRpb25faWQpfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOiAnNHB4IDhweCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiAnI0U2N0UyMicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogJ3doaXRlJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlcjogJ25vbmUnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiAnNHB4JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnNvcjogJ3BvaW50ZXInLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9udFNpemU6ICcxMXB4J1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBTcGxpdFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IGhhbmRsZURlbGV0ZShjb25kLmNvbmRpdGlvbl9pZCl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3NhdmluZ31cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFkZGluZzogJzRweCA4cHgnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZDogJyNFNzRDM0MnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6ICd3aGl0ZScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib3JkZXI6ICdub25lJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlclJhZGl1czogJzRweCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJzb3I6IHNhdmluZyA/ICdub3QtYWxsb3dlZCcgOiAncG9pbnRlcicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb250U2l6ZTogJzExcHgnXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlbGV0ZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvdGQ+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8L3RyPlxyXG4gICAgICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICB9KSgpfVxyXG4gICAgICAgICAgICAgICAgICB7LyogQWRkIG5ldyBzZWdtZW50IHJvdyAqL31cclxuICAgICAgICAgICAgICAgICAge2FkZGluZ05ldyAmJiAoXHJcbiAgICAgICAgICAgICAgICAgICAgPHRyIHN0eWxlPXt7IGJvcmRlckJvdHRvbTogJzFweCBzb2xpZCByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMSknLCBiYWNrZ3JvdW5kQ29sb3I6ICdyZ2JhKDQ2LCAyMDQsIDExMywgMC4xKScgfX0+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8dGQgc3R5bGU9e3sgcGFkZGluZzogJzhweCcsIGJvcmRlcjogJzFweCBzb2xpZCByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMSknIH19PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwidGV4dFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e25ld1NlZ21lbnQubGFuZV9pZH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHNldE5ld1NlZ21lbnQoeyAuLi5uZXdTZWdtZW50LCBsYW5lX2lkOiBlLnRhcmdldC52YWx1ZSB9KX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cImxhbmVfaWRcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogJzE1MHB4JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6ICc0cHgnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiAnNHB4JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlcjogJzFweCBzb2xpZCAjNTU1JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogJyMyYzJjMmMnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6ICd3aGl0ZScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb250U2l6ZTogJzExcHgnXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgICAgICAgIDwvdGQ+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8dGQgc3R5bGU9e3sgcGFkZGluZzogJzhweCcsIGJvcmRlcjogJzFweCBzb2xpZCByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMSknIH19Pi08L3RkPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPHRkIHN0eWxlPXt7IHBhZGRpbmc6ICc4cHgnLCBib3JkZXI6ICcxcHggc29saWQgcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjEpJyB9fT4tPC90ZD5cclxuICAgICAgICAgICAgICAgICAgICAgIDx0ZCBzdHlsZT17eyBwYWRkaW5nOiAnOHB4JywgYm9yZGVyOiAnMXB4IHNvbGlkIHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4xKScgfX0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJudW1iZXJcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXtuZXdTZWdtZW50LnN0YXJ0X21lYXN1cmV9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXROZXdTZWdtZW50KHsgLi4ubmV3U2VnbWVudCwgc3RhcnRfbWVhc3VyZTogZS50YXJnZXQudmFsdWUgfSl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJTdGFydFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc3RlcD1cIjAuMVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiAnODBweCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOiAnNHB4JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlclJhZGl1czogJzRweCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBib3JkZXI6ICcxcHggc29saWQgIzU1NScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICcjMmMyYzJjJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiAnd2hpdGUnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9udFNpemU6ICcxMXB4J1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8L3RkPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPHRkIHN0eWxlPXt7IHBhZGRpbmc6ICc4cHgnLCBib3JkZXI6ICcxcHggc29saWQgcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjEpJyB9fT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1cIm51bWJlclwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e25ld1NlZ21lbnQuZW5kX21lYXN1cmV9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXROZXdTZWdtZW50KHsgLi4ubmV3U2VnbWVudCwgZW5kX21lYXN1cmU6IGUudGFyZ2V0LnZhbHVlIH0pfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiRW5kXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBzdGVwPVwiMC4xXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6ICc4MHB4JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6ICc0cHgnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiAnNHB4JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlcjogJzFweCBzb2xpZCAjNTU1JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogJyMyYzJjMmMnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6ICd3aGl0ZScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb250U2l6ZTogJzExcHgnXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgICAgICAgIDwvdGQ+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8dGQgc3R5bGU9e3sgcGFkZGluZzogJzhweCcsIGJvcmRlcjogJzFweCBzb2xpZCByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMSknIH19PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwibnVtYmVyXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17bmV3U2VnbWVudC5jb25kaXRpb25fdmFsdWV9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXROZXdTZWdtZW50KHsgLi4ubmV3U2VnbWVudCwgY29uZGl0aW9uX3ZhbHVlOiBlLnRhcmdldC52YWx1ZSB9KX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIlNsb3BlICVcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHN0ZXA9XCIwLjFcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogJzgwcHgnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFkZGluZzogJzRweCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBib3JkZXJSYWRpdXM6ICc0cHgnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9yZGVyOiAnMXB4IHNvbGlkICM1NTUnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiAnIzJjMmMyYycsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogJ3doaXRlJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvbnRTaXplOiAnMTFweCdcclxuICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPC90ZD5cclxuICAgICAgICAgICAgICAgICAgICAgIDx0ZCBzdHlsZT17eyBwYWRkaW5nOiAnOHB4JywgYm9yZGVyOiAnMXB4IHNvbGlkIHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4xKScgfX0+LTwvdGQ+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8dGQgc3R5bGU9e3sgcGFkZGluZzogJzhweCcsIGJvcmRlcjogJzFweCBzb2xpZCByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMSknIH19Pi08L3RkPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPHRkIHN0eWxlPXt7IHBhZGRpbmc6ICc4cHgnLCBib3JkZXI6ICcxcHggc29saWQgcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjEpJyB9fT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBkaXNwbGF5OiAnZmxleCcsIGdhcDogJzRweCcgfX0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17aGFuZGxlQWRkfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3NhdmluZ31cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6ICc0cHggOHB4JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZDogJyMyRUNDNzEnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogJ3doaXRlJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9yZGVyOiAnbm9uZScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlclJhZGl1czogJzRweCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnNvcjogc2F2aW5nID8gJ25vdC1hbGxvd2VkJyA6ICdwb2ludGVyJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9udFNpemU6ICcxMXB4J1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7c2F2aW5nID8gJ0FkZGluZy4uLicgOiAnQWRkJ31cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVDYW5jZWx9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOiAnNHB4IDhweCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6ICcjOTVhNWE2JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6ICd3aGl0ZScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlcjogJ25vbmUnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib3JkZXJSYWRpdXM6ICc0cHgnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJzb3I6ICdwb2ludGVyJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9udFNpemU6ICcxMXB4J1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBDYW5jZWxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8L3RkPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvdHI+XHJcbiAgICAgICAgICAgICAgICAgICl9XHJcbiAgICAgICAgICAgICAgICA8L3Rib2R5PlxyXG4gICAgICAgICAgICAgIDwvdGFibGU+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPC8+XHJcbiAgICAgICl9XHJcbiAgICA8L2Rpdj5cclxuICApO1xyXG59XHJcblxyXG5cclxuXHJcblxyXG4iXSwibmFtZXMiOlsidXNlU3RhdGUiLCJ1c2VFZmZlY3QiLCJSRUZFUkVOQ0VfRUxFVkFUSU9OIiwiUm9hZFByb2ZpbGVWaWV3ZXIiLCJyb2FkSWQiLCJvbkNsb3NlIiwiY29uZGl0aW9ucyIsInNldENvbmRpdGlvbnMiLCJ0b3RhbFJvYWRMZW5ndGgiLCJzZXRUb3RhbFJvYWRMZW5ndGgiLCJsb2FkaW5nIiwic2V0TG9hZGluZyIsImVkaXRpbmdJZCIsInNldEVkaXRpbmdJZCIsImVkaXRWYWx1ZSIsInNldEVkaXRWYWx1ZSIsInNhdmluZyIsInNldFNhdmluZyIsInNwbGl0dGluZ0lkIiwic2V0U3BsaXR0aW5nSWQiLCJzcGxpdFBvaW50Iiwic2V0U3BsaXRQb2ludCIsImFkZGluZ05ldyIsInNldEFkZGluZ05ldyIsIm5ld1NlZ21lbnQiLCJzZXROZXdTZWdtZW50IiwibGFuZV9pZCIsInN0YXJ0X21lYXN1cmUiLCJlbmRfbWVhc3VyZSIsImNvbmRpdGlvbl92YWx1ZSIsImZldGNoQ29uZGl0aW9ucyIsInJlc3BvbnNlIiwiZmV0Y2giLCJvayIsIkVycm9yIiwiZGF0YSIsImpzb24iLCJBcnJheSIsImlzQXJyYXkiLCJOdW1iZXIiLCJ0b3RhbF9yb2FkX2xlbmd0aCIsImVycm9yIiwiY29uc29sZSIsImNhbGN1bGF0ZUVsZXZhdGlvbkF0RGlzdGFuY2UiLCJjdW11bGF0aXZlRGlzdGFuY2UiLCJhbGxDb25kaXRpb25zIiwiZWxldmF0aW9uIiwiY3VycmVudERpc3RhbmNlIiwibGFuZUdyb3VwcyIsImZvckVhY2giLCJjb25kIiwicHVzaCIsImxhbmVFbnRyaWVzIiwiT2JqZWN0IiwiZW50cmllcyIsIm1hcCIsImxhbmVJZCIsImNvbmRzIiwibWF0Y2giLCJzZWdOdW0iLCJwYXJzZUludCIsImxhbmVMZW5ndGgiLCJNYXRoIiwibWF4IiwiYyIsImFkal9lbmQiLCJzb3J0IiwiYSIsImIiLCJzb3J0ZWRDb25kcyIsImFkal9zdGFydCIsImxhbmVTdGFydERpc3RhbmNlIiwiY29uZFN0YXJ0RGlzdCIsImNvbmRFbmREaXN0Iiwic2xvcGUiLCJkaXN0SW5Db25kaXRpb24iLCJjb25kTGVuZ3RoIiwibm9ybWFsaXplQ29uZGl0aW9ucyIsImxlbmd0aCIsInN0YXJ0IiwiZW5kIiwibGVuIiwibGFuZV9sZW5ndGgiLCJub3JtYWxpemVkIiwibGlzdCIsImxhbmVTdGFydHMiLCJNYXAiLCJjdW11bGF0aXZlTGFuZSIsImFkanVzdGVkIiwic2V0Iiwic29ydGVkIiwiY3VyIiwiYWRqU3RhcnQiLCJhZGpFbmQiLCJyb2FkX3N0YXJ0Iiwicm9hZF9lbmQiLCJsYW5lTGVuIiwidG90YWxMZW5ndGgiLCJhZGp1c3RlZENvbmRzIiwiZWZmZWN0aXZlVG90YWxMZW5ndGgiLCJnZW5lcmF0ZVByb2ZpbGVEYXRhIiwiZGlzdGFuY2VQb2ludHMiLCJTZXQiLCJhZGQiLCJzb3J0ZWREaXN0YW5jZXMiLCJmcm9tIiwicmVzdWx0IiwiZGlzdGFuY2UiLCJmaW5kIiwiY29uZGl0aW9uX2lkIiwiaGFuZGxlRWRpdCIsImNvbmRpdGlvbiIsImhhbmRsZVNhdmUiLCJjb25kaXRpb25JZCIsInZhbHVlIiwicGFyc2VGbG9hdCIsImlzTmFOIiwiYWxlcnQiLCJtZXRob2QiLCJoZWFkZXJzIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJlcnJvckRhdGEiLCJjYXRjaCIsImxvZyIsIm1lc3NhZ2UiLCJoYW5kbGVDYW5jZWwiLCJoYW5kbGVTcGxpdCIsInNwbGl0VmFsdWUiLCJyZXNwb25zZTEiLCJyZXNwb25zZTIiLCJoYW5kbGVEZWxldGUiLCJjb25maXJtIiwiaGFuZGxlQWRkIiwicHJvZmlsZURhdGEiLCJtaW5EaXN0YW5jZSIsIm1pbiIsInAiLCJtYXhEaXN0YW5jZSIsIm1pbkVsZXZhdGlvbiIsIm1heEVsZXZhdGlvbiIsImNoYXJ0V2lkdGgiLCJjaGFydEhlaWdodCIsInBhZGRpbmciLCJwbG90V2lkdGgiLCJwbG90SGVpZ2h0IiwiZWxldmF0aW9uUmFuZ2UiLCJkaXN0YW5jZVJhbmdlIiwic2NhbGVYIiwic2NhbGVZIiwicGF0aERhdGEiLCJqb2luIiwiZGl2Iiwic3R5bGUiLCJwb3NpdGlvbiIsInRvcCIsImxlZnQiLCJyaWdodCIsImJvdHRvbSIsImJhY2tncm91bmRDb2xvciIsImRpc3BsYXkiLCJqdXN0aWZ5Q29udGVudCIsImFsaWduSXRlbXMiLCJ6SW5kZXgiLCJjb2xvciIsImZsZXhEaXJlY3Rpb24iLCJvdmVyZmxvdyIsIm1hcmdpbkJvdHRvbSIsImgyIiwibWFyZ2luIiwiYnV0dG9uIiwib25DbGljayIsImJhY2tncm91bmQiLCJib3JkZXIiLCJib3JkZXJSYWRpdXMiLCJjdXJzb3IiLCJmb250V2VpZ2h0IiwiZm9udFNpemUiLCJ0ZXh0QWxpZ24iLCJtYXJnaW5Ub3AiLCJnYXAiLCJmbGV4V3JhcCIsImlucHV0IiwidHlwZSIsInBsYWNlaG9sZGVyIiwib25DaGFuZ2UiLCJlIiwidGFyZ2V0Iiwid2lkdGgiLCJsYW5lRGVmYXVsdCIsImRpc2FibGVkIiwiaDMiLCJzdmciLCJoZWlnaHQiLCJ0IiwibGluZSIsIngxIiwieTEiLCJ4MiIsInkyIiwic3Ryb2tlIiwic3Ryb2tlV2lkdGgiLCJ0ZXh0IiwieCIsInkiLCJmaWxsIiwidGV4dEFuY2hvciIsImRvbWluYW50QmFzZWxpbmUiLCJ0b0ZpeGVkIiwidHJhbnNmb3JtIiwicGF0aCIsImQiLCJwb2ludCIsImlkeCIsImNpcmNsZSIsImN4IiwiY3kiLCJyIiwiZmlyc3RMYW5lIiwib3ZlcmZsb3dYIiwidGFibGUiLCJib3JkZXJDb2xsYXBzZSIsInRoZWFkIiwidHIiLCJ0aCIsInRib2R5Iiwic29ydGVkQ29uZGl0aW9ucyIsIm1hdGNoQSIsIm1hdGNoQiIsInNlZ051bUEiLCJzZWdOdW1CIiwibGFuZUN1bXVsYXRpdmVEaXN0YW5jZXMiLCJjdW11bGF0aXZlRGlzdCIsImtleXMiLCJoYXMiLCJsYW5lU3RhcnREaXN0IiwiZ2V0Iiwicm9hZFN0YXJ0RGlzdCIsInJvYWRFbmREaXN0Iiwic3RhcnRFbGV2YXRpb24iLCJlbmRFbGV2YXRpb24iLCJib3JkZXJCb3R0b20iLCJ0ZCIsInN0ZXAiLCJzcGFuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./components/RoadProfileViewer.js\n");

/***/ }),

/***/ "./components/SpeedManagementViewer.js":
/*!*********************************************!*\
  !*** ./components/SpeedManagementViewer.js ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ SpeedManagementViewer)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n\n\nfunction SpeedManagementViewer({ roadId, onClose }) {\n    const [lanes, setLanes] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [speedLimits, setSpeedLimits] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [vehicleModels, setVehicleModels] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const [editingId, setEditingId] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [newSpeed, setNewSpeed] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        series_id: \"\",\n        max_speed_kmh: \"\",\n        from_measure: \"0\",\n        to_measure: \"\"\n    });\n    const [totalRoadLength, setTotalRoadLength] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (roadId) {\n            fetchSpeedData();\n        }\n    }, [\n        roadId\n    ]);\n    const fetchSpeedData = async ()=>{\n        try {\n            setLoading(true);\n            const response = await fetch(`/api/road-speed-limits?road_id=${roadId}`);\n            if (!response.ok) throw new Error(\"Failed to fetch speed data\");\n            const data = await response.json();\n            setLanes(data.lanes || []);\n            setVehicleModels(data.vehicleModels || []);\n            // Calculate total road length\n            const totalLength = (data.lanes || []).reduce((sum, lane)=>sum + (lane.length_m || 0), 0);\n            setTotalRoadLength(totalLength);\n            setNewSpeed((prev)=>({\n                    ...prev,\n                    to_measure: totalLength.toFixed(1)\n                }));\n            // Group speed limits by road segment (from_measure to to_measure) and vehicle\n            // Display at road level, not per lane\n            const roadLevelLimits = (data.speedLimits || []).reduce((acc, limit)=>{\n                const key = `${limit.series_id}_${limit.from_measure}_${limit.to_measure}`;\n                if (!acc[key]) {\n                    acc[key] = {\n                        ...limit\n                    };\n                }\n                return acc;\n            }, {});\n            setSpeedLimits(Object.values(roadLevelLimits));\n        } catch (error) {\n            console.error(\"Error fetching speed data:\", error);\n            alert(\"Failed to load speed data: \" + error.message);\n        } finally{\n            setLoading(false);\n        }\n    };\n    const handleSave = async (speedLimit)=>{\n        const toMeasure = speedLimit.to_measure ? parseFloat(speedLimit.to_measure) : null;\n        if (toMeasure && toMeasure > totalRoadLength) {\n            alert(`To measure (${toMeasure}m) cannot exceed total road length (${totalRoadLength.toFixed(1)}m)`);\n            return;\n        }\n        try {\n            const response = await fetch(\"/api/road-speed-limits\", {\n                method: \"PUT\",\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                },\n                body: JSON.stringify({\n                    speed_limit_id: speedLimit.speed_limit_id,\n                    series_id: speedLimit.series_id ? parseInt(speedLimit.series_id) : null,\n                    max_speed_kmh: parseFloat(speedLimit.max_speed_kmh),\n                    from_measure: speedLimit.from_measure ? parseFloat(speedLimit.from_measure) : null,\n                    to_measure: toMeasure\n                })\n            });\n            if (!response.ok) throw new Error(\"Failed to update speed limit\");\n            setEditingId(null);\n            fetchSpeedData();\n        } catch (error) {\n            console.error(\"Error saving speed limit:\", error);\n            alert(\"Failed to save: \" + error.message);\n        }\n    };\n    const handleDelete = async (speedLimitId)=>{\n        if (!confirm(\"Are you sure you want to delete this speed limit?\")) return;\n        try {\n            const response = await fetch(`/api/road-speed-limits?speed_limit_id=${speedLimitId}`, {\n                method: \"DELETE\"\n            });\n            if (!response.ok) throw new Error(\"Failed to delete speed limit\");\n            fetchSpeedData();\n        } catch (error) {\n            console.error(\"Error deleting speed limit:\", error);\n            alert(\"Failed to delete: \" + error.message);\n        }\n    };\n    const handleAdd = async ()=>{\n        if (!newSpeed.series_id || !newSpeed.max_speed_kmh) {\n            alert(\"Please fill in all required fields\");\n            return;\n        }\n        const fromMeasure = newSpeed.from_measure ? parseFloat(newSpeed.from_measure) : 0;\n        const toMeasure = newSpeed.to_measure ? parseFloat(newSpeed.to_measure) : totalRoadLength;\n        // Validate against total road length\n        if (toMeasure > totalRoadLength) {\n            alert(`To measure (${toMeasure}m) cannot exceed total road length (${totalRoadLength.toFixed(1)}m)`);\n            return;\n        }\n        if (fromMeasure >= toMeasure) {\n            alert(\"From measure must be less than To measure\");\n            return;\n        }\n        try {\n            // Add speed limit for ALL lanes on this road\n            const response = await fetch(\"/api/road-speed-limits\", {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                },\n                body: JSON.stringify({\n                    road_id: roadId,\n                    apply_to_all_lanes: true,\n                    series_id: parseInt(newSpeed.series_id),\n                    max_speed_kmh: parseFloat(newSpeed.max_speed_kmh),\n                    from_measure: fromMeasure,\n                    to_measure: toMeasure\n                })\n            });\n            if (!response.ok) throw new Error(\"Failed to create speed limit\");\n            // Reset form\n            setNewSpeed({\n                series_id: \"\",\n                max_speed_kmh: \"\",\n                from_measure: \"0\",\n                to_measure: totalRoadLength.toFixed(1)\n            });\n            fetchSpeedData();\n        } catch (error) {\n            console.error(\"Error adding speed limit:\", error);\n            alert(\"Failed to add: \" + error.message);\n        }\n    };\n    if (loading) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            style: {\n                position: \"fixed\",\n                top: 0,\n                left: 0,\n                right: 0,\n                bottom: 0,\n                backgroundColor: \"rgba(0, 0, 0, 0.9)\",\n                zIndex: 10000,\n                display: \"flex\",\n                alignItems: \"center\",\n                justifyContent: \"center\",\n                color: \"white\"\n            },\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                children: \"Loading speed data...\"\n            }, void 0, false, {\n                fileName: \"/app/components/SpeedManagementViewer.js\",\n                lineNumber: 154,\n                columnNumber: 9\n            }, this)\n        }, void 0, false, {\n            fileName: \"/app/components/SpeedManagementViewer.js\",\n            lineNumber: 141,\n            columnNumber: 7\n        }, this);\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        style: {\n            position: \"fixed\",\n            top: 0,\n            left: 0,\n            right: 0,\n            bottom: 0,\n            backgroundColor: \"rgba(0, 0, 0, 0.9)\",\n            zIndex: 10000,\n            display: \"flex\",\n            flexDirection: \"column\",\n            padding: \"20px\",\n            overflow: \"auto\",\n            color: \"white\"\n        },\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                style: {\n                    display: \"flex\",\n                    justifyContent: \"space-between\",\n                    alignItems: \"center\",\n                    marginBottom: \"20px\"\n                },\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                        style: {\n                            margin: 0,\n                            color: \"#4ECDC4\"\n                        },\n                        children: [\n                            \"Speed Management - Road ID: \",\n                            roadId\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/app/components/SpeedManagementViewer.js\",\n                        lineNumber: 175,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        onClick: onClose,\n                        style: {\n                            background: \"#E74C3C\",\n                            color: \"white\",\n                            border: \"none\",\n                            padding: \"10px 20px\",\n                            borderRadius: \"6px\",\n                            cursor: \"pointer\",\n                            fontWeight: \"bold\",\n                            fontSize: \"14px\"\n                        },\n                        children: \"✕ Close\"\n                    }, void 0, false, {\n                        fileName: \"/app/components/SpeedManagementViewer.js\",\n                        lineNumber: 176,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/app/components/SpeedManagementViewer.js\",\n                lineNumber: 174,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                style: {\n                    marginBottom: \"20px\",\n                    padding: \"15px\",\n                    backgroundColor: \"rgba(52, 152, 219, 0.1)\",\n                    borderRadius: \"6px\",\n                    border: \"1px solid rgba(52, 152, 219, 0.3)\"\n                },\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                        style: {\n                            marginTop: 0,\n                            color: \"#4ECDC4\"\n                        },\n                        children: [\n                            \"Add Speed Limit (Road Level - Total Length: \",\n                            totalRoadLength.toFixed(1),\n                            \"m)\"\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/app/components/SpeedManagementViewer.js\",\n                        lineNumber: 195,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        style: {\n                            display: \"grid\",\n                            gridTemplateColumns: \"repeat(auto-fit, minmax(200px, 1fr))\",\n                            gap: \"10px\",\n                            marginBottom: \"10px\"\n                        },\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"select\", {\n                                value: newSpeed.series_id,\n                                onChange: (e)=>setNewSpeed({\n                                        ...newSpeed,\n                                        series_id: e.target.value\n                                    }),\n                                style: {\n                                    padding: \"8px\",\n                                    borderRadius: \"4px\",\n                                    backgroundColor: \"#2c3e50\",\n                                    color: \"white\",\n                                    border: \"1px solid #34495e\"\n                                },\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                        value: \"\",\n                                        children: \"Select Vehicle Model\"\n                                    }, void 0, false, {\n                                        fileName: \"/app/components/SpeedManagementViewer.js\",\n                                        lineNumber: 202,\n                                        columnNumber: 13\n                                    }, this),\n                                    vehicleModels.map((vm)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                            value: vm.series_id,\n                                            children: [\n                                                vm.manufacturer,\n                                                \" \",\n                                                vm.model_name\n                                            ]\n                                        }, vm.series_id, true, {\n                                            fileName: \"/app/components/SpeedManagementViewer.js\",\n                                            lineNumber: 204,\n                                            columnNumber: 15\n                                        }, this))\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/app/components/SpeedManagementViewer.js\",\n                                lineNumber: 197,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                type: \"number\",\n                                placeholder: \"Max Speed (km/h)\",\n                                value: newSpeed.max_speed_kmh,\n                                onChange: (e)=>setNewSpeed({\n                                        ...newSpeed,\n                                        max_speed_kmh: e.target.value\n                                    }),\n                                style: {\n                                    padding: \"8px\",\n                                    borderRadius: \"4px\",\n                                    backgroundColor: \"#2c3e50\",\n                                    color: \"white\",\n                                    border: \"1px solid #34495e\"\n                                }\n                            }, void 0, false, {\n                                fileName: \"/app/components/SpeedManagementViewer.js\",\n                                lineNumber: 209,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                type: \"number\",\n                                placeholder: \"Road Start (m)\",\n                                value: newSpeed.from_measure,\n                                onChange: (e)=>setNewSpeed({\n                                        ...newSpeed,\n                                        from_measure: e.target.value\n                                    }),\n                                style: {\n                                    padding: \"8px\",\n                                    borderRadius: \"4px\",\n                                    backgroundColor: \"#2c3e50\",\n                                    color: \"white\",\n                                    border: \"1px solid #34495e\"\n                                }\n                            }, void 0, false, {\n                                fileName: \"/app/components/SpeedManagementViewer.js\",\n                                lineNumber: 216,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                type: \"number\",\n                                placeholder: `Road End (m, max: ${totalRoadLength.toFixed(1)})`,\n                                value: newSpeed.to_measure,\n                                onChange: (e)=>setNewSpeed({\n                                        ...newSpeed,\n                                        to_measure: e.target.value\n                                    }),\n                                max: totalRoadLength,\n                                style: {\n                                    padding: \"8px\",\n                                    borderRadius: \"4px\",\n                                    backgroundColor: \"#2c3e50\",\n                                    color: \"white\",\n                                    border: \"1px solid #34495e\"\n                                }\n                            }, void 0, false, {\n                                fileName: \"/app/components/SpeedManagementViewer.js\",\n                                lineNumber: 223,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/app/components/SpeedManagementViewer.js\",\n                        lineNumber: 196,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        onClick: handleAdd,\n                        style: {\n                            background: \"#27AE60\",\n                            color: \"white\",\n                            border: \"none\",\n                            padding: \"10px 20px\",\n                            borderRadius: \"6px\",\n                            cursor: \"pointer\",\n                            fontWeight: \"bold\"\n                        },\n                        children: \"+ Add Speed Limit\"\n                    }, void 0, false, {\n                        fileName: \"/app/components/SpeedManagementViewer.js\",\n                        lineNumber: 232,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/app/components/SpeedManagementViewer.js\",\n                lineNumber: 194,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                        style: {\n                            color: \"#4ECDC4\",\n                            marginBottom: \"15px\"\n                        },\n                        children: \"Speed Limits (Road Segments)\"\n                    }, void 0, false, {\n                        fileName: \"/app/components/SpeedManagementViewer.js\",\n                        lineNumber: 250,\n                        columnNumber: 9\n                    }, this),\n                    speedLimits.length === 0 ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        style: {\n                            color: \"#95a5a6\",\n                            fontStyle: \"italic\"\n                        },\n                        children: \"No speed limits defined for this road.\"\n                    }, void 0, false, {\n                        fileName: \"/app/components/SpeedManagementViewer.js\",\n                        lineNumber: 252,\n                        columnNumber: 11\n                    }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        style: {\n                            marginBottom: \"20px\",\n                            padding: \"15px\",\n                            backgroundColor: \"rgba(44, 62, 80, 0.5)\",\n                            borderRadius: \"6px\",\n                            border: \"1px solid rgba(52, 152, 219, 0.3)\"\n                        },\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"table\", {\n                            style: {\n                                width: \"100%\",\n                                borderCollapse: \"collapse\"\n                            },\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"thead\", {\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"tr\", {\n                                        style: {\n                                            borderBottom: \"2px solid rgba(52, 152, 219, 0.5)\"\n                                        },\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"th\", {\n                                                style: {\n                                                    padding: \"10px\",\n                                                    textAlign: \"left\"\n                                                },\n                                                children: \"Road Start (m)\"\n                                            }, void 0, false, {\n                                                fileName: \"/app/components/SpeedManagementViewer.js\",\n                                                lineNumber: 258,\n                                                columnNumber: 19\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"th\", {\n                                                style: {\n                                                    padding: \"10px\",\n                                                    textAlign: \"left\"\n                                                },\n                                                children: \"Road End (m)\"\n                                            }, void 0, false, {\n                                                fileName: \"/app/components/SpeedManagementViewer.js\",\n                                                lineNumber: 259,\n                                                columnNumber: 19\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"th\", {\n                                                style: {\n                                                    padding: \"10px\",\n                                                    textAlign: \"left\"\n                                                },\n                                                children: \"Vehicle Model\"\n                                            }, void 0, false, {\n                                                fileName: \"/app/components/SpeedManagementViewer.js\",\n                                                lineNumber: 260,\n                                                columnNumber: 19\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"th\", {\n                                                style: {\n                                                    padding: \"10px\",\n                                                    textAlign: \"left\"\n                                                },\n                                                children: \"Max Speed (km/h)\"\n                                            }, void 0, false, {\n                                                fileName: \"/app/components/SpeedManagementViewer.js\",\n                                                lineNumber: 261,\n                                                columnNumber: 19\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"th\", {\n                                                style: {\n                                                    padding: \"10px\",\n                                                    textAlign: \"left\"\n                                                },\n                                                children: \"Actions\"\n                                            }, void 0, false, {\n                                                fileName: \"/app/components/SpeedManagementViewer.js\",\n                                                lineNumber: 262,\n                                                columnNumber: 19\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/app/components/SpeedManagementViewer.js\",\n                                        lineNumber: 257,\n                                        columnNumber: 17\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/app/components/SpeedManagementViewer.js\",\n                                    lineNumber: 256,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"tbody\", {\n                                    children: speedLimits.map((sl)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"tr\", {\n                                            style: {\n                                                borderBottom: \"1px solid rgba(255, 255, 255, 0.1)\"\n                                            },\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                                    style: {\n                                                        padding: \"10px\"\n                                                    },\n                                                    children: editingId === sl.speed_limit_id ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                        type: \"number\",\n                                                        value: sl.from_measure || 0,\n                                                        onChange: (e)=>{\n                                                            const updated = speedLimits.map((s)=>s.speed_limit_id === sl.speed_limit_id ? {\n                                                                    ...s,\n                                                                    from_measure: e.target.value\n                                                                } : s);\n                                                            setSpeedLimits(updated);\n                                                        },\n                                                        style: {\n                                                            width: \"80px\",\n                                                            padding: \"4px\",\n                                                            borderRadius: \"4px\",\n                                                            backgroundColor: \"#2c3e50\",\n                                                            color: \"white\",\n                                                            border: \"1px solid #34495e\"\n                                                        }\n                                                    }, void 0, false, {\n                                                        fileName: \"/app/components/SpeedManagementViewer.js\",\n                                                        lineNumber: 270,\n                                                        columnNumber: 26\n                                                    }, this) : Number(sl.from_measure || 0).toFixed(2)\n                                                }, void 0, false, {\n                                                    fileName: \"/app/components/SpeedManagementViewer.js\",\n                                                    lineNumber: 268,\n                                                    columnNumber: 22\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                                    style: {\n                                                        padding: \"10px\"\n                                                    },\n                                                    children: editingId === sl.speed_limit_id ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                        type: \"number\",\n                                                        value: sl.to_measure || totalRoadLength,\n                                                        onChange: (e)=>{\n                                                            const updated = speedLimits.map((s)=>s.speed_limit_id === sl.speed_limit_id ? {\n                                                                    ...s,\n                                                                    to_measure: e.target.value\n                                                                } : s);\n                                                            setSpeedLimits(updated);\n                                                        },\n                                                        max: totalRoadLength,\n                                                        style: {\n                                                            width: \"80px\",\n                                                            padding: \"4px\",\n                                                            borderRadius: \"4px\",\n                                                            backgroundColor: \"#2c3e50\",\n                                                            color: \"white\",\n                                                            border: \"1px solid #34495e\"\n                                                        }\n                                                    }, void 0, false, {\n                                                        fileName: \"/app/components/SpeedManagementViewer.js\",\n                                                        lineNumber: 289,\n                                                        columnNumber: 26\n                                                    }, this) : sl.to_measure ? Number(Math.min(sl.to_measure, totalRoadLength)).toFixed(2) : Number(totalRoadLength).toFixed(2)\n                                                }, void 0, false, {\n                                                    fileName: \"/app/components/SpeedManagementViewer.js\",\n                                                    lineNumber: 287,\n                                                    columnNumber: 22\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                                    style: {\n                                                        padding: \"10px\"\n                                                    },\n                                                    children: editingId === sl.speed_limit_id ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"select\", {\n                                                        value: sl.series_id,\n                                                        onChange: (e)=>{\n                                                            const updated = speedLimits.map((s)=>s.speed_limit_id === sl.speed_limit_id ? {\n                                                                    ...s,\n                                                                    series_id: e.target.value,\n                                                                    // Update display values\n                                                                    manufacturer: vehicleModels.find((vm)=>vm.series_id == e.target.value)?.manufacturer,\n                                                                    model_name: vehicleModels.find((vm)=>vm.series_id == e.target.value)?.model_name\n                                                                } : s);\n                                                            setSpeedLimits(updated);\n                                                        },\n                                                        style: {\n                                                            padding: \"4px 8px\",\n                                                            borderRadius: \"4px\",\n                                                            backgroundColor: \"#2c3e50\",\n                                                            color: \"white\",\n                                                            border: \"1px solid #34495e\"\n                                                        },\n                                                        children: vehicleModels.map((vm)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                                                value: vm.series_id,\n                                                                children: [\n                                                                    vm.manufacturer,\n                                                                    \" \",\n                                                                    vm.model_name\n                                                                ]\n                                                            }, vm.series_id, true, {\n                                                                fileName: \"/app/components/SpeedManagementViewer.js\",\n                                                                lineNumber: 328,\n                                                                columnNumber: 30\n                                                            }, this))\n                                                    }, void 0, false, {\n                                                        fileName: \"/app/components/SpeedManagementViewer.js\",\n                                                        lineNumber: 309,\n                                                        columnNumber: 26\n                                                    }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        style: {\n                                                            fontWeight: \"bold\"\n                                                        },\n                                                        children: [\n                                                            sl.manufacturer,\n                                                            \" \",\n                                                            sl.model_name\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/app/components/SpeedManagementViewer.js\",\n                                                        lineNumber: 334,\n                                                        columnNumber: 26\n                                                    }, this)\n                                                }, void 0, false, {\n                                                    fileName: \"/app/components/SpeedManagementViewer.js\",\n                                                    lineNumber: 307,\n                                                    columnNumber: 22\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                                    style: {\n                                                        padding: \"10px\"\n                                                    },\n                                                    children: editingId === sl.speed_limit_id ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                        type: \"number\",\n                                                        value: sl.max_speed_kmh,\n                                                        onChange: (e)=>{\n                                                            const updated = speedLimits.map((s)=>s.speed_limit_id === sl.speed_limit_id ? {\n                                                                    ...s,\n                                                                    max_speed_kmh: e.target.value\n                                                                } : s);\n                                                            setSpeedLimits(updated);\n                                                        },\n                                                        style: {\n                                                            width: \"80px\",\n                                                            padding: \"4px\",\n                                                            borderRadius: \"4px\",\n                                                            backgroundColor: \"#2c3e50\",\n                                                            color: \"white\",\n                                                            border: \"1px solid #34495e\"\n                                                        }\n                                                    }, void 0, false, {\n                                                        fileName: \"/app/components/SpeedManagementViewer.js\",\n                                                        lineNumber: 339,\n                                                        columnNumber: 25\n                                                    }, this) : sl.max_speed_kmh\n                                                }, void 0, false, {\n                                                    fileName: \"/app/components/SpeedManagementViewer.js\",\n                                                    lineNumber: 337,\n                                                    columnNumber: 21\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                                    style: {\n                                                        padding: \"10px\"\n                                                    },\n                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        style: {\n                                                            display: \"flex\",\n                                                            gap: \"5px\"\n                                                        },\n                                                        children: editingId === sl.speed_limit_id ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                                            children: [\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                                    onClick: ()=>handleSave(sl),\n                                                                    style: {\n                                                                        padding: \"4px 8px\",\n                                                                        backgroundColor: \"#27AE60\",\n                                                                        color: \"white\",\n                                                                        border: \"none\",\n                                                                        borderRadius: \"4px\",\n                                                                        cursor: \"pointer\",\n                                                                        fontSize: \"12px\"\n                                                                    },\n                                                                    children: \"Save\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"/app/components/SpeedManagementViewer.js\",\n                                                                    lineNumber: 360,\n                                                                    columnNumber: 29\n                                                                }, this),\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                                    onClick: ()=>setEditingId(null),\n                                                                    style: {\n                                                                        padding: \"4px 8px\",\n                                                                        backgroundColor: \"#95a5a6\",\n                                                                        color: \"white\",\n                                                                        border: \"none\",\n                                                                        borderRadius: \"4px\",\n                                                                        cursor: \"pointer\",\n                                                                        fontSize: \"12px\"\n                                                                    },\n                                                                    children: \"Cancel\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"/app/components/SpeedManagementViewer.js\",\n                                                                    lineNumber: 366,\n                                                                    columnNumber: 29\n                                                                }, this)\n                                                            ]\n                                                        }, void 0, true) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                                            children: [\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                                    onClick: ()=>setEditingId(sl.speed_limit_id),\n                                                                    style: {\n                                                                        padding: \"4px 8px\",\n                                                                        backgroundColor: \"#3498DB\",\n                                                                        color: \"white\",\n                                                                        border: \"none\",\n                                                                        borderRadius: \"4px\",\n                                                                        cursor: \"pointer\",\n                                                                        fontSize: \"12px\"\n                                                                    },\n                                                                    children: \"Edit\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"/app/components/SpeedManagementViewer.js\",\n                                                                    lineNumber: 375,\n                                                                    columnNumber: 29\n                                                                }, this),\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                                    onClick: ()=>handleDelete(sl.speed_limit_id),\n                                                                    style: {\n                                                                        padding: \"4px 8px\",\n                                                                        backgroundColor: \"#E74C3C\",\n                                                                        color: \"white\",\n                                                                        border: \"none\",\n                                                                        borderRadius: \"4px\",\n                                                                        cursor: \"pointer\",\n                                                                        fontSize: \"12px\"\n                                                                    },\n                                                                    children: \"Delete\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"/app/components/SpeedManagementViewer.js\",\n                                                                    lineNumber: 381,\n                                                                    columnNumber: 29\n                                                                }, this)\n                                                            ]\n                                                        }, void 0, true)\n                                                    }, void 0, false, {\n                                                        fileName: \"/app/components/SpeedManagementViewer.js\",\n                                                        lineNumber: 357,\n                                                        columnNumber: 23\n                                                    }, this)\n                                                }, void 0, false, {\n                                                    fileName: \"/app/components/SpeedManagementViewer.js\",\n                                                    lineNumber: 356,\n                                                    columnNumber: 21\n                                                }, this)\n                                            ]\n                                        }, sl.speed_limit_id, true, {\n                                            fileName: \"/app/components/SpeedManagementViewer.js\",\n                                            lineNumber: 267,\n                                            columnNumber: 19\n                                        }, this))\n                                }, void 0, false, {\n                                    fileName: \"/app/components/SpeedManagementViewer.js\",\n                                    lineNumber: 265,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/app/components/SpeedManagementViewer.js\",\n                            lineNumber: 255,\n                            columnNumber: 13\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/app/components/SpeedManagementViewer.js\",\n                        lineNumber: 254,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/app/components/SpeedManagementViewer.js\",\n                lineNumber: 249,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/app/components/SpeedManagementViewer.js\",\n        lineNumber: 160,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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WyJ3ZWJwYWNrOi8vY29tYmluZWQtdWkvLi9jb21wb25lbnRzL1NwZWVkTWFuYWdlbWVudFZpZXdlci5qcz9lM2VjIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QgfSBmcm9tICdyZWFjdCc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBTcGVlZE1hbmFnZW1lbnRWaWV3ZXIoeyByb2FkSWQsIG9uQ2xvc2UgfSkge1xyXG4gIGNvbnN0IFtsYW5lcywgc2V0TGFuZXNdID0gdXNlU3RhdGUoW10pO1xyXG4gIGNvbnN0IFtzcGVlZExpbWl0cywgc2V0U3BlZWRMaW1pdHNdID0gdXNlU3RhdGUoW10pO1xyXG4gIGNvbnN0IFt2ZWhpY2xlTW9kZWxzLCBzZXRWZWhpY2xlTW9kZWxzXSA9IHVzZVN0YXRlKFtdKTtcclxuICBjb25zdCBbbG9hZGluZywgc2V0TG9hZGluZ10gPSB1c2VTdGF0ZSh0cnVlKTtcclxuICBjb25zdCBbZWRpdGluZ0lkLCBzZXRFZGl0aW5nSWRdID0gdXNlU3RhdGUobnVsbCk7XHJcbiAgY29uc3QgW25ld1NwZWVkLCBzZXROZXdTcGVlZF0gPSB1c2VTdGF0ZSh7IHNlcmllc19pZDogJycsIG1heF9zcGVlZF9rbWg6ICcnLCBmcm9tX21lYXN1cmU6ICcwJywgdG9fbWVhc3VyZTogJycgfSk7XHJcbiAgY29uc3QgW3RvdGFsUm9hZExlbmd0aCwgc2V0VG90YWxSb2FkTGVuZ3RoXSA9IHVzZVN0YXRlKDApO1xyXG5cclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgaWYgKHJvYWRJZCkge1xyXG4gICAgICBmZXRjaFNwZWVkRGF0YSgpO1xyXG4gICAgfVxyXG4gIH0sIFtyb2FkSWRdKTtcclxuXHJcbiAgY29uc3QgZmV0Y2hTcGVlZERhdGEgPSBhc3luYyAoKSA9PiB7XHJcbiAgICB0cnkge1xyXG4gICAgICBzZXRMb2FkaW5nKHRydWUpO1xyXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAvYXBpL3JvYWQtc3BlZWQtbGltaXRzP3JvYWRfaWQ9JHtyb2FkSWR9YCk7XHJcbiAgICAgIGlmICghcmVzcG9uc2Uub2spIHRocm93IG5ldyBFcnJvcignRmFpbGVkIHRvIGZldGNoIHNwZWVkIGRhdGEnKTtcclxuICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcclxuICAgICAgc2V0TGFuZXMoZGF0YS5sYW5lcyB8fCBbXSk7XHJcbiAgICAgIHNldFZlaGljbGVNb2RlbHMoZGF0YS52ZWhpY2xlTW9kZWxzIHx8IFtdKTtcclxuICAgICAgXHJcbiAgICAgIC8vIENhbGN1bGF0ZSB0b3RhbCByb2FkIGxlbmd0aFxyXG4gICAgICBjb25zdCB0b3RhbExlbmd0aCA9IChkYXRhLmxhbmVzIHx8IFtdKS5yZWR1Y2UoKHN1bSwgbGFuZSkgPT4gc3VtICsgKGxhbmUubGVuZ3RoX20gfHwgMCksIDApO1xyXG4gICAgICBzZXRUb3RhbFJvYWRMZW5ndGgodG90YWxMZW5ndGgpO1xyXG4gICAgICBzZXROZXdTcGVlZChwcmV2ID0+ICh7IC4uLnByZXYsIHRvX21lYXN1cmU6IHRvdGFsTGVuZ3RoLnRvRml4ZWQoMSkgfSkpO1xyXG4gICAgICBcclxuICAgICAgLy8gR3JvdXAgc3BlZWQgbGltaXRzIGJ5IHJvYWQgc2VnbWVudCAoZnJvbV9tZWFzdXJlIHRvIHRvX21lYXN1cmUpIGFuZCB2ZWhpY2xlXHJcbiAgICAgIC8vIERpc3BsYXkgYXQgcm9hZCBsZXZlbCwgbm90IHBlciBsYW5lXHJcbiAgICAgIGNvbnN0IHJvYWRMZXZlbExpbWl0cyA9IChkYXRhLnNwZWVkTGltaXRzIHx8IFtdKS5yZWR1Y2UoKGFjYywgbGltaXQpID0+IHtcclxuICAgICAgICBjb25zdCBrZXkgPSBgJHtsaW1pdC5zZXJpZXNfaWR9XyR7bGltaXQuZnJvbV9tZWFzdXJlfV8ke2xpbWl0LnRvX21lYXN1cmV9YDtcclxuICAgICAgICBpZiAoIWFjY1trZXldKSB7XHJcbiAgICAgICAgICBhY2Nba2V5XSA9IHsgLi4ubGltaXQgfTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGFjYztcclxuICAgICAgfSwge30pO1xyXG4gICAgICBcclxuICAgICAgc2V0U3BlZWRMaW1pdHMoT2JqZWN0LnZhbHVlcyhyb2FkTGV2ZWxMaW1pdHMpKTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIHNwZWVkIGRhdGE6JywgZXJyb3IpO1xyXG4gICAgICBhbGVydCgnRmFpbGVkIHRvIGxvYWQgc3BlZWQgZGF0YTogJyArIGVycm9yLm1lc3NhZ2UpO1xyXG4gICAgfSBmaW5hbGx5IHtcclxuICAgICAgc2V0TG9hZGluZyhmYWxzZSk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgaGFuZGxlU2F2ZSA9IGFzeW5jIChzcGVlZExpbWl0KSA9PiB7XHJcbiAgICBjb25zdCB0b01lYXN1cmUgPSBzcGVlZExpbWl0LnRvX21lYXN1cmUgPyBwYXJzZUZsb2F0KHNwZWVkTGltaXQudG9fbWVhc3VyZSkgOiBudWxsO1xyXG4gICAgXHJcbiAgICBpZiAodG9NZWFzdXJlICYmIHRvTWVhc3VyZSA+IHRvdGFsUm9hZExlbmd0aCkge1xyXG4gICAgICBhbGVydChgVG8gbWVhc3VyZSAoJHt0b01lYXN1cmV9bSkgY2Fubm90IGV4Y2VlZCB0b3RhbCByb2FkIGxlbmd0aCAoJHt0b3RhbFJvYWRMZW5ndGgudG9GaXhlZCgxKX1tKWApO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goJy9hcGkvcm9hZC1zcGVlZC1saW1pdHMnLCB7XHJcbiAgICAgICAgbWV0aG9kOiAnUFVUJyxcclxuICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcclxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgICBzcGVlZF9saW1pdF9pZDogc3BlZWRMaW1pdC5zcGVlZF9saW1pdF9pZCxcclxuICAgICAgICAgIHNlcmllc19pZDogc3BlZWRMaW1pdC5zZXJpZXNfaWQgPyBwYXJzZUludChzcGVlZExpbWl0LnNlcmllc19pZCkgOiBudWxsLFxyXG4gICAgICAgICAgbWF4X3NwZWVkX2ttaDogcGFyc2VGbG9hdChzcGVlZExpbWl0Lm1heF9zcGVlZF9rbWgpLFxyXG4gICAgICAgICAgZnJvbV9tZWFzdXJlOiBzcGVlZExpbWl0LmZyb21fbWVhc3VyZSA/IHBhcnNlRmxvYXQoc3BlZWRMaW1pdC5mcm9tX21lYXN1cmUpIDogbnVsbCxcclxuICAgICAgICAgIHRvX21lYXN1cmU6IHRvTWVhc3VyZVxyXG4gICAgICAgIH0pXHJcbiAgICAgIH0pO1xyXG4gICAgICBpZiAoIXJlc3BvbnNlLm9rKSB0aHJvdyBuZXcgRXJyb3IoJ0ZhaWxlZCB0byB1cGRhdGUgc3BlZWQgbGltaXQnKTtcclxuICAgICAgc2V0RWRpdGluZ0lkKG51bGwpO1xyXG4gICAgICBmZXRjaFNwZWVkRGF0YSgpO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcignRXJyb3Igc2F2aW5nIHNwZWVkIGxpbWl0OicsIGVycm9yKTtcclxuICAgICAgYWxlcnQoJ0ZhaWxlZCB0byBzYXZlOiAnICsgZXJyb3IubWVzc2FnZSk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgaGFuZGxlRGVsZXRlID0gYXN5bmMgKHNwZWVkTGltaXRJZCkgPT4ge1xyXG4gICAgaWYgKCFjb25maXJtKCdBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gZGVsZXRlIHRoaXMgc3BlZWQgbGltaXQ/JykpIHJldHVybjtcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYC9hcGkvcm9hZC1zcGVlZC1saW1pdHM/c3BlZWRfbGltaXRfaWQ9JHtzcGVlZExpbWl0SWR9YCwge1xyXG4gICAgICAgIG1ldGhvZDogJ0RFTEVURSdcclxuICAgICAgfSk7XHJcbiAgICAgIGlmICghcmVzcG9uc2Uub2spIHRocm93IG5ldyBFcnJvcignRmFpbGVkIHRvIGRlbGV0ZSBzcGVlZCBsaW1pdCcpO1xyXG4gICAgICBmZXRjaFNwZWVkRGF0YSgpO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZGVsZXRpbmcgc3BlZWQgbGltaXQ6JywgZXJyb3IpO1xyXG4gICAgICBhbGVydCgnRmFpbGVkIHRvIGRlbGV0ZTogJyArIGVycm9yLm1lc3NhZ2UpO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIGNvbnN0IGhhbmRsZUFkZCA9IGFzeW5jICgpID0+IHtcclxuICAgIGlmICghbmV3U3BlZWQuc2VyaWVzX2lkIHx8ICFuZXdTcGVlZC5tYXhfc3BlZWRfa21oKSB7XHJcbiAgICAgIGFsZXJ0KCdQbGVhc2UgZmlsbCBpbiBhbGwgcmVxdWlyZWQgZmllbGRzJyk7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIFxyXG4gICAgY29uc3QgZnJvbU1lYXN1cmUgPSBuZXdTcGVlZC5mcm9tX21lYXN1cmUgPyBwYXJzZUZsb2F0KG5ld1NwZWVkLmZyb21fbWVhc3VyZSkgOiAwO1xyXG4gICAgY29uc3QgdG9NZWFzdXJlID0gbmV3U3BlZWQudG9fbWVhc3VyZSA/IHBhcnNlRmxvYXQobmV3U3BlZWQudG9fbWVhc3VyZSkgOiB0b3RhbFJvYWRMZW5ndGg7XHJcbiAgICBcclxuICAgIC8vIFZhbGlkYXRlIGFnYWluc3QgdG90YWwgcm9hZCBsZW5ndGhcclxuICAgIGlmICh0b01lYXN1cmUgPiB0b3RhbFJvYWRMZW5ndGgpIHtcclxuICAgICAgYWxlcnQoYFRvIG1lYXN1cmUgKCR7dG9NZWFzdXJlfW0pIGNhbm5vdCBleGNlZWQgdG90YWwgcm9hZCBsZW5ndGggKCR7dG90YWxSb2FkTGVuZ3RoLnRvRml4ZWQoMSl9bSlgKTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBpZiAoZnJvbU1lYXN1cmUgPj0gdG9NZWFzdXJlKSB7XHJcbiAgICAgIGFsZXJ0KCdGcm9tIG1lYXN1cmUgbXVzdCBiZSBsZXNzIHRoYW4gVG8gbWVhc3VyZScpO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBcclxuICAgIHRyeSB7XHJcbiAgICAgIC8vIEFkZCBzcGVlZCBsaW1pdCBmb3IgQUxMIGxhbmVzIG9uIHRoaXMgcm9hZFxyXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKCcvYXBpL3JvYWQtc3BlZWQtbGltaXRzJywge1xyXG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxyXG4gICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxyXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICAgIHJvYWRfaWQ6IHJvYWRJZCxcclxuICAgICAgICAgIGFwcGx5X3RvX2FsbF9sYW5lczogdHJ1ZSwgLy8gTmV3IGZsYWcgdG8gaW5kaWNhdGUgcm9hZC1sZXZlbCBvcGVyYXRpb25cclxuICAgICAgICAgIHNlcmllc19pZDogcGFyc2VJbnQobmV3U3BlZWQuc2VyaWVzX2lkKSxcclxuICAgICAgICAgIG1heF9zcGVlZF9rbWg6IHBhcnNlRmxvYXQobmV3U3BlZWQubWF4X3NwZWVkX2ttaCksXHJcbiAgICAgICAgICBmcm9tX21lYXN1cmU6IGZyb21NZWFzdXJlLFxyXG4gICAgICAgICAgdG9fbWVhc3VyZTogdG9NZWFzdXJlXHJcbiAgICAgICAgfSlcclxuICAgICAgfSk7XHJcbiAgICAgIGlmICghcmVzcG9uc2Uub2spIHRocm93IG5ldyBFcnJvcignRmFpbGVkIHRvIGNyZWF0ZSBzcGVlZCBsaW1pdCcpO1xyXG4gICAgICBcclxuICAgICAgLy8gUmVzZXQgZm9ybVxyXG4gICAgICBzZXROZXdTcGVlZCh7IHNlcmllc19pZDogJycsIG1heF9zcGVlZF9rbWg6ICcnLCBmcm9tX21lYXN1cmU6ICcwJywgdG9fbWVhc3VyZTogdG90YWxSb2FkTGVuZ3RoLnRvRml4ZWQoMSkgfSk7XHJcbiAgICAgIGZldGNoU3BlZWREYXRhKCk7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBhZGRpbmcgc3BlZWQgbGltaXQ6JywgZXJyb3IpO1xyXG4gICAgICBhbGVydCgnRmFpbGVkIHRvIGFkZDogJyArIGVycm9yLm1lc3NhZ2UpO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIGlmIChsb2FkaW5nKSB7XHJcbiAgICByZXR1cm4gKFxyXG4gICAgICA8ZGl2IHN0eWxlPXt7XHJcbiAgICAgICAgcG9zaXRpb246ICdmaXhlZCcsXHJcbiAgICAgICAgdG9wOiAwLFxyXG4gICAgICAgIGxlZnQ6IDAsXHJcbiAgICAgICAgcmlnaHQ6IDAsXHJcbiAgICAgICAgYm90dG9tOiAwLFxyXG4gICAgICAgIGJhY2tncm91bmRDb2xvcjogJ3JnYmEoMCwgMCwgMCwgMC45KScsXHJcbiAgICAgICAgekluZGV4OiAxMDAwMCxcclxuICAgICAgICBkaXNwbGF5OiAnZmxleCcsXHJcbiAgICAgICAgYWxpZ25JdGVtczogJ2NlbnRlcicsXHJcbiAgICAgICAganVzdGlmeUNvbnRlbnQ6ICdjZW50ZXInLFxyXG4gICAgICAgIGNvbG9yOiAnd2hpdGUnXHJcbiAgICAgIH19PlxyXG4gICAgICAgIDxkaXY+TG9hZGluZyBzcGVlZCBkYXRhLi4uPC9kaXY+XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIHJldHVybiAoXHJcbiAgICA8ZGl2IHN0eWxlPXt7XHJcbiAgICAgIHBvc2l0aW9uOiAnZml4ZWQnLFxyXG4gICAgICB0b3A6IDAsXHJcbiAgICAgIGxlZnQ6IDAsXHJcbiAgICAgIHJpZ2h0OiAwLFxyXG4gICAgICBib3R0b206IDAsXHJcbiAgICAgIGJhY2tncm91bmRDb2xvcjogJ3JnYmEoMCwgMCwgMCwgMC45KScsXHJcbiAgICAgIHpJbmRleDogMTAwMDAsXHJcbiAgICAgIGRpc3BsYXk6ICdmbGV4JyxcclxuICAgICAgZmxleERpcmVjdGlvbjogJ2NvbHVtbicsXHJcbiAgICAgIHBhZGRpbmc6ICcyMHB4JyxcclxuICAgICAgb3ZlcmZsb3c6ICdhdXRvJyxcclxuICAgICAgY29sb3I6ICd3aGl0ZSdcclxuICAgIH19PlxyXG4gICAgICA8ZGl2IHN0eWxlPXt7IGRpc3BsYXk6ICdmbGV4JywganVzdGlmeUNvbnRlbnQ6ICdzcGFjZS1iZXR3ZWVuJywgYWxpZ25JdGVtczogJ2NlbnRlcicsIG1hcmdpbkJvdHRvbTogJzIwcHgnIH19PlxyXG4gICAgICAgIDxoMiBzdHlsZT17eyBtYXJnaW46IDAsIGNvbG9yOiAnIzRFQ0RDNCcgfX0+U3BlZWQgTWFuYWdlbWVudCAtIFJvYWQgSUQ6IHtyb2FkSWR9PC9oMj5cclxuICAgICAgICA8YnV0dG9uXHJcbiAgICAgICAgICBvbkNsaWNrPXtvbkNsb3NlfVxyXG4gICAgICAgICAgc3R5bGU9e3tcclxuICAgICAgICAgICAgYmFja2dyb3VuZDogJyNFNzRDM0MnLFxyXG4gICAgICAgICAgICBjb2xvcjogJ3doaXRlJyxcclxuICAgICAgICAgICAgYm9yZGVyOiAnbm9uZScsXHJcbiAgICAgICAgICAgIHBhZGRpbmc6ICcxMHB4IDIwcHgnLFxyXG4gICAgICAgICAgICBib3JkZXJSYWRpdXM6ICc2cHgnLFxyXG4gICAgICAgICAgICBjdXJzb3I6ICdwb2ludGVyJyxcclxuICAgICAgICAgICAgZm9udFdlaWdodDogJ2JvbGQnLFxyXG4gICAgICAgICAgICBmb250U2l6ZTogJzE0cHgnXHJcbiAgICAgICAgICB9fVxyXG4gICAgICAgID5cclxuICAgICAgICAgIOKclSBDbG9zZVxyXG4gICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICA8L2Rpdj5cclxuXHJcbiAgICAgIHsvKiBBZGQgbmV3IHNwZWVkIGxpbWl0ICovfVxyXG4gICAgICA8ZGl2IHN0eWxlPXt7IG1hcmdpbkJvdHRvbTogJzIwcHgnLCBwYWRkaW5nOiAnMTVweCcsIGJhY2tncm91bmRDb2xvcjogJ3JnYmEoNTIsIDE1MiwgMjE5LCAwLjEpJywgYm9yZGVyUmFkaXVzOiAnNnB4JywgYm9yZGVyOiAnMXB4IHNvbGlkIHJnYmEoNTIsIDE1MiwgMjE5LCAwLjMpJyB9fT5cclxuICAgICAgICA8aDMgc3R5bGU9e3sgbWFyZ2luVG9wOiAwLCBjb2xvcjogJyM0RUNEQzQnIH19PkFkZCBTcGVlZCBMaW1pdCAoUm9hZCBMZXZlbCAtIFRvdGFsIExlbmd0aDoge3RvdGFsUm9hZExlbmd0aC50b0ZpeGVkKDEpfW0pPC9oMz5cclxuICAgICAgICA8ZGl2IHN0eWxlPXt7IGRpc3BsYXk6ICdncmlkJywgZ3JpZFRlbXBsYXRlQ29sdW1uczogJ3JlcGVhdChhdXRvLWZpdCwgbWlubWF4KDIwMHB4LCAxZnIpKScsIGdhcDogJzEwcHgnLCBtYXJnaW5Cb3R0b206ICcxMHB4JyB9fT5cclxuICAgICAgICAgIDxzZWxlY3RcclxuICAgICAgICAgICAgdmFsdWU9e25ld1NwZWVkLnNlcmllc19pZH1cclxuICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXROZXdTcGVlZCh7IC4uLm5ld1NwZWVkLCBzZXJpZXNfaWQ6IGUudGFyZ2V0LnZhbHVlIH0pfVxyXG4gICAgICAgICAgICBzdHlsZT17eyBwYWRkaW5nOiAnOHB4JywgYm9yZGVyUmFkaXVzOiAnNHB4JywgYmFja2dyb3VuZENvbG9yOiAnIzJjM2U1MCcsIGNvbG9yOiAnd2hpdGUnLCBib3JkZXI6ICcxcHggc29saWQgIzM0NDk1ZScgfX1cclxuICAgICAgICAgID5cclxuICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cIlwiPlNlbGVjdCBWZWhpY2xlIE1vZGVsPC9vcHRpb24+XHJcbiAgICAgICAgICAgIHt2ZWhpY2xlTW9kZWxzLm1hcCh2bSA9PiAoXHJcbiAgICAgICAgICAgICAgPG9wdGlvbiBrZXk9e3ZtLnNlcmllc19pZH0gdmFsdWU9e3ZtLnNlcmllc19pZH0+XHJcbiAgICAgICAgICAgICAgICB7dm0ubWFudWZhY3R1cmVyfSB7dm0ubW9kZWxfbmFtZX1cclxuICAgICAgICAgICAgICA8L29wdGlvbj5cclxuICAgICAgICAgICAgKSl9XHJcbiAgICAgICAgICA8L3NlbGVjdD5cclxuICAgICAgICAgIDxpbnB1dFxyXG4gICAgICAgICAgICB0eXBlPVwibnVtYmVyXCJcclxuICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJNYXggU3BlZWQgKGttL2gpXCJcclxuICAgICAgICAgICAgdmFsdWU9e25ld1NwZWVkLm1heF9zcGVlZF9rbWh9XHJcbiAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0TmV3U3BlZWQoeyAuLi5uZXdTcGVlZCwgbWF4X3NwZWVkX2ttaDogZS50YXJnZXQudmFsdWUgfSl9XHJcbiAgICAgICAgICAgIHN0eWxlPXt7IHBhZGRpbmc6ICc4cHgnLCBib3JkZXJSYWRpdXM6ICc0cHgnLCBiYWNrZ3JvdW5kQ29sb3I6ICcjMmMzZTUwJywgY29sb3I6ICd3aGl0ZScsIGJvcmRlcjogJzFweCBzb2xpZCAjMzQ0OTVlJyB9fVxyXG4gICAgICAgICAgLz5cclxuICAgICAgICAgIDxpbnB1dFxyXG4gICAgICAgICAgICB0eXBlPVwibnVtYmVyXCJcclxuICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJSb2FkIFN0YXJ0IChtKVwiXHJcbiAgICAgICAgICAgIHZhbHVlPXtuZXdTcGVlZC5mcm9tX21lYXN1cmV9XHJcbiAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0TmV3U3BlZWQoeyAuLi5uZXdTcGVlZCwgZnJvbV9tZWFzdXJlOiBlLnRhcmdldC52YWx1ZSB9KX1cclxuICAgICAgICAgICAgc3R5bGU9e3sgcGFkZGluZzogJzhweCcsIGJvcmRlclJhZGl1czogJzRweCcsIGJhY2tncm91bmRDb2xvcjogJyMyYzNlNTAnLCBjb2xvcjogJ3doaXRlJywgYm9yZGVyOiAnMXB4IHNvbGlkICMzNDQ5NWUnIH19XHJcbiAgICAgICAgICAvPlxyXG4gICAgICAgICAgPGlucHV0XHJcbiAgICAgICAgICAgIHR5cGU9XCJudW1iZXJcIlxyXG4gICAgICAgICAgICBwbGFjZWhvbGRlcj17YFJvYWQgRW5kIChtLCBtYXg6ICR7dG90YWxSb2FkTGVuZ3RoLnRvRml4ZWQoMSl9KWB9XHJcbiAgICAgICAgICAgIHZhbHVlPXtuZXdTcGVlZC50b19tZWFzdXJlfVxyXG4gICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHNldE5ld1NwZWVkKHsgLi4ubmV3U3BlZWQsIHRvX21lYXN1cmU6IGUudGFyZ2V0LnZhbHVlIH0pfVxyXG4gICAgICAgICAgICBtYXg9e3RvdGFsUm9hZExlbmd0aH1cclxuICAgICAgICAgICAgc3R5bGU9e3sgcGFkZGluZzogJzhweCcsIGJvcmRlclJhZGl1czogJzRweCcsIGJhY2tncm91bmRDb2xvcjogJyMyYzNlNTAnLCBjb2xvcjogJ3doaXRlJywgYm9yZGVyOiAnMXB4IHNvbGlkICMzNDQ5NWUnIH19XHJcbiAgICAgICAgICAvPlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDxidXR0b25cclxuICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZUFkZH1cclxuICAgICAgICAgIHN0eWxlPXt7XHJcbiAgICAgICAgICAgIGJhY2tncm91bmQ6ICcjMjdBRTYwJyxcclxuICAgICAgICAgICAgY29sb3I6ICd3aGl0ZScsXHJcbiAgICAgICAgICAgIGJvcmRlcjogJ25vbmUnLFxyXG4gICAgICAgICAgICBwYWRkaW5nOiAnMTBweCAyMHB4JyxcclxuICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiAnNnB4JyxcclxuICAgICAgICAgICAgY3Vyc29yOiAncG9pbnRlcicsXHJcbiAgICAgICAgICAgIGZvbnRXZWlnaHQ6ICdib2xkJ1xyXG4gICAgICAgICAgfX1cclxuICAgICAgICA+XHJcbiAgICAgICAgICArIEFkZCBTcGVlZCBMaW1pdFxyXG4gICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICA8L2Rpdj5cclxuXHJcbiAgICAgIHsvKiBEaXNwbGF5IHNwZWVkIGxpbWl0cyBieSByb2FkIHNlZ21lbnQgKi99XHJcbiAgICAgIDxkaXY+XHJcbiAgICAgICAgPGgzIHN0eWxlPXt7IGNvbG9yOiAnIzRFQ0RDNCcsIG1hcmdpbkJvdHRvbTogJzE1cHgnIH19PlNwZWVkIExpbWl0cyAoUm9hZCBTZWdtZW50cyk8L2gzPlxyXG4gICAgICAgIHtzcGVlZExpbWl0cy5sZW5ndGggPT09IDAgPyAoXHJcbiAgICAgICAgICA8ZGl2IHN0eWxlPXt7IGNvbG9yOiAnIzk1YTVhNicsIGZvbnRTdHlsZTogJ2l0YWxpYycgfX0+Tm8gc3BlZWQgbGltaXRzIGRlZmluZWQgZm9yIHRoaXMgcm9hZC48L2Rpdj5cclxuICAgICAgICApIDogKFxyXG4gICAgICAgICAgPGRpdiBzdHlsZT17eyBtYXJnaW5Cb3R0b206ICcyMHB4JywgcGFkZGluZzogJzE1cHgnLCBiYWNrZ3JvdW5kQ29sb3I6ICdyZ2JhKDQ0LCA2MiwgODAsIDAuNSknLCBib3JkZXJSYWRpdXM6ICc2cHgnLCBib3JkZXI6ICcxcHggc29saWQgcmdiYSg1MiwgMTUyLCAyMTksIDAuMyknIH19PlxyXG4gICAgICAgICAgICA8dGFibGUgc3R5bGU9e3sgd2lkdGg6ICcxMDAlJywgYm9yZGVyQ29sbGFwc2U6ICdjb2xsYXBzZScgfX0+XHJcbiAgICAgICAgICAgICAgPHRoZWFkPlxyXG4gICAgICAgICAgICAgICAgPHRyIHN0eWxlPXt7IGJvcmRlckJvdHRvbTogJzJweCBzb2xpZCByZ2JhKDUyLCAxNTIsIDIxOSwgMC41KScgfX0+XHJcbiAgICAgICAgICAgICAgICAgIDx0aCBzdHlsZT17eyBwYWRkaW5nOiAnMTBweCcsIHRleHRBbGlnbjogJ2xlZnQnIH19PlJvYWQgU3RhcnQgKG0pPC90aD5cclxuICAgICAgICAgICAgICAgICAgPHRoIHN0eWxlPXt7IHBhZGRpbmc6ICcxMHB4JywgdGV4dEFsaWduOiAnbGVmdCcgfX0+Um9hZCBFbmQgKG0pPC90aD5cclxuICAgICAgICAgICAgICAgICAgPHRoIHN0eWxlPXt7IHBhZGRpbmc6ICcxMHB4JywgdGV4dEFsaWduOiAnbGVmdCcgfX0+VmVoaWNsZSBNb2RlbDwvdGg+XHJcbiAgICAgICAgICAgICAgICAgIDx0aCBzdHlsZT17eyBwYWRkaW5nOiAnMTBweCcsIHRleHRBbGlnbjogJ2xlZnQnIH19Pk1heCBTcGVlZCAoa20vaCk8L3RoPlxyXG4gICAgICAgICAgICAgICAgICA8dGggc3R5bGU9e3sgcGFkZGluZzogJzEwcHgnLCB0ZXh0QWxpZ246ICdsZWZ0JyB9fT5BY3Rpb25zPC90aD5cclxuICAgICAgICAgICAgICAgIDwvdHI+XHJcbiAgICAgICAgICAgICAgPC90aGVhZD5cclxuICAgICAgICAgICAgICA8dGJvZHk+XHJcbiAgICAgICAgICAgICAgICB7c3BlZWRMaW1pdHMubWFwKHNsID0+IChcclxuICAgICAgICAgICAgICAgICAgPHRyIGtleT17c2wuc3BlZWRfbGltaXRfaWR9IHN0eWxlPXt7IGJvcmRlckJvdHRvbTogJzFweCBzb2xpZCByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMSknIH19PlxyXG4gICAgICAgICAgICAgICAgICAgICA8dGQgc3R5bGU9e3sgcGFkZGluZzogJzEwcHgnIH19PlxyXG4gICAgICAgICAgICAgICAgICAgICAgIHtlZGl0aW5nSWQgPT09IHNsLnNwZWVkX2xpbWl0X2lkID8gKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJudW1iZXJcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17c2wuZnJvbV9tZWFzdXJlIHx8IDB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHVwZGF0ZWQgPSBzcGVlZExpbWl0cy5tYXAocyA9PiBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHMuc3BlZWRfbGltaXRfaWQgPT09IHNsLnNwZWVkX2xpbWl0X2lkIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IHsgLi4ucywgZnJvbV9tZWFzdXJlOiBlLnRhcmdldC52YWx1ZSB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0U3BlZWRMaW1pdHModXBkYXRlZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IHdpZHRoOiAnODBweCcsIHBhZGRpbmc6ICc0cHgnLCBib3JkZXJSYWRpdXM6ICc0cHgnLCBiYWNrZ3JvdW5kQ29sb3I6ICcjMmMzZTUwJywgY29sb3I6ICd3aGl0ZScsIGJvcmRlcjogJzFweCBzb2xpZCAjMzQ0OTVlJyB9fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgICAgICAgICApIDogKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgTnVtYmVyKHNsLmZyb21fbWVhc3VyZSB8fCAwKS50b0ZpeGVkKDIpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgKX1cclxuICAgICAgICAgICAgICAgICAgICAgPC90ZD5cclxuICAgICAgICAgICAgICAgICAgICAgPHRkIHN0eWxlPXt7IHBhZGRpbmc6ICcxMHB4JyB9fT5cclxuICAgICAgICAgICAgICAgICAgICAgICB7ZWRpdGluZ0lkID09PSBzbC5zcGVlZF9saW1pdF9pZCA/IChcclxuICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwibnVtYmVyXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3NsLnRvX21lYXN1cmUgfHwgdG90YWxSb2FkTGVuZ3RofVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB1cGRhdGVkID0gc3BlZWRMaW1pdHMubWFwKHMgPT4gXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzLnNwZWVkX2xpbWl0X2lkID09PSBzbC5zcGVlZF9saW1pdF9pZCBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyB7IC4uLnMsIHRvX21lYXN1cmU6IGUudGFyZ2V0LnZhbHVlIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBzXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRTcGVlZExpbWl0cyh1cGRhdGVkKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF4PXt0b3RhbFJvYWRMZW5ndGh9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IHdpZHRoOiAnODBweCcsIHBhZGRpbmc6ICc0cHgnLCBib3JkZXJSYWRpdXM6ICc0cHgnLCBiYWNrZ3JvdW5kQ29sb3I6ICcjMmMzZTUwJywgY29sb3I6ICd3aGl0ZScsIGJvcmRlcjogJzFweCBzb2xpZCAjMzQ0OTVlJyB9fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgICAgICAgICApIDogKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgc2wudG9fbWVhc3VyZSA/IE51bWJlcihNYXRoLm1pbihzbC50b19tZWFzdXJlLCB0b3RhbFJvYWRMZW5ndGgpKS50b0ZpeGVkKDIpIDogTnVtYmVyKHRvdGFsUm9hZExlbmd0aCkudG9GaXhlZCgyKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICl9XHJcbiAgICAgICAgICAgICAgICAgICAgIDwvdGQ+XHJcbiAgICAgICAgICAgICAgICAgICAgIDx0ZCBzdHlsZT17eyBwYWRkaW5nOiAnMTBweCcgfX0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAge2VkaXRpbmdJZCA9PT0gc2wuc3BlZWRfbGltaXRfaWQgPyAoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICA8c2VsZWN0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXtzbC5zZXJpZXNfaWR9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHVwZGF0ZWQgPSBzcGVlZExpbWl0cy5tYXAocyA9PiBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHMuc3BlZWRfbGltaXRfaWQgPT09IHNsLnNwZWVkX2xpbWl0X2lkIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IHsgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4ucywgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VyaWVzX2lkOiBlLnRhcmdldC52YWx1ZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBVcGRhdGUgZGlzcGxheSB2YWx1ZXNcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYW51ZmFjdHVyZXI6IHZlaGljbGVNb2RlbHMuZmluZCh2bSA9PiB2bS5zZXJpZXNfaWQgPT0gZS50YXJnZXQudmFsdWUpPy5tYW51ZmFjdHVyZXIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbW9kZWxfbmFtZTogdmVoaWNsZU1vZGVscy5maW5kKHZtID0+IHZtLnNlcmllc19pZCA9PSBlLnRhcmdldC52YWx1ZSk/Lm1vZGVsX25hbWVcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IHNcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFNwZWVkTGltaXRzKHVwZGF0ZWQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBwYWRkaW5nOiAnNHB4IDhweCcsIGJvcmRlclJhZGl1czogJzRweCcsIGJhY2tncm91bmRDb2xvcjogJyMyYzNlNTAnLCBjb2xvcjogJ3doaXRlJywgYm9yZGVyOiAnMXB4IHNvbGlkICMzNDQ5NWUnIH19XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIHt2ZWhpY2xlTW9kZWxzLm1hcCh2bSA9PiAoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiBrZXk9e3ZtLnNlcmllc19pZH0gdmFsdWU9e3ZtLnNlcmllc19pZH0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7dm0ubWFudWZhY3R1cmVyfSB7dm0ubW9kZWxfbmFtZX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L29wdGlvbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgKSl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICA8L3NlbGVjdD5cclxuICAgICAgICAgICAgICAgICAgICAgICApIDogKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBmb250V2VpZ2h0OiAnYm9sZCcgfX0+e3NsLm1hbnVmYWN0dXJlcn0ge3NsLm1vZGVsX25hbWV9PC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgKX1cclxuICAgICAgICAgICAgICAgICAgICAgPC90ZD5cclxuICAgICAgICAgICAgICAgICAgICA8dGQgc3R5bGU9e3sgcGFkZGluZzogJzEwcHgnIH19PlxyXG4gICAgICAgICAgICAgICAgICAgICAge2VkaXRpbmdJZCA9PT0gc2wuc3BlZWRfbGltaXRfaWQgPyAoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJudW1iZXJcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXtzbC5tYXhfc3BlZWRfa21ofVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdXBkYXRlZCA9IHNwZWVkTGltaXRzLm1hcChzID0+IFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzLnNwZWVkX2xpbWl0X2lkID09PSBzbC5zcGVlZF9saW1pdF9pZCBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IHsgLi4ucywgbWF4X3NwZWVkX2ttaDogZS50YXJnZXQudmFsdWUgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFNwZWVkTGltaXRzKHVwZGF0ZWQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgd2lkdGg6ICc4MHB4JywgcGFkZGluZzogJzRweCcsIGJvcmRlclJhZGl1czogJzRweCcsIGJhY2tncm91bmRDb2xvcjogJyMyYzNlNTAnLCBjb2xvcjogJ3doaXRlJywgYm9yZGVyOiAnMXB4IHNvbGlkICMzNDQ5NWUnIH19XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICApIDogKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzbC5tYXhfc3BlZWRfa21oXHJcbiAgICAgICAgICAgICAgICAgICAgICApfVxyXG4gICAgICAgICAgICAgICAgICAgIDwvdGQ+XHJcbiAgICAgICAgICAgICAgICAgICAgPHRkIHN0eWxlPXt7IHBhZGRpbmc6ICcxMHB4JyB9fT5cclxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgZGlzcGxheTogJ2ZsZXgnLCBnYXA6ICc1cHgnIH19PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7ZWRpdGluZ0lkID09PSBzbC5zcGVlZF9saW1pdF9pZCA/IChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBoYW5kbGVTYXZlKHNsKX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgcGFkZGluZzogJzRweCA4cHgnLCBiYWNrZ3JvdW5kQ29sb3I6ICcjMjdBRTYwJywgY29sb3I6ICd3aGl0ZScsIGJvcmRlcjogJ25vbmUnLCBib3JkZXJSYWRpdXM6ICc0cHgnLCBjdXJzb3I6ICdwb2ludGVyJywgZm9udFNpemU6ICcxMnB4JyB9fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBTYXZlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gc2V0RWRpdGluZ0lkKG51bGwpfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBwYWRkaW5nOiAnNHB4IDhweCcsIGJhY2tncm91bmRDb2xvcjogJyM5NWE1YTYnLCBjb2xvcjogJ3doaXRlJywgYm9yZGVyOiAnbm9uZScsIGJvcmRlclJhZGl1czogJzRweCcsIGN1cnNvcjogJ3BvaW50ZXInLCBmb250U2l6ZTogJzEycHgnIH19XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIENhbmNlbFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICkgOiAoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gc2V0RWRpdGluZ0lkKHNsLnNwZWVkX2xpbWl0X2lkKX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgcGFkZGluZzogJzRweCA4cHgnLCBiYWNrZ3JvdW5kQ29sb3I6ICcjMzQ5OERCJywgY29sb3I6ICd3aGl0ZScsIGJvcmRlcjogJ25vbmUnLCBib3JkZXJSYWRpdXM6ICc0cHgnLCBjdXJzb3I6ICdwb2ludGVyJywgZm9udFNpemU6ICcxMnB4JyB9fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBFZGl0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gaGFuZGxlRGVsZXRlKHNsLnNwZWVkX2xpbWl0X2lkKX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgcGFkZGluZzogJzRweCA4cHgnLCBiYWNrZ3JvdW5kQ29sb3I6ICcjRTc0QzNDJywgY29sb3I6ICd3aGl0ZScsIGJvcmRlcjogJ25vbmUnLCBib3JkZXJSYWRpdXM6ICc0cHgnLCBjdXJzb3I6ICdwb2ludGVyJywgZm9udFNpemU6ICcxMnB4JyB9fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWxldGVcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICApfVxyXG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPC90ZD5cclxuICAgICAgICAgICAgICAgICAgPC90cj5cclxuICAgICAgICAgICAgICAgICkpfVxyXG4gICAgICAgICAgICAgIDwvdGJvZHk+XHJcbiAgICAgICAgICAgIDwvdGFibGU+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICApfVxyXG4gICAgICA8L2Rpdj5cclxuICAgIDwvZGl2PlxyXG4gICk7XHJcbn1cclxuXHJcbiJdLCJuYW1lcyI6WyJ1c2VTdGF0ZSIsInVzZUVmZmVjdCIsIlNwZWVkTWFuYWdlbWVudFZpZXdlciIsInJvYWRJZCIsIm9uQ2xvc2UiLCJsYW5lcyIsInNldExhbmVzIiwic3BlZWRMaW1pdHMiLCJzZXRTcGVlZExpbWl0cyIsInZlaGljbGVNb2RlbHMiLCJzZXRWZWhpY2xlTW9kZWxzIiwibG9hZGluZyIsInNldExvYWRpbmciLCJlZGl0aW5nSWQiLCJzZXRFZGl0aW5nSWQiLCJuZXdTcGVlZCIsInNldE5ld1NwZWVkIiwic2VyaWVzX2lkIiwibWF4X3NwZWVkX2ttaCIsImZyb21fbWVhc3VyZSIsInRvX21lYXN1cmUiLCJ0b3RhbFJvYWRMZW5ndGgiLCJzZXRUb3RhbFJvYWRMZW5ndGgiLCJmZXRjaFNwZWVkRGF0YSIsInJlc3BvbnNlIiwiZmV0Y2giLCJvayIsIkVycm9yIiwiZGF0YSIsImpzb24iLCJ0b3RhbExlbmd0aCIsInJlZHVjZSIsInN1bSIsImxhbmUiLCJsZW5ndGhfbSIsInByZXYiLCJ0b0ZpeGVkIiwicm9hZExldmVsTGltaXRzIiwiYWNjIiwibGltaXQiLCJrZXkiLCJPYmplY3QiLCJ2YWx1ZXMiLCJlcnJvciIsImNvbnNvbGUiLCJhbGVydCIsIm1lc3NhZ2UiLCJoYW5kbGVTYXZlIiwic3BlZWRMaW1pdCIsInRvTWVhc3VyZSIsInBhcnNlRmxvYXQiLCJtZXRob2QiLCJoZWFkZXJzIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJzcGVlZF9saW1pdF9pZCIsInBhcnNlSW50IiwiaGFuZGxlRGVsZXRlIiwic3BlZWRMaW1pdElkIiwiY29uZmlybSIsImhhbmRsZUFkZCIsImZyb21NZWFzdXJlIiwicm9hZF9pZCIsImFwcGx5X3RvX2FsbF9sYW5lcyIsImRpdiIsInN0eWxlIiwicG9zaXRpb24iLCJ0b3AiLCJsZWZ0IiwicmlnaHQiLCJib3R0b20iLCJiYWNrZ3JvdW5kQ29sb3IiLCJ6SW5kZXgiLCJkaXNwbGF5IiwiYWxpZ25JdGVtcyIsImp1c3RpZnlDb250ZW50IiwiY29sb3IiLCJmbGV4RGlyZWN0aW9uIiwicGFkZGluZyIsIm92ZXJmbG93IiwibWFyZ2luQm90dG9tIiwiaDIiLCJtYXJnaW4iLCJidXR0b24iLCJvbkNsaWNrIiwiYmFja2dyb3VuZCIsImJvcmRlciIsImJvcmRlclJhZGl1cyIsImN1cnNvciIsImZvbnRXZWlnaHQiLCJmb250U2l6ZSIsImgzIiwibWFyZ2luVG9wIiwiZ3JpZFRlbXBsYXRlQ29sdW1ucyIsImdhcCIsInNlbGVjdCIsInZhbHVlIiwib25DaGFuZ2UiLCJlIiwidGFyZ2V0Iiwib3B0aW9uIiwibWFwIiwidm0iLCJtYW51ZmFjdHVyZXIiLCJtb2RlbF9uYW1lIiwiaW5wdXQiLCJ0eXBlIiwicGxhY2Vob2xkZXIiLCJtYXgiLCJsZW5ndGgiLCJmb250U3R5bGUiLCJ0YWJsZSIsIndpZHRoIiwiYm9yZGVyQ29sbGFwc2UiLCJ0aGVhZCIsInRyIiwiYm9yZGVyQm90dG9tIiwidGgiLCJ0ZXh0QWxpZ24iLCJ0Ym9keSIsInNsIiwidGQiLCJ1cGRhdGVkIiwicyIsIk51bWJlciIsIk1hdGgiLCJtaW4iLCJmaW5kIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./components/SpeedManagementViewer.js\n");

/***/ }),

/***/ "./components/TopMenuBar.js":
/*!**********************************!*\
  !*** ./components/TopMenuBar.js ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ TopMenuBar)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n\n\n/**\r\n * Top menu bar (copied from Frontrunner) with Tools dropdown.\r\n */ function TopMenuBar({ onComputePath, onShowIntersectionCurves, onManageProfiles, onToggleCornerPoints, onToggleCenterPoints, showCornerPoints, showCenterPoints, onMeasureDistance, onMeasureArea, onChangeBaseLayer, currentBaseLayer, onChangeSceneMode, currentSceneMode }) {\n    const [openMenu, setOpenMenu] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const handleMenuClick = (menuName)=>{\n        setOpenMenu(openMenu === menuName ? null : menuName);\n    };\n    const closeMenu = ()=>{\n        setOpenMenu(null);\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n        children: [\n            openMenu && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                onClick: closeMenu,\n                style: {\n                    position: \"fixed\",\n                    top: 0,\n                    left: 0,\n                    right: 0,\n                    bottom: 0,\n                    zIndex: 998\n                }\n            }, void 0, false, {\n                fileName: \"/app/components/TopMenuBar.js\",\n                lineNumber: 34,\n                columnNumber: 9\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                style: {\n                    position: \"fixed\",\n                    top: 0,\n                    left: 0,\n                    right: 0,\n                    height: \"40px\",\n                    backgroundColor: \"#1a252f\",\n                    borderBottom: \"1px solid #2c3e50\",\n                    display: \"flex\",\n                    alignItems: \"stretch\",\n                    zIndex: 999,\n                    boxShadow: \"0 2px 8px rgba(0, 0, 0, 0.3)\",\n                    fontFamily: `'Inter', 'Segoe UI', Arial, sans-serif`,\n                    fontSize: \"14px\"\n                },\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    style: {\n                        display: \"flex\",\n                        alignItems: \"stretch\"\n                    },\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(MenuButton, {\n                            label: \"Tools\",\n                            isOpen: openMenu === \"tools\",\n                            onClick: ()=>handleMenuClick(\"tools\"),\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(MenuItem, {\n                                    label: \"View Profile\",\n                                    onSelect: ()=>{\n                                        onManageProfiles?.();\n                                        closeMenu();\n                                    }\n                                }, void 0, false, {\n                                    fileName: \"/app/components/TopMenuBar.js\",\n                                    lineNumber: 68,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(MenuItem, {\n                                    label: \"Compute Turn Path\",\n                                    onSelect: ()=>{\n                                        onComputePath?.();\n                                        closeMenu();\n                                    }\n                                }, void 0, false, {\n                                    fileName: \"/app/components/TopMenuBar.js\",\n                                    lineNumber: 75,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(MenuItem, {\n                                    label: \"Measure Distance\",\n                                    onSelect: ()=>{\n                                        onMeasureDistance?.();\n                                        closeMenu();\n                                    }\n                                }, void 0, false, {\n                                    fileName: \"/app/components/TopMenuBar.js\",\n                                    lineNumber: 82,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(MenuItem, {\n                                    label: \"Measure Area\",\n                                    onSelect: ()=>{\n                                        onMeasureArea?.();\n                                        closeMenu();\n                                    }\n                                }, void 0, false, {\n                                    fileName: \"/app/components/TopMenuBar.js\",\n                                    lineNumber: 89,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/app/components/TopMenuBar.js\",\n                            lineNumber: 63,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(MenuButton, {\n                            label: \"View\",\n                            isOpen: openMenu === \"view\",\n                            onClick: ()=>handleMenuClick(\"view\"),\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(MenuItem, {\n                                    label: \"Map Mode: 3D Globe\",\n                                    checked: currentSceneMode === \"3d\",\n                                    onSelect: ()=>{\n                                        onChangeSceneMode?.(\"3d\");\n                                        closeMenu();\n                                    }\n                                }, void 0, false, {\n                                    fileName: \"/app/components/TopMenuBar.js\",\n                                    lineNumber: 102,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(MenuItem, {\n                                    label: \"Map Mode: 2D Map\",\n                                    checked: currentSceneMode === \"2d\",\n                                    onSelect: ()=>{\n                                        onChangeSceneMode?.(\"2d\");\n                                        closeMenu();\n                                    }\n                                }, void 0, false, {\n                                    fileName: \"/app/components/TopMenuBar.js\",\n                                    lineNumber: 110,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    style: {\n                                        height: \"1px\",\n                                        background: \"rgba(255,255,255,0.08)\",\n                                        margin: \"6px 0\"\n                                    }\n                                }, void 0, false, {\n                                    fileName: \"/app/components/TopMenuBar.js\",\n                                    lineNumber: 118,\n                                    columnNumber: 13\n                                }, this),\n                                [\n                                    {\n                                        key: \"night\",\n                                        label: \"Base: Night (Dark)\"\n                                    },\n                                    {\n                                        key: \"day\",\n                                        label: \"Base: Day (Satellite)\"\n                                    },\n                                    {\n                                        key: \"topographic\",\n                                        label: \"Base: Topographic\"\n                                    },\n                                    {\n                                        key: \"terrain\",\n                                        label: \"Base: Terrain\"\n                                    }\n                                ].map((opt)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(MenuItem, {\n                                        label: opt.label,\n                                        checked: currentBaseLayer === opt.key,\n                                        onSelect: ()=>{\n                                            onChangeBaseLayer?.(opt.key);\n                                            closeMenu();\n                                        }\n                                    }, opt.key, false, {\n                                        fileName: \"/app/components/TopMenuBar.js\",\n                                        lineNumber: 125,\n                                        columnNumber: 15\n                                    }, this))\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/app/components/TopMenuBar.js\",\n                            lineNumber: 97,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/app/components/TopMenuBar.js\",\n                    lineNumber: 62,\n                    columnNumber: 9\n                }, this)\n            }, void 0, false, {\n                fileName: \"/app/components/TopMenuBar.js\",\n                lineNumber: 47,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                style: {\n                    height: \"40px\"\n                }\n            }, void 0, false, {\n                fileName: \"/app/components/TopMenuBar.js\",\n                lineNumber: 139,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true);\n}\nfunction MenuButton({ label, isOpen, onClick, children }) {\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        style: {\n            position: \"relative\"\n        },\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                onClick: onClick,\n                style: {\n                    height: \"40px\",\n                    padding: \"0 16px\",\n                    backgroundColor: isOpen ? \"#2c3e50\" : \"transparent\",\n                    color: \"white\",\n                    border: \"none\",\n                    cursor: \"pointer\",\n                    fontSize: \"14px\",\n                    fontWeight: \"500\",\n                    fontFamily: `'Inter', 'Segoe UI', Arial, sans-serif`,\n                    transition: \"background-color 0.15s\",\n                    borderRight: \"1px solid rgba(255, 255, 255, 0.1)\"\n                },\n                onMouseEnter: (e)=>{\n                    if (!isOpen) e.currentTarget.style.backgroundColor = \"rgba(255, 255, 255, 0.05)\";\n                },\n                onMouseLeave: (e)=>{\n                    if (!isOpen) e.currentTarget.style.backgroundColor = \"transparent\";\n                },\n                children: label\n            }, void 0, false, {\n                fileName: \"/app/components/TopMenuBar.js\",\n                lineNumber: 147,\n                columnNumber: 7\n            }, this),\n            isOpen && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                style: {\n                    position: \"absolute\",\n                    top: \"100%\",\n                    left: 0,\n                    minWidth: \"280px\",\n                    backgroundColor: \"#2c3e50\",\n                    border: \"1px solid #34495e\",\n                    borderTop: \"none\",\n                    boxShadow: \"0 4px 12px rgba(0, 0, 0, 0.3)\",\n                    zIndex: 1000,\n                    fontFamily: `'Inter', 'Segoe UI', Arial, sans-serif`,\n                    fontSize: \"14px\"\n                },\n                children: children\n            }, void 0, false, {\n                fileName: \"/app/components/TopMenuBar.js\",\n                lineNumber: 173,\n                columnNumber: 9\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/app/components/TopMenuBar.js\",\n        lineNumber: 146,\n        columnNumber: 5\n    }, this);\n}\nfunction MenuItem({ icon, label, description, checked, onSelect }) {\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        onClick: onSelect,\n        style: {\n            padding: \"12px 16px\",\n            cursor: \"pointer\",\n            transition: \"background-color 0.15s, border-color 0.15s\",\n            display: \"flex\",\n            alignItems: \"flex-start\",\n            gap: \"12px\",\n            fontFamily: `'Inter', 'Segoe UI', Arial, sans-serif`,\n            borderRadius: \"6px\",\n            margin: \"2px 8px\"\n        },\n        onMouseEnter: (e)=>{\n            e.currentTarget.style.backgroundColor = \"#3a4b5c\";\n        },\n        onMouseLeave: (e)=>{\n            e.currentTarget.style.backgroundColor = \"transparent\";\n        },\n        children: [\n            checked !== undefined && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                style: {\n                    width: \"16px\",\n                    height: \"16px\",\n                    border: checked ? \"2px solid #4ECDC4\" : \"2px solid rgba(255,255,255,0.4)\",\n                    borderRadius: \"4px\",\n                    display: \"flex\",\n                    alignItems: \"center\",\n                    justifyContent: \"center\",\n                    backgroundColor: checked ? \"#4ECDC4\" : \"transparent\",\n                    flexShrink: 0,\n                    marginTop: \"2px\"\n                },\n                children: checked && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                    style: {\n                        color: \"#0b1a24\",\n                        fontSize: \"12px\",\n                        fontWeight: 700\n                    },\n                    children: \"✓\"\n                }, void 0, false, {\n                    fileName: \"/app/components/TopMenuBar.js\",\n                    lineNumber: 228,\n                    columnNumber: 23\n                }, this)\n            }, void 0, false, {\n                fileName: \"/app/components/TopMenuBar.js\",\n                lineNumber: 216,\n                columnNumber: 9\n            }, this),\n            icon && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                style: {\n                    fontSize: \"16px\",\n                    flexShrink: 0\n                },\n                children: icon\n            }, void 0, false, {\n                fileName: \"/app/components/TopMenuBar.js\",\n                lineNumber: 233,\n                columnNumber: 9\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                style: {\n                    flex: 1\n                },\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        style: {\n                            color: \"white\",\n                            fontSize: \"14px\",\n                            fontWeight: \"500\",\n                            marginBottom: description ? \"4px\" : 0\n                        },\n                        children: label\n                    }, void 0, false, {\n                        fileName: \"/app/components/TopMenuBar.js\",\n                        lineNumber: 239,\n                        columnNumber: 9\n                    }, this),\n                    description && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        style: {\n                            color: \"#95a5a6\",\n                            fontSize: \"12px\",\n                            lineHeight: \"1.3\"\n                        },\n                        children: description\n                    }, void 0, false, {\n                        fileName: \"/app/components/TopMenuBar.js\",\n                        lineNumber: 248,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/app/components/TopMenuBar.js\",\n                lineNumber: 238,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/app/components/TopMenuBar.js\",\n        lineNumber: 195,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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O3dCQUFJRSxPQUFPOzRCQUNWNkIsT0FBTzs0QkFDUGYsVUFBVTs0QkFDVnVDLFlBQVk7d0JBQ2Q7a0NBQ0dYOzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFNYiIsInNvdXJjZXMiOlsid2VicGFjazovL2NvbWJpbmVkLXVpLy4vY29tcG9uZW50cy9Ub3BNZW51QmFyLmpzP2RkYTMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0LCB7IHVzZVN0YXRlIH0gZnJvbSAncmVhY3QnO1xyXG5cclxuLyoqXHJcbiAqIFRvcCBtZW51IGJhciAoY29waWVkIGZyb20gRnJvbnRydW5uZXIpIHdpdGggVG9vbHMgZHJvcGRvd24uXHJcbiAqL1xyXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBUb3BNZW51QmFyKHtcclxuICBvbkNvbXB1dGVQYXRoLFxyXG4gIG9uU2hvd0ludGVyc2VjdGlvbkN1cnZlcyxcclxuICBvbk1hbmFnZVByb2ZpbGVzLFxyXG4gIG9uVG9nZ2xlQ29ybmVyUG9pbnRzLFxyXG4gIG9uVG9nZ2xlQ2VudGVyUG9pbnRzLFxyXG4gIHNob3dDb3JuZXJQb2ludHMsXHJcbiAgc2hvd0NlbnRlclBvaW50cyxcclxuICBvbk1lYXN1cmVEaXN0YW5jZSxcclxuICBvbk1lYXN1cmVBcmVhLFxyXG4gIG9uQ2hhbmdlQmFzZUxheWVyLFxyXG4gIGN1cnJlbnRCYXNlTGF5ZXIsXHJcbiAgb25DaGFuZ2VTY2VuZU1vZGUsXHJcbiAgY3VycmVudFNjZW5lTW9kZVxyXG59KSB7XHJcbiAgY29uc3QgW29wZW5NZW51LCBzZXRPcGVuTWVudV0gPSB1c2VTdGF0ZShudWxsKTtcclxuXHJcbiAgY29uc3QgaGFuZGxlTWVudUNsaWNrID0gKG1lbnVOYW1lKSA9PiB7XHJcbiAgICBzZXRPcGVuTWVudShvcGVuTWVudSA9PT0gbWVudU5hbWUgPyBudWxsIDogbWVudU5hbWUpO1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IGNsb3NlTWVudSA9ICgpID0+IHtcclxuICAgIHNldE9wZW5NZW51KG51bGwpO1xyXG4gIH07XHJcblxyXG4gIHJldHVybiAoXHJcbiAgICA8PlxyXG4gICAgICB7b3Blbk1lbnUgJiYgKFxyXG4gICAgICAgIDxkaXZcclxuICAgICAgICAgIG9uQ2xpY2s9e2Nsb3NlTWVudX1cclxuICAgICAgICAgIHN0eWxlPXt7XHJcbiAgICAgICAgICAgIHBvc2l0aW9uOiAnZml4ZWQnLFxyXG4gICAgICAgICAgICB0b3A6IDAsXHJcbiAgICAgICAgICAgIGxlZnQ6IDAsXHJcbiAgICAgICAgICAgIHJpZ2h0OiAwLFxyXG4gICAgICAgICAgICBib3R0b206IDAsXHJcbiAgICAgICAgICAgIHpJbmRleDogOTk4XHJcbiAgICAgICAgICB9fVxyXG4gICAgICAgIC8+XHJcbiAgICAgICl9XHJcblxyXG4gICAgICA8ZGl2IHN0eWxlPXt7XHJcbiAgICAgICAgcG9zaXRpb246ICdmaXhlZCcsXHJcbiAgICAgICAgdG9wOiAwLFxyXG4gICAgICAgIGxlZnQ6IDAsXHJcbiAgICAgICAgcmlnaHQ6IDAsXHJcbiAgICAgICAgaGVpZ2h0OiAnNDBweCcsXHJcbiAgICAgICAgYmFja2dyb3VuZENvbG9yOiAnIzFhMjUyZicsXHJcbiAgICAgICAgYm9yZGVyQm90dG9tOiAnMXB4IHNvbGlkICMyYzNlNTAnLFxyXG4gICAgICAgIGRpc3BsYXk6ICdmbGV4JyxcclxuICAgICAgICBhbGlnbkl0ZW1zOiAnc3RyZXRjaCcsXHJcbiAgICAgICAgekluZGV4OiA5OTksXHJcbiAgICAgICAgYm94U2hhZG93OiAnMCAycHggOHB4IHJnYmEoMCwgMCwgMCwgMC4zKScsXHJcbiAgICAgICAgZm9udEZhbWlseTogYCdJbnRlcicsICdTZWdvZSBVSScsIEFyaWFsLCBzYW5zLXNlcmlmYCxcclxuICAgICAgICBmb250U2l6ZTogJzE0cHgnXHJcbiAgICAgIH19PlxyXG4gICAgICAgIDxkaXYgc3R5bGU9e3sgZGlzcGxheTogJ2ZsZXgnLCBhbGlnbkl0ZW1zOiAnc3RyZXRjaCcgfX0+XHJcbiAgICAgICAgICA8TWVudUJ1dHRvblxyXG4gICAgICAgICAgICBsYWJlbD1cIlRvb2xzXCJcclxuICAgICAgICAgICAgaXNPcGVuPXtvcGVuTWVudSA9PT0gJ3Rvb2xzJ31cclxuICAgICAgICAgICAgb25DbGljaz17KCkgPT4gaGFuZGxlTWVudUNsaWNrKCd0b29scycpfVxyXG4gICAgICAgICAgPlxyXG4gICAgICAgICAgICA8TWVudUl0ZW1cclxuICAgICAgICAgICAgICBsYWJlbD1cIlZpZXcgUHJvZmlsZVwiXHJcbiAgICAgICAgICAgICAgb25TZWxlY3Q9eygpID0+IHtcclxuICAgICAgICAgICAgICAgIG9uTWFuYWdlUHJvZmlsZXM/LigpO1xyXG4gICAgICAgICAgICAgICAgY2xvc2VNZW51KCk7XHJcbiAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgPE1lbnVJdGVtXHJcbiAgICAgICAgICAgICAgbGFiZWw9XCJDb21wdXRlIFR1cm4gUGF0aFwiXHJcbiAgICAgICAgICAgICAgb25TZWxlY3Q9eygpID0+IHtcclxuICAgICAgICAgICAgICAgIG9uQ29tcHV0ZVBhdGg/LigpO1xyXG4gICAgICAgICAgICAgICAgY2xvc2VNZW51KCk7XHJcbiAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgPE1lbnVJdGVtXHJcbiAgICAgICAgICAgICAgbGFiZWw9XCJNZWFzdXJlIERpc3RhbmNlXCJcclxuICAgICAgICAgICAgICBvblNlbGVjdD17KCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgb25NZWFzdXJlRGlzdGFuY2U/LigpO1xyXG4gICAgICAgICAgICAgICAgY2xvc2VNZW51KCk7XHJcbiAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgPE1lbnVJdGVtXHJcbiAgICAgICAgICAgICAgbGFiZWw9XCJNZWFzdXJlIEFyZWFcIlxyXG4gICAgICAgICAgICAgIG9uU2VsZWN0PXsoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBvbk1lYXN1cmVBcmVhPy4oKTtcclxuICAgICAgICAgICAgICAgIGNsb3NlTWVudSgpO1xyXG4gICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICA8L01lbnVCdXR0b24+XHJcbiAgICAgICAgICA8TWVudUJ1dHRvblxyXG4gICAgICAgICAgICBsYWJlbD1cIlZpZXdcIlxyXG4gICAgICAgICAgICBpc09wZW49e29wZW5NZW51ID09PSAndmlldyd9XHJcbiAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IGhhbmRsZU1lbnVDbGljaygndmlldycpfVxyXG4gICAgICAgICAgPlxyXG4gICAgICAgICAgICA8TWVudUl0ZW1cclxuICAgICAgICAgICAgICBsYWJlbD1cIk1hcCBNb2RlOiAzRCBHbG9iZVwiXHJcbiAgICAgICAgICAgICAgY2hlY2tlZD17Y3VycmVudFNjZW5lTW9kZSA9PT0gJzNkJ31cclxuICAgICAgICAgICAgICBvblNlbGVjdD17KCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgb25DaGFuZ2VTY2VuZU1vZGU/LignM2QnKTtcclxuICAgICAgICAgICAgICAgIGNsb3NlTWVudSgpO1xyXG4gICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgIDxNZW51SXRlbVxyXG4gICAgICAgICAgICAgIGxhYmVsPVwiTWFwIE1vZGU6IDJEIE1hcFwiXHJcbiAgICAgICAgICAgICAgY2hlY2tlZD17Y3VycmVudFNjZW5lTW9kZSA9PT0gJzJkJ31cclxuICAgICAgICAgICAgICBvblNlbGVjdD17KCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgb25DaGFuZ2VTY2VuZU1vZGU/LignMmQnKTtcclxuICAgICAgICAgICAgICAgIGNsb3NlTWVudSgpO1xyXG4gICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgaGVpZ2h0OiAnMXB4JywgYmFja2dyb3VuZDogJ3JnYmEoMjU1LDI1NSwyNTUsMC4wOCknLCBtYXJnaW46ICc2cHggMCcgfX0gLz5cclxuICAgICAgICAgICAge1tcclxuICAgICAgICAgICAgICB7IGtleTogJ25pZ2h0JywgbGFiZWw6ICdCYXNlOiBOaWdodCAoRGFyayknIH0sXHJcbiAgICAgICAgICAgICAgeyBrZXk6ICdkYXknLCBsYWJlbDogJ0Jhc2U6IERheSAoU2F0ZWxsaXRlKScgfSxcclxuICAgICAgICAgICAgICB7IGtleTogJ3RvcG9ncmFwaGljJywgbGFiZWw6ICdCYXNlOiBUb3BvZ3JhcGhpYycgfSxcclxuICAgICAgICAgICAgICB7IGtleTogJ3RlcnJhaW4nLCBsYWJlbDogJ0Jhc2U6IFRlcnJhaW4nIH0sXHJcbiAgICAgICAgICAgIF0ubWFwKChvcHQpID0+IChcclxuICAgICAgICAgICAgICA8TWVudUl0ZW1cclxuICAgICAgICAgICAgICAgIGtleT17b3B0LmtleX1cclxuICAgICAgICAgICAgICAgIGxhYmVsPXtvcHQubGFiZWx9XHJcbiAgICAgICAgICAgICAgICBjaGVja2VkPXtjdXJyZW50QmFzZUxheWVyID09PSBvcHQua2V5fVxyXG4gICAgICAgICAgICAgICAgb25TZWxlY3Q9eygpID0+IHtcclxuICAgICAgICAgICAgICAgICAgb25DaGFuZ2VCYXNlTGF5ZXI/LihvcHQua2V5KTtcclxuICAgICAgICAgICAgICAgICAgY2xvc2VNZW51KCk7XHJcbiAgICAgICAgICAgICAgICB9fVxyXG4gICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICkpfVxyXG4gICAgICAgICAgPC9NZW51QnV0dG9uPlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICA8L2Rpdj5cclxuXHJcbiAgICAgIDxkaXYgc3R5bGU9e3sgaGVpZ2h0OiAnNDBweCcgfX0gLz5cclxuICAgIDwvPlxyXG4gICk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIE1lbnVCdXR0b24oeyBsYWJlbCwgaXNPcGVuLCBvbkNsaWNrLCBjaGlsZHJlbiB9KSB7XHJcbiAgcmV0dXJuIChcclxuICAgIDxkaXYgc3R5bGU9e3sgcG9zaXRpb246ICdyZWxhdGl2ZScgfX0+XHJcbiAgICAgIDxidXR0b25cclxuICAgICAgICBvbkNsaWNrPXtvbkNsaWNrfVxyXG4gICAgICAgIHN0eWxlPXt7XHJcbiAgICAgICAgICBoZWlnaHQ6ICc0MHB4JyxcclxuICAgICAgICAgIHBhZGRpbmc6ICcwIDE2cHgnLFxyXG4gICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBpc09wZW4gPyAnIzJjM2U1MCcgOiAndHJhbnNwYXJlbnQnLFxyXG4gICAgICAgICAgY29sb3I6ICd3aGl0ZScsXHJcbiAgICAgICAgICBib3JkZXI6ICdub25lJyxcclxuICAgICAgICAgIGN1cnNvcjogJ3BvaW50ZXInLFxyXG4gICAgICAgICAgZm9udFNpemU6ICcxNHB4JyxcclxuICAgICAgICAgIGZvbnRXZWlnaHQ6ICc1MDAnLFxyXG4gICAgICAgICAgZm9udEZhbWlseTogYCdJbnRlcicsICdTZWdvZSBVSScsIEFyaWFsLCBzYW5zLXNlcmlmYCxcclxuICAgICAgICAgIHRyYW5zaXRpb246ICdiYWNrZ3JvdW5kLWNvbG9yIDAuMTVzJyxcclxuICAgICAgICAgIGJvcmRlclJpZ2h0OiAnMXB4IHNvbGlkIHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4xKSdcclxuICAgICAgICB9fVxyXG4gICAgICAgIG9uTW91c2VFbnRlcj17KGUpID0+IHtcclxuICAgICAgICAgIGlmICghaXNPcGVuKSBlLmN1cnJlbnRUYXJnZXQuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gJ3JnYmEoMjU1LCAyNTUsIDI1NSwgMC4wNSknO1xyXG4gICAgICAgIH19XHJcbiAgICAgICAgb25Nb3VzZUxlYXZlPXsoZSkgPT4ge1xyXG4gICAgICAgICAgaWYgKCFpc09wZW4pIGUuY3VycmVudFRhcmdldC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAndHJhbnNwYXJlbnQnO1xyXG4gICAgICAgIH19XHJcbiAgICAgID5cclxuICAgICAgICB7bGFiZWx9XHJcbiAgICAgIDwvYnV0dG9uPlxyXG5cclxuICAgICAge2lzT3BlbiAmJiAoXHJcbiAgICAgICAgPGRpdiBzdHlsZT17e1xyXG4gICAgICAgICAgcG9zaXRpb246ICdhYnNvbHV0ZScsXHJcbiAgICAgICAgICB0b3A6ICcxMDAlJyxcclxuICAgICAgICAgIGxlZnQ6IDAsXHJcbiAgICAgICAgICBtaW5XaWR0aDogJzI4MHB4JyxcclxuICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogJyMyYzNlNTAnLFxyXG4gICAgICAgICAgYm9yZGVyOiAnMXB4IHNvbGlkICMzNDQ5NWUnLFxyXG4gICAgICAgICAgYm9yZGVyVG9wOiAnbm9uZScsXHJcbiAgICAgICAgICBib3hTaGFkb3c6ICcwIDRweCAxMnB4IHJnYmEoMCwgMCwgMCwgMC4zKScsXHJcbiAgICAgICAgICB6SW5kZXg6IDEwMDAsXHJcbiAgICAgICAgICBmb250RmFtaWx5OiBgJ0ludGVyJywgJ1NlZ29lIFVJJywgQXJpYWwsIHNhbnMtc2VyaWZgLFxyXG4gICAgICAgICAgZm9udFNpemU6ICcxNHB4J1xyXG4gICAgICAgIH19PlxyXG4gICAgICAgICAge2NoaWxkcmVufVxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICApfVxyXG4gICAgPC9kaXY+XHJcbiAgKTtcclxufVxyXG5cclxuZnVuY3Rpb24gTWVudUl0ZW0oeyBpY29uLCBsYWJlbCwgZGVzY3JpcHRpb24sIGNoZWNrZWQsIG9uU2VsZWN0IH0pIHtcclxuICByZXR1cm4gKFxyXG4gICAgPGRpdlxyXG4gICAgICBvbkNsaWNrPXtvblNlbGVjdH1cclxuICAgICAgc3R5bGU9e3tcclxuICAgICAgICBwYWRkaW5nOiAnMTJweCAxNnB4JyxcclxuICAgICAgICBjdXJzb3I6ICdwb2ludGVyJyxcclxuICAgICAgICB0cmFuc2l0aW9uOiAnYmFja2dyb3VuZC1jb2xvciAwLjE1cywgYm9yZGVyLWNvbG9yIDAuMTVzJyxcclxuICAgICAgICBkaXNwbGF5OiAnZmxleCcsXHJcbiAgICAgICAgYWxpZ25JdGVtczogJ2ZsZXgtc3RhcnQnLFxyXG4gICAgICAgIGdhcDogJzEycHgnLFxyXG4gICAgICAgIGZvbnRGYW1pbHk6IGAnSW50ZXInLCAnU2Vnb2UgVUknLCBBcmlhbCwgc2Fucy1zZXJpZmAsXHJcbiAgICAgICAgYm9yZGVyUmFkaXVzOiAnNnB4JyxcclxuICAgICAgICBtYXJnaW46ICcycHggOHB4J1xyXG4gICAgICB9fVxyXG4gICAgICBvbk1vdXNlRW50ZXI9eyhlKSA9PiB7XHJcbiAgICAgICAgZS5jdXJyZW50VGFyZ2V0LnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICcjM2E0YjVjJztcclxuICAgICAgfX1cclxuICAgICAgb25Nb3VzZUxlYXZlPXsoZSkgPT4ge1xyXG4gICAgICAgIGUuY3VycmVudFRhcmdldC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAndHJhbnNwYXJlbnQnO1xyXG4gICAgICB9fVxyXG4gICAgPlxyXG4gICAgICB7Y2hlY2tlZCAhPT0gdW5kZWZpbmVkICYmIChcclxuICAgICAgICA8ZGl2IHN0eWxlPXt7XHJcbiAgICAgICAgICB3aWR0aDogJzE2cHgnLFxyXG4gICAgICAgICAgaGVpZ2h0OiAnMTZweCcsXHJcbiAgICAgICAgICBib3JkZXI6IGNoZWNrZWQgPyAnMnB4IHNvbGlkICM0RUNEQzQnIDogJzJweCBzb2xpZCByZ2JhKDI1NSwyNTUsMjU1LDAuNCknLFxyXG4gICAgICAgICAgYm9yZGVyUmFkaXVzOiAnNHB4JyxcclxuICAgICAgICAgIGRpc3BsYXk6ICdmbGV4JyxcclxuICAgICAgICAgIGFsaWduSXRlbXM6ICdjZW50ZXInLFxyXG4gICAgICAgICAganVzdGlmeUNvbnRlbnQ6ICdjZW50ZXInLFxyXG4gICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBjaGVja2VkID8gJyM0RUNEQzQnIDogJ3RyYW5zcGFyZW50JyxcclxuICAgICAgICAgIGZsZXhTaHJpbms6IDAsXHJcbiAgICAgICAgICBtYXJnaW5Ub3A6ICcycHgnXHJcbiAgICAgICAgfX0+XHJcbiAgICAgICAgICB7Y2hlY2tlZCAmJiA8c3BhbiBzdHlsZT17eyBjb2xvcjogJyMwYjFhMjQnLCBmb250U2l6ZTogJzEycHgnLCBmb250V2VpZ2h0OiA3MDAgfX0+4pyTPC9zcGFuPn1cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgKX1cclxuXHJcbiAgICAgIHtpY29uICYmIChcclxuICAgICAgICA8c3BhbiBzdHlsZT17eyBmb250U2l6ZTogJzE2cHgnLCBmbGV4U2hyaW5rOiAwIH19PlxyXG4gICAgICAgICAge2ljb259XHJcbiAgICAgICAgPC9zcGFuPlxyXG4gICAgICApfVxyXG5cclxuICAgICAgPGRpdiBzdHlsZT17eyBmbGV4OiAxIH19PlxyXG4gICAgICAgIDxkaXYgc3R5bGU9e3tcclxuICAgICAgICAgIGNvbG9yOiAnd2hpdGUnLFxyXG4gICAgICAgICAgZm9udFNpemU6ICcxNHB4JyxcclxuICAgICAgICAgIGZvbnRXZWlnaHQ6ICc1MDAnLFxyXG4gICAgICAgICAgbWFyZ2luQm90dG9tOiBkZXNjcmlwdGlvbiA/ICc0cHgnIDogMFxyXG4gICAgICAgIH19PlxyXG4gICAgICAgICAge2xhYmVsfVxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICAgIHtkZXNjcmlwdGlvbiAmJiAoXHJcbiAgICAgICAgICA8ZGl2IHN0eWxlPXt7XHJcbiAgICAgICAgICAgIGNvbG9yOiAnIzk1YTVhNicsXHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMTJweCcsXHJcbiAgICAgICAgICAgIGxpbmVIZWlnaHQ6ICcxLjMnXHJcbiAgICAgICAgICB9fT5cclxuICAgICAgICAgICAge2Rlc2NyaXB0aW9ufVxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgKX1cclxuICAgICAgPC9kaXY+XHJcbiAgICA8L2Rpdj5cclxuICApO1xyXG59XHJcbiJdLCJuYW1lcyI6WyJSZWFjdCIsInVzZVN0YXRlIiwiVG9wTWVudUJhciIsIm9uQ29tcHV0ZVBhdGgiLCJvblNob3dJbnRlcnNlY3Rpb25DdXJ2ZXMiLCJvbk1hbmFnZVByb2ZpbGVzIiwib25Ub2dnbGVDb3JuZXJQb2ludHMiLCJvblRvZ2dsZUNlbnRlclBvaW50cyIsInNob3dDb3JuZXJQb2ludHMiLCJzaG93Q2VudGVyUG9pbnRzIiwib25NZWFzdXJlRGlzdGFuY2UiLCJvbk1lYXN1cmVBcmVhIiwib25DaGFuZ2VCYXNlTGF5ZXIiLCJjdXJyZW50QmFzZUxheWVyIiwib25DaGFuZ2VTY2VuZU1vZGUiLCJjdXJyZW50U2NlbmVNb2RlIiwib3Blbk1lbnUiLCJzZXRPcGVuTWVudSIsImhhbmRsZU1lbnVDbGljayIsIm1lbnVOYW1lIiwiY2xvc2VNZW51IiwiZGl2Iiwib25DbGljayIsInN0eWxlIiwicG9zaXRpb24iLCJ0b3AiLCJsZWZ0IiwicmlnaHQiLCJib3R0b20iLCJ6SW5kZXgiLCJoZWlnaHQiLCJiYWNrZ3JvdW5kQ29sb3IiLCJib3JkZXJCb3R0b20iLCJkaXNwbGF5IiwiYWxpZ25JdGVtcyIsImJveFNoYWRvdyIsImZvbnRGYW1pbHkiLCJmb250U2l6ZSIsIk1lbnVCdXR0b24iLCJsYWJlbCIsImlzT3BlbiIsIk1lbnVJdGVtIiwib25TZWxlY3QiLCJjaGVja2VkIiwiYmFja2dyb3VuZCIsIm1hcmdpbiIsImtleSIsIm1hcCIsIm9wdCIsImNoaWxkcmVuIiwiYnV0dG9uIiwicGFkZGluZyIsImNvbG9yIiwiYm9yZGVyIiwiY3Vyc29yIiwiZm9udFdlaWdodCIsInRyYW5zaXRpb24iLCJib3JkZXJSaWdodCIsIm9uTW91c2VFbnRlciIsImUiLCJjdXJyZW50VGFyZ2V0Iiwib25Nb3VzZUxlYXZlIiwibWluV2lkdGgiLCJib3JkZXJUb3AiLCJpY29uIiwiZGVzY3JpcHRpb24iLCJnYXAiLCJib3JkZXJSYWRpdXMiLCJ1bmRlZmluZWQiLCJ3aWR0aCIsImp1c3RpZnlDb250ZW50IiwiZmxleFNocmluayIsIm1hcmdpblRvcCIsInNwYW4iLCJmbGV4IiwibWFyZ2luQm90dG9tIiwibGluZUhlaWdodCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./components/TopMenuBar.js\n");

/***/ }),

/***/ "./components/TurnPathDialog.js":
/*!**************************************!*\
  !*** ./components/TurnPathDialog.js ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ TurnPathDialog)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n\n\nfunction TurnPathDialog({ isOpen, onClose, onStartSelection, vehicleProfiles = {}, currentStep = \"profile\" }) {\n    const defaultVehicleProfiles = {\n        komatsu_830e: {\n            name: \"Komatsu 830E\",\n            vehicle_width_m: 7.3,\n            wheelbase_m: 6.35,\n            min_turn_radius_m: 10.2,\n            max_steering_angle_deg: 32\n        }\n    };\n    const [selectedProfile, setSelectedProfile] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"komatsu_830e\");\n    const [useCustom, setUseCustom] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [customValues, setCustomValues] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        name: \"Custom Vehicle\",\n        vehicle_width_m: 7.3,\n        wheelbase_m: 6.35,\n        max_steering_angle_deg: 32.0,\n        side_buffer_m: 0.5,\n        front_buffer_m: 1.0,\n        rear_buffer_m: 1.0\n    });\n    const [samplingStep, setSamplingStep] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(1.0);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (!isOpen) return;\n        const profiles = Object.keys(vehicleProfiles).length > 0 ? vehicleProfiles : defaultVehicleProfiles;\n        if (!profiles[selectedProfile]) {\n            const first = Object.keys(profiles)[0];\n            setSelectedProfile(first);\n        }\n    }, [\n        isOpen,\n        vehicleProfiles,\n        selectedProfile\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const onEsc = (e)=>{\n            if (e.key === \"Escape\" && isOpen) onClose?.();\n        };\n        window.addEventListener(\"keydown\", onEsc);\n        return ()=>window.removeEventListener(\"keydown\", onEsc);\n    }, [\n        isOpen,\n        onClose\n    ]);\n    const shouldShow = currentStep === \"profile\" || currentStep === \"computing\";\n    if (!isOpen || !shouldShow) return null;\n    const profilesToShow = Object.keys(vehicleProfiles).length > 0 ? vehicleProfiles : defaultVehicleProfiles;\n    const handleStartSelection = ()=>{\n        const config = {\n            vehicle_profile_id: useCustom ? null : selectedProfile,\n            custom_vehicle_profile: useCustom ? customValues : null,\n            sampling_step_m: samplingStep\n        };\n        onStartSelection?.(config);\n    };\n    const renderProfileStep = ()=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    style: {\n                        padding: \"20px\",\n                        borderBottom: \"1px solid #34495e\",\n                        backgroundColor: \"#2c3e50\"\n                    },\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                            style: {\n                                margin: 0,\n                                color: \"white\",\n                                fontSize: \"20px\",\n                                fontWeight: \"600\",\n                                display: \"flex\",\n                                alignItems: \"center\",\n                                gap: \"12px\"\n                            },\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                    children: \"\\uD83D\\uDEE3️\"\n                                }, void 0, false, {\n                                    fileName: \"/app/components/TurnPathDialog.js\",\n                                    lineNumber: 82,\n                                    columnNumber: 11\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                    children: \"Compute Turn Path\"\n                                }, void 0, false, {\n                                    fileName: \"/app/components/TurnPathDialog.js\",\n                                    lineNumber: 83,\n                                    columnNumber: 11\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/app/components/TurnPathDialog.js\",\n                            lineNumber: 73,\n                            columnNumber: 9\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                            style: {\n                                margin: \"8px 0 0 0\",\n                                color: \"#95a5a6\",\n                                fontSize: \"14px\"\n                            },\n                            children: \"Configure vehicle parameters and select roads on the map\"\n                        }, void 0, false, {\n                            fileName: \"/app/components/TurnPathDialog.js\",\n                            lineNumber: 85,\n                            columnNumber: 9\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/app/components/TurnPathDialog.js\",\n                    lineNumber: 68,\n                    columnNumber: 7\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    style: {\n                        padding: \"24px\",\n                        maxHeight: \"60vh\",\n                        overflowY: \"auto\"\n                    },\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            style: {\n                                marginBottom: \"24px\"\n                            },\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                    style: {\n                                        display: \"block\",\n                                        color: \"white\",\n                                        fontSize: \"14px\",\n                                        fontWeight: \"500\",\n                                        marginBottom: \"12px\"\n                                    },\n                                    children: \"Vehicle Profile\"\n                                }, void 0, false, {\n                                    fileName: \"/app/components/TurnPathDialog.js\",\n                                    lineNumber: 96,\n                                    columnNumber: 11\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    style: {\n                                        display: \"flex\",\n                                        gap: \"12px\",\n                                        marginBottom: \"16px\"\n                                    },\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                            onClick: ()=>setUseCustom(false),\n                                            style: {\n                                                flex: 1,\n                                                padding: \"12px\",\n                                                backgroundColor: !useCustom ? \"#3498db\" : \"#34495e\",\n                                                color: \"white\",\n                                                border: \"none\",\n                                                borderRadius: \"6px\",\n                                                cursor: \"pointer\",\n                                                fontSize: \"14px\",\n                                                fontWeight: \"500\",\n                                                transition: \"all 0.2s\"\n                                            },\n                                            children: \"Predefined Profile\"\n                                        }, void 0, false, {\n                                            fileName: \"/app/components/TurnPathDialog.js\",\n                                            lineNumber: 109,\n                                            columnNumber: 13\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                            onClick: ()=>setUseCustom(true),\n                                            style: {\n                                                flex: 1,\n                                                padding: \"12px\",\n                                                backgroundColor: useCustom ? \"#3498db\" : \"#34495e\",\n                                                color: \"white\",\n                                                border: \"none\",\n                                                borderRadius: \"6px\",\n                                                cursor: \"pointer\",\n                                                fontSize: \"14px\",\n                                                fontWeight: \"500\",\n                                                transition: \"all 0.2s\"\n                                            },\n                                            children: \"Custom Values\"\n                                        }, void 0, false, {\n                                            fileName: \"/app/components/TurnPathDialog.js\",\n                                            lineNumber: 126,\n                                            columnNumber: 13\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/app/components/TurnPathDialog.js\",\n                                    lineNumber: 108,\n                                    columnNumber: 11\n                                }, this),\n                                !useCustom && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    children: Object.entries(profilesToShow).map(([key, profile])=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            onClick: ()=>setSelectedProfile(key),\n                                            style: {\n                                                padding: \"16px\",\n                                                marginBottom: \"8px\",\n                                                backgroundColor: selectedProfile === key ? \"#2c3e50\" : \"#34495e\",\n                                                border: selectedProfile === key ? \"2px solid #3498db\" : \"2px solid transparent\",\n                                                borderRadius: \"8px\",\n                                                cursor: \"pointer\",\n                                                transition: \"all 0.2s\"\n                                            },\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    style: {\n                                                        display: \"flex\",\n                                                        justifyContent: \"space-between\",\n                                                        alignItems: \"center\",\n                                                        marginBottom: \"8px\"\n                                                    },\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                            style: {\n                                                                color: \"white\",\n                                                                fontSize: \"16px\",\n                                                                fontWeight: \"600\"\n                                                            },\n                                                            children: profile.name\n                                                        }, void 0, false, {\n                                                            fileName: \"/app/components/TurnPathDialog.js\",\n                                                            lineNumber: 170,\n                                                            columnNumber: 21\n                                                        }, this),\n                                                        selectedProfile === key && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                            style: {\n                                                                color: \"#3498db\",\n                                                                fontSize: \"18px\"\n                                                            },\n                                                            children: \"✓\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/app/components/TurnPathDialog.js\",\n                                                            lineNumber: 174,\n                                                            columnNumber: 23\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/app/components/TurnPathDialog.js\",\n                                                    lineNumber: 162,\n                                                    columnNumber: 19\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    style: {\n                                                        display: \"grid\",\n                                                        gridTemplateColumns: \"1fr 1fr\",\n                                                        gap: \"8px\",\n                                                        fontSize: \"13px\",\n                                                        color: \"#95a5a6\"\n                                                    },\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            children: [\n                                                                \"Width: \",\n                                                                profile.vehicle_width_m,\n                                                                \"m\"\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"/app/components/TurnPathDialog.js\",\n                                                            lineNumber: 186,\n                                                            columnNumber: 21\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            children: [\n                                                                \"Wheelbase: \",\n                                                                profile.wheelbase_m,\n                                                                \"m\"\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"/app/components/TurnPathDialog.js\",\n                                                            lineNumber: 187,\n                                                            columnNumber: 21\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            children: [\n                                                                \"Turn Radius: \",\n                                                                profile.min_turn_radius_m.toFixed(1),\n                                                                \"m\"\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"/app/components/TurnPathDialog.js\",\n                                                            lineNumber: 188,\n                                                            columnNumber: 21\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            children: [\n                                                                \"Max Steer: \",\n                                                                profile.max_steering_angle_deg,\n                                                                \"\\xb0\"\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"/app/components/TurnPathDialog.js\",\n                                                            lineNumber: 189,\n                                                            columnNumber: 21\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/app/components/TurnPathDialog.js\",\n                                                    lineNumber: 177,\n                                                    columnNumber: 19\n                                                }, this)\n                                            ]\n                                        }, key, true, {\n                                            fileName: \"/app/components/TurnPathDialog.js\",\n                                            lineNumber: 148,\n                                            columnNumber: 17\n                                        }, this))\n                                }, void 0, false, {\n                                    fileName: \"/app/components/TurnPathDialog.js\",\n                                    lineNumber: 146,\n                                    columnNumber: 13\n                                }, this),\n                                useCustom && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    style: {\n                                        display: \"grid\",\n                                        gap: \"16px\"\n                                    },\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                    style: {\n                                                        display: \"block\",\n                                                        color: \"#95a5a6\",\n                                                        fontSize: \"13px\"\n                                                    },\n                                                    children: \"Vehicle Name\"\n                                                }, void 0, false, {\n                                                    fileName: \"/app/components/TurnPathDialog.js\",\n                                                    lineNumber: 199,\n                                                    columnNumber: 17\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                    type: \"text\",\n                                                    value: customValues.name,\n                                                    onChange: (e)=>setCustomValues({\n                                                            ...customValues,\n                                                            name: e.target.value\n                                                        }),\n                                                    style: {\n                                                        width: \"100%\",\n                                                        padding: \"10px\",\n                                                        backgroundColor: \"#34495e\",\n                                                        border: \"1px solid #2c3e50\",\n                                                        borderRadius: \"4px\",\n                                                        color: \"white\",\n                                                        fontSize: \"14px\"\n                                                    }\n                                                }, void 0, false, {\n                                                    fileName: \"/app/components/TurnPathDialog.js\",\n                                                    lineNumber: 202,\n                                                    columnNumber: 17\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/app/components/TurnPathDialog.js\",\n                                            lineNumber: 198,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                    style: {\n                                                        display: \"block\",\n                                                        color: \"#95a5a6\",\n                                                        fontSize: \"13px\"\n                                                    },\n                                                    children: \"Vehicle Width (m)\"\n                                                }, void 0, false, {\n                                                    fileName: \"/app/components/TurnPathDialog.js\",\n                                                    lineNumber: 219,\n                                                    columnNumber: 17\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                    type: \"number\",\n                                                    step: \"0.1\",\n                                                    value: customValues.vehicle_width_m,\n                                                    onChange: (e)=>setCustomValues({\n                                                            ...customValues,\n                                                            vehicle_width_m: parseFloat(e.target.value)\n                                                        }),\n                                                    style: {\n                                                        width: \"100%\",\n                                                        padding: \"10px\",\n                                                        backgroundColor: \"#34495e\",\n                                                        border: \"1px solid #2c3e50\",\n                                                        borderRadius: \"4px\",\n                                                        color: \"white\",\n                                                        fontSize: \"14px\"\n                                                    }\n                                                }, void 0, false, {\n                                                    fileName: \"/app/components/TurnPathDialog.js\",\n                                                    lineNumber: 222,\n                                                    columnNumber: 17\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/app/components/TurnPathDialog.js\",\n                                            lineNumber: 218,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                    style: {\n                                                        display: \"block\",\n                                                        color: \"#95a5a6\",\n                                                        fontSize: \"13px\"\n                                                    },\n                                                    children: \"Wheelbase (m)\"\n                                                }, void 0, false, {\n                                                    fileName: \"/app/components/TurnPathDialog.js\",\n                                                    lineNumber: 242,\n                                                    columnNumber: 17\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                    type: \"number\",\n                                                    step: \"0.1\",\n                                                    value: customValues.wheelbase_m,\n                                                    onChange: (e)=>setCustomValues({\n                                                            ...customValues,\n                                                            wheelbase_m: parseFloat(e.target.value)\n                                                        }),\n                                                    style: {\n                                                        width: \"100%\",\n                                                        padding: \"10px\",\n                                                        backgroundColor: \"#34495e\",\n                                                        border: \"1px solid #2c3e50\",\n                                                        borderRadius: \"4px\",\n                                                        color: \"white\",\n                                                        fontSize: \"14px\"\n                                                    }\n                                                }, void 0, false, {\n                                                    fileName: \"/app/components/TurnPathDialog.js\",\n                                                    lineNumber: 245,\n                                                    columnNumber: 17\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/app/components/TurnPathDialog.js\",\n                                            lineNumber: 241,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                    style: {\n                                                        display: \"block\",\n                                                        color: \"#95a5a6\",\n                                                        fontSize: \"13px\"\n                                                    },\n                                                    children: \"Max Steering Angle (degrees)\"\n                                                }, void 0, false, {\n                                                    fileName: \"/app/components/TurnPathDialog.js\",\n                                                    lineNumber: 265,\n                                                    columnNumber: 17\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                    type: \"number\",\n                                                    step: \"1\",\n                                                    value: customValues.max_steering_angle_deg,\n                                                    onChange: (e)=>setCustomValues({\n                                                            ...customValues,\n                                                            max_steering_angle_deg: parseFloat(e.target.value)\n                                                        }),\n                                                    style: {\n                                                        width: \"100%\",\n                                                        padding: \"10px\",\n                                                        backgroundColor: \"#34495e\",\n                                                        border: \"1px solid #2c3e50\",\n                                                        borderRadius: \"4px\",\n                                                        color: \"white\",\n                                                        fontSize: \"14px\"\n                                                    }\n                                                }, void 0, false, {\n                                                    fileName: \"/app/components/TurnPathDialog.js\",\n                                                    lineNumber: 268,\n                                                    columnNumber: 17\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/app/components/TurnPathDialog.js\",\n                                            lineNumber: 264,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                    style: {\n                                                        display: \"block\",\n                                                        color: \"#95a5a6\",\n                                                        fontSize: \"13px\"\n                                                    },\n                                                    children: \"Side Safety Buffer (m)\"\n                                                }, void 0, false, {\n                                                    fileName: \"/app/components/TurnPathDialog.js\",\n                                                    lineNumber: 291,\n                                                    columnNumber: 17\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                    type: \"number\",\n                                                    step: \"0.1\",\n                                                    value: customValues.side_buffer_m,\n                                                    onChange: (e)=>setCustomValues({\n                                                            ...customValues,\n                                                            side_buffer_m: parseFloat(e.target.value)\n                                                        }),\n                                                    style: {\n                                                        width: \"100%\",\n                                                        padding: \"10px\",\n                                                        backgroundColor: \"#34495e\",\n                                                        border: \"1px solid #2c3e50\",\n                                                        borderRadius: \"4px\",\n                                                        color: \"white\",\n                                                        fontSize: \"14px\"\n                                                    }\n                                                }, void 0, false, {\n                                                    fileName: \"/app/components/TurnPathDialog.js\",\n                                                    lineNumber: 294,\n                                                    columnNumber: 17\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/app/components/TurnPathDialog.js\",\n                                            lineNumber: 290,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            style: {\n                                                padding: \"12px\",\n                                                backgroundColor: \"#2c3e50\",\n                                                borderRadius: \"6px\",\n                                                border: \"1px solid #3498db\"\n                                            },\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    style: {\n                                                        color: \"#95a5a6\",\n                                                        fontSize: \"13px\",\n                                                        marginBottom: \"4px\"\n                                                    },\n                                                    children: \"Calculated Min Turn Radius\"\n                                                }, void 0, false, {\n                                                    fileName: \"/app/components/TurnPathDialog.js\",\n                                                    lineNumber: 321,\n                                                    columnNumber: 17\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    style: {\n                                                        color: \"#3498db\",\n                                                        fontSize: \"18px\",\n                                                        fontWeight: \"600\"\n                                                    },\n                                                    children: [\n                                                        (customValues.wheelbase_m / Math.tan(customValues.max_steering_angle_deg * Math.PI / 180)).toFixed(2),\n                                                        \" \",\n                                                        \"m\"\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/app/components/TurnPathDialog.js\",\n                                                    lineNumber: 324,\n                                                    columnNumber: 17\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/app/components/TurnPathDialog.js\",\n                                            lineNumber: 313,\n                                            columnNumber: 15\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/app/components/TurnPathDialog.js\",\n                                    lineNumber: 197,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/app/components/TurnPathDialog.js\",\n                            lineNumber: 95,\n                            columnNumber: 9\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                    style: {\n                                        display: \"block\",\n                                        color: \"white\",\n                                        fontSize: \"14px\",\n                                        fontWeight: \"500\",\n                                        marginBottom: \"12px\"\n                                    },\n                                    children: \"Path Resolution\"\n                                }, void 0, false, {\n                                    fileName: \"/app/components/TurnPathDialog.js\",\n                                    lineNumber: 337,\n                                    columnNumber: 11\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    style: {\n                                        display: \"flex\",\n                                        alignItems: \"center\",\n                                        gap: \"12px\"\n                                    },\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                            type: \"range\",\n                                            min: \"0.5\",\n                                            max: \"5\",\n                                            step: \"0.1\",\n                                            value: samplingStep,\n                                            onChange: (e)=>setSamplingStep(parseFloat(e.target.value)),\n                                            style: {\n                                                flex: 1\n                                            }\n                                        }, void 0, false, {\n                                            fileName: \"/app/components/TurnPathDialog.js\",\n                                            lineNumber: 349,\n                                            columnNumber: 13\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            style: {\n                                                color: \"white\",\n                                                fontSize: \"14px\",\n                                                fontWeight: \"600\"\n                                            },\n                                            children: [\n                                                samplingStep.toFixed(1),\n                                                \" m\"\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/app/components/TurnPathDialog.js\",\n                                            lineNumber: 358,\n                                            columnNumber: 13\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/app/components/TurnPathDialog.js\",\n                                    lineNumber: 348,\n                                    columnNumber: 11\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    style: {\n                                        color: \"#95a5a6\",\n                                        fontSize: \"12px\",\n                                        marginTop: \"6px\"\n                                    },\n                                    children: \"Distance between path points (lower = more detailed)\"\n                                }, void 0, false, {\n                                    fileName: \"/app/components/TurnPathDialog.js\",\n                                    lineNumber: 362,\n                                    columnNumber: 11\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/app/components/TurnPathDialog.js\",\n                            lineNumber: 336,\n                            columnNumber: 9\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/app/components/TurnPathDialog.js\",\n                    lineNumber: 94,\n                    columnNumber: 7\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    style: {\n                        padding: \"16px 20px\",\n                        borderTop: \"1px solid #34495e\",\n                        display: \"flex\",\n                        justifyContent: \"space-between\",\n                        alignItems: \"center\",\n                        backgroundColor: \"#1f2b38\"\n                    },\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            onClick: onClose,\n                            style: {\n                                padding: \"10px 16px\",\n                                backgroundColor: \"#34495e\",\n                                color: \"white\",\n                                border: \"1px solid #2c3e50\",\n                                borderRadius: \"6px\",\n                                cursor: \"pointer\",\n                                fontSize: \"14px\",\n                                fontWeight: \"500\"\n                            },\n                            children: \"Cancel\"\n                        }, void 0, false, {\n                            fileName: \"/app/components/TurnPathDialog.js\",\n                            lineNumber: 378,\n                            columnNumber: 9\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            onClick: handleStartSelection,\n                            style: {\n                                padding: \"10px 16px\",\n                                backgroundColor: \"#1abc9c\",\n                                color: \"white\",\n                                border: \"none\",\n                                borderRadius: \"6px\",\n                                cursor: \"pointer\",\n                                fontSize: \"14px\",\n                                fontWeight: \"600\",\n                                minWidth: \"200px\",\n                                display: \"flex\",\n                                alignItems: \"center\",\n                                justifyContent: \"center\",\n                                gap: \"8px\"\n                            },\n                            children: \"Select Roads on Map →\"\n                        }, void 0, false, {\n                            fileName: \"/app/components/TurnPathDialog.js\",\n                            lineNumber: 393,\n                            columnNumber: 9\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/app/components/TurnPathDialog.js\",\n                    lineNumber: 368,\n                    columnNumber: 7\n                }, this)\n            ]\n        }, void 0, true);\n    const renderComputingStep = ()=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            style: {\n                padding: \"32px\",\n                textAlign: \"center\"\n            },\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    style: {\n                        marginBottom: \"12px\",\n                        fontSize: \"18px\",\n                        color: \"white\",\n                        fontWeight: \"600\"\n                    },\n                    children: \"Computing turn path...\"\n                }, void 0, false, {\n                    fileName: \"/app/components/TurnPathDialog.js\",\n                    lineNumber: 419,\n                    columnNumber: 7\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    style: {\n                        color: \"#95a5a6\",\n                        fontSize: \"14px\"\n                    },\n                    children: \"This usually takes a few seconds. Please wait.\"\n                }, void 0, false, {\n                    fileName: \"/app/components/TurnPathDialog.js\",\n                    lineNumber: 429,\n                    columnNumber: 7\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"/app/components/TurnPathDialog.js\",\n            lineNumber: 418,\n            columnNumber: 5\n        }, this);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        style: {\n            position: \"fixed\",\n            top: 0,\n            left: 0,\n            right: 0,\n            bottom: 0,\n            zIndex: 1000,\n            backgroundColor: \"rgba(0, 0, 0, 0.4)\",\n            display: \"flex\",\n            alignItems: \"center\",\n            justifyContent: \"center\",\n            backdropFilter: \"blur(2px)\"\n        },\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            style: {\n                width: \"640px\",\n                backgroundColor: \"#1f2b38\",\n                borderRadius: \"10px\",\n                boxShadow: \"0 10px 32px rgba(0, 0, 0, 0.45)\",\n                overflow: \"hidden\",\n                border: \"1px solid #2c3e50\"\n            },\n            children: currentStep === \"computing\" ? renderComputingStep() : renderProfileStep()\n        }, void 0, false, {\n            fileName: \"/app/components/TurnPathDialog.js\",\n            lineNumber: 451,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"/app/components/TurnPathDialog.js\",\n        lineNumber: 436,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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V0FBVztnQkFDWEMsVUFBVTtnQkFDVnBDLFFBQVE7WUFDVjtzQkFFQzVELGdCQUFnQixjQUFjc0Ysd0JBQXdCakQ7Ozs7Ozs7Ozs7O0FBSS9EIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY29tYmluZWQtdWkvLi9jb21wb25lbnRzL1R1cm5QYXRoRGlhbG9nLmpzPzUwY2EiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0LCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QgfSBmcm9tICdyZWFjdCc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBUdXJuUGF0aERpYWxvZyh7XHJcbiAgaXNPcGVuLFxyXG4gIG9uQ2xvc2UsXHJcbiAgb25TdGFydFNlbGVjdGlvbixcclxuICB2ZWhpY2xlUHJvZmlsZXMgPSB7fSxcclxuICBjdXJyZW50U3RlcCA9ICdwcm9maWxlJyxcclxufSkge1xyXG4gIGNvbnN0IGRlZmF1bHRWZWhpY2xlUHJvZmlsZXMgPSB7XHJcbiAgICBrb21hdHN1XzgzMGU6IHtcclxuICAgICAgbmFtZTogJ0tvbWF0c3UgODMwRScsXHJcbiAgICAgIHZlaGljbGVfd2lkdGhfbTogNy4zLFxyXG4gICAgICB3aGVlbGJhc2VfbTogNi4zNSxcclxuICAgICAgbWluX3R1cm5fcmFkaXVzX206IDEwLjIsXHJcbiAgICAgIG1heF9zdGVlcmluZ19hbmdsZV9kZWc6IDMyLFxyXG4gICAgfSxcclxuICB9O1xyXG5cclxuICBjb25zdCBbc2VsZWN0ZWRQcm9maWxlLCBzZXRTZWxlY3RlZFByb2ZpbGVdID0gdXNlU3RhdGUoJ2tvbWF0c3VfODMwZScpO1xyXG4gIGNvbnN0IFt1c2VDdXN0b20sIHNldFVzZUN1c3RvbV0gPSB1c2VTdGF0ZShmYWxzZSk7XHJcbiAgY29uc3QgW2N1c3RvbVZhbHVlcywgc2V0Q3VzdG9tVmFsdWVzXSA9IHVzZVN0YXRlKHtcclxuICAgIG5hbWU6ICdDdXN0b20gVmVoaWNsZScsXHJcbiAgICB2ZWhpY2xlX3dpZHRoX206IDcuMyxcclxuICAgIHdoZWVsYmFzZV9tOiA2LjM1LFxyXG4gICAgbWF4X3N0ZWVyaW5nX2FuZ2xlX2RlZzogMzIuMCxcclxuICAgIHNpZGVfYnVmZmVyX206IDAuNSxcclxuICAgIGZyb250X2J1ZmZlcl9tOiAxLjAsXHJcbiAgICByZWFyX2J1ZmZlcl9tOiAxLjAsXHJcbiAgfSk7XHJcbiAgY29uc3QgW3NhbXBsaW5nU3RlcCwgc2V0U2FtcGxpbmdTdGVwXSA9IHVzZVN0YXRlKDEuMCk7XHJcblxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBpZiAoIWlzT3BlbikgcmV0dXJuO1xyXG4gICAgY29uc3QgcHJvZmlsZXMgPVxyXG4gICAgICBPYmplY3Qua2V5cyh2ZWhpY2xlUHJvZmlsZXMpLmxlbmd0aCA+IDAgPyB2ZWhpY2xlUHJvZmlsZXMgOiBkZWZhdWx0VmVoaWNsZVByb2ZpbGVzO1xyXG4gICAgaWYgKCFwcm9maWxlc1tzZWxlY3RlZFByb2ZpbGVdKSB7XHJcbiAgICAgIGNvbnN0IGZpcnN0ID0gT2JqZWN0LmtleXMocHJvZmlsZXMpWzBdO1xyXG4gICAgICBzZXRTZWxlY3RlZFByb2ZpbGUoZmlyc3QpO1xyXG4gICAgfVxyXG4gIH0sIFtpc09wZW4sIHZlaGljbGVQcm9maWxlcywgc2VsZWN0ZWRQcm9maWxlXSk7XHJcblxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBjb25zdCBvbkVzYyA9IChlKSA9PiB7XHJcbiAgICAgIGlmIChlLmtleSA9PT0gJ0VzY2FwZScgJiYgaXNPcGVuKSBvbkNsb3NlPy4oKTtcclxuICAgIH07XHJcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIG9uRXNjKTtcclxuICAgIHJldHVybiAoKSA9PiB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIG9uRXNjKTtcclxuICB9LCBbaXNPcGVuLCBvbkNsb3NlXSk7XHJcblxyXG4gIGNvbnN0IHNob3VsZFNob3cgPSBjdXJyZW50U3RlcCA9PT0gJ3Byb2ZpbGUnIHx8IGN1cnJlbnRTdGVwID09PSAnY29tcHV0aW5nJztcclxuICBpZiAoIWlzT3BlbiB8fCAhc2hvdWxkU2hvdykgcmV0dXJuIG51bGw7XHJcblxyXG4gIGNvbnN0IHByb2ZpbGVzVG9TaG93ID1cclxuICAgIE9iamVjdC5rZXlzKHZlaGljbGVQcm9maWxlcykubGVuZ3RoID4gMCA/IHZlaGljbGVQcm9maWxlcyA6IGRlZmF1bHRWZWhpY2xlUHJvZmlsZXM7XHJcblxyXG4gIGNvbnN0IGhhbmRsZVN0YXJ0U2VsZWN0aW9uID0gKCkgPT4ge1xyXG4gICAgY29uc3QgY29uZmlnID0ge1xyXG4gICAgICB2ZWhpY2xlX3Byb2ZpbGVfaWQ6IHVzZUN1c3RvbSA/IG51bGwgOiBzZWxlY3RlZFByb2ZpbGUsXHJcbiAgICAgIGN1c3RvbV92ZWhpY2xlX3Byb2ZpbGU6IHVzZUN1c3RvbSA/IGN1c3RvbVZhbHVlcyA6IG51bGwsXHJcbiAgICAgIHNhbXBsaW5nX3N0ZXBfbTogc2FtcGxpbmdTdGVwLFxyXG4gICAgfTtcclxuICAgIG9uU3RhcnRTZWxlY3Rpb24/Lihjb25maWcpO1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IHJlbmRlclByb2ZpbGVTdGVwID0gKCkgPT4gKFxyXG4gICAgPD5cclxuICAgICAgPGRpdiBzdHlsZT17e1xyXG4gICAgICAgIHBhZGRpbmc6ICcyMHB4JyxcclxuICAgICAgICBib3JkZXJCb3R0b206ICcxcHggc29saWQgIzM0NDk1ZScsXHJcbiAgICAgICAgYmFja2dyb3VuZENvbG9yOiAnIzJjM2U1MCdcclxuICAgICAgfX0+XHJcbiAgICAgICAgPGgyIHN0eWxlPXt7XHJcbiAgICAgICAgICBtYXJnaW46IDAsXHJcbiAgICAgICAgICBjb2xvcjogJ3doaXRlJyxcclxuICAgICAgICAgIGZvbnRTaXplOiAnMjBweCcsXHJcbiAgICAgICAgICBmb250V2VpZ2h0OiAnNjAwJyxcclxuICAgICAgICAgIGRpc3BsYXk6ICdmbGV4JyxcclxuICAgICAgICAgIGFsaWduSXRlbXM6ICdjZW50ZXInLFxyXG4gICAgICAgICAgZ2FwOiAnMTJweCdcclxuICAgICAgICB9fT5cclxuICAgICAgICAgIDxzcGFuPvCfm6PvuI88L3NwYW4+XHJcbiAgICAgICAgICA8c3Bhbj5Db21wdXRlIFR1cm4gUGF0aDwvc3Bhbj5cclxuICAgICAgICA8L2gyPlxyXG4gICAgICAgIDxwIHN0eWxlPXt7XHJcbiAgICAgICAgICBtYXJnaW46ICc4cHggMCAwIDAnLFxyXG4gICAgICAgICAgY29sb3I6ICcjOTVhNWE2JyxcclxuICAgICAgICAgIGZvbnRTaXplOiAnMTRweCdcclxuICAgICAgICB9fT5cclxuICAgICAgICAgIENvbmZpZ3VyZSB2ZWhpY2xlIHBhcmFtZXRlcnMgYW5kIHNlbGVjdCByb2FkcyBvbiB0aGUgbWFwXHJcbiAgICAgICAgPC9wPlxyXG4gICAgICA8L2Rpdj5cclxuXHJcbiAgICAgIDxkaXYgc3R5bGU9e3sgcGFkZGluZzogJzI0cHgnLCBtYXhIZWlnaHQ6ICc2MHZoJywgb3ZlcmZsb3dZOiAnYXV0bycgfX0+XHJcbiAgICAgICAgPGRpdiBzdHlsZT17eyBtYXJnaW5Cb3R0b206ICcyNHB4JyB9fT5cclxuICAgICAgICAgIDxsYWJlbFxyXG4gICAgICAgICAgICBzdHlsZT17e1xyXG4gICAgICAgICAgICAgIGRpc3BsYXk6ICdibG9jaycsXHJcbiAgICAgICAgICAgICAgY29sb3I6ICd3aGl0ZScsXHJcbiAgICAgICAgICAgICAgZm9udFNpemU6ICcxNHB4JyxcclxuICAgICAgICAgICAgICBmb250V2VpZ2h0OiAnNTAwJyxcclxuICAgICAgICAgICAgICBtYXJnaW5Cb3R0b206ICcxMnB4JyxcclxuICAgICAgICAgICAgfX1cclxuICAgICAgICAgID5cclxuICAgICAgICAgICAgVmVoaWNsZSBQcm9maWxlXHJcbiAgICAgICAgICA8L2xhYmVsPlxyXG5cclxuICAgICAgICAgIDxkaXYgc3R5bGU9e3sgZGlzcGxheTogJ2ZsZXgnLCBnYXA6ICcxMnB4JywgbWFyZ2luQm90dG9tOiAnMTZweCcgfX0+XHJcbiAgICAgICAgICAgIDxidXR0b25cclxuICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBzZXRVc2VDdXN0b20oZmFsc2UpfVxyXG4gICAgICAgICAgICAgIHN0eWxlPXt7XHJcbiAgICAgICAgICAgICAgICBmbGV4OiAxLFxyXG4gICAgICAgICAgICAgICAgcGFkZGluZzogJzEycHgnLFxyXG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiAhdXNlQ3VzdG9tID8gJyMzNDk4ZGInIDogJyMzNDQ5NWUnLFxyXG4gICAgICAgICAgICAgICAgY29sb3I6ICd3aGl0ZScsXHJcbiAgICAgICAgICAgICAgICBib3JkZXI6ICdub25lJyxcclxuICAgICAgICAgICAgICAgIGJvcmRlclJhZGl1czogJzZweCcsXHJcbiAgICAgICAgICAgICAgICBjdXJzb3I6ICdwb2ludGVyJyxcclxuICAgICAgICAgICAgICAgIGZvbnRTaXplOiAnMTRweCcsXHJcbiAgICAgICAgICAgICAgICBmb250V2VpZ2h0OiAnNTAwJyxcclxuICAgICAgICAgICAgICAgIHRyYW5zaXRpb246ICdhbGwgMC4ycycsXHJcbiAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgIFByZWRlZmluZWQgUHJvZmlsZVxyXG4gICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgPGJ1dHRvblxyXG4gICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldFVzZUN1c3RvbSh0cnVlKX1cclxuICAgICAgICAgICAgICBzdHlsZT17e1xyXG4gICAgICAgICAgICAgICAgZmxleDogMSxcclxuICAgICAgICAgICAgICAgIHBhZGRpbmc6ICcxMnB4JyxcclxuICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogdXNlQ3VzdG9tID8gJyMzNDk4ZGInIDogJyMzNDQ5NWUnLFxyXG4gICAgICAgICAgICAgICAgY29sb3I6ICd3aGl0ZScsXHJcbiAgICAgICAgICAgICAgICBib3JkZXI6ICdub25lJyxcclxuICAgICAgICAgICAgICAgIGJvcmRlclJhZGl1czogJzZweCcsXHJcbiAgICAgICAgICAgICAgICBjdXJzb3I6ICdwb2ludGVyJyxcclxuICAgICAgICAgICAgICAgIGZvbnRTaXplOiAnMTRweCcsXHJcbiAgICAgICAgICAgICAgICBmb250V2VpZ2h0OiAnNTAwJyxcclxuICAgICAgICAgICAgICAgIHRyYW5zaXRpb246ICdhbGwgMC4ycycsXHJcbiAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgIEN1c3RvbSBWYWx1ZXNcclxuICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuXHJcbiAgICAgICAgICB7IXVzZUN1c3RvbSAmJiAoXHJcbiAgICAgICAgICAgIDxkaXY+XHJcbiAgICAgICAgICAgICAge09iamVjdC5lbnRyaWVzKHByb2ZpbGVzVG9TaG93KS5tYXAoKFtrZXksIHByb2ZpbGVdKSA9PiAoXHJcbiAgICAgICAgICAgICAgICA8ZGl2XHJcbiAgICAgICAgICAgICAgICAgIGtleT17a2V5fVxyXG4gICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBzZXRTZWxlY3RlZFByb2ZpbGUoa2V5KX1cclxuICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcclxuICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOiAnMTZweCcsXHJcbiAgICAgICAgICAgICAgICAgICAgbWFyZ2luQm90dG9tOiAnOHB4JyxcclxuICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IHNlbGVjdGVkUHJvZmlsZSA9PT0ga2V5ID8gJyMyYzNlNTAnIDogJyMzNDQ5NWUnLFxyXG4gICAgICAgICAgICAgICAgICAgIGJvcmRlcjpcclxuICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkUHJvZmlsZSA9PT0ga2V5ID8gJzJweCBzb2xpZCAjMzQ5OGRiJyA6ICcycHggc29saWQgdHJhbnNwYXJlbnQnLFxyXG4gICAgICAgICAgICAgICAgICAgIGJvcmRlclJhZGl1czogJzhweCcsXHJcbiAgICAgICAgICAgICAgICAgICAgY3Vyc29yOiAncG9pbnRlcicsXHJcbiAgICAgICAgICAgICAgICAgICAgdHJhbnNpdGlvbjogJ2FsbCAwLjJzJyxcclxuICAgICAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgPGRpdlxyXG4gICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XHJcbiAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiAnZmxleCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICBqdXN0aWZ5Q29udGVudDogJ3NwYWNlLWJldHdlZW4nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgYWxpZ25JdGVtczogJ2NlbnRlcicsXHJcbiAgICAgICAgICAgICAgICAgICAgICBtYXJnaW5Cb3R0b206ICc4cHgnLFxyXG4gICAgICAgICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBzdHlsZT17eyBjb2xvcjogJ3doaXRlJywgZm9udFNpemU6ICcxNnB4JywgZm9udFdlaWdodDogJzYwMCcgfX0+XHJcbiAgICAgICAgICAgICAgICAgICAgICB7cHJvZmlsZS5uYW1lfVxyXG4gICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICB7c2VsZWN0ZWRQcm9maWxlID09PSBrZXkgJiYgKFxyXG4gICAgICAgICAgICAgICAgICAgICAgPHNwYW4gc3R5bGU9e3sgY29sb3I6ICcjMzQ5OGRiJywgZm9udFNpemU6ICcxOHB4JyB9fT7inJM8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgKX1cclxuICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgIDxkaXZcclxuICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xyXG4gICAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogJ2dyaWQnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgZ3JpZFRlbXBsYXRlQ29sdW1uczogJzFmciAxZnInLFxyXG4gICAgICAgICAgICAgICAgICAgICAgZ2FwOiAnOHB4JyxcclxuICAgICAgICAgICAgICAgICAgICAgIGZvbnRTaXplOiAnMTNweCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogJyM5NWE1YTYnLFxyXG4gICAgICAgICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2PldpZHRoOiB7cHJvZmlsZS52ZWhpY2xlX3dpZHRoX219bTwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXY+V2hlZWxiYXNlOiB7cHJvZmlsZS53aGVlbGJhc2VfbX1tPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdj5UdXJuIFJhZGl1czoge3Byb2ZpbGUubWluX3R1cm5fcmFkaXVzX20udG9GaXhlZCgxKX1tPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdj5NYXggU3RlZXI6IHtwcm9maWxlLm1heF9zdGVlcmluZ19hbmdsZV9kZWd9wrA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICApKX1cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICApfVxyXG5cclxuICAgICAgICAgIHt1c2VDdXN0b20gJiYgKFxyXG4gICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IGRpc3BsYXk6ICdncmlkJywgZ2FwOiAnMTZweCcgfX0+XHJcbiAgICAgICAgICAgICAgPGRpdj5cclxuICAgICAgICAgICAgICAgIDxsYWJlbCBzdHlsZT17eyBkaXNwbGF5OiAnYmxvY2snLCBjb2xvcjogJyM5NWE1YTYnLCBmb250U2l6ZTogJzEzcHgnIH19PlxyXG4gICAgICAgICAgICAgICAgICBWZWhpY2xlIE5hbWVcclxuICAgICAgICAgICAgICAgIDwvbGFiZWw+XHJcbiAgICAgICAgICAgICAgICA8aW5wdXRcclxuICAgICAgICAgICAgICAgICAgdHlwZT1cInRleHRcIlxyXG4gICAgICAgICAgICAgICAgICB2YWx1ZT17Y3VzdG9tVmFsdWVzLm5hbWV9XHJcbiAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0Q3VzdG9tVmFsdWVzKHsgLi4uY3VzdG9tVmFsdWVzLCBuYW1lOiBlLnRhcmdldC52YWx1ZSB9KX1cclxuICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcclxuICAgICAgICAgICAgICAgICAgICB3aWR0aDogJzEwMCUnLFxyXG4gICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6ICcxMHB4JyxcclxuICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICcjMzQ0OTVlJyxcclxuICAgICAgICAgICAgICAgICAgICBib3JkZXI6ICcxcHggc29saWQgIzJjM2U1MCcsXHJcbiAgICAgICAgICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiAnNHB4JyxcclxuICAgICAgICAgICAgICAgICAgICBjb2xvcjogJ3doaXRlJyxcclxuICAgICAgICAgICAgICAgICAgICBmb250U2l6ZTogJzE0cHgnLFxyXG4gICAgICAgICAgICAgICAgICB9fVxyXG4gICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICA8L2Rpdj5cclxuXHJcbiAgICAgICAgICAgICAgPGRpdj5cclxuICAgICAgICAgICAgICAgIDxsYWJlbCBzdHlsZT17eyBkaXNwbGF5OiAnYmxvY2snLCBjb2xvcjogJyM5NWE1YTYnLCBmb250U2l6ZTogJzEzcHgnIH19PlxyXG4gICAgICAgICAgICAgICAgICBWZWhpY2xlIFdpZHRoIChtKVxyXG4gICAgICAgICAgICAgICAgPC9sYWJlbD5cclxuICAgICAgICAgICAgICAgIDxpbnB1dFxyXG4gICAgICAgICAgICAgICAgICB0eXBlPVwibnVtYmVyXCJcclxuICAgICAgICAgICAgICAgICAgc3RlcD1cIjAuMVwiXHJcbiAgICAgICAgICAgICAgICAgIHZhbHVlPXtjdXN0b21WYWx1ZXMudmVoaWNsZV93aWR0aF9tfVxyXG4gICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+XHJcbiAgICAgICAgICAgICAgICAgICAgc2V0Q3VzdG9tVmFsdWVzKHsgLi4uY3VzdG9tVmFsdWVzLCB2ZWhpY2xlX3dpZHRoX206IHBhcnNlRmxvYXQoZS50YXJnZXQudmFsdWUpIH0pXHJcbiAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcclxuICAgICAgICAgICAgICAgICAgICB3aWR0aDogJzEwMCUnLFxyXG4gICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6ICcxMHB4JyxcclxuICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICcjMzQ0OTVlJyxcclxuICAgICAgICAgICAgICAgICAgICBib3JkZXI6ICcxcHggc29saWQgIzJjM2U1MCcsXHJcbiAgICAgICAgICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiAnNHB4JyxcclxuICAgICAgICAgICAgICAgICAgICBjb2xvcjogJ3doaXRlJyxcclxuICAgICAgICAgICAgICAgICAgICBmb250U2l6ZTogJzE0cHgnLFxyXG4gICAgICAgICAgICAgICAgICB9fVxyXG4gICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICA8L2Rpdj5cclxuXHJcbiAgICAgICAgICAgICAgPGRpdj5cclxuICAgICAgICAgICAgICAgIDxsYWJlbCBzdHlsZT17eyBkaXNwbGF5OiAnYmxvY2snLCBjb2xvcjogJyM5NWE1YTYnLCBmb250U2l6ZTogJzEzcHgnIH19PlxyXG4gICAgICAgICAgICAgICAgICBXaGVlbGJhc2UgKG0pXHJcbiAgICAgICAgICAgICAgICA8L2xhYmVsPlxyXG4gICAgICAgICAgICAgICAgPGlucHV0XHJcbiAgICAgICAgICAgICAgICAgIHR5cGU9XCJudW1iZXJcIlxyXG4gICAgICAgICAgICAgICAgICBzdGVwPVwiMC4xXCJcclxuICAgICAgICAgICAgICAgICAgdmFsdWU9e2N1c3RvbVZhbHVlcy53aGVlbGJhc2VfbX1cclxuICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PlxyXG4gICAgICAgICAgICAgICAgICAgIHNldEN1c3RvbVZhbHVlcyh7IC4uLmN1c3RvbVZhbHVlcywgd2hlZWxiYXNlX206IHBhcnNlRmxvYXQoZS50YXJnZXQudmFsdWUpIH0pXHJcbiAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcclxuICAgICAgICAgICAgICAgICAgICB3aWR0aDogJzEwMCUnLFxyXG4gICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6ICcxMHB4JyxcclxuICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICcjMzQ0OTVlJyxcclxuICAgICAgICAgICAgICAgICAgICBib3JkZXI6ICcxcHggc29saWQgIzJjM2U1MCcsXHJcbiAgICAgICAgICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiAnNHB4JyxcclxuICAgICAgICAgICAgICAgICAgICBjb2xvcjogJ3doaXRlJyxcclxuICAgICAgICAgICAgICAgICAgICBmb250U2l6ZTogJzE0cHgnLFxyXG4gICAgICAgICAgICAgICAgICB9fVxyXG4gICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICA8L2Rpdj5cclxuXHJcbiAgICAgICAgICAgICAgPGRpdj5cclxuICAgICAgICAgICAgICAgIDxsYWJlbCBzdHlsZT17eyBkaXNwbGF5OiAnYmxvY2snLCBjb2xvcjogJyM5NWE1YTYnLCBmb250U2l6ZTogJzEzcHgnIH19PlxyXG4gICAgICAgICAgICAgICAgICBNYXggU3RlZXJpbmcgQW5nbGUgKGRlZ3JlZXMpXHJcbiAgICAgICAgICAgICAgICA8L2xhYmVsPlxyXG4gICAgICAgICAgICAgICAgPGlucHV0XHJcbiAgICAgICAgICAgICAgICAgIHR5cGU9XCJudW1iZXJcIlxyXG4gICAgICAgICAgICAgICAgICBzdGVwPVwiMVwiXHJcbiAgICAgICAgICAgICAgICAgIHZhbHVlPXtjdXN0b21WYWx1ZXMubWF4X3N0ZWVyaW5nX2FuZ2xlX2RlZ31cclxuICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PlxyXG4gICAgICAgICAgICAgICAgICAgIHNldEN1c3RvbVZhbHVlcyh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAuLi5jdXN0b21WYWx1ZXMsXHJcbiAgICAgICAgICAgICAgICAgICAgICBtYXhfc3RlZXJpbmdfYW5nbGVfZGVnOiBwYXJzZUZsb2F0KGUudGFyZ2V0LnZhbHVlKSxcclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XHJcbiAgICAgICAgICAgICAgICAgICAgd2lkdGg6ICcxMDAlJyxcclxuICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOiAnMTBweCcsXHJcbiAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiAnIzM0NDk1ZScsXHJcbiAgICAgICAgICAgICAgICAgICAgYm9yZGVyOiAnMXB4IHNvbGlkICMyYzNlNTAnLFxyXG4gICAgICAgICAgICAgICAgICAgIGJvcmRlclJhZGl1czogJzRweCcsXHJcbiAgICAgICAgICAgICAgICAgICAgY29sb3I6ICd3aGl0ZScsXHJcbiAgICAgICAgICAgICAgICAgICAgZm9udFNpemU6ICcxNHB4JyxcclxuICAgICAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgPC9kaXY+XHJcblxyXG4gICAgICAgICAgICAgIDxkaXY+XHJcbiAgICAgICAgICAgICAgICA8bGFiZWwgc3R5bGU9e3sgZGlzcGxheTogJ2Jsb2NrJywgY29sb3I6ICcjOTVhNWE2JywgZm9udFNpemU6ICcxM3B4JyB9fT5cclxuICAgICAgICAgICAgICAgICAgU2lkZSBTYWZldHkgQnVmZmVyIChtKVxyXG4gICAgICAgICAgICAgICAgPC9sYWJlbD5cclxuICAgICAgICAgICAgICAgIDxpbnB1dFxyXG4gICAgICAgICAgICAgICAgICB0eXBlPVwibnVtYmVyXCJcclxuICAgICAgICAgICAgICAgICAgc3RlcD1cIjAuMVwiXHJcbiAgICAgICAgICAgICAgICAgIHZhbHVlPXtjdXN0b21WYWx1ZXMuc2lkZV9idWZmZXJfbX1cclxuICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PlxyXG4gICAgICAgICAgICAgICAgICAgIHNldEN1c3RvbVZhbHVlcyh7IC4uLmN1c3RvbVZhbHVlcywgc2lkZV9idWZmZXJfbTogcGFyc2VGbG9hdChlLnRhcmdldC52YWx1ZSkgfSlcclxuICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICBzdHlsZT17e1xyXG4gICAgICAgICAgICAgICAgICAgIHdpZHRoOiAnMTAwJScsXHJcbiAgICAgICAgICAgICAgICAgICAgcGFkZGluZzogJzEwcHgnLFxyXG4gICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogJyMzNDQ5NWUnLFxyXG4gICAgICAgICAgICAgICAgICAgIGJvcmRlcjogJzFweCBzb2xpZCAjMmMzZTUwJyxcclxuICAgICAgICAgICAgICAgICAgICBib3JkZXJSYWRpdXM6ICc0cHgnLFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbG9yOiAnd2hpdGUnLFxyXG4gICAgICAgICAgICAgICAgICAgIGZvbnRTaXplOiAnMTRweCcsXHJcbiAgICAgICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgICAgICAgICA8ZGl2XHJcbiAgICAgICAgICAgICAgICBzdHlsZT17e1xyXG4gICAgICAgICAgICAgICAgICBwYWRkaW5nOiAnMTJweCcsXHJcbiAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogJyMyYzNlNTAnLFxyXG4gICAgICAgICAgICAgICAgICBib3JkZXJSYWRpdXM6ICc2cHgnLFxyXG4gICAgICAgICAgICAgICAgICBib3JkZXI6ICcxcHggc29saWQgIzM0OThkYicsXHJcbiAgICAgICAgICAgICAgICB9fVxyXG4gICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgY29sb3I6ICcjOTVhNWE2JywgZm9udFNpemU6ICcxM3B4JywgbWFyZ2luQm90dG9tOiAnNHB4JyB9fT5cclxuICAgICAgICAgICAgICAgICAgQ2FsY3VsYXRlZCBNaW4gVHVybiBSYWRpdXNcclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBjb2xvcjogJyMzNDk4ZGInLCBmb250U2l6ZTogJzE4cHgnLCBmb250V2VpZ2h0OiAnNjAwJyB9fT5cclxuICAgICAgICAgICAgICAgICAgeyhcclxuICAgICAgICAgICAgICAgICAgICBjdXN0b21WYWx1ZXMud2hlZWxiYXNlX20gL1xyXG4gICAgICAgICAgICAgICAgICAgIE1hdGgudGFuKChjdXN0b21WYWx1ZXMubWF4X3N0ZWVyaW5nX2FuZ2xlX2RlZyAqIE1hdGguUEkpIC8gMTgwKVxyXG4gICAgICAgICAgICAgICAgICApLnRvRml4ZWQoMil9eycgJ31cclxuICAgICAgICAgICAgICAgICAgbVxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgKX1cclxuICAgICAgICA8L2Rpdj5cclxuXHJcbiAgICAgICAgPGRpdj5cclxuICAgICAgICAgIDxsYWJlbFxyXG4gICAgICAgICAgICBzdHlsZT17e1xyXG4gICAgICAgICAgICAgIGRpc3BsYXk6ICdibG9jaycsXHJcbiAgICAgICAgICAgICAgY29sb3I6ICd3aGl0ZScsXHJcbiAgICAgICAgICAgICAgZm9udFNpemU6ICcxNHB4JyxcclxuICAgICAgICAgICAgICBmb250V2VpZ2h0OiAnNTAwJyxcclxuICAgICAgICAgICAgICBtYXJnaW5Cb3R0b206ICcxMnB4JyxcclxuICAgICAgICAgICAgfX1cclxuICAgICAgICAgID5cclxuICAgICAgICAgICAgUGF0aCBSZXNvbHV0aW9uXHJcbiAgICAgICAgICA8L2xhYmVsPlxyXG4gICAgICAgICAgPGRpdiBzdHlsZT17eyBkaXNwbGF5OiAnZmxleCcsIGFsaWduSXRlbXM6ICdjZW50ZXInLCBnYXA6ICcxMnB4JyB9fT5cclxuICAgICAgICAgICAgPGlucHV0XHJcbiAgICAgICAgICAgICAgdHlwZT1cInJhbmdlXCJcclxuICAgICAgICAgICAgICBtaW49XCIwLjVcIlxyXG4gICAgICAgICAgICAgIG1heD1cIjVcIlxyXG4gICAgICAgICAgICAgIHN0ZXA9XCIwLjFcIlxyXG4gICAgICAgICAgICAgIHZhbHVlPXtzYW1wbGluZ1N0ZXB9XHJcbiAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXRTYW1wbGluZ1N0ZXAocGFyc2VGbG9hdChlLnRhcmdldC52YWx1ZSkpfVxyXG4gICAgICAgICAgICAgIHN0eWxlPXt7IGZsZXg6IDEgfX1cclxuICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgPHNwYW4gc3R5bGU9e3sgY29sb3I6ICd3aGl0ZScsIGZvbnRTaXplOiAnMTRweCcsIGZvbnRXZWlnaHQ6ICc2MDAnIH19PlxyXG4gICAgICAgICAgICAgIHtzYW1wbGluZ1N0ZXAudG9GaXhlZCgxKX0gbVxyXG4gICAgICAgICAgICA8L3NwYW4+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgIDxkaXYgc3R5bGU9e3sgY29sb3I6ICcjOTVhNWE2JywgZm9udFNpemU6ICcxMnB4JywgbWFyZ2luVG9wOiAnNnB4JyB9fT5cclxuICAgICAgICAgICAgRGlzdGFuY2UgYmV0d2VlbiBwYXRoIHBvaW50cyAobG93ZXIgPSBtb3JlIGRldGFpbGVkKVxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgPGRpdlxyXG4gICAgICAgIHN0eWxlPXt7XHJcbiAgICAgICAgICBwYWRkaW5nOiAnMTZweCAyMHB4JyxcclxuICAgICAgICAgIGJvcmRlclRvcDogJzFweCBzb2xpZCAjMzQ0OTVlJyxcclxuICAgICAgICAgIGRpc3BsYXk6ICdmbGV4JyxcclxuICAgICAgICAgIGp1c3RpZnlDb250ZW50OiAnc3BhY2UtYmV0d2VlbicsXHJcbiAgICAgICAgICBhbGlnbkl0ZW1zOiAnY2VudGVyJyxcclxuICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogJyMxZjJiMzgnLFxyXG4gICAgICAgIH19XHJcbiAgICAgID5cclxuICAgICAgICA8YnV0dG9uXHJcbiAgICAgICAgICBvbkNsaWNrPXtvbkNsb3NlfVxyXG4gICAgICAgICAgc3R5bGU9e3tcclxuICAgICAgICAgICAgcGFkZGluZzogJzEwcHggMTZweCcsXHJcbiAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogJyMzNDQ5NWUnLFxyXG4gICAgICAgICAgICBjb2xvcjogJ3doaXRlJyxcclxuICAgICAgICAgICAgYm9yZGVyOiAnMXB4IHNvbGlkICMyYzNlNTAnLFxyXG4gICAgICAgICAgICBib3JkZXJSYWRpdXM6ICc2cHgnLFxyXG4gICAgICAgICAgICBjdXJzb3I6ICdwb2ludGVyJyxcclxuICAgICAgICAgICAgZm9udFNpemU6ICcxNHB4JyxcclxuICAgICAgICAgICAgZm9udFdlaWdodDogJzUwMCcsXHJcbiAgICAgICAgICB9fVxyXG4gICAgICAgID5cclxuICAgICAgICAgIENhbmNlbFxyXG4gICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgIDxidXR0b25cclxuICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZVN0YXJ0U2VsZWN0aW9ufVxyXG4gICAgICAgICAgc3R5bGU9e3tcclxuICAgICAgICAgICAgcGFkZGluZzogJzEwcHggMTZweCcsXHJcbiAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogJyMxYWJjOWMnLFxyXG4gICAgICAgICAgICBjb2xvcjogJ3doaXRlJyxcclxuICAgICAgICAgICAgYm9yZGVyOiAnbm9uZScsXHJcbiAgICAgICAgICAgIGJvcmRlclJhZGl1czogJzZweCcsXHJcbiAgICAgICAgICAgIGN1cnNvcjogJ3BvaW50ZXInLFxyXG4gICAgICAgICAgICBmb250U2l6ZTogJzE0cHgnLFxyXG4gICAgICAgICAgICBmb250V2VpZ2h0OiAnNjAwJyxcclxuICAgICAgICAgICAgbWluV2lkdGg6ICcyMDBweCcsXHJcbiAgICAgICAgICAgIGRpc3BsYXk6ICdmbGV4JyxcclxuICAgICAgICAgICAgYWxpZ25JdGVtczogJ2NlbnRlcicsXHJcbiAgICAgICAgICAgIGp1c3RpZnlDb250ZW50OiAnY2VudGVyJyxcclxuICAgICAgICAgICAgZ2FwOiAnOHB4JyxcclxuICAgICAgICAgIH19XHJcbiAgICAgICAgPlxyXG4gICAgICAgICAgU2VsZWN0IFJvYWRzIG9uIE1hcCDihpJcclxuICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgPC9kaXY+XHJcbiAgICA8Lz5cclxuICApO1xyXG5cclxuICBjb25zdCByZW5kZXJDb21wdXRpbmdTdGVwID0gKCkgPT4gKFxyXG4gICAgPGRpdiBzdHlsZT17eyBwYWRkaW5nOiAnMzJweCcsIHRleHRBbGlnbjogJ2NlbnRlcicgfX0+XHJcbiAgICAgIDxkaXZcclxuICAgICAgICBzdHlsZT17e1xyXG4gICAgICAgICAgbWFyZ2luQm90dG9tOiAnMTJweCcsXHJcbiAgICAgICAgICBmb250U2l6ZTogJzE4cHgnLFxyXG4gICAgICAgICAgY29sb3I6ICd3aGl0ZScsXHJcbiAgICAgICAgICBmb250V2VpZ2h0OiAnNjAwJyxcclxuICAgICAgICB9fVxyXG4gICAgICA+XHJcbiAgICAgICAgQ29tcHV0aW5nIHR1cm4gcGF0aC4uLlxyXG4gICAgICA8L2Rpdj5cclxuICAgICAgPGRpdiBzdHlsZT17eyBjb2xvcjogJyM5NWE1YTYnLCBmb250U2l6ZTogJzE0cHgnIH19PlxyXG4gICAgICAgIFRoaXMgdXN1YWxseSB0YWtlcyBhIGZldyBzZWNvbmRzLiBQbGVhc2Ugd2FpdC5cclxuICAgICAgPC9kaXY+XHJcbiAgICA8L2Rpdj5cclxuICApO1xyXG5cclxuICByZXR1cm4gKFxyXG4gICAgPGRpdlxyXG4gICAgICBzdHlsZT17e1xyXG4gICAgICAgIHBvc2l0aW9uOiAnZml4ZWQnLFxyXG4gICAgICAgIHRvcDogMCxcclxuICAgICAgICBsZWZ0OiAwLFxyXG4gICAgICAgIHJpZ2h0OiAwLFxyXG4gICAgICAgIGJvdHRvbTogMCxcclxuICAgICAgICB6SW5kZXg6IDEwMDAsXHJcbiAgICAgICAgYmFja2dyb3VuZENvbG9yOiAncmdiYSgwLCAwLCAwLCAwLjQpJyxcclxuICAgICAgICBkaXNwbGF5OiAnZmxleCcsXHJcbiAgICAgICAgYWxpZ25JdGVtczogJ2NlbnRlcicsXHJcbiAgICAgICAganVzdGlmeUNvbnRlbnQ6ICdjZW50ZXInLFxyXG4gICAgICAgIGJhY2tkcm9wRmlsdGVyOiAnYmx1cigycHgpJyxcclxuICAgICAgfX1cclxuICAgID5cclxuICAgICAgPGRpdlxyXG4gICAgICAgIHN0eWxlPXt7XHJcbiAgICAgICAgICB3aWR0aDogJzY0MHB4JyxcclxuICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogJyMxZjJiMzgnLFxyXG4gICAgICAgICAgYm9yZGVyUmFkaXVzOiAnMTBweCcsXHJcbiAgICAgICAgICBib3hTaGFkb3c6ICcwIDEwcHggMzJweCByZ2JhKDAsIDAsIDAsIDAuNDUpJyxcclxuICAgICAgICAgIG92ZXJmbG93OiAnaGlkZGVuJyxcclxuICAgICAgICAgIGJvcmRlcjogJzFweCBzb2xpZCAjMmMzZTUwJyxcclxuICAgICAgICB9fVxyXG4gICAgICA+XHJcbiAgICAgICAge2N1cnJlbnRTdGVwID09PSAnY29tcHV0aW5nJyA/IHJlbmRlckNvbXB1dGluZ1N0ZXAoKSA6IHJlbmRlclByb2ZpbGVTdGVwKCl9XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgPC9kaXY+XHJcbiAgKTtcclxufVxyXG4iXSwibmFtZXMiOlsiUmVhY3QiLCJ1c2VTdGF0ZSIsInVzZUVmZmVjdCIsIlR1cm5QYXRoRGlhbG9nIiwiaXNPcGVuIiwib25DbG9zZSIsIm9uU3RhcnRTZWxlY3Rpb24iLCJ2ZWhpY2xlUHJvZmlsZXMiLCJjdXJyZW50U3RlcCIsImRlZmF1bHRWZWhpY2xlUHJvZmlsZXMiLCJrb21hdHN1XzgzMGUiLCJuYW1lIiwidmVoaWNsZV93aWR0aF9tIiwid2hlZWxiYXNlX20iLCJtaW5fdHVybl9yYWRpdXNfbSIsIm1heF9zdGVlcmluZ19hbmdsZV9kZWciLCJzZWxlY3RlZFByb2ZpbGUiLCJzZXRTZWxlY3RlZFByb2ZpbGUiLCJ1c2VDdXN0b20iLCJzZXRVc2VDdXN0b20iLCJjdXN0b21WYWx1ZXMiLCJzZXRDdXN0b21WYWx1ZXMiLCJzaWRlX2J1ZmZlcl9tIiwiZnJvbnRfYnVmZmVyX20iLCJyZWFyX2J1ZmZlcl9tIiwic2FtcGxpbmdTdGVwIiwic2V0U2FtcGxpbmdTdGVwIiwicHJvZmlsZXMiLCJPYmplY3QiLCJrZXlzIiwibGVuZ3RoIiwiZmlyc3QiLCJvbkVzYyIsImUiLCJrZXkiLCJ3aW5kb3ciLCJhZGRFdmVudExpc3RlbmVyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsInNob3VsZFNob3ciLCJwcm9maWxlc1RvU2hvdyIsImhhbmRsZVN0YXJ0U2VsZWN0aW9uIiwiY29uZmlnIiwidmVoaWNsZV9wcm9maWxlX2lkIiwiY3VzdG9tX3ZlaGljbGVfcHJvZmlsZSIsInNhbXBsaW5nX3N0ZXBfbSIsInJlbmRlclByb2ZpbGVTdGVwIiwiZGl2Iiwic3R5bGUiLCJwYWRkaW5nIiwiYm9yZGVyQm90dG9tIiwiYmFja2dyb3VuZENvbG9yIiwiaDIiLCJtYXJnaW4iLCJjb2xvciIsImZvbnRTaXplIiwiZm9udFdlaWdodCIsImRpc3BsYXkiLCJhbGlnbkl0ZW1zIiwiZ2FwIiwic3BhbiIsInAiLCJtYXhIZWlnaHQiLCJvdmVyZmxvd1kiLCJtYXJnaW5Cb3R0b20iLCJsYWJlbCIsImJ1dHRvbiIsIm9uQ2xpY2siLCJmbGV4IiwiYm9yZGVyIiwiYm9yZGVyUmFkaXVzIiwiY3Vyc29yIiwidHJhbnNpdGlvbiIsImVudHJpZXMiLCJtYXAiLCJwcm9maWxlIiwianVzdGlmeUNvbnRlbnQiLCJncmlkVGVtcGxhdGVDb2x1bW5zIiwidG9GaXhlZCIsImlucHV0IiwidHlwZSIsInZhbHVlIiwib25DaGFuZ2UiLCJ0YXJnZXQiLCJ3aWR0aCIsInN0ZXAiLCJwYXJzZUZsb2F0IiwiTWF0aCIsInRhbiIsIlBJIiwibWluIiwibWF4IiwibWFyZ2luVG9wIiwiYm9yZGVyVG9wIiwibWluV2lkdGgiLCJyZW5kZXJDb21wdXRpbmdTdGVwIiwidGV4dEFsaWduIiwicG9zaXRpb24iLCJ0b3AiLCJsZWZ0IiwicmlnaHQiLCJib3R0b20iLCJ6SW5kZXgiLCJiYWNrZHJvcEZpbHRlciIsImJveFNoYWRvdyIsIm92ZXJmbG93Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./components/TurnPathDialog.js\n");

/***/ }),

/***/ "./components/TurnPathStatusBanner.js":
/*!********************************************!*\
  !*** ./components/TurnPathStatusBanner.js ***!
  \********************************************/
/***/ (() => {

eval("//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiIuL2NvbXBvbmVudHMvVHVyblBhdGhTdGF0dXNCYW5uZXIuanMiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./components/TurnPathStatusBanner.js\n");

/***/ }),

/***/ "./components/useMeasurementTool.js":
/*!******************************************!*\
  !*** ./components/useMeasurementTool.js ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   useMeasurementTool: () => (/* binding */ useMeasurementTool)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n\n// Copied from Frontrunner to keep measurement behavior identical\nconst useMeasurementTool = (cesiumViewerRef)=>{\n    const [measurementMode, setMeasurementMode] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [measurementPoints, setMeasurementPoints] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)([]);\n    const measurementEntitiesRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)([]);\n    const overlayEntitiesRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)([]);\n    const previewLineEntityRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\n    const previewLabelEntityRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\n    const measurementModeRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(measurementMode);\n    const measurementPointsRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(measurementPoints);\n    const areaLockedRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(false);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        measurementModeRef.current = measurementMode;\n    }, [\n        measurementMode\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        measurementPointsRef.current = measurementPoints;\n    }, [\n        measurementPoints\n    ]);\n    const setCanvasTooltip = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((text)=>{\n        const viewer = cesiumViewerRef.current;\n        if (!viewer || !viewer.cesiumWidget) return;\n        viewer.cesiumWidget.container.title = text || \"\";\n    }, [\n        cesiumViewerRef\n    ]);\n    const removePreviewEntities = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((viewer)=>{\n        if (!viewer) return;\n        const refs = [\n            previewLineEntityRef,\n            previewLabelEntityRef\n        ];\n        refs.forEach((ref)=>{\n            if (ref.current) {\n                try {\n                    viewer.entities.remove(ref.current);\n                } catch (err) {\n                    console.warn(\"[Measurement] Failed to remove preview entity\", err);\n                }\n                ref.current = null;\n            }\n        });\n        setCanvasTooltip(\"\");\n        if (viewer.scene) viewer.scene.requestRender();\n    }, [\n        setCanvasTooltip\n    ]);\n    const clearMeasurements = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(()=>{\n        const viewer = cesiumViewerRef.current;\n        if (viewer) {\n            removePreviewEntities(viewer);\n            overlayEntitiesRef.current.forEach((e)=>{\n                try {\n                    viewer.entities.remove(e);\n                } catch (err) {\n                    console.warn(\"[Measurement] Failed to remove overlay entity\", err);\n                }\n            });\n            overlayEntitiesRef.current = [];\n            measurementEntitiesRef.current.forEach((e)=>{\n                try {\n                    viewer.entities.remove(e);\n                } catch (err) {\n                    console.warn(\"[Measurement] Failed to remove entity\", err);\n                }\n            });\n            measurementEntitiesRef.current = [];\n            setCanvasTooltip(\"\");\n            if (viewer.scene) viewer.scene.requestRender();\n        }\n        measurementPointsRef.current = [];\n        setMeasurementPoints([]);\n        areaLockedRef.current = false;\n    }, [\n        cesiumViewerRef,\n        removePreviewEntities,\n        setCanvasTooltip\n    ]);\n    const startMeasurement = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((mode)=>{\n        clearMeasurements();\n        areaLockedRef.current = false;\n        measurementModeRef.current = mode;\n        setMeasurementMode(mode);\n        measurementPointsRef.current = [];\n        setMeasurementPoints([]);\n    }, [\n        clearMeasurements\n    ]);\n    const cancelMeasurement = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(()=>{\n        const viewer = cesiumViewerRef.current;\n        if (viewer) {\n            removePreviewEntities(viewer);\n            setCanvasTooltip(\"\");\n        }\n        clearMeasurements();\n        measurementModeRef.current = null;\n        setMeasurementMode(null);\n        areaLockedRef.current = false;\n        if (viewer && viewer.scene) {\n            viewer.scene.requestRender();\n            setTimeout(()=>{\n                if (viewer && viewer.scene) viewer.scene.requestRender();\n            }, 50);\n        }\n    }, [\n        clearMeasurements,\n        removePreviewEntities,\n        setCanvasTooltip\n    ]);\n    const addMeasurementPoint = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((cartesian)=>{\n        const viewer = cesiumViewerRef.current;\n        if (!viewer || !window?.Cesium || !cartesian) return;\n        if (areaLockedRef.current) return;\n        const currentMode = measurementModeRef.current;\n        if (!currentMode) return;\n        const cartographic = window.Cesium.Cartographic.fromCartesian(cartesian);\n        const longitude = window.Cesium.Math.toDegrees(cartographic.longitude);\n        const latitude = window.Cesium.Math.toDegrees(cartographic.latitude);\n        const newPoint = {\n            cartesian,\n            longitude,\n            latitude\n        };\n        setMeasurementPoints((prev)=>{\n            const newPoints = [\n                ...prev,\n                newPoint\n            ];\n            if (currentMode === \"distance\" && newPoints.length > 2) return prev;\n            measurementPointsRef.current = newPoints;\n            const pointEntity = viewer.entities.add({\n                position: cartesian,\n                point: {\n                    pixelSize: 14,\n                    color: window.Cesium.Color.WHITE,\n                    outlineColor: window.Cesium.Color.CYAN,\n                    outlineWidth: 4,\n                    heightReference: window.Cesium.HeightReference.CLAMP_TO_GROUND,\n                    disableDepthTestDistance: Number.POSITIVE_INFINITY\n                }\n            });\n            measurementEntitiesRef.current.push(pointEntity);\n            if (viewer.scene) viewer.scene.requestRender();\n            if (newPoints.length > 1) {\n                overlayEntitiesRef.current.forEach((e)=>{\n                    try {\n                        viewer.entities.remove(e);\n                    } catch (err) {\n                        console.warn(\"[Measurement] Failed to remove overlay entity\", err);\n                    }\n                });\n                overlayEntitiesRef.current = [];\n                const positions = newPoints.map((p)=>p.cartesian);\n                if (currentMode === \"distance\" && newPoints.length === 2) {\n                    removePreviewEntities(viewer);\n                    const lineEntity = viewer.entities.add({\n                        polyline: {\n                            positions,\n                            width: 4,\n                            material: window.Cesium.Color.WHITE,\n                            clampToGround: true\n                        }\n                    });\n                    measurementEntitiesRef.current.push(lineEntity);\n                    overlayEntitiesRef.current.push(lineEntity);\n                    const ellipsoid = viewer.scene.globe.ellipsoid;\n                    const c1 = ellipsoid.cartesianToCartographic(positions[0]);\n                    const c2 = ellipsoid.cartesianToCartographic(positions[1]);\n                    const geodesic = new window.Cesium.EllipsoidGeodesic(c1, c2);\n                    const distanceMeters = geodesic.surfaceDistance;\n                    const distanceFeet = distanceMeters * 3.28084;\n                    if (!Number.isFinite(distanceMeters) || distanceMeters < 0.01) {\n                        try {\n                            viewer.entities.remove(lineEntity);\n                        } catch (_) {}\n                        measurementEntitiesRef.current.pop();\n                        overlayEntitiesRef.current.pop();\n                        const dupPoint = measurementEntitiesRef.current.pop();\n                        if (dupPoint) {\n                            try {\n                                viewer.entities.remove(dupPoint);\n                            } catch (_) {}\n                        }\n                        measurementPointsRef.current = [\n                            newPoints[0]\n                        ];\n                        setMeasurementPoints([\n                            newPoints[0]\n                        ]);\n                        setCanvasTooltip(\"Pick a different point\");\n                        if (viewer.scene) viewer.scene.requestRender();\n                        return [\n                            newPoints[0]\n                        ];\n                    }\n                    const metersText = `${distanceMeters.toFixed(2)} m`;\n                    const feetText = `${distanceFeet.toFixed(2)} ft`;\n                    const tooltipText = `📏 ${metersText} (${feetText})`;\n                    const bearing = window.Cesium.Math.toDegrees(geodesic.startHeading);\n                    const normalizedBearing = bearing < 0 ? bearing + 360 : bearing;\n                    const rotationAngle = normalizedBearing > 90 && normalizedBearing < 270 ? normalizedBearing - 180 : normalizedBearing;\n                    const rotationRadians = window.Cesium.Math.toRadians(rotationAngle);\n                    const mid = window.Cesium.Cartesian3.lerp(positions[0], positions[1], 0.5, new window.Cesium.Cartesian3());\n                    const metersLabelEntity = viewer.entities.add({\n                        position: mid,\n                        label: {\n                            text: metersText,\n                            font: '22px bold \"Arial\", sans-serif',\n                            fillColor: window.Cesium.Color.YELLOW,\n                            outlineColor: window.Cesium.Color.BLACK,\n                            outlineWidth: 5,\n                            style: window.Cesium.LabelStyle.FILL_AND_OUTLINE,\n                            verticalOrigin: window.Cesium.VerticalOrigin.CENTER,\n                            horizontalOrigin: window.Cesium.HorizontalOrigin.CENTER,\n                            pixelOffset: new window.Cesium.Cartesian2(0, -30),\n                            rotation: rotationRadians,\n                            disableDepthTestDistance: Number.POSITIVE_INFINITY\n                        }\n                    });\n                    const feetLabelEntity = viewer.entities.add({\n                        position: mid,\n                        label: {\n                            text: feetText,\n                            font: '22px bold \"Arial\", sans-serif',\n                            fillColor: window.Cesium.Color.WHITE,\n                            outlineColor: window.Cesium.Color.BLACK,\n                            outlineWidth: 5,\n                            style: window.Cesium.LabelStyle.FILL_AND_OUTLINE,\n                            verticalOrigin: window.Cesium.VerticalOrigin.CENTER,\n                            horizontalOrigin: window.Cesium.HorizontalOrigin.CENTER,\n                            pixelOffset: new window.Cesium.Cartesian2(0, 30),\n                            rotation: rotationRadians,\n                            disableDepthTestDistance: Number.POSITIVE_INFINITY\n                        }\n                    });\n                    measurementEntitiesRef.current.push(metersLabelEntity, feetLabelEntity);\n                    overlayEntitiesRef.current.push(metersLabelEntity, feetLabelEntity);\n                    setCanvasTooltip(tooltipText);\n                    areaLockedRef.current = true;\n                    measurementModeRef.current = null;\n                    setMeasurementMode(null);\n                    if (viewer.scene) {\n                        viewer.scene.requestRender();\n                        setTimeout(()=>{\n                            if (viewer.scene) viewer.scene.requestRender();\n                        }, 50);\n                    }\n                } else if (currentMode === \"area\" && newPoints.length >= 2) {\n                    const polygonEntity = viewer.entities.add({\n                        polygon: {\n                            hierarchy: new window.Cesium.PolygonHierarchy(positions),\n                            material: window.Cesium.Color.YELLOW.withAlpha(0.3),\n                            outline: true,\n                            outlineColor: window.Cesium.Color.YELLOW,\n                            outlineWidth: 3\n                        }\n                    });\n                    measurementEntitiesRef.current.push(polygonEntity);\n                    overlayEntitiesRef.current.push(polygonEntity);\n                    if (viewer.scene) viewer.scene.requestRender();\n                }\n            }\n            viewer.scene?.requestRender();\n            return newPoints;\n        });\n    }, [\n        cesiumViewerRef,\n        removePreviewEntities,\n        setCanvasTooltip\n    ]);\n    const updatePreviewLine = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((cursorCartesian)=>{\n        const viewer = cesiumViewerRef.current;\n        if (!viewer || !window?.Cesium) {\n            if (viewer) removePreviewEntities(viewer);\n            return;\n        }\n        if (areaLockedRef.current) {\n            removePreviewEntities(viewer);\n            return;\n        }\n        if (!cursorCartesian) {\n            removePreviewEntities(viewer);\n            return;\n        }\n        const currentMode = measurementModeRef.current;\n        const points = measurementPointsRef.current;\n        if (currentMode !== \"distance\" || points.length !== 1) {\n            removePreviewEntities(viewer);\n            return;\n        }\n        const firstPoint = points[0].cartesian;\n        removePreviewEntities(viewer);\n        previewLineEntityRef.current = viewer.entities.add({\n            polyline: {\n                positions: [\n                    firstPoint,\n                    cursorCartesian\n                ],\n                width: 3,\n                material: window.Cesium.Color.YELLOW.withAlpha(0.8),\n                clampToGround: true\n            }\n        });\n        const ellipsoid = viewer.scene.globe.ellipsoid;\n        const c1 = ellipsoid.cartesianToCartographic(firstPoint);\n        const c2 = ellipsoid.cartesianToCartographic(cursorCartesian);\n        const geodesic = new window.Cesium.EllipsoidGeodesic(c1, c2);\n        const distanceMeters = geodesic.surfaceDistance;\n        const distanceFeet = distanceMeters * 3.28084;\n        const text = `${distanceMeters.toFixed(2)} m (${distanceFeet.toFixed(2)} ft)`;\n        const mid = window.Cesium.Cartesian3.lerp(firstPoint, cursorCartesian, 0.5, new window.Cesium.Cartesian3());\n        previewLabelEntityRef.current = viewer.entities.add({\n            position: mid,\n            label: {\n                text,\n                font: '20px bold \"Arial\", sans-serif',\n                fillColor: window.Cesium.Color.YELLOW,\n                outlineColor: window.Cesium.Color.BLACK,\n                outlineWidth: 4,\n                style: window.Cesium.LabelStyle.FILL_AND_OUTLINE,\n                verticalOrigin: window.Cesium.VerticalOrigin.CENTER,\n                pixelOffset: new window.Cesium.Cartesian2(0, -25),\n                backgroundColor: window.Cesium.Color.BLACK.withAlpha(0.9),\n                backgroundPadding: new window.Cesium.Cartesian2(10, 6),\n                showBackground: true,\n                disableDepthTestDistance: Number.POSITIVE_INFINITY\n            }\n        });\n        setCanvasTooltip(`Distance: ${text}`);\n        viewer.scene?.requestRender();\n    }, [\n        cesiumViewerRef,\n        removePreviewEntities,\n        setCanvasTooltip\n    ]);\n    const finalizeAreaMeasurement = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(()=>{\n        const viewer = cesiumViewerRef.current;\n        if (!viewer || !window?.Cesium) return;\n        const currentMode = measurementModeRef.current;\n        if (currentMode !== \"area\") return;\n        const points = measurementPointsRef.current;\n        if (!points || points.length < 3) return;\n        removePreviewEntities(viewer);\n        const positions = points.map((p)=>p.cartesian);\n        const coords = points.map((p)=>[\n                p.longitude,\n                p.latitude\n            ]);\n        let area = 0;\n        for(let i = 0; i < coords.length; i++){\n            const j = (i + 1) % coords.length;\n            area += coords[i][0] * coords[j][1];\n            area -= coords[j][0] * coords[i][1];\n        }\n        area = Math.abs(area / 2);\n        const metersPerDegree = 111320;\n        const areaM2 = area * metersPerDegree * metersPerDegree;\n        const areaFt2 = areaM2 * 10.7639;\n        const centroid = window.Cesium.BoundingSphere.fromPoints(positions).center;\n        const areaLabel = viewer.entities.add({\n            position: centroid,\n            label: {\n                text: `${areaM2.toFixed(2)} m²\\n${areaFt2.toFixed(2)} ft²`,\n                font: '22px bold \"Arial\", sans-serif',\n                fillColor: window.Cesium.Color.YELLOW,\n                outlineColor: window.Cesium.Color.BLACK,\n                outlineWidth: 5,\n                style: window.Cesium.LabelStyle.FILL_AND_OUTLINE,\n                verticalOrigin: window.Cesium.VerticalOrigin.CENTER,\n                horizontalOrigin: window.Cesium.HorizontalOrigin.CENTER,\n                disableDepthTestDistance: Number.POSITIVE_INFINITY\n            }\n        });\n        measurementEntitiesRef.current.push(areaLabel);\n        overlayEntitiesRef.current.push(areaLabel);\n        setCanvasTooltip(`Area: ${areaM2.toFixed(2)} m² (${areaFt2.toFixed(2)} ft²)`);\n        areaLockedRef.current = true;\n        measurementModeRef.current = null;\n        setMeasurementMode(null);\n        viewer.scene?.requestRender();\n    }, [\n        cesiumViewerRef,\n        removePreviewEntities,\n        setCanvasTooltip\n    ]);\n    const getMeasurementMode = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(()=>measurementModeRef.current, []);\n    return {\n        measurementMode,\n        measurementPoints,\n        startMeasurement,\n        cancelMeasurement,\n        addMeasurementPoint,\n        clearMeasurements,\n        getMeasurementMode,\n        updatePreviewLine,\n        finalizeAreaMeasurement\n    };\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (useMeasurementTool);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Y29tYmluZWQtdWkvLi9jb21wb25lbnRzL3VzZU1lYXN1cmVtZW50VG9vbC5qcz9jYmQ5Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHVzZVN0YXRlLCB1c2VSZWYsIHVzZUNhbGxiYWNrLCB1c2VFZmZlY3QgfSBmcm9tICdyZWFjdCc7XHJcblxyXG4vLyBDb3BpZWQgZnJvbSBGcm9udHJ1bm5lciB0byBrZWVwIG1lYXN1cmVtZW50IGJlaGF2aW9yIGlkZW50aWNhbFxyXG5leHBvcnQgY29uc3QgdXNlTWVhc3VyZW1lbnRUb29sID0gKGNlc2l1bVZpZXdlclJlZikgPT4ge1xyXG4gIGNvbnN0IFttZWFzdXJlbWVudE1vZGUsIHNldE1lYXN1cmVtZW50TW9kZV0gPSB1c2VTdGF0ZShudWxsKTtcclxuICBjb25zdCBbbWVhc3VyZW1lbnRQb2ludHMsIHNldE1lYXN1cmVtZW50UG9pbnRzXSA9IHVzZVN0YXRlKFtdKTtcclxuXHJcbiAgY29uc3QgbWVhc3VyZW1lbnRFbnRpdGllc1JlZiA9IHVzZVJlZihbXSk7XHJcbiAgY29uc3Qgb3ZlcmxheUVudGl0aWVzUmVmID0gdXNlUmVmKFtdKTtcclxuXHJcbiAgY29uc3QgcHJldmlld0xpbmVFbnRpdHlSZWYgPSB1c2VSZWYobnVsbCk7XHJcbiAgY29uc3QgcHJldmlld0xhYmVsRW50aXR5UmVmID0gdXNlUmVmKG51bGwpO1xyXG5cclxuICBjb25zdCBtZWFzdXJlbWVudE1vZGVSZWYgPSB1c2VSZWYobWVhc3VyZW1lbnRNb2RlKTtcclxuICBjb25zdCBtZWFzdXJlbWVudFBvaW50c1JlZiA9IHVzZVJlZihtZWFzdXJlbWVudFBvaW50cyk7XHJcblxyXG4gIGNvbnN0IGFyZWFMb2NrZWRSZWYgPSB1c2VSZWYoZmFsc2UpO1xyXG5cclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgbWVhc3VyZW1lbnRNb2RlUmVmLmN1cnJlbnQgPSBtZWFzdXJlbWVudE1vZGU7XHJcbiAgfSwgW21lYXN1cmVtZW50TW9kZV0pO1xyXG5cclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgbWVhc3VyZW1lbnRQb2ludHNSZWYuY3VycmVudCA9IG1lYXN1cmVtZW50UG9pbnRzO1xyXG4gIH0sIFttZWFzdXJlbWVudFBvaW50c10pO1xyXG5cclxuICBjb25zdCBzZXRDYW52YXNUb29sdGlwID0gdXNlQ2FsbGJhY2soKHRleHQpID0+IHtcclxuICAgIGNvbnN0IHZpZXdlciA9IGNlc2l1bVZpZXdlclJlZi5jdXJyZW50O1xyXG4gICAgaWYgKCF2aWV3ZXIgfHwgIXZpZXdlci5jZXNpdW1XaWRnZXQpIHJldHVybjtcclxuICAgIHZpZXdlci5jZXNpdW1XaWRnZXQuY29udGFpbmVyLnRpdGxlID0gdGV4dCB8fCAnJztcclxuICB9LCBbY2VzaXVtVmlld2VyUmVmXSk7XHJcblxyXG4gIGNvbnN0IHJlbW92ZVByZXZpZXdFbnRpdGllcyA9IHVzZUNhbGxiYWNrKCh2aWV3ZXIpID0+IHtcclxuICAgIGlmICghdmlld2VyKSByZXR1cm47XHJcbiAgICBjb25zdCByZWZzID0gW3ByZXZpZXdMaW5lRW50aXR5UmVmLCBwcmV2aWV3TGFiZWxFbnRpdHlSZWZdO1xyXG4gICAgcmVmcy5mb3JFYWNoKHJlZiA9PiB7XHJcbiAgICAgIGlmIChyZWYuY3VycmVudCkge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICB2aWV3ZXIuZW50aXRpZXMucmVtb3ZlKHJlZi5jdXJyZW50KTtcclxuICAgICAgICB9IGNhdGNoIChlcnIpIHtcclxuICAgICAgICAgIGNvbnNvbGUud2FybignW01lYXN1cmVtZW50XSBGYWlsZWQgdG8gcmVtb3ZlIHByZXZpZXcgZW50aXR5JywgZXJyKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmVmLmN1cnJlbnQgPSBudWxsO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICAgIHNldENhbnZhc1Rvb2x0aXAoJycpO1xyXG4gICAgaWYgKHZpZXdlci5zY2VuZSkgdmlld2VyLnNjZW5lLnJlcXVlc3RSZW5kZXIoKTtcclxuICB9LCBbc2V0Q2FudmFzVG9vbHRpcF0pO1xyXG5cclxuICBjb25zdCBjbGVhck1lYXN1cmVtZW50cyA9IHVzZUNhbGxiYWNrKCgpID0+IHtcclxuICAgIGNvbnN0IHZpZXdlciA9IGNlc2l1bVZpZXdlclJlZi5jdXJyZW50O1xyXG4gICAgaWYgKHZpZXdlcikge1xyXG4gICAgICByZW1vdmVQcmV2aWV3RW50aXRpZXModmlld2VyKTtcclxuXHJcbiAgICAgIG92ZXJsYXlFbnRpdGllc1JlZi5jdXJyZW50LmZvckVhY2goZSA9PiB7XHJcbiAgICAgICAgdHJ5IHsgdmlld2VyLmVudGl0aWVzLnJlbW92ZShlKTsgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICAgICAgICBjb25zb2xlLndhcm4oJ1tNZWFzdXJlbWVudF0gRmFpbGVkIHRvIHJlbW92ZSBvdmVybGF5IGVudGl0eScsIGVycik7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgICAgb3ZlcmxheUVudGl0aWVzUmVmLmN1cnJlbnQgPSBbXTtcclxuXHJcbiAgICAgIG1lYXN1cmVtZW50RW50aXRpZXNSZWYuY3VycmVudC5mb3JFYWNoKGUgPT4ge1xyXG4gICAgICAgIHRyeSB7IHZpZXdlci5lbnRpdGllcy5yZW1vdmUoZSk7IH0gY2F0Y2ggKGVycikge1xyXG4gICAgICAgICAgY29uc29sZS53YXJuKCdbTWVhc3VyZW1lbnRdIEZhaWxlZCB0byByZW1vdmUgZW50aXR5JywgZXJyKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgICBtZWFzdXJlbWVudEVudGl0aWVzUmVmLmN1cnJlbnQgPSBbXTtcclxuXHJcbiAgICAgIHNldENhbnZhc1Rvb2x0aXAoJycpO1xyXG4gICAgICBpZiAodmlld2VyLnNjZW5lKSB2aWV3ZXIuc2NlbmUucmVxdWVzdFJlbmRlcigpO1xyXG4gICAgfVxyXG4gICAgbWVhc3VyZW1lbnRQb2ludHNSZWYuY3VycmVudCA9IFtdO1xyXG4gICAgc2V0TWVhc3VyZW1lbnRQb2ludHMoW10pO1xyXG4gICAgYXJlYUxvY2tlZFJlZi5jdXJyZW50ID0gZmFsc2U7XHJcbiAgfSwgW2Nlc2l1bVZpZXdlclJlZiwgcmVtb3ZlUHJldmlld0VudGl0aWVzLCBzZXRDYW52YXNUb29sdGlwXSk7XHJcblxyXG4gIGNvbnN0IHN0YXJ0TWVhc3VyZW1lbnQgPSB1c2VDYWxsYmFjaygobW9kZSkgPT4ge1xyXG4gICAgY2xlYXJNZWFzdXJlbWVudHMoKTtcclxuICAgIGFyZWFMb2NrZWRSZWYuY3VycmVudCA9IGZhbHNlO1xyXG4gICAgbWVhc3VyZW1lbnRNb2RlUmVmLmN1cnJlbnQgPSBtb2RlO1xyXG4gICAgc2V0TWVhc3VyZW1lbnRNb2RlKG1vZGUpO1xyXG4gICAgbWVhc3VyZW1lbnRQb2ludHNSZWYuY3VycmVudCA9IFtdO1xyXG4gICAgc2V0TWVhc3VyZW1lbnRQb2ludHMoW10pO1xyXG4gIH0sIFtjbGVhck1lYXN1cmVtZW50c10pO1xyXG5cclxuICBjb25zdCBjYW5jZWxNZWFzdXJlbWVudCA9IHVzZUNhbGxiYWNrKCgpID0+IHtcclxuICAgIGNvbnN0IHZpZXdlciA9IGNlc2l1bVZpZXdlclJlZi5jdXJyZW50O1xyXG4gICAgaWYgKHZpZXdlcikge1xyXG4gICAgICByZW1vdmVQcmV2aWV3RW50aXRpZXModmlld2VyKTtcclxuICAgICAgc2V0Q2FudmFzVG9vbHRpcCgnJyk7XHJcbiAgICB9XHJcbiAgICBjbGVhck1lYXN1cmVtZW50cygpO1xyXG4gICAgbWVhc3VyZW1lbnRNb2RlUmVmLmN1cnJlbnQgPSBudWxsO1xyXG4gICAgc2V0TWVhc3VyZW1lbnRNb2RlKG51bGwpO1xyXG4gICAgYXJlYUxvY2tlZFJlZi5jdXJyZW50ID0gZmFsc2U7XHJcblxyXG4gICAgaWYgKHZpZXdlciAmJiB2aWV3ZXIuc2NlbmUpIHtcclxuICAgICAgdmlld2VyLnNjZW5lLnJlcXVlc3RSZW5kZXIoKTtcclxuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgaWYgKHZpZXdlciAmJiB2aWV3ZXIuc2NlbmUpIHZpZXdlci5zY2VuZS5yZXF1ZXN0UmVuZGVyKCk7XHJcbiAgICAgIH0sIDUwKTtcclxuICAgIH1cclxuICB9LCBbY2xlYXJNZWFzdXJlbWVudHMsIHJlbW92ZVByZXZpZXdFbnRpdGllcywgc2V0Q2FudmFzVG9vbHRpcF0pO1xyXG5cclxuICBjb25zdCBhZGRNZWFzdXJlbWVudFBvaW50ID0gdXNlQ2FsbGJhY2soKGNhcnRlc2lhbikgPT4ge1xyXG4gICAgY29uc3Qgdmlld2VyID0gY2VzaXVtVmlld2VyUmVmLmN1cnJlbnQ7XHJcbiAgICBpZiAoIXZpZXdlciB8fCAhd2luZG93Py5DZXNpdW0gfHwgIWNhcnRlc2lhbikgcmV0dXJuO1xyXG5cclxuICAgIGlmIChhcmVhTG9ja2VkUmVmLmN1cnJlbnQpIHJldHVybjtcclxuXHJcbiAgICBjb25zdCBjdXJyZW50TW9kZSA9IG1lYXN1cmVtZW50TW9kZVJlZi5jdXJyZW50O1xyXG4gICAgaWYgKCFjdXJyZW50TW9kZSkgcmV0dXJuO1xyXG5cclxuICAgIGNvbnN0IGNhcnRvZ3JhcGhpYyA9IHdpbmRvdy5DZXNpdW0uQ2FydG9ncmFwaGljLmZyb21DYXJ0ZXNpYW4oY2FydGVzaWFuKTtcclxuICAgIGNvbnN0IGxvbmdpdHVkZSA9IHdpbmRvdy5DZXNpdW0uTWF0aC50b0RlZ3JlZXMoY2FydG9ncmFwaGljLmxvbmdpdHVkZSk7XHJcbiAgICBjb25zdCBsYXRpdHVkZSA9IHdpbmRvdy5DZXNpdW0uTWF0aC50b0RlZ3JlZXMoY2FydG9ncmFwaGljLmxhdGl0dWRlKTtcclxuXHJcbiAgICBjb25zdCBuZXdQb2ludCA9IHsgY2FydGVzaWFuLCBsb25naXR1ZGUsIGxhdGl0dWRlIH07XHJcblxyXG4gICAgc2V0TWVhc3VyZW1lbnRQb2ludHMocHJldiA9PiB7XHJcbiAgICAgIGNvbnN0IG5ld1BvaW50cyA9IFsuLi5wcmV2LCBuZXdQb2ludF07XHJcblxyXG4gICAgICBpZiAoY3VycmVudE1vZGUgPT09ICdkaXN0YW5jZScgJiYgbmV3UG9pbnRzLmxlbmd0aCA+IDIpIHJldHVybiBwcmV2O1xyXG5cclxuICAgICAgbWVhc3VyZW1lbnRQb2ludHNSZWYuY3VycmVudCA9IG5ld1BvaW50cztcclxuXHJcbiAgICAgIGNvbnN0IHBvaW50RW50aXR5ID0gdmlld2VyLmVudGl0aWVzLmFkZCh7XHJcbiAgICAgICAgcG9zaXRpb246IGNhcnRlc2lhbixcclxuICAgICAgICBwb2ludDoge1xyXG4gICAgICAgICAgcGl4ZWxTaXplOiAxNCxcclxuICAgICAgICAgIGNvbG9yOiB3aW5kb3cuQ2VzaXVtLkNvbG9yLldISVRFLFxyXG4gICAgICAgICAgb3V0bGluZUNvbG9yOiB3aW5kb3cuQ2VzaXVtLkNvbG9yLkNZQU4sXHJcbiAgICAgICAgICBvdXRsaW5lV2lkdGg6IDQsXHJcbiAgICAgICAgICBoZWlnaHRSZWZlcmVuY2U6IHdpbmRvdy5DZXNpdW0uSGVpZ2h0UmVmZXJlbmNlLkNMQU1QX1RPX0dST1VORCxcclxuICAgICAgICAgIGRpc2FibGVEZXB0aFRlc3REaXN0YW5jZTogTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZLFxyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICAgIG1lYXN1cmVtZW50RW50aXRpZXNSZWYuY3VycmVudC5wdXNoKHBvaW50RW50aXR5KTtcclxuXHJcbiAgICAgIGlmICh2aWV3ZXIuc2NlbmUpIHZpZXdlci5zY2VuZS5yZXF1ZXN0UmVuZGVyKCk7XHJcblxyXG4gICAgICBpZiAobmV3UG9pbnRzLmxlbmd0aCA+IDEpIHtcclxuICAgICAgICBvdmVybGF5RW50aXRpZXNSZWYuY3VycmVudC5mb3JFYWNoKGUgPT4ge1xyXG4gICAgICAgICAgdHJ5IHsgdmlld2VyLmVudGl0aWVzLnJlbW92ZShlKTsgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUud2FybignW01lYXN1cmVtZW50XSBGYWlsZWQgdG8gcmVtb3ZlIG92ZXJsYXkgZW50aXR5JywgZXJyKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICBvdmVybGF5RW50aXRpZXNSZWYuY3VycmVudCA9IFtdO1xyXG5cclxuICAgICAgICBjb25zdCBwb3NpdGlvbnMgPSBuZXdQb2ludHMubWFwKHAgPT4gcC5jYXJ0ZXNpYW4pO1xyXG5cclxuICAgICAgICBpZiAoY3VycmVudE1vZGUgPT09ICdkaXN0YW5jZScgJiYgbmV3UG9pbnRzLmxlbmd0aCA9PT0gMikge1xyXG4gICAgICAgICAgcmVtb3ZlUHJldmlld0VudGl0aWVzKHZpZXdlcik7XHJcblxyXG4gICAgICAgICAgY29uc3QgbGluZUVudGl0eSA9IHZpZXdlci5lbnRpdGllcy5hZGQoe1xyXG4gICAgICAgICAgICBwb2x5bGluZToge1xyXG4gICAgICAgICAgICAgIHBvc2l0aW9ucyxcclxuICAgICAgICAgICAgICB3aWR0aDogNCxcclxuICAgICAgICAgICAgICBtYXRlcmlhbDogd2luZG93LkNlc2l1bS5Db2xvci5XSElURSxcclxuICAgICAgICAgICAgICBjbGFtcFRvR3JvdW5kOiB0cnVlLFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICAgIG1lYXN1cmVtZW50RW50aXRpZXNSZWYuY3VycmVudC5wdXNoKGxpbmVFbnRpdHkpO1xyXG4gICAgICAgICAgb3ZlcmxheUVudGl0aWVzUmVmLmN1cnJlbnQucHVzaChsaW5lRW50aXR5KTtcclxuXHJcbiAgICAgICAgICBjb25zdCBlbGxpcHNvaWQgPSB2aWV3ZXIuc2NlbmUuZ2xvYmUuZWxsaXBzb2lkO1xyXG4gICAgICAgICAgY29uc3QgYzEgPSBlbGxpcHNvaWQuY2FydGVzaWFuVG9DYXJ0b2dyYXBoaWMocG9zaXRpb25zWzBdKTtcclxuICAgICAgICAgIGNvbnN0IGMyID0gZWxsaXBzb2lkLmNhcnRlc2lhblRvQ2FydG9ncmFwaGljKHBvc2l0aW9uc1sxXSk7XHJcbiAgICAgICAgICBjb25zdCBnZW9kZXNpYyA9IG5ldyB3aW5kb3cuQ2VzaXVtLkVsbGlwc29pZEdlb2Rlc2ljKGMxLCBjMik7XHJcbiAgICAgICAgICBjb25zdCBkaXN0YW5jZU1ldGVycyA9IGdlb2Rlc2ljLnN1cmZhY2VEaXN0YW5jZTtcclxuICAgICAgICAgIGNvbnN0IGRpc3RhbmNlRmVldCA9IGRpc3RhbmNlTWV0ZXJzICogMy4yODA4NDtcclxuXHJcbiAgICAgICAgICBpZiAoIU51bWJlci5pc0Zpbml0ZShkaXN0YW5jZU1ldGVycykgfHwgZGlzdGFuY2VNZXRlcnMgPCAwLjAxKSB7XHJcbiAgICAgICAgICAgIHRyeSB7IHZpZXdlci5lbnRpdGllcy5yZW1vdmUobGluZUVudGl0eSk7IH0gY2F0Y2ggKF8pIHt9XHJcbiAgICAgICAgICAgIG1lYXN1cmVtZW50RW50aXRpZXNSZWYuY3VycmVudC5wb3AoKTtcclxuICAgICAgICAgICAgb3ZlcmxheUVudGl0aWVzUmVmLmN1cnJlbnQucG9wKCk7XHJcbiAgICAgICAgICAgIGNvbnN0IGR1cFBvaW50ID0gbWVhc3VyZW1lbnRFbnRpdGllc1JlZi5jdXJyZW50LnBvcCgpO1xyXG4gICAgICAgICAgICBpZiAoZHVwUG9pbnQpIHtcclxuICAgICAgICAgICAgICB0cnkgeyB2aWV3ZXIuZW50aXRpZXMucmVtb3ZlKGR1cFBvaW50KTsgfSBjYXRjaCAoXykge31cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBtZWFzdXJlbWVudFBvaW50c1JlZi5jdXJyZW50ID0gW25ld1BvaW50c1swXV07XHJcbiAgICAgICAgICAgIHNldE1lYXN1cmVtZW50UG9pbnRzKFtuZXdQb2ludHNbMF1dKTtcclxuICAgICAgICAgICAgc2V0Q2FudmFzVG9vbHRpcCgnUGljayBhIGRpZmZlcmVudCBwb2ludCcpO1xyXG4gICAgICAgICAgICBpZiAodmlld2VyLnNjZW5lKSB2aWV3ZXIuc2NlbmUucmVxdWVzdFJlbmRlcigpO1xyXG4gICAgICAgICAgICByZXR1cm4gW25ld1BvaW50c1swXV07XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgY29uc3QgbWV0ZXJzVGV4dCA9IGAke2Rpc3RhbmNlTWV0ZXJzLnRvRml4ZWQoMil9IG1gO1xyXG4gICAgICAgICAgY29uc3QgZmVldFRleHQgPSBgJHtkaXN0YW5jZUZlZXQudG9GaXhlZCgyKX0gZnRgO1xyXG4gICAgICAgICAgY29uc3QgdG9vbHRpcFRleHQgPSBg8J+TjyAke21ldGVyc1RleHR9ICgke2ZlZXRUZXh0fSlgO1xyXG5cclxuICAgICAgICAgIGNvbnN0IGJlYXJpbmcgPSB3aW5kb3cuQ2VzaXVtLk1hdGgudG9EZWdyZWVzKGdlb2Rlc2ljLnN0YXJ0SGVhZGluZyk7XHJcbiAgICAgICAgICBjb25zdCBub3JtYWxpemVkQmVhcmluZyA9IGJlYXJpbmcgPCAwID8gYmVhcmluZyArIDM2MCA6IGJlYXJpbmc7XHJcbiAgICAgICAgICBjb25zdCByb3RhdGlvbkFuZ2xlID1cclxuICAgICAgICAgICAgbm9ybWFsaXplZEJlYXJpbmcgPiA5MCAmJiBub3JtYWxpemVkQmVhcmluZyA8IDI3MFxyXG4gICAgICAgICAgICAgID8gbm9ybWFsaXplZEJlYXJpbmcgLSAxODBcclxuICAgICAgICAgICAgICA6IG5vcm1hbGl6ZWRCZWFyaW5nO1xyXG4gICAgICAgICAgY29uc3Qgcm90YXRpb25SYWRpYW5zID0gd2luZG93LkNlc2l1bS5NYXRoLnRvUmFkaWFucyhyb3RhdGlvbkFuZ2xlKTtcclxuXHJcbiAgICAgICAgICBjb25zdCBtaWQgPSB3aW5kb3cuQ2VzaXVtLkNhcnRlc2lhbjMubGVycChcclxuICAgICAgICAgICAgcG9zaXRpb25zWzBdLFxyXG4gICAgICAgICAgICBwb3NpdGlvbnNbMV0sXHJcbiAgICAgICAgICAgIDAuNSxcclxuICAgICAgICAgICAgbmV3IHdpbmRvdy5DZXNpdW0uQ2FydGVzaWFuMygpXHJcbiAgICAgICAgICApO1xyXG5cclxuICAgICAgICAgIGNvbnN0IG1ldGVyc0xhYmVsRW50aXR5ID0gdmlld2VyLmVudGl0aWVzLmFkZCh7XHJcbiAgICAgICAgICAgIHBvc2l0aW9uOiBtaWQsXHJcbiAgICAgICAgICAgIGxhYmVsOiB7XHJcbiAgICAgICAgICAgICAgdGV4dDogbWV0ZXJzVGV4dCxcclxuICAgICAgICAgICAgICBmb250OiAnMjJweCBib2xkIFwiQXJpYWxcIiwgc2Fucy1zZXJpZicsXHJcbiAgICAgICAgICAgICAgZmlsbENvbG9yOiB3aW5kb3cuQ2VzaXVtLkNvbG9yLllFTExPVyxcclxuICAgICAgICAgICAgICBvdXRsaW5lQ29sb3I6IHdpbmRvdy5DZXNpdW0uQ29sb3IuQkxBQ0ssXHJcbiAgICAgICAgICAgICAgb3V0bGluZVdpZHRoOiA1LFxyXG4gICAgICAgICAgICAgIHN0eWxlOiB3aW5kb3cuQ2VzaXVtLkxhYmVsU3R5bGUuRklMTF9BTkRfT1VUTElORSxcclxuICAgICAgICAgICAgICB2ZXJ0aWNhbE9yaWdpbjogd2luZG93LkNlc2l1bS5WZXJ0aWNhbE9yaWdpbi5DRU5URVIsXHJcbiAgICAgICAgICAgICAgaG9yaXpvbnRhbE9yaWdpbjogd2luZG93LkNlc2l1bS5Ib3Jpem9udGFsT3JpZ2luLkNFTlRFUixcclxuICAgICAgICAgICAgICBwaXhlbE9mZnNldDogbmV3IHdpbmRvdy5DZXNpdW0uQ2FydGVzaWFuMigwLCAtMzApLFxyXG4gICAgICAgICAgICAgIHJvdGF0aW9uOiByb3RhdGlvblJhZGlhbnMsXHJcbiAgICAgICAgICAgICAgZGlzYWJsZURlcHRoVGVzdERpc3RhbmNlOiBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFksXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgIGNvbnN0IGZlZXRMYWJlbEVudGl0eSA9IHZpZXdlci5lbnRpdGllcy5hZGQoe1xyXG4gICAgICAgICAgICBwb3NpdGlvbjogbWlkLFxyXG4gICAgICAgICAgICBsYWJlbDoge1xyXG4gICAgICAgICAgICAgIHRleHQ6IGZlZXRUZXh0LFxyXG4gICAgICAgICAgICAgIGZvbnQ6ICcyMnB4IGJvbGQgXCJBcmlhbFwiLCBzYW5zLXNlcmlmJyxcclxuICAgICAgICAgICAgICBmaWxsQ29sb3I6IHdpbmRvdy5DZXNpdW0uQ29sb3IuV0hJVEUsXHJcbiAgICAgICAgICAgICAgb3V0bGluZUNvbG9yOiB3aW5kb3cuQ2VzaXVtLkNvbG9yLkJMQUNLLFxyXG4gICAgICAgICAgICAgIG91dGxpbmVXaWR0aDogNSxcclxuICAgICAgICAgICAgICBzdHlsZTogd2luZG93LkNlc2l1bS5MYWJlbFN0eWxlLkZJTExfQU5EX09VVExJTkUsXHJcbiAgICAgICAgICAgICAgdmVydGljYWxPcmlnaW46IHdpbmRvdy5DZXNpdW0uVmVydGljYWxPcmlnaW4uQ0VOVEVSLFxyXG4gICAgICAgICAgICAgIGhvcml6b250YWxPcmlnaW46IHdpbmRvdy5DZXNpdW0uSG9yaXpvbnRhbE9yaWdpbi5DRU5URVIsXHJcbiAgICAgICAgICAgICAgcGl4ZWxPZmZzZXQ6IG5ldyB3aW5kb3cuQ2VzaXVtLkNhcnRlc2lhbjIoMCwgMzApLFxyXG4gICAgICAgICAgICAgIHJvdGF0aW9uOiByb3RhdGlvblJhZGlhbnMsXHJcbiAgICAgICAgICAgICAgZGlzYWJsZURlcHRoVGVzdERpc3RhbmNlOiBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFksXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgIG1lYXN1cmVtZW50RW50aXRpZXNSZWYuY3VycmVudC5wdXNoKG1ldGVyc0xhYmVsRW50aXR5LCBmZWV0TGFiZWxFbnRpdHkpO1xyXG4gICAgICAgICAgb3ZlcmxheUVudGl0aWVzUmVmLmN1cnJlbnQucHVzaChtZXRlcnNMYWJlbEVudGl0eSwgZmVldExhYmVsRW50aXR5KTtcclxuXHJcbiAgICAgICAgICBzZXRDYW52YXNUb29sdGlwKHRvb2x0aXBUZXh0KTtcclxuXHJcbiAgICAgICAgICBhcmVhTG9ja2VkUmVmLmN1cnJlbnQgPSB0cnVlO1xyXG4gICAgICAgICAgbWVhc3VyZW1lbnRNb2RlUmVmLmN1cnJlbnQgPSBudWxsO1xyXG4gICAgICAgICAgc2V0TWVhc3VyZW1lbnRNb2RlKG51bGwpO1xyXG5cclxuICAgICAgICAgIGlmICh2aWV3ZXIuc2NlbmUpIHtcclxuICAgICAgICAgICAgdmlld2VyLnNjZW5lLnJlcXVlc3RSZW5kZXIoKTtcclxuICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgaWYgKHZpZXdlci5zY2VuZSkgdmlld2VyLnNjZW5lLnJlcXVlc3RSZW5kZXIoKTtcclxuICAgICAgICAgICAgfSwgNTApO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZWxzZSBpZiAoY3VycmVudE1vZGUgPT09ICdhcmVhJyAmJiBuZXdQb2ludHMubGVuZ3RoID49IDIpIHtcclxuICAgICAgICAgIGNvbnN0IHBvbHlnb25FbnRpdHkgPSB2aWV3ZXIuZW50aXRpZXMuYWRkKHtcclxuICAgICAgICAgICAgcG9seWdvbjoge1xyXG4gICAgICAgICAgICAgIGhpZXJhcmNoeTogbmV3IHdpbmRvdy5DZXNpdW0uUG9seWdvbkhpZXJhcmNoeShwb3NpdGlvbnMpLFxyXG4gICAgICAgICAgICAgIG1hdGVyaWFsOiB3aW5kb3cuQ2VzaXVtLkNvbG9yLllFTExPVy53aXRoQWxwaGEoMC4zKSxcclxuICAgICAgICAgICAgICBvdXRsaW5lOiB0cnVlLFxyXG4gICAgICAgICAgICAgIG91dGxpbmVDb2xvcjogd2luZG93LkNlc2l1bS5Db2xvci5ZRUxMT1csXHJcbiAgICAgICAgICAgICAgb3V0bGluZVdpZHRoOiAzLFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICAgIG1lYXN1cmVtZW50RW50aXRpZXNSZWYuY3VycmVudC5wdXNoKHBvbHlnb25FbnRpdHkpO1xyXG4gICAgICAgICAgb3ZlcmxheUVudGl0aWVzUmVmLmN1cnJlbnQucHVzaChwb2x5Z29uRW50aXR5KTtcclxuXHJcbiAgICAgICAgICBpZiAodmlld2VyLnNjZW5lKSB2aWV3ZXIuc2NlbmUucmVxdWVzdFJlbmRlcigpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgdmlld2VyLnNjZW5lPy5yZXF1ZXN0UmVuZGVyKCk7XHJcbiAgICAgIHJldHVybiBuZXdQb2ludHM7XHJcbiAgICB9KTtcclxuICB9LCBbY2VzaXVtVmlld2VyUmVmLCByZW1vdmVQcmV2aWV3RW50aXRpZXMsIHNldENhbnZhc1Rvb2x0aXBdKTtcclxuXHJcbiAgY29uc3QgdXBkYXRlUHJldmlld0xpbmUgPSB1c2VDYWxsYmFjaygoY3Vyc29yQ2FydGVzaWFuKSA9PiB7XHJcbiAgICBjb25zdCB2aWV3ZXIgPSBjZXNpdW1WaWV3ZXJSZWYuY3VycmVudDtcclxuICAgIGlmICghdmlld2VyIHx8ICF3aW5kb3c/LkNlc2l1bSkge1xyXG4gICAgICBpZiAodmlld2VyKSByZW1vdmVQcmV2aWV3RW50aXRpZXModmlld2VyKTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChhcmVhTG9ja2VkUmVmLmN1cnJlbnQpIHtcclxuICAgICAgcmVtb3ZlUHJldmlld0VudGl0aWVzKHZpZXdlcik7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoIWN1cnNvckNhcnRlc2lhbikge1xyXG4gICAgICByZW1vdmVQcmV2aWV3RW50aXRpZXModmlld2VyKTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGN1cnJlbnRNb2RlID0gbWVhc3VyZW1lbnRNb2RlUmVmLmN1cnJlbnQ7XHJcbiAgICBjb25zdCBwb2ludHMgPSBtZWFzdXJlbWVudFBvaW50c1JlZi5jdXJyZW50O1xyXG5cclxuICAgIGlmIChjdXJyZW50TW9kZSAhPT0gJ2Rpc3RhbmNlJyB8fCBwb2ludHMubGVuZ3RoICE9PSAxKSB7XHJcbiAgICAgIHJlbW92ZVByZXZpZXdFbnRpdGllcyh2aWV3ZXIpO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgZmlyc3RQb2ludCA9IHBvaW50c1swXS5jYXJ0ZXNpYW47XHJcblxyXG4gICAgcmVtb3ZlUHJldmlld0VudGl0aWVzKHZpZXdlcik7XHJcblxyXG4gICAgcHJldmlld0xpbmVFbnRpdHlSZWYuY3VycmVudCA9IHZpZXdlci5lbnRpdGllcy5hZGQoe1xyXG4gICAgICBwb2x5bGluZToge1xyXG4gICAgICAgIHBvc2l0aW9uczogW2ZpcnN0UG9pbnQsIGN1cnNvckNhcnRlc2lhbl0sXHJcbiAgICAgICAgd2lkdGg6IDMsXHJcbiAgICAgICAgbWF0ZXJpYWw6IHdpbmRvdy5DZXNpdW0uQ29sb3IuWUVMTE9XLndpdGhBbHBoYSgwLjgpLFxyXG4gICAgICAgIGNsYW1wVG9Hcm91bmQ6IHRydWUsXHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIGNvbnN0IGVsbGlwc29pZCA9IHZpZXdlci5zY2VuZS5nbG9iZS5lbGxpcHNvaWQ7XHJcbiAgICBjb25zdCBjMSA9IGVsbGlwc29pZC5jYXJ0ZXNpYW5Ub0NhcnRvZ3JhcGhpYyhmaXJzdFBvaW50KTtcclxuICAgIGNvbnN0IGMyID0gZWxsaXBzb2lkLmNhcnRlc2lhblRvQ2FydG9ncmFwaGljKGN1cnNvckNhcnRlc2lhbik7XHJcbiAgICBjb25zdCBnZW9kZXNpYyA9IG5ldyB3aW5kb3cuQ2VzaXVtLkVsbGlwc29pZEdlb2Rlc2ljKGMxLCBjMik7XHJcbiAgICBjb25zdCBkaXN0YW5jZU1ldGVycyA9IGdlb2Rlc2ljLnN1cmZhY2VEaXN0YW5jZTtcclxuICAgIGNvbnN0IGRpc3RhbmNlRmVldCA9IGRpc3RhbmNlTWV0ZXJzICogMy4yODA4NDtcclxuXHJcbiAgICBjb25zdCB0ZXh0ID0gYCR7ZGlzdGFuY2VNZXRlcnMudG9GaXhlZCgyKX0gbSAoJHtkaXN0YW5jZUZlZXQudG9GaXhlZCgyKX0gZnQpYDtcclxuXHJcbiAgICBjb25zdCBtaWQgPSB3aW5kb3cuQ2VzaXVtLkNhcnRlc2lhbjMubGVycChcclxuICAgICAgZmlyc3RQb2ludCxcclxuICAgICAgY3Vyc29yQ2FydGVzaWFuLFxyXG4gICAgICAwLjUsXHJcbiAgICAgIG5ldyB3aW5kb3cuQ2VzaXVtLkNhcnRlc2lhbjMoKVxyXG4gICAgKTtcclxuXHJcbiAgICBwcmV2aWV3TGFiZWxFbnRpdHlSZWYuY3VycmVudCA9IHZpZXdlci5lbnRpdGllcy5hZGQoe1xyXG4gICAgICBwb3NpdGlvbjogbWlkLFxyXG4gICAgICBsYWJlbDoge1xyXG4gICAgICAgIHRleHQsXHJcbiAgICAgICAgZm9udDogJzIwcHggYm9sZCBcIkFyaWFsXCIsIHNhbnMtc2VyaWYnLFxyXG4gICAgICAgIGZpbGxDb2xvcjogd2luZG93LkNlc2l1bS5Db2xvci5ZRUxMT1csXHJcbiAgICAgICAgb3V0bGluZUNvbG9yOiB3aW5kb3cuQ2VzaXVtLkNvbG9yLkJMQUNLLFxyXG4gICAgICAgIG91dGxpbmVXaWR0aDogNCxcclxuICAgICAgICBzdHlsZTogd2luZG93LkNlc2l1bS5MYWJlbFN0eWxlLkZJTExfQU5EX09VVExJTkUsXHJcbiAgICAgICAgdmVydGljYWxPcmlnaW46IHdpbmRvdy5DZXNpdW0uVmVydGljYWxPcmlnaW4uQ0VOVEVSLFxyXG4gICAgICAgIHBpeGVsT2Zmc2V0OiBuZXcgd2luZG93LkNlc2l1bS5DYXJ0ZXNpYW4yKDAsIC0yNSksXHJcbiAgICAgICAgYmFja2dyb3VuZENvbG9yOiB3aW5kb3cuQ2VzaXVtLkNvbG9yLkJMQUNLLndpdGhBbHBoYSgwLjkpLFxyXG4gICAgICAgIGJhY2tncm91bmRQYWRkaW5nOiBuZXcgd2luZG93LkNlc2l1bS5DYXJ0ZXNpYW4yKDEwLCA2KSxcclxuICAgICAgICBzaG93QmFja2dyb3VuZDogdHJ1ZSxcclxuICAgICAgICBkaXNhYmxlRGVwdGhUZXN0RGlzdGFuY2U6IE51bWJlci5QT1NJVElWRV9JTkZJTklUWSxcclxuICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgc2V0Q2FudmFzVG9vbHRpcChgRGlzdGFuY2U6ICR7dGV4dH1gKTtcclxuICAgIHZpZXdlci5zY2VuZT8ucmVxdWVzdFJlbmRlcigpO1xyXG4gIH0sIFtjZXNpdW1WaWV3ZXJSZWYsIHJlbW92ZVByZXZpZXdFbnRpdGllcywgc2V0Q2FudmFzVG9vbHRpcF0pO1xyXG5cclxuICBjb25zdCBmaW5hbGl6ZUFyZWFNZWFzdXJlbWVudCA9IHVzZUNhbGxiYWNrKCgpID0+IHtcclxuICAgIGNvbnN0IHZpZXdlciA9IGNlc2l1bVZpZXdlclJlZi5jdXJyZW50O1xyXG4gICAgaWYgKCF2aWV3ZXIgfHwgIXdpbmRvdz8uQ2VzaXVtKSByZXR1cm47XHJcblxyXG4gICAgY29uc3QgY3VycmVudE1vZGUgPSBtZWFzdXJlbWVudE1vZGVSZWYuY3VycmVudDtcclxuICAgIGlmIChjdXJyZW50TW9kZSAhPT0gJ2FyZWEnKSByZXR1cm47XHJcblxyXG4gICAgY29uc3QgcG9pbnRzID0gbWVhc3VyZW1lbnRQb2ludHNSZWYuY3VycmVudDtcclxuICAgIGlmICghcG9pbnRzIHx8IHBvaW50cy5sZW5ndGggPCAzKSByZXR1cm47XHJcblxyXG4gICAgcmVtb3ZlUHJldmlld0VudGl0aWVzKHZpZXdlcik7XHJcblxyXG4gICAgY29uc3QgcG9zaXRpb25zID0gcG9pbnRzLm1hcChwID0+IHAuY2FydGVzaWFuKTtcclxuXHJcbiAgICBjb25zdCBjb29yZHMgPSBwb2ludHMubWFwKHAgPT4gW3AubG9uZ2l0dWRlLCBwLmxhdGl0dWRlXSk7XHJcbiAgICBsZXQgYXJlYSA9IDA7XHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNvb3Jkcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICBjb25zdCBqID0gKGkgKyAxKSAlIGNvb3Jkcy5sZW5ndGg7XHJcbiAgICAgIGFyZWEgKz0gY29vcmRzW2ldWzBdICogY29vcmRzW2pdWzFdO1xyXG4gICAgICBhcmVhIC09IGNvb3Jkc1tqXVswXSAqIGNvb3Jkc1tpXVsxXTtcclxuICAgIH1cclxuICAgIGFyZWEgPSBNYXRoLmFicyhhcmVhIC8gMik7XHJcbiAgICBjb25zdCBtZXRlcnNQZXJEZWdyZWUgPSAxMTEzMjA7XHJcbiAgICBjb25zdCBhcmVhTTIgPSBhcmVhICogbWV0ZXJzUGVyRGVncmVlICogbWV0ZXJzUGVyRGVncmVlO1xyXG4gICAgY29uc3QgYXJlYUZ0MiA9IGFyZWFNMiAqIDEwLjc2Mzk7XHJcblxyXG4gICAgY29uc3QgY2VudHJvaWQgPSB3aW5kb3cuQ2VzaXVtLkJvdW5kaW5nU3BoZXJlLmZyb21Qb2ludHMocG9zaXRpb25zKS5jZW50ZXI7XHJcblxyXG4gICAgY29uc3QgYXJlYUxhYmVsID0gdmlld2VyLmVudGl0aWVzLmFkZCh7XHJcbiAgICAgIHBvc2l0aW9uOiBjZW50cm9pZCxcclxuICAgICAgbGFiZWw6IHtcclxuICAgICAgICB0ZXh0OiBgJHthcmVhTTIudG9GaXhlZCgyKX0gbcKyXFxuJHthcmVhRnQyLnRvRml4ZWQoMil9IGZ0wrJgLFxyXG4gICAgICAgIGZvbnQ6ICcyMnB4IGJvbGQgXCJBcmlhbFwiLCBzYW5zLXNlcmlmJyxcclxuICAgICAgICBmaWxsQ29sb3I6IHdpbmRvdy5DZXNpdW0uQ29sb3IuWUVMTE9XLFxyXG4gICAgICAgIG91dGxpbmVDb2xvcjogd2luZG93LkNlc2l1bS5Db2xvci5CTEFDSyxcclxuICAgICAgICBvdXRsaW5lV2lkdGg6IDUsXHJcbiAgICAgICAgc3R5bGU6IHdpbmRvdy5DZXNpdW0uTGFiZWxTdHlsZS5GSUxMX0FORF9PVVRMSU5FLFxyXG4gICAgICAgIHZlcnRpY2FsT3JpZ2luOiB3aW5kb3cuQ2VzaXVtLlZlcnRpY2FsT3JpZ2luLkNFTlRFUixcclxuICAgICAgICBob3Jpem9udGFsT3JpZ2luOiB3aW5kb3cuQ2VzaXVtLkhvcml6b250YWxPcmlnaW4uQ0VOVEVSLFxyXG4gICAgICAgIGRpc2FibGVEZXB0aFRlc3REaXN0YW5jZTogTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZLFxyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICAgIG1lYXN1cmVtZW50RW50aXRpZXNSZWYuY3VycmVudC5wdXNoKGFyZWFMYWJlbCk7XHJcbiAgICBvdmVybGF5RW50aXRpZXNSZWYuY3VycmVudC5wdXNoKGFyZWFMYWJlbCk7XHJcblxyXG4gICAgc2V0Q2FudmFzVG9vbHRpcChgQXJlYTogJHthcmVhTTIudG9GaXhlZCgyKX0gbcKyICgke2FyZWFGdDIudG9GaXhlZCgyKX0gZnTCsilgKTtcclxuXHJcbiAgICBhcmVhTG9ja2VkUmVmLmN1cnJlbnQgPSB0cnVlO1xyXG4gICAgbWVhc3VyZW1lbnRNb2RlUmVmLmN1cnJlbnQgPSBudWxsO1xyXG4gICAgc2V0TWVhc3VyZW1lbnRNb2RlKG51bGwpO1xyXG5cclxuICAgIHZpZXdlci5zY2VuZT8ucmVxdWVzdFJlbmRlcigpO1xyXG4gIH0sIFtjZXNpdW1WaWV3ZXJSZWYsIHJlbW92ZVByZXZpZXdFbnRpdGllcywgc2V0Q2FudmFzVG9vbHRpcF0pO1xyXG5cclxuICBjb25zdCBnZXRNZWFzdXJlbWVudE1vZGUgPSB1c2VDYWxsYmFjaygoKSA9PiBtZWFzdXJlbWVudE1vZGVSZWYuY3VycmVudCwgW10pO1xyXG5cclxuICByZXR1cm4ge1xyXG4gICAgbWVhc3VyZW1lbnRNb2RlLFxyXG4gICAgbWVhc3VyZW1lbnRQb2ludHMsXHJcbiAgICBzdGFydE1lYXN1cmVtZW50LFxyXG4gICAgY2FuY2VsTWVhc3VyZW1lbnQsXHJcbiAgICBhZGRNZWFzdXJlbWVudFBvaW50LFxyXG4gICAgY2xlYXJNZWFzdXJlbWVudHMsXHJcbiAgICBnZXRNZWFzdXJlbWVudE1vZGUsXHJcbiAgICB1cGRhdGVQcmV2aWV3TGluZSxcclxuICAgIGZpbmFsaXplQXJlYU1lYXN1cmVtZW50LFxyXG4gIH07XHJcbn07XHJcblxyXG5leHBvcnQgZGVmYXVsdCB1c2VNZWFzdXJlbWVudFRvb2w7XHJcblxyXG4iXSwibmFtZXMiOlsidXNlU3RhdGUiLCJ1c2VSZWYiLCJ1c2VDYWxsYmFjayIsInVzZUVmZmVjdCIsInVzZU1lYXN1cmVtZW50VG9vbCIsImNlc2l1bVZpZXdlclJlZiIsIm1lYXN1cmVtZW50TW9kZSIsInNldE1lYXN1cmVtZW50TW9kZSIsIm1lYXN1cmVtZW50UG9pbnRzIiwic2V0TWVhc3VyZW1lbnRQb2ludHMiLCJtZWFzdXJlbWVudEVudGl0aWVzUmVmIiwib3ZlcmxheUVudGl0aWVzUmVmIiwicHJldmlld0xpbmVFbnRpdHlSZWYiLCJwcmV2aWV3TGFiZWxFbnRpdHlSZWYiLCJtZWFzdXJlbWVudE1vZGVSZWYiLCJtZWFzdXJlbWVudFBvaW50c1JlZiIsImFyZWFMb2NrZWRSZWYiLCJjdXJyZW50Iiwic2V0Q2FudmFzVG9vbHRpcCIsInRleHQiLCJ2aWV3ZXIiLCJjZXNpdW1XaWRnZXQiLCJjb250YWluZXIiLCJ0aXRsZSIsInJlbW92ZVByZXZpZXdFbnRpdGllcyIsInJlZnMiLCJmb3JFYWNoIiwicmVmIiwiZW50aXRpZXMiLCJyZW1vdmUiLCJlcnIiLCJjb25zb2xlIiwid2FybiIsInNjZW5lIiwicmVxdWVzdFJlbmRlciIsImNsZWFyTWVhc3VyZW1lbnRzIiwiZSIsInN0YXJ0TWVhc3VyZW1lbnQiLCJtb2RlIiwiY2FuY2VsTWVhc3VyZW1lbnQiLCJzZXRUaW1lb3V0IiwiYWRkTWVhc3VyZW1lbnRQb2ludCIsImNhcnRlc2lhbiIsIndpbmRvdyIsIkNlc2l1bSIsImN1cnJlbnRNb2RlIiwiY2FydG9ncmFwaGljIiwiQ2FydG9ncmFwaGljIiwiZnJvbUNhcnRlc2lhbiIsImxvbmdpdHVkZSIsIk1hdGgiLCJ0b0RlZ3JlZXMiLCJsYXRpdHVkZSIsIm5ld1BvaW50IiwicHJldiIsIm5ld1BvaW50cyIsImxlbmd0aCIsInBvaW50RW50aXR5IiwiYWRkIiwicG9zaXRpb24iLCJwb2ludCIsInBpeGVsU2l6ZSIsImNvbG9yIiwiQ29sb3IiLCJXSElURSIsIm91dGxpbmVDb2xvciIsIkNZQU4iLCJvdXRsaW5lV2lkdGgiLCJoZWlnaHRSZWZlcmVuY2UiLCJIZWlnaHRSZWZlcmVuY2UiLCJDTEFNUF9UT19HUk9VTkQiLCJkaXNhYmxlRGVwdGhUZXN0RGlzdGFuY2UiLCJOdW1iZXIiLCJQT1NJVElWRV9JTkZJTklUWSIsInB1c2giLCJwb3NpdGlvbnMiLCJtYXAiLCJwIiwibGluZUVudGl0eSIsInBvbHlsaW5lIiwid2lkdGgiLCJtYXRlcmlhbCIsImNsYW1wVG9Hcm91bmQiLCJlbGxpcHNvaWQiLCJnbG9iZSIsImMxIiwiY2FydGVzaWFuVG9DYXJ0b2dyYXBoaWMiLCJjMiIsImdlb2Rlc2ljIiwiRWxsaXBzb2lkR2VvZGVzaWMiLCJkaXN0YW5jZU1ldGVycyIsInN1cmZhY2VEaXN0YW5jZSIsImRpc3RhbmNlRmVldCIsImlzRmluaXRlIiwiXyIsInBvcCIsImR1cFBvaW50IiwibWV0ZXJzVGV4dCIsInRvRml4ZWQiLCJmZWV0VGV4dCIsInRvb2x0aXBUZXh0IiwiYmVhcmluZyIsInN0YXJ0SGVhZGluZyIsIm5vcm1hbGl6ZWRCZWFyaW5nIiwicm90YXRpb25BbmdsZSIsInJvdGF0aW9uUmFkaWFucyIsInRvUmFkaWFucyIsIm1pZCIsIkNhcnRlc2lhbjMiLCJsZXJwIiwibWV0ZXJzTGFiZWxFbnRpdHkiLCJsYWJlbCIsImZvbnQiLCJmaWxsQ29sb3IiLCJZRUxMT1ciLCJCTEFDSyIsInN0eWxlIiwiTGFiZWxTdHlsZSIsIkZJTExfQU5EX09VVExJTkUiLCJ2ZXJ0aWNhbE9yaWdpbiIsIlZlcnRpY2FsT3JpZ2luIiwiQ0VOVEVSIiwiaG9yaXpvbnRhbE9yaWdpbiIsIkhvcml6b250YWxPcmlnaW4iLCJwaXhlbE9mZnNldCIsIkNhcnRlc2lhbjIiLCJyb3RhdGlvbiIsImZlZXRMYWJlbEVudGl0eSIsInBvbHlnb25FbnRpdHkiLCJwb2x5Z29uIiwiaGllcmFyY2h5IiwiUG9seWdvbkhpZXJhcmNoeSIsIndpdGhBbHBoYSIsIm91dGxpbmUiLCJ1cGRhdGVQcmV2aWV3TGluZSIsImN1cnNvckNhcnRlc2lhbiIsInBvaW50cyIsImZpcnN0UG9pbnQiLCJiYWNrZ3JvdW5kQ29sb3IiLCJiYWNrZ3JvdW5kUGFkZGluZyIsInNob3dCYWNrZ3JvdW5kIiwiZmluYWxpemVBcmVhTWVhc3VyZW1lbnQiLCJjb29yZHMiLCJhcmVhIiwiaSIsImoiLCJhYnMiLCJtZXRlcnNQZXJEZWdyZWUiLCJhcmVhTTIiLCJhcmVhRnQyIiwiY2VudHJvaWQiLCJCb3VuZGluZ1NwaGVyZSIsImZyb21Qb2ludHMiLCJjZW50ZXIiLCJhcmVhTGFiZWwiLCJnZXRNZWFzdXJlbWVudE1vZGUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./components/useMeasurementTool.js\n");

/***/ }),

/***/ "./components/useTurnPathManager.js":
/*!******************************************!*\
  !*** ./components/useTurnPathManager.js ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ useTurnPathManager)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n\n/**\n * Hook for managing turn path computation workflow\n * Handles state, road selection, API calls, and path rendering\n */ function useTurnPathManager(cesiumViewerRef, centerPoints = []) {\n    const [isDialogOpen, setIsDialogOpen] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    const [currentStep, setCurrentStep] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(\"profile\"); // profile, selecting_source, selecting_destination, computing, showing_path\n    const [vehicleProfiles, setVehicleProfiles] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)({});\n    const [pathConfig, setPathConfig] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [selectedSourceRoad, setSelectedSourceRoad] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [selectedDestinationRoad, setSelectedDestinationRoad] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [computedPath, setComputedPath] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [warning, setWarning] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    // Refs to expose latest state to Cesium event handlers\n    const currentStepRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(currentStep);\n    const selectedSourceRoadRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(selectedSourceRoad);\n    const selectedDestinationRoadRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(selectedDestinationRoad);\n    const pathConfigRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(pathConfig);\n    const getEntityProperty = (entity, key)=>{\n        if (!entity?.properties) return null;\n        const prop = entity.properties[key];\n        if (prop === undefined || prop === null) return null;\n        return typeof prop.getValue === \"function\" ? prop.getValue() : prop;\n    };\n    const extractRoadConnections = (entity)=>{\n        if (!entity?.properties) return [];\n        const possibleKeys = [\n            \"from_location_name\",\n            \"to_location_name\",\n            \"from_location\",\n            \"to_location\",\n            \"from_intersection\",\n            \"to_intersection\",\n            \"start_location_name\",\n            \"end_location_name\"\n        ];\n        const values = possibleKeys.map((key)=>getEntityProperty(entity, key)).filter((val)=>typeof val === \"string\" && val.trim().length > 0);\n        return Array.from(new Set(values.map((v)=>v.trim())));\n    };\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        currentStepRef.current = currentStep;\n    }, [\n        currentStep\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        selectedSourceRoadRef.current = selectedSourceRoad;\n    }, [\n        selectedSourceRoad\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        selectedDestinationRoadRef.current = selectedDestinationRoad;\n    }, [\n        selectedDestinationRoad\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        pathConfigRef.current = pathConfig;\n    }, [\n        pathConfig\n    ]);\n    const getCurrentStep = ()=>currentStepRef.current;\n    const getSelectedSourceRoad = ()=>selectedSourceRoadRef.current;\n    const getSelectedDestinationRoad = ()=>selectedDestinationRoadRef.current;\n    // Reset selection state (Fixed: Initialized before use)\n    // Reset selection state (use refs so Cesium handlers always see latest selection)\n    const resetSelection = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(()=>{\n        const restoreEntityMaterial = (entity)=>{\n            if (!entity) return;\n            if (entity.polygon) {\n                if (entity._originalMaterial) {\n                    entity.polygon.material = entity._originalMaterial;\n                    delete entity._originalMaterial;\n                }\n            } else if (entity.polyline) {\n                if (entity._originalMaterial) {\n                    entity.polyline.material = entity._originalMaterial;\n                    delete entity._originalMaterial;\n                }\n                if (entity._originalWidth) {\n                    entity.polyline.width = entity._originalWidth;\n                    delete entity._originalWidth;\n                }\n            } else if (entity.corridor) {\n                if (entity._originalMaterial) {\n                    entity.corridor.material = entity._originalMaterial;\n                    delete entity._originalMaterial;\n                }\n            }\n        };\n        const restoreAll = (selection)=>{\n            if (!selection) return;\n            if (Array.isArray(selection.entities)) {\n                selection.entities.forEach(restoreEntityMaterial);\n            } else if (selection.entity) {\n                restoreEntityMaterial(selection.entity);\n            }\n        };\n        // Use refs to ensure we restore whatever is currently selected\n        restoreAll(selectedSourceRoadRef.current);\n        restoreAll(selectedDestinationRoadRef.current);\n        selectedSourceRoadRef.current = null;\n        setSelectedSourceRoad(null);\n        setSelectedDestinationRoad(null);\n        setComputedPath(null);\n        setWarning(null);\n        setCurrentStep(\"profile\");\n    }, []);\n    // Load vehicle profiles on mount\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        fetch(\"/api/vehicle-profiles\").then((res)=>res.json()).then((data)=>{\n            if (data.status === \"ok\") {\n                setVehicleProfiles(data.profiles);\n            }\n        }).catch((err)=>console.error(\"Failed to load vehicle profiles:\", err));\n    }, []);\n    // Handle ESC key globally during turn path workflow\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        const handleKeyDown = (e)=>{\n            if (e.key === \"Escape\") {\n                // If dialog is open, close it\n                if (isDialogOpen) {\n                    closeDialog();\n                } else if (computedPath) {\n                    resetSelection();\n                }\n            }\n        };\n        if (isDialogOpen || computedPath) {\n            window.addEventListener(\"keydown\", handleKeyDown);\n            return ()=>window.removeEventListener(\"keydown\", handleKeyDown);\n        }\n    }, [\n        isDialogOpen,\n        computedPath\n    ]); // resetSelection is closed over, safe because definition is above\n    // Find shared intersection between two roads (using side-center markers)\n    const findSharedIntersection = async (roadId1, roadId2, segId1, segId2)=>{\n        const idsEqual = (a, b)=>String(a) === String(b);\n        const r1 = String(roadId1);\n        const r2 = String(roadId2);\n        // Use intersection_center_points only (map_locations table missing)\n        const tryCenterPoints = async ()=>{\n            const res = await fetch(\"/api/intersection_center_points\");\n            if (!res.ok) return null;\n            const rows = await res.json();\n            const byRoad = rows.reduce((acc, row)=>{\n                const key = String(row.road_id);\n                acc[key] = acc[key] || [];\n                acc[key].push(row);\n                return acc;\n            }, {});\n            const list1 = byRoad[r1] || [];\n            const list2 = byRoad[r2] || [];\n            // Prefer exact shared intersection_id, bias to matching segment_id\n            let best = null;\n            let bestScore = -1;\n            const score = (row, selSeg)=>row.segment_id && selSeg && idsEqual(row.segment_id, selSeg) ? 2 : 1;\n            for (const a of list1){\n                for (const b of list2){\n                    if (a.intersection_id !== b.intersection_id) continue;\n                    const s = score(a, segId1) + score(b, segId2);\n                    if (s > bestScore) {\n                        bestScore = s;\n                        best = {\n                            name: a.intersection_name || `intersection_${a.intersection_id}`,\n                            intersection_id: a.intersection_id\n                        };\n                    }\n                }\n            }\n            if (best) return best;\n            // Fallback: most common intersection from either list\n            const pickFallback = (list)=>{\n                if (!list.length) return null;\n                const counts = list.reduce((acc, row)=>{\n                    acc[row.intersection_id] = (acc[row.intersection_id] || 0) + 1;\n                    return acc;\n                }, {});\n                const topId = Object.keys(counts).sort((a, b)=>counts[b] - counts[a])[0];\n                const row = list.find((r)=>String(r.intersection_id) === String(topId));\n                return row ? {\n                    name: row.intersection_name || `intersection_${row.intersection_id}`,\n                    intersection_id: row.intersection_id\n                } : null;\n            };\n            return pickFallback(list1) || pickFallback(list2) || null;\n        };\n        try {\n            return await tryCenterPoints();\n        } catch (error) {\n            console.error(\"[Turn Path] Error finding intersection:\", error);\n            return null;\n        }\n    };\n    const findSharedEndpointFromSelections = (source, destination)=>{\n        const sourceConnections = source?.connections?.length ? source.connections : extractRoadConnections(source?.entity);\n        const destinationConnections = destination?.connections?.length ? destination.connections : extractRoadConnections(destination?.entity);\n        if (!sourceConnections || !destinationConnections) return null;\n        return sourceConnections.find((conn)=>destinationConnections.includes(conn)) || null;\n    };\n    // Helper: find nearest center point for a given road_id\n    const getNearestCenterPoint = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((roadId)=>{\n        if (!centerPoints || centerPoints.length === 0) return null;\n        if (roadId != null) {\n            const matches = centerPoints.filter((p)=>String(p.road_id) === String(roadId));\n            if (matches.length > 0) return matches[0];\n        }\n        // Fallback: return first available center point to avoid nulls\n        return centerPoints[0];\n    }, [\n        centerPoints\n    ]);\n    // Helper: simple haversine distance in meters\n    const haversineMeters = (lon1, lat1, lon2, lat2)=>{\n        const R = 6371000;\n        const toRad = (d)=>d * Math.PI / 180;\n        const dLat = toRad(lat2 - lat1);\n        const dLon = toRad(lon2 - lon1);\n        const a = Math.sin(dLat / 2) * Math.sin(dLat / 2) + Math.cos(toRad(lat1)) * Math.cos(toRad(lat2)) * Math.sin(dLon / 2) * Math.sin(dLon / 2);\n        const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\n        return R * c;\n    };\n    // Compute turn path via API\n    const computeTurnPath = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(async (source, destination)=>{\n        const config = pathConfigRef.current;\n        if (!config || !source || !destination) {\n            console.error(\"[Turn Path] Missing required data for computation\", {\n                config,\n                source,\n                destination\n            });\n            if (!source) {\n                alert(\"Please select the starting road first.\");\n                setCurrentStep(\"selecting_source\");\n            } else if (!destination) {\n                alert(\"Please select the destination road.\");\n                setCurrentStep(\"selecting_destination\");\n            } else if (!config) {\n                alert(\"Vehicle settings not ready yet. Please wait a moment and try again.\");\n                setCurrentStep(\"profile\");\n                setIsDialogOpen(true);\n            }\n            return;\n        }\n        setCurrentStep(\"computing\");\n        try {\n            // Find shared intersection\n            let intersection = await findSharedIntersection(source.road_id, destination.road_id, source.segment_id, destination.segment_id);\n            if (!intersection) {\n                const sharedEndpoint = findSharedEndpointFromSelections(source, destination);\n                if (sharedEndpoint) {\n                    intersection = {\n                        name: sharedEndpoint\n                    };\n                }\n            }\n            if (!intersection) {\n                console.warn(\"[Turn Path] No shared intersection; proceeding without intersection name\");\n                intersection = {\n                    name: null\n                };\n            }\n            console.log(\"[Turn Path] Computing path:\", {\n                from: source.road_id,\n                to: destination.road_id,\n                intersection: intersection.name\n            });\n            const payload = {\n                from_road_id: source.road_id,\n                to_road_id: destination.road_id,\n                intersection_name: intersection.name || \"unknown_intersection\",\n                ...config\n            };\n            if (intersection.from_marker_oid && intersection.to_marker_oid) {\n                payload.from_marker_oid = intersection.from_marker_oid;\n                payload.to_marker_oid = intersection.to_marker_oid;\n            }\n            const response = await fetch(\"/api/turn-path\", {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                },\n                body: JSON.stringify(payload)\n            });\n            const result = await response.json();\n            if (result.status === \"ok\") {\n                console.log(\"[Turn Path] Path computed successfully:\", result);\n                setComputedPath(result);\n                setWarning(null);\n                const clearanceMsg = result.clearance.vehicle_envelope_ok ? \"✅ Vehicle clearance OK\" : `⚠️ Vehicle extends ${result.clearance.outside_area_sqm.toFixed(1)} m² outside intersection`;\n                console.log(`[Turn Path] length=${result.path.length_m.toFixed(1)}m, type=${result.path.path_type}, ${clearanceMsg}`);\n                setCurrentStep(\"showing_path\");\n                setIsDialogOpen(false);\n            } else if (result.status === \"envelope_outside_intersection\") {\n                console.warn(\"[Turn Path] Envelope leaks outside intersection:\", result.clearance);\n                const leak = result.clearance?.outside_area_sqm;\n                const msg = leak != null ? `No valid turn path can be drawn: vehicle envelope would leave the intersection (outside area ≈ ${leak.toFixed(1)} m²).` : \"No valid turn path can be drawn: vehicle envelope would leave the intersection.\";\n                alert(msg);\n                // HARD FAIL: clear any path and selection so nothing is rendered\n                resetSelection();\n                setIsDialogOpen(false);\n            } else {\n                console.error(\"[Turn Path] Path computation failed:\", result.error);\n                alert(`Failed to compute path: ${result.error || result.status}`);\n                resetSelection();\n                setIsDialogOpen(false);\n            }\n        } catch (error) {\n            console.error(\"[Turn Path] Error computing path:\", error);\n            alert(`Error: ${error.message}`);\n            resetSelection();\n            setIsDialogOpen(false);\n        }\n    }, [\n        resetSelection,\n        centerPoints,\n        getNearestCenterPoint\n    ]);\n    // Handle road click during selection\n    const handleMapClick = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((clickedEntity)=>{\n        const step = currentStepRef.current;\n        console.log(\"[Turn Path] handleMapClick called:\", {\n            currentStep: step,\n            hasEntity: !!clickedEntity,\n            hasViewer: !!cesiumViewerRef.current\n        });\n        if (!cesiumViewerRef.current || !clickedEntity) {\n            console.log(\"[Turn Path] Missing viewer or entity\");\n            return;\n        }\n        // If we already have a source and we're still in selecting_source, block double-click\n        if (step === \"selecting_source\" && selectedSourceRoadRef.current) {\n            console.log(\"[Turn Path] Source already selected, waiting for destination\");\n            setCurrentStep(\"selecting_destination\");\n            return;\n        }\n        const getProp = (key)=>clickedEntity.properties?.[key]?.getValue?.() ?? clickedEntity.properties?.[key];\n        const category = getProp(\"category\");\n        const roadNameRaw = getProp(\"name\") || getProp(\"road_name\") || getProp(\"display_name\") || getProp(\"roadName\");\n        const rawRoadId = getProp(\"road_id\") ?? getProp(\"roadId\") ?? getProp(\"road_oid\") ?? getProp(\"road_oid_int\") ?? getProp(\"roadOid\");\n        const laneId = getProp(\"lane_id\") ?? getProp(\"laneId\");\n        const parentLaneId = getProp(\"parent_lane_id\") ?? getProp(\"parentLaneId\");\n        let derivedRoadId = null;\n        if (!rawRoadId && laneId && typeof laneId === \"string\") {\n            const m = laneId.match(/road[_-]?(\\d+)/i);\n            if (m && m[1]) derivedRoadId = m[1];\n        }\n        const logicalRoadId = rawRoadId ?? parentLaneId ?? laneId ?? derivedRoadId;\n        const segmentId = getProp(\"segment_id\") ?? getProp(\"segmentId\") ?? getProp(\"_oid_\") ?? getProp(\"oid\") ?? getProp(\"id\");\n        console.log(\"[Turn Path] Entity properties:\", {\n            category,\n            roadName: roadNameRaw,\n            rawRoadId,\n            laneId,\n            parentLaneId,\n            logicalRoadId,\n            hasPolygon: !!clickedEntity.polygon,\n            hasPolyline: !!clickedEntity.polyline,\n            hasCorridor: !!clickedEntity.corridor\n        });\n        const categoryLower = category ? category.toString().toLowerCase() : \"\";\n        const isRoadLike = categoryLower.includes(\"road\") || categoryLower.includes(\"dispatch_segment\") || categoryLower.includes(\"segment\");\n        if (!isRoadLike || !logicalRoadId) {\n            console.log(\"[Turn Path] Clicked entity is not a road or missing logicalRoadId, ignoring\");\n            return;\n        }\n        const viewer = cesiumViewerRef.current;\n        const allEntities = viewer?.entities?.values || [];\n        const getEntityGroupId = (ent)=>{\n            const props = ent.properties;\n            if (!props) return null;\n            const getVal = (key)=>{\n                const v = props[key];\n                return v && typeof v.getValue === \"function\" ? v.getValue() : v;\n            };\n            const entRawRoadId = getVal(\"road_id\") ?? getVal(\"roadId\") ?? getVal(\"road_oid\") ?? getVal(\"road_oid_int\") ?? getVal(\"roadOid\") ?? getVal(\"rawRoadId\") ?? getVal(\"rawRoadID\");\n            const entParentLaneId = getVal(\"parent_lane_id\") ?? getVal(\"parentLaneId\");\n            const entLaneId = getVal(\"lane_id\") ?? getVal(\"laneId\");\n            return entRawRoadId ?? entParentLaneId ?? entLaneId ?? null;\n        };\n        const matchingEntities = allEntities.filter((ent)=>{\n            const matchId = getEntityGroupId(ent);\n            return matchId && logicalRoadId && String(matchId) === String(logicalRoadId);\n        });\n        console.log(\"[Turn Path] Matching entities count:\", matchingEntities.length);\n        const highlightEntities = (entities, color)=>{\n            entities.forEach((ent)=>{\n                if (ent.polygon) {\n                    ent._originalMaterial = ent._originalMaterial || ent.polygon.material;\n                    ent.polygon.material = color.withAlpha(0.5);\n                    ent.polygon.outline = true;\n                    ent.polygon.outlineColor = window.Cesium.Color.WHITE.withAlpha(0.8);\n                    ent.polygon.outlineWidth = 1.5;\n                } else if (ent.corridor) {\n                    ent._originalMaterial = ent._originalMaterial || ent.corridor.material;\n                    ent.corridor.material = color.withAlpha(0.5);\n                    ent.corridor.outline = true;\n                    ent.corridor.outlineColor = window.Cesium.Color.WHITE.withAlpha(0.8);\n                    ent.corridor.outlineWidth = 1.5;\n                } else if (ent.polyline) {\n                    ent._originalMaterial = ent._originalMaterial || ent.polyline.material;\n                    ent._originalWidth = ent._originalWidth || ent.polyline.width;\n                    ent.polyline.material = color.withAlpha(0.9);\n                    ent.polyline.width = Math.max(ent.polyline.width || 1, 8);\n                }\n            });\n        };\n        if (step === \"selecting_source\") {\n            console.log(\"[Turn Path] Selected source road:\", roadNameRaw, logicalRoadId);\n            const connections = extractRoadConnections(clickedEntity);\n            const newSource = {\n                name: roadNameRaw || `Road ${logicalRoadId}`,\n                road_id: logicalRoadId,\n                raw_road_id: rawRoadId || null,\n                lane_id: laneId || null,\n                parent_lane_id: parentLaneId || null,\n                segment_id: segmentId,\n                entity: clickedEntity,\n                entities: matchingEntities.length ? matchingEntities : [\n                    clickedEntity\n                ],\n                connections,\n                center_point: getNearestCenterPoint(logicalRoadId)\n            };\n            selectedSourceRoadRef.current = newSource;\n            setSelectedSourceRoad(newSource);\n            highlightEntities(newSource.entities, window.Cesium.Color.GREEN);\n            setCurrentStep(\"selecting_destination\");\n        } else if (step === \"selecting_destination\") {\n            const sourceRoad = selectedSourceRoadRef.current;\n            if (sourceRoad && String(sourceRoad.road_id) === String(logicalRoadId)) {\n                console.log(\"[Turn Path] Cannot select same road as source and destination\");\n                return;\n            }\n            console.log(\"[Turn Path] Selected destination road:\", roadNameRaw, logicalRoadId);\n            const connections = extractRoadConnections(clickedEntity);\n            const newDestination = {\n                name: roadNameRaw || `Road ${logicalRoadId}`,\n                road_id: logicalRoadId,\n                raw_road_id: rawRoadId || null,\n                lane_id: laneId || null,\n                parent_lane_id: parentLaneId || null,\n                segment_id: segmentId,\n                entity: clickedEntity,\n                entities: matchingEntities.length ? matchingEntities : [\n                    clickedEntity\n                ],\n                connections,\n                center_point: getNearestCenterPoint(logicalRoadId)\n            };\n            setSelectedDestinationRoad(newDestination);\n            highlightEntities(newDestination.entities, window.Cesium.Color.RED);\n            computeTurnPath(sourceRoad, newDestination);\n        }\n    }, [\n        cesiumViewerRef,\n        computeTurnPath\n    ]);\n    // Open dialog and start workflow\n    const openDialog = ()=>{\n        setIsDialogOpen(true);\n        setCurrentStep(\"profile\");\n    };\n    // Close dialog and clean up\n    const closeDialog = ()=>{\n        resetSelection();\n        setIsDialogOpen(false);\n        setCurrentStep(\"profile\");\n    };\n    // Start road selection process\n    const startSelection = (config)=>{\n        console.log(\"[Turn Path] startSelection called with config:\", config);\n        pathConfigRef.current = config;\n        setPathConfig(config);\n        console.log(\"[Turn Path] Setting currentStep to: selecting_source\");\n        currentStepRef.current = \"selecting_source\";\n        setCurrentStep(\"selecting_source\");\n        console.log(\"[Turn Path] currentStep should now be: selecting_source\");\n    };\n    const pathEntitiesRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)([]);\n    // ----------- VALIDATION HELPERS -----------\n    const isFiniteNumber = (v)=>{\n        return typeof v === \"number\" && Number.isFinite(v);\n    };\n    const positionsAreFinite = (positions, label)=>{\n        if (!positions || positions.length === 0) {\n            console.warn(`[Turn Path] ${label}: empty positions, skipping.`);\n            return false;\n        }\n        for(let i = 0; i < positions.length; i++){\n            const p = positions[i];\n            if (!p || !isFiniteNumber(p.x) || !isFiniteNumber(p.y) || !isFiniteNumber(p.z)) {\n                console.warn(`[Turn Path] ${label}: invalid position at index ${i}, skipping polygon.`, p);\n                return false;\n            }\n        }\n        return true;\n    };\n    const safeAddPolygon = (viewer, positions, label, style = {})=>{\n        if (!positionsAreFinite(positions, label)) {\n            return null;\n        }\n        try {\n            return viewer.entities.add({\n                polygon: {\n                    hierarchy: new window.Cesium.PolygonHierarchy(positions),\n                    material: window.Cesium.Color.YELLOW.withAlpha(0.3),\n                    outline: true,\n                    outlineColor: window.Cesium.Color.YELLOW,\n                    heightReference: window.Cesium.HeightReference.RELATIVE_TO_GROUND\n                },\n                ...style\n            });\n        } catch (e) {\n            console.error(`[Turn Path] Error adding polygon for ${label}:`, e);\n            return null;\n        }\n    };\n    const safeDegreesArrayToPositions = (degrees, label)=>{\n        if (!Array.isArray(degrees) || degrees.length < 6) {\n            console.warn(`[Turn Path] ${label}: not enough coords for polygon (need at least 3 points).`, degrees);\n            return undefined;\n        }\n        for(let i = 0; i < degrees.length; i++){\n            if (!isFiniteNumber(degrees[i])) {\n                console.warn(`[Turn Path] ${label}: non-finite degree value at index ${i}:`, degrees[i]);\n                return undefined;\n            }\n        }\n        try {\n            const positions = window.Cesium.Cartesian3.fromDegreesArray(degrees);\n            if (!positionsAreFinite(positions, `${label} (after fromDegreesArray)`)) {\n                return undefined;\n            }\n            return positions;\n        } catch (e) {\n            console.warn(`[Turn Path] ${label}: fromDegreesArray failed:`, e);\n            return undefined;\n        }\n    };\n    // Clear existing path entities\n    const clearPathEntities = ()=>{\n        const viewer = cesiumViewerRef.current;\n        if (!viewer) return;\n        console.log(\"[Turn Path] clearPathEntities called - FORCE REMOVING ALL turn path entities\");\n        // 1. Remove entities we tracked\n        if (pathEntitiesRef.current.length > 0) {\n            pathEntitiesRef.current.forEach((entity)=>{\n                try {\n                    viewer.entities.remove(entity);\n                } catch (e) {\n                    console.warn(\"[Turn Path] Error removing entity:\", e);\n                }\n            });\n            pathEntitiesRef.current = [];\n        }\n        // 2. SAFETY NET: Scan ALL entities for our categories and remove them\n        // This handles cases where hot-reload lost the ref but entities remain on map\n        const toRemove = [];\n        const knownCategories = [\n            \"turn_path_swept\",\n            \"turn_path_envelope\",\n            \"turn_path_centreline\",\n            \"swept_path\",\n            \"vehicle_envelope\"\n        ];\n        try {\n            viewer.entities.values.forEach((entity)=>{\n                const cat = entity.properties?.category?.getValue?.() || entity.properties?.category;\n                const layer = entity.properties?.turn_layer?.getValue?.() || entity.properties?.turn_layer;\n                if (knownCategories.includes(cat) || knownCategories.includes(layer)) {\n                    toRemove.push(entity);\n                }\n            });\n            if (toRemove.length > 0) {\n                console.log(`[Turn Path] Found ${toRemove.length} stranded entities to remove.`);\n                toRemove.forEach((e)=>viewer.entities.remove(e));\n            }\n        } catch (e) {\n            console.warn(\"[Turn Path] Error scanning entities for cleanup:\", e);\n        }\n        if (viewer.scene) {\n            viewer.scene.requestRender();\n        }\n    };\n    // Helper to simplify positions to prevent Cesium tessellation issues\n    // (We'll keep this as an extra optimization step before rendering centerlines)\n    const simplifyPositions = (positions, tolerance = 1.0)=>{\n        if (!positions || positions.length < 2) return positions;\n        const simplified = [\n            positions[0]\n        ];\n        for(let i = 1; i < positions.length; i++){\n            const prev = simplified[simplified.length - 1];\n            const curr = positions[i];\n            // Check for strictly identical points (prevent degenerate segments)\n            if (window.Cesium.Cartesian3.equalsEpsilon(prev, curr, window.Cesium.Math.EPSILON7)) {\n                continue;\n            }\n            const dx = curr.x - prev.x;\n            const dy = curr.y - prev.y;\n            const dz = curr.z - prev.z;\n            const dist = Math.sqrt(dx * dx + dy * dy + dz * dz);\n            if (dist > tolerance) {\n                simplified.push(curr);\n            }\n        }\n        if (simplified.length < 2 && positions.length >= 2) {\n            // Fallback: at least return start and end if invalid\n            return [\n                positions[0],\n                positions[positions.length - 1]\n            ];\n        }\n        return simplified;\n    };\n    // Pick the best available centreline WKT\n    const chooseCenterlineWkt = (path)=>{\n        if (!path) return \"\";\n        return path.wkt || path.smooth_wkt || path.raw_wkt || \"\";\n    };\n    // --- small helper: unwrap {geometry_geojson} or raw geometry ---\n    const toPolygonGeom = (wrapper, label)=>{\n        if (!wrapper) return null;\n        // If it's already a geometry (from some other path), just use it\n        if (wrapper.type === \"Polygon\" && Array.isArray(wrapper.coordinates)) {\n            return wrapper;\n        }\n        const geom = wrapper.geometry_geojson || wrapper.geometry || // just in case you change the backend later\n        null;\n        if (!geom || geom.type !== \"Polygon\" || !Array.isArray(geom.coordinates)) {\n            console.warn(`[Turn Path] ${label}: invalid polygon geom`, wrapper);\n            return null;\n        }\n        return geom;\n    };\n    // Helper to get vehicle details for label\n    const getVehicleMetadata = (config)=>{\n        if (!config) return null;\n        if (config.custom_vehicle_profile) {\n            return {\n                width: config.custom_vehicle_profile.vehicle_width_m,\n                buffer: config.custom_vehicle_profile.side_buffer_m,\n                name: config.custom_vehicle_profile.name || \"Custom Vehicle\"\n            };\n        }\n        // For predefined, we might need to look up in vehicleProfiles if we had the ID, \n        // but pathConfig usually has the flattened parameters if it was constructed properly.\n        if (config.vehicle_profile_id && vehicleProfiles[config.vehicle_profile_id]) {\n            const p = vehicleProfiles[config.vehicle_profile_id];\n            return {\n                width: p.vehicle_width_m,\n                buffer: p.side_buffer_m || 0.5,\n                name: p.name\n            };\n        }\n        return {\n            width: \"?\",\n            buffer: \"?\",\n            name: \"Vehicle\"\n        };\n    };\n    // Centerline-only rendering; no backend polygons available, so we derive a corridor locally.\n    const drawVehicleCorridorFromCenterline = (viewer, path, clearance, entities)=>{\n        if (!path) return;\n        const lineWkt = chooseCenterlineWkt(path);\n        if (!lineWkt) return;\n        const match = lineWkt.match(/LINESTRING\\s*\\((.+)\\)/i);\n        if (!match) return;\n        const coordsDeg = [];\n        for (const pair of match[1].split(\",\")){\n            const parts = pair.trim().split(/\\s+/);\n            if (parts.length < 2) continue;\n            const lon = Number(parts[0]);\n            const lat = Number(parts[1]);\n            if (!isFiniteNumber(lon) || !isFiniteNumber(lat)) continue;\n            coordsDeg.push(lon, lat);\n        }\n        if (coordsDeg.length < 4) return; // need at least 2 points\n        // Convert to Cartesian for offsetting\n        const positions = window.Cesium.Cartesian3.fromDegreesArray(coordsDeg);\n        if (!positionsAreFinite(positions, \"corridor_positions\")) return;\n        // Determine half width (vehicle width + buffers) / 2\n        const widthMeters = Math.max(2.0, (clearance?.vehicle_width_with_buffer_m || 8.0) * 0.6); // tighter to keep inside road\n        const half = widthMeters / 2.0;\n        // Build left/right offsets using simple 2D perpendicular in ENU at each vertex\n        const ellipsoid = window.Cesium.Ellipsoid.WGS84;\n        const leftPts = [];\n        const rightPts = [];\n        for(let i = 0; i < positions.length; i++){\n            const p = positions[i];\n            // Determine forward vector\n            const pNext = positions[Math.min(i + 1, positions.length - 1)];\n            const pPrev = positions[Math.max(i - 1, 0)];\n            const dir = new window.Cesium.Cartesian3();\n            window.Cesium.Cartesian3.subtract(pNext, pPrev, dir);\n            if (window.Cesium.Cartesian3.magnitude(dir) < 1e-3) continue;\n            window.Cesium.Cartesian3.normalize(dir, dir);\n            // Up vector at this point\n            const up = ellipsoid.geodeticSurfaceNormal(p, new window.Cesium.Cartesian3());\n            // Left = up x dir\n            const left = new window.Cesium.Cartesian3();\n            window.Cesium.Cartesian3.cross(up, dir, left);\n            window.Cesium.Cartesian3.normalize(left, left);\n            const leftOffset = window.Cesium.Cartesian3.multiplyByScalar(left, half, new window.Cesium.Cartesian3());\n            const rightOffset = window.Cesium.Cartesian3.multiplyByScalar(left, -half, new window.Cesium.Cartesian3());\n            const leftPoint = window.Cesium.Cartesian3.add(p, leftOffset, new window.Cesium.Cartesian3());\n            const rightPoint = window.Cesium.Cartesian3.add(p, rightOffset, new window.Cesium.Cartesian3());\n            leftPts.push(leftPoint);\n            rightPts.push(rightPoint);\n        }\n        if (leftPts.length < 2 || rightPts.length < 2) return;\n        // Build polygon: left side forward, right side backward to close\n        const polygonPositions = [\n            ...leftPts,\n            ...rightPts.reverse()\n        ];\n        if (!positionsAreFinite(polygonPositions, \"corridor_polygon\")) return;\n        try {\n            // Raise slightly above ground and disable depth test so it always draws on top\n            const raisedPositions = polygonPositions.map((p)=>{\n                const carto = window.Cesium.Cartographic.fromCartesian(p);\n                return window.Cesium.Cartesian3.fromRadians(carto.longitude, carto.latitude, (carto.height || 0) + 3.0);\n            });\n            const entity = viewer.entities.add({\n                polygon: {\n                    hierarchy: new window.Cesium.PolygonHierarchy(raisedPositions),\n                    material: window.Cesium.Color.GREEN.withAlpha(0.65),\n                    outline: true,\n                    outlineColor: window.Cesium.Color.WHITE.withAlpha(0.9),\n                    outlineWidth: 2.5,\n                    heightReference: window.Cesium.HeightReference.NONE,\n                    perPositionHeight: true,\n                    classificationType: window.Cesium.ClassificationType.BOTH,\n                    zIndex: 999999,\n                    disableDepthTestDistance: Number.POSITIVE_INFINITY\n                },\n                name: \"Turn Path Envelope (derived polygon)\",\n                properties: {\n                    category: \"turn_path_envelope\",\n                    turn_layer: \"vehicle_envelope\"\n                }\n            });\n            entities.push(entity);\n        } catch (e) {\n            console.warn(\"[Turn Path] Failed to create derived polygon envelope:\", e);\n        }\n    };\n    const drawSafePathPolyline = (viewer, path, entities)=>{\n        if (!path) return;\n        const lineWkt = chooseCenterlineWkt(path);\n        if (!lineWkt || typeof lineWkt !== \"string\") {\n            console.warn(\"[Turn Path] no centreline WKT to draw\", path);\n            return;\n        }\n        const match = lineWkt.match(/LINESTRING\\s*\\((.+)\\)/i);\n        if (!match) {\n            console.warn(\"[Turn Path] centreline WKT is not a LINESTRING:\", lineWkt.slice(0, 120));\n            return;\n        }\n        const coords = [];\n        for (const pair of match[1].split(\",\")){\n            const parts = pair.trim().split(/\\s+/);\n            if (parts.length < 2) continue;\n            const lon = Number(parts[0]);\n            const lat = Number(parts[1]);\n            if (!isFiniteNumber(lon) || !isFiniteNumber(lat)) continue;\n            coords.push(lon, lat);\n        }\n        if (coords.length < 2) {\n            console.warn(\"[Turn Path] centreline coords too short\");\n            return;\n        }\n        const positions = safeDegreesArrayToPositions(coords, \"path_polyline\");\n        if (!positionsAreFinite(positions, \"path_polyline\")) return;\n        const simplified = simplifyPositions(positions, 0.1);\n        if (!simplified || simplified.length < 2) return;\n        try {\n            const entity = viewer.entities.add({\n                polyline: {\n                    positions: simplified,\n                    width: 3,\n                    material: window.Cesium.Color.CYAN.withAlpha(0.9),\n                    clampToGround: true,\n                    zIndex: 400\n                },\n                name: \"Turn Path Centreline\",\n                properties: {\n                    category: \"turn_path_centreline\",\n                    turn_layer: \"path\"\n                }\n            });\n            entities.push(entity);\n        } catch (e) {\n            console.error(\"[Turn Path] Failed to create centreline entity:\", e);\n        }\n    };\n    // Render the computed path\n    const renderPath = (pathData)=>{\n        if (!cesiumViewerRef.current || !pathData) return;\n        // Aggressively clear old entities first\n        clearPathEntities();\n        const viewer = cesiumViewerRef.current;\n        const entities = [];\n        pathEntitiesRef.current = entities;\n        const { status, path, clearance } = pathData;\n        if (status !== \"ok\") return;\n        // Skip centreline; only draw derived envelope polygon\n        drawVehicleCorridorFromCenterline(viewer, path, clearance, entities);\n        if (entities.length > 0) {\n            try {\n                viewer.flyTo(entities, {\n                    duration: 1.5,\n                    offset: new window.Cesium.HeadingPitchRange(window.Cesium.Math.toRadians(0), window.Cesium.Math.toRadians(-90), 0)\n                });\n            } catch (e) {\n                console.warn(\"[Turn Path] Error flying to entities:\", e);\n            }\n        }\n    };\n    // Effect to render computed path\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        if (computedPath) {\n            renderPath(computedPath);\n        } else {\n            clearPathEntities();\n        }\n    }, [\n        computedPath\n    ]);\n    // Cleanup on unmount\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        return ()=>{\n            clearPathEntities();\n        };\n    }, []);\n    return {\n        isDialogOpen,\n        currentStep,\n        getCurrentStep,\n        getSelectedSourceRoad,\n        vehicleProfiles,\n        selectedSourceRoad,\n        selectedDestinationRoad,\n        computedPath,\n        warning,\n        openDialog,\n        closeDialog,\n        startSelection,\n        handleMapClick,\n        resetSelection\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFFO1FBQ25CK0ssZ0JBQWdCL0wsT0FBTyxHQUFHZ0I7UUFFMUIsTUFBTSxFQUFFTyxNQUFNLEVBQUUwRyxJQUFJLEVBQUVKLFNBQVMsRUFBRSxHQUFHdUw7UUFDcEMsSUFBSTdSLFdBQVcsTUFBTTtRQUVyQixzREFBc0Q7UUFDdERxTyxrQ0FBa0M3RixRQUFROUIsTUFBTUosV0FBVzdHO1FBRTNELElBQUlBLFNBQVNyQixNQUFNLEdBQUcsR0FBRztZQUN2QixJQUFJO2dCQUNGb0ssT0FBT3NKLEtBQUssQ0FBQ3JTLFVBQVU7b0JBQ3JCc1MsVUFBVTtvQkFDVkMsUUFBUSxJQUFJdlIsT0FBTytJLE1BQU0sQ0FBQ3lJLGlCQUFpQixDQUN6Q3hSLE9BQU8rSSxNQUFNLENBQUNoRixJQUFJLENBQUMwTixTQUFTLENBQUMsSUFDN0J6UixPQUFPK0ksTUFBTSxDQUFDaEYsSUFBSSxDQUFDME4sU0FBUyxDQUFDLENBQUMsS0FDOUI7Z0JBRUo7WUFDRixFQUFFLE9BQU8zUixHQUFHO2dCQUNWSCxRQUFRa0YsSUFBSSxDQUFDLHlDQUF5Qy9FO1lBQ3hEO1FBQ0Y7SUFDRjtJQUVBLGlDQUFpQztJQUNqQzNFLGdEQUFTQSxDQUFDO1FBQ1IsSUFBSWtCLGNBQWM7WUFDaEI4VSxXQUFXOVU7UUFDYixPQUFPO1lBQ0xrUDtRQUNGO0lBQ0YsR0FBRztRQUFDbFA7S0FBYTtJQUVqQixxQkFBcUI7SUFDckJsQixnREFBU0EsQ0FBQztRQUNSLE9BQU87WUFDTG9RO1FBQ0Y7SUFDRixHQUFHLEVBQUU7SUFFTCxPQUFPO1FBQ0w5UDtRQUNBRTtRQUNBc0M7UUFDQUM7UUFDQXJDO1FBQ0FJO1FBQ0FFO1FBQ0FFO1FBQ0FFO1FBQ0FzTjtRQUNBOUo7UUFDQStKO1FBQ0F2RDtRQUNBbkk7SUFDRjtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY29tYmluZWQtdWkvLi9jb21wb25lbnRzL3VzZVR1cm5QYXRoTWFuYWdlci5qcz8yMDA5Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QsIHVzZUNhbGxiYWNrLCB1c2VSZWYgfSBmcm9tICdyZWFjdCc7XG5cbi8qKlxuICogSG9vayBmb3IgbWFuYWdpbmcgdHVybiBwYXRoIGNvbXB1dGF0aW9uIHdvcmtmbG93XG4gKiBIYW5kbGVzIHN0YXRlLCByb2FkIHNlbGVjdGlvbiwgQVBJIGNhbGxzLCBhbmQgcGF0aCByZW5kZXJpbmdcbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gdXNlVHVyblBhdGhNYW5hZ2VyKGNlc2l1bVZpZXdlclJlZiwgY2VudGVyUG9pbnRzID0gW10pIHtcbiAgY29uc3QgW2lzRGlhbG9nT3Blbiwgc2V0SXNEaWFsb2dPcGVuXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2N1cnJlbnRTdGVwLCBzZXRDdXJyZW50U3RlcF0gPSB1c2VTdGF0ZSgncHJvZmlsZScpOyAvLyBwcm9maWxlLCBzZWxlY3Rpbmdfc291cmNlLCBzZWxlY3RpbmdfZGVzdGluYXRpb24sIGNvbXB1dGluZywgc2hvd2luZ19wYXRoXG4gIGNvbnN0IFt2ZWhpY2xlUHJvZmlsZXMsIHNldFZlaGljbGVQcm9maWxlc10gPSB1c2VTdGF0ZSh7fSk7XG4gIGNvbnN0IFtwYXRoQ29uZmlnLCBzZXRQYXRoQ29uZmlnXSA9IHVzZVN0YXRlKG51bGwpO1xuICBjb25zdCBbc2VsZWN0ZWRTb3VyY2VSb2FkLCBzZXRTZWxlY3RlZFNvdXJjZVJvYWRdID0gdXNlU3RhdGUobnVsbCk7XG4gIGNvbnN0IFtzZWxlY3RlZERlc3RpbmF0aW9uUm9hZCwgc2V0U2VsZWN0ZWREZXN0aW5hdGlvblJvYWRdID0gdXNlU3RhdGUobnVsbCk7XG4gIGNvbnN0IFtjb21wdXRlZFBhdGgsIHNldENvbXB1dGVkUGF0aF0gPSB1c2VTdGF0ZShudWxsKTtcbiAgY29uc3QgW3dhcm5pbmcsIHNldFdhcm5pbmddID0gdXNlU3RhdGUobnVsbCk7XG5cbiAgLy8gUmVmcyB0byBleHBvc2UgbGF0ZXN0IHN0YXRlIHRvIENlc2l1bSBldmVudCBoYW5kbGVyc1xuICBjb25zdCBjdXJyZW50U3RlcFJlZiA9IHVzZVJlZihjdXJyZW50U3RlcCk7XG4gIGNvbnN0IHNlbGVjdGVkU291cmNlUm9hZFJlZiA9IHVzZVJlZihzZWxlY3RlZFNvdXJjZVJvYWQpO1xuICBjb25zdCBzZWxlY3RlZERlc3RpbmF0aW9uUm9hZFJlZiA9IHVzZVJlZihzZWxlY3RlZERlc3RpbmF0aW9uUm9hZCk7XG4gIGNvbnN0IHBhdGhDb25maWdSZWYgPSB1c2VSZWYocGF0aENvbmZpZyk7XG5cbiAgY29uc3QgZ2V0RW50aXR5UHJvcGVydHkgPSAoZW50aXR5LCBrZXkpID0+IHtcbiAgICBpZiAoIWVudGl0eT8ucHJvcGVydGllcykgcmV0dXJuIG51bGw7XG4gICAgY29uc3QgcHJvcCA9IGVudGl0eS5wcm9wZXJ0aWVzW2tleV07XG4gICAgaWYgKHByb3AgPT09IHVuZGVmaW5lZCB8fCBwcm9wID09PSBudWxsKSByZXR1cm4gbnVsbDtcbiAgICByZXR1cm4gdHlwZW9mIHByb3AuZ2V0VmFsdWUgPT09ICdmdW5jdGlvbicgPyBwcm9wLmdldFZhbHVlKCkgOiBwcm9wO1xuICB9O1xuXG4gIGNvbnN0IGV4dHJhY3RSb2FkQ29ubmVjdGlvbnMgPSAoZW50aXR5KSA9PiB7XG4gICAgaWYgKCFlbnRpdHk/LnByb3BlcnRpZXMpIHJldHVybiBbXTtcblxuICAgIGNvbnN0IHBvc3NpYmxlS2V5cyA9IFtcbiAgICAgICdmcm9tX2xvY2F0aW9uX25hbWUnLFxuICAgICAgJ3RvX2xvY2F0aW9uX25hbWUnLFxuICAgICAgJ2Zyb21fbG9jYXRpb24nLFxuICAgICAgJ3RvX2xvY2F0aW9uJyxcbiAgICAgICdmcm9tX2ludGVyc2VjdGlvbicsXG4gICAgICAndG9faW50ZXJzZWN0aW9uJyxcbiAgICAgICdzdGFydF9sb2NhdGlvbl9uYW1lJyxcbiAgICAgICdlbmRfbG9jYXRpb25fbmFtZScsXG4gICAgXTtcblxuICAgIGNvbnN0IHZhbHVlcyA9IHBvc3NpYmxlS2V5c1xuICAgICAgLm1hcCgoa2V5KSA9PiBnZXRFbnRpdHlQcm9wZXJ0eShlbnRpdHksIGtleSkpXG4gICAgICAuZmlsdGVyKCh2YWwpID0+IHR5cGVvZiB2YWwgPT09ICdzdHJpbmcnICYmIHZhbC50cmltKCkubGVuZ3RoID4gMCk7XG5cbiAgICByZXR1cm4gQXJyYXkuZnJvbShuZXcgU2V0KHZhbHVlcy5tYXAoKHYpID0+IHYudHJpbSgpKSkpO1xuICB9O1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY3VycmVudFN0ZXBSZWYuY3VycmVudCA9IGN1cnJlbnRTdGVwO1xuICB9LCBbY3VycmVudFN0ZXBdKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIHNlbGVjdGVkU291cmNlUm9hZFJlZi5jdXJyZW50ID0gc2VsZWN0ZWRTb3VyY2VSb2FkO1xuICB9LCBbc2VsZWN0ZWRTb3VyY2VSb2FkXSk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBzZWxlY3RlZERlc3RpbmF0aW9uUm9hZFJlZi5jdXJyZW50ID0gc2VsZWN0ZWREZXN0aW5hdGlvblJvYWQ7XG4gIH0sIFtzZWxlY3RlZERlc3RpbmF0aW9uUm9hZF0pO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgcGF0aENvbmZpZ1JlZi5jdXJyZW50ID0gcGF0aENvbmZpZztcbiAgfSwgW3BhdGhDb25maWddKTtcblxuICBjb25zdCBnZXRDdXJyZW50U3RlcCA9ICgpID0+IGN1cnJlbnRTdGVwUmVmLmN1cnJlbnQ7XG4gIGNvbnN0IGdldFNlbGVjdGVkU291cmNlUm9hZCA9ICgpID0+IHNlbGVjdGVkU291cmNlUm9hZFJlZi5jdXJyZW50O1xuICBjb25zdCBnZXRTZWxlY3RlZERlc3RpbmF0aW9uUm9hZCA9ICgpID0+IHNlbGVjdGVkRGVzdGluYXRpb25Sb2FkUmVmLmN1cnJlbnQ7XG5cbiAgLy8gUmVzZXQgc2VsZWN0aW9uIHN0YXRlIChGaXhlZDogSW5pdGlhbGl6ZWQgYmVmb3JlIHVzZSlcbiAgLy8gUmVzZXQgc2VsZWN0aW9uIHN0YXRlICh1c2UgcmVmcyBzbyBDZXNpdW0gaGFuZGxlcnMgYWx3YXlzIHNlZSBsYXRlc3Qgc2VsZWN0aW9uKVxuICBjb25zdCByZXNldFNlbGVjdGlvbiA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICBjb25zdCByZXN0b3JlRW50aXR5TWF0ZXJpYWwgPSAoZW50aXR5KSA9PiB7XG4gICAgICBpZiAoIWVudGl0eSkgcmV0dXJuO1xuICAgICAgaWYgKGVudGl0eS5wb2x5Z29uKSB7XG4gICAgICAgIGlmIChlbnRpdHkuX29yaWdpbmFsTWF0ZXJpYWwpIHtcbiAgICAgICAgICBlbnRpdHkucG9seWdvbi5tYXRlcmlhbCA9IGVudGl0eS5fb3JpZ2luYWxNYXRlcmlhbDtcbiAgICAgICAgICBkZWxldGUgZW50aXR5Ll9vcmlnaW5hbE1hdGVyaWFsO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKGVudGl0eS5wb2x5bGluZSkge1xuICAgICAgICBpZiAoZW50aXR5Ll9vcmlnaW5hbE1hdGVyaWFsKSB7XG4gICAgICAgICAgZW50aXR5LnBvbHlsaW5lLm1hdGVyaWFsID0gZW50aXR5Ll9vcmlnaW5hbE1hdGVyaWFsO1xuICAgICAgICAgIGRlbGV0ZSBlbnRpdHkuX29yaWdpbmFsTWF0ZXJpYWw7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGVudGl0eS5fb3JpZ2luYWxXaWR0aCkge1xuICAgICAgICAgIGVudGl0eS5wb2x5bGluZS53aWR0aCA9IGVudGl0eS5fb3JpZ2luYWxXaWR0aDtcbiAgICAgICAgICBkZWxldGUgZW50aXR5Ll9vcmlnaW5hbFdpZHRoO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKGVudGl0eS5jb3JyaWRvcikge1xuICAgICAgICBpZiAoZW50aXR5Ll9vcmlnaW5hbE1hdGVyaWFsKSB7XG4gICAgICAgICAgZW50aXR5LmNvcnJpZG9yLm1hdGVyaWFsID0gZW50aXR5Ll9vcmlnaW5hbE1hdGVyaWFsO1xuICAgICAgICAgIGRlbGV0ZSBlbnRpdHkuX29yaWdpbmFsTWF0ZXJpYWw7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3QgcmVzdG9yZUFsbCA9IChzZWxlY3Rpb24pID0+IHtcbiAgICAgIGlmICghc2VsZWN0aW9uKSByZXR1cm47XG4gICAgICBpZiAoQXJyYXkuaXNBcnJheShzZWxlY3Rpb24uZW50aXRpZXMpKSB7XG4gICAgICAgIHNlbGVjdGlvbi5lbnRpdGllcy5mb3JFYWNoKHJlc3RvcmVFbnRpdHlNYXRlcmlhbCk7XG4gICAgICB9IGVsc2UgaWYgKHNlbGVjdGlvbi5lbnRpdHkpIHtcbiAgICAgICAgcmVzdG9yZUVudGl0eU1hdGVyaWFsKHNlbGVjdGlvbi5lbnRpdHkpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICAvLyBVc2UgcmVmcyB0byBlbnN1cmUgd2UgcmVzdG9yZSB3aGF0ZXZlciBpcyBjdXJyZW50bHkgc2VsZWN0ZWRcbiAgICByZXN0b3JlQWxsKHNlbGVjdGVkU291cmNlUm9hZFJlZi5jdXJyZW50KTtcbiAgICByZXN0b3JlQWxsKHNlbGVjdGVkRGVzdGluYXRpb25Sb2FkUmVmLmN1cnJlbnQpO1xuXG4gICAgc2VsZWN0ZWRTb3VyY2VSb2FkUmVmLmN1cnJlbnQgPSBudWxsO1xuICAgIHNldFNlbGVjdGVkU291cmNlUm9hZChudWxsKTtcbiAgICBzZXRTZWxlY3RlZERlc3RpbmF0aW9uUm9hZChudWxsKTtcbiAgICBzZXRDb21wdXRlZFBhdGgobnVsbCk7XG4gICAgc2V0V2FybmluZyhudWxsKTtcbiAgICBzZXRDdXJyZW50U3RlcCgncHJvZmlsZScpO1xuICB9LCBbXSk7XG5cbiAgLy8gTG9hZCB2ZWhpY2xlIHByb2ZpbGVzIG9uIG1vdW50XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgZmV0Y2goJy9hcGkvdmVoaWNsZS1wcm9maWxlcycpXG4gICAgICAudGhlbigocmVzKSA9PiByZXMuanNvbigpKVxuICAgICAgLnRoZW4oKGRhdGEpID0+IHtcbiAgICAgICAgaWYgKGRhdGEuc3RhdHVzID09PSAnb2snKSB7XG4gICAgICAgICAgc2V0VmVoaWNsZVByb2ZpbGVzKGRhdGEucHJvZmlsZXMpO1xuICAgICAgICB9XG4gICAgICB9KVxuICAgICAgLmNhdGNoKChlcnIpID0+IGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBsb2FkIHZlaGljbGUgcHJvZmlsZXM6JywgZXJyKSk7XG4gIH0sIFtdKTtcblxuICAvLyBIYW5kbGUgRVNDIGtleSBnbG9iYWxseSBkdXJpbmcgdHVybiBwYXRoIHdvcmtmbG93XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgaGFuZGxlS2V5RG93biA9IChlKSA9PiB7XG4gICAgICBpZiAoZS5rZXkgPT09ICdFc2NhcGUnKSB7XG4gICAgICAgIC8vIElmIGRpYWxvZyBpcyBvcGVuLCBjbG9zZSBpdFxuICAgICAgICBpZiAoaXNEaWFsb2dPcGVuKSB7XG4gICAgICAgICAgY2xvc2VEaWFsb2coKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBJZiBhIHBhdGggaXMgY29tcHV0ZWQgKGV2ZW4gYWZ0ZXIgZGlhbG9nIGNsb3NlZCksIGNsZWFyIGl0XG4gICAgICAgIGVsc2UgaWYgKGNvbXB1dGVkUGF0aCkge1xuICAgICAgICAgIHJlc2V0U2VsZWN0aW9uKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuXG4gICAgaWYgKGlzRGlhbG9nT3BlbiB8fCBjb21wdXRlZFBhdGgpIHtcbiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgaGFuZGxlS2V5RG93bik7XG4gICAgICByZXR1cm4gKCkgPT4gd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBoYW5kbGVLZXlEb3duKTtcbiAgICB9XG4gIH0sIFtpc0RpYWxvZ09wZW4sIGNvbXB1dGVkUGF0aF0pOyAvLyByZXNldFNlbGVjdGlvbiBpcyBjbG9zZWQgb3Zlciwgc2FmZSBiZWNhdXNlIGRlZmluaXRpb24gaXMgYWJvdmVcblxuICAvLyBGaW5kIHNoYXJlZCBpbnRlcnNlY3Rpb24gYmV0d2VlbiB0d28gcm9hZHMgKHVzaW5nIHNpZGUtY2VudGVyIG1hcmtlcnMpXG4gIGNvbnN0IGZpbmRTaGFyZWRJbnRlcnNlY3Rpb24gPSBhc3luYyAocm9hZElkMSwgcm9hZElkMiwgc2VnSWQxLCBzZWdJZDIpID0+IHtcbiAgICBjb25zdCBpZHNFcXVhbCA9IChhLCBiKSA9PiBTdHJpbmcoYSkgPT09IFN0cmluZyhiKTtcbiAgICBjb25zdCByMSA9IFN0cmluZyhyb2FkSWQxKTtcbiAgICBjb25zdCByMiA9IFN0cmluZyhyb2FkSWQyKTtcblxuICAgIC8vIFVzZSBpbnRlcnNlY3Rpb25fY2VudGVyX3BvaW50cyBvbmx5IChtYXBfbG9jYXRpb25zIHRhYmxlIG1pc3NpbmcpXG4gICAgY29uc3QgdHJ5Q2VudGVyUG9pbnRzID0gYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgcmVzID0gYXdhaXQgZmV0Y2goJy9hcGkvaW50ZXJzZWN0aW9uX2NlbnRlcl9wb2ludHMnKTtcbiAgICAgIGlmICghcmVzLm9rKSByZXR1cm4gbnVsbDtcbiAgICAgIGNvbnN0IHJvd3MgPSBhd2FpdCByZXMuanNvbigpO1xuICAgICAgY29uc3QgYnlSb2FkID0gcm93cy5yZWR1Y2UoKGFjYywgcm93KSA9PiB7XG4gICAgICAgIGNvbnN0IGtleSA9IFN0cmluZyhyb3cucm9hZF9pZCk7XG4gICAgICAgIGFjY1trZXldID0gYWNjW2tleV0gfHwgW107XG4gICAgICAgIGFjY1trZXldLnB1c2gocm93KTtcbiAgICAgICAgcmV0dXJuIGFjYztcbiAgICAgIH0sIHt9KTtcbiAgICAgIGNvbnN0IGxpc3QxID0gYnlSb2FkW3IxXSB8fCBbXTtcbiAgICAgIGNvbnN0IGxpc3QyID0gYnlSb2FkW3IyXSB8fCBbXTtcblxuICAgICAgLy8gUHJlZmVyIGV4YWN0IHNoYXJlZCBpbnRlcnNlY3Rpb25faWQsIGJpYXMgdG8gbWF0Y2hpbmcgc2VnbWVudF9pZFxuICAgICAgbGV0IGJlc3QgPSBudWxsO1xuICAgICAgbGV0IGJlc3RTY29yZSA9IC0xO1xuICAgICAgY29uc3Qgc2NvcmUgPSAocm93LCBzZWxTZWcpID0+XG4gICAgICAgIHJvdy5zZWdtZW50X2lkICYmIHNlbFNlZyAmJiBpZHNFcXVhbChyb3cuc2VnbWVudF9pZCwgc2VsU2VnKSA/IDIgOiAxO1xuICAgICAgZm9yIChjb25zdCBhIG9mIGxpc3QxKSB7XG4gICAgICAgIGZvciAoY29uc3QgYiBvZiBsaXN0Mikge1xuICAgICAgICAgIGlmIChhLmludGVyc2VjdGlvbl9pZCAhPT0gYi5pbnRlcnNlY3Rpb25faWQpIGNvbnRpbnVlO1xuICAgICAgICAgIGNvbnN0IHMgPSBzY29yZShhLCBzZWdJZDEpICsgc2NvcmUoYiwgc2VnSWQyKTtcbiAgICAgICAgICBpZiAocyA+IGJlc3RTY29yZSkge1xuICAgICAgICAgICAgYmVzdFNjb3JlID0gcztcbiAgICAgICAgICAgIGJlc3QgPSB7XG4gICAgICAgICAgICAgIG5hbWU6IGEuaW50ZXJzZWN0aW9uX25hbWUgfHwgYGludGVyc2VjdGlvbl8ke2EuaW50ZXJzZWN0aW9uX2lkfWAsXG4gICAgICAgICAgICAgIGludGVyc2VjdGlvbl9pZDogYS5pbnRlcnNlY3Rpb25faWQsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKGJlc3QpIHJldHVybiBiZXN0O1xuXG4gICAgICAvLyBGYWxsYmFjazogbW9zdCBjb21tb24gaW50ZXJzZWN0aW9uIGZyb20gZWl0aGVyIGxpc3RcbiAgICAgIGNvbnN0IHBpY2tGYWxsYmFjayA9IChsaXN0KSA9PiB7XG4gICAgICAgIGlmICghbGlzdC5sZW5ndGgpIHJldHVybiBudWxsO1xuICAgICAgICBjb25zdCBjb3VudHMgPSBsaXN0LnJlZHVjZSgoYWNjLCByb3cpID0+IHtcbiAgICAgICAgICBhY2Nbcm93LmludGVyc2VjdGlvbl9pZF0gPSAoYWNjW3Jvdy5pbnRlcnNlY3Rpb25faWRdIHx8IDApICsgMTtcbiAgICAgICAgICByZXR1cm4gYWNjO1xuICAgICAgICB9LCB7fSk7XG4gICAgICAgIGNvbnN0IHRvcElkID0gT2JqZWN0LmtleXMoY291bnRzKS5zb3J0KChhLCBiKSA9PiBjb3VudHNbYl0gLSBjb3VudHNbYV0pWzBdO1xuICAgICAgICBjb25zdCByb3cgPSBsaXN0LmZpbmQoKHIpID0+IFN0cmluZyhyLmludGVyc2VjdGlvbl9pZCkgPT09IFN0cmluZyh0b3BJZCkpO1xuICAgICAgICByZXR1cm4gcm93XG4gICAgICAgICAgPyB7IG5hbWU6IHJvdy5pbnRlcnNlY3Rpb25fbmFtZSB8fCBgaW50ZXJzZWN0aW9uXyR7cm93LmludGVyc2VjdGlvbl9pZH1gLCBpbnRlcnNlY3Rpb25faWQ6IHJvdy5pbnRlcnNlY3Rpb25faWQgfVxuICAgICAgICAgIDogbnVsbDtcbiAgICAgIH07XG4gICAgICByZXR1cm4gcGlja0ZhbGxiYWNrKGxpc3QxKSB8fCBwaWNrRmFsbGJhY2sobGlzdDIpIHx8IG51bGw7XG4gICAgfTtcblxuICAgIHRyeSB7XG4gICAgICByZXR1cm4gYXdhaXQgdHJ5Q2VudGVyUG9pbnRzKCk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1tUdXJuIFBhdGhdIEVycm9yIGZpbmRpbmcgaW50ZXJzZWN0aW9uOicsIGVycm9yKTtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBmaW5kU2hhcmVkRW5kcG9pbnRGcm9tU2VsZWN0aW9ucyA9IChzb3VyY2UsIGRlc3RpbmF0aW9uKSA9PiB7XG4gICAgY29uc3Qgc291cmNlQ29ubmVjdGlvbnMgPSBzb3VyY2U/LmNvbm5lY3Rpb25zPy5sZW5ndGhcbiAgICAgID8gc291cmNlLmNvbm5lY3Rpb25zXG4gICAgICA6IGV4dHJhY3RSb2FkQ29ubmVjdGlvbnMoc291cmNlPy5lbnRpdHkpO1xuXG4gICAgY29uc3QgZGVzdGluYXRpb25Db25uZWN0aW9ucyA9IGRlc3RpbmF0aW9uPy5jb25uZWN0aW9ucz8ubGVuZ3RoXG4gICAgICA/IGRlc3RpbmF0aW9uLmNvbm5lY3Rpb25zXG4gICAgICA6IGV4dHJhY3RSb2FkQ29ubmVjdGlvbnMoZGVzdGluYXRpb24/LmVudGl0eSk7XG5cbiAgICBpZiAoIXNvdXJjZUNvbm5lY3Rpb25zIHx8ICFkZXN0aW5hdGlvbkNvbm5lY3Rpb25zKSByZXR1cm4gbnVsbDtcblxuICAgIHJldHVybiBzb3VyY2VDb25uZWN0aW9ucy5maW5kKChjb25uKSA9PiBkZXN0aW5hdGlvbkNvbm5lY3Rpb25zLmluY2x1ZGVzKGNvbm4pKSB8fCBudWxsO1xuICB9O1xuXG4gIC8vIEhlbHBlcjogZmluZCBuZWFyZXN0IGNlbnRlciBwb2ludCBmb3IgYSBnaXZlbiByb2FkX2lkXG4gIGNvbnN0IGdldE5lYXJlc3RDZW50ZXJQb2ludCA9IHVzZUNhbGxiYWNrKFxuICAgIChyb2FkSWQpID0+IHtcbiAgICAgIGlmICghY2VudGVyUG9pbnRzIHx8IGNlbnRlclBvaW50cy5sZW5ndGggPT09IDApIHJldHVybiBudWxsO1xuICAgICAgaWYgKHJvYWRJZCAhPSBudWxsKSB7XG4gICAgICAgIGNvbnN0IG1hdGNoZXMgPSBjZW50ZXJQb2ludHMuZmlsdGVyKChwKSA9PiBTdHJpbmcocC5yb2FkX2lkKSA9PT0gU3RyaW5nKHJvYWRJZCkpO1xuICAgICAgICBpZiAobWF0Y2hlcy5sZW5ndGggPiAwKSByZXR1cm4gbWF0Y2hlc1swXTtcbiAgICAgIH1cbiAgICAgIC8vIEZhbGxiYWNrOiByZXR1cm4gZmlyc3QgYXZhaWxhYmxlIGNlbnRlciBwb2ludCB0byBhdm9pZCBudWxsc1xuICAgICAgcmV0dXJuIGNlbnRlclBvaW50c1swXTtcbiAgICB9LFxuICAgIFtjZW50ZXJQb2ludHNdXG4gICk7XG5cbiAgLy8gSGVscGVyOiBzaW1wbGUgaGF2ZXJzaW5lIGRpc3RhbmNlIGluIG1ldGVyc1xuICBjb25zdCBoYXZlcnNpbmVNZXRlcnMgPSAobG9uMSwgbGF0MSwgbG9uMiwgbGF0MikgPT4ge1xuICAgIGNvbnN0IFIgPSA2MzcxMDAwO1xuICAgIGNvbnN0IHRvUmFkID0gKGQpID0+IChkICogTWF0aC5QSSkgLyAxODA7XG4gICAgY29uc3QgZExhdCA9IHRvUmFkKGxhdDIgLSBsYXQxKTtcbiAgICBjb25zdCBkTG9uID0gdG9SYWQobG9uMiAtIGxvbjEpO1xuICAgIGNvbnN0IGEgPVxuICAgICAgTWF0aC5zaW4oZExhdCAvIDIpICogTWF0aC5zaW4oZExhdCAvIDIpICtcbiAgICAgIE1hdGguY29zKHRvUmFkKGxhdDEpKSAqIE1hdGguY29zKHRvUmFkKGxhdDIpKSAqIE1hdGguc2luKGRMb24gLyAyKSAqIE1hdGguc2luKGRMb24gLyAyKTtcbiAgICBjb25zdCBjID0gMiAqIE1hdGguYXRhbjIoTWF0aC5zcXJ0KGEpLCBNYXRoLnNxcnQoMSAtIGEpKTtcbiAgICByZXR1cm4gUiAqIGM7XG4gIH07XG5cbiAgLy8gQ29tcHV0ZSB0dXJuIHBhdGggdmlhIEFQSVxuICBjb25zdCBjb21wdXRlVHVyblBhdGggPSB1c2VDYWxsYmFjayhcbiAgICBhc3luYyAoc291cmNlLCBkZXN0aW5hdGlvbikgPT4ge1xuICAgICAgY29uc3QgY29uZmlnID0gcGF0aENvbmZpZ1JlZi5jdXJyZW50O1xuXG4gICAgICBpZiAoIWNvbmZpZyB8fCAhc291cmNlIHx8ICFkZXN0aW5hdGlvbikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbVHVybiBQYXRoXSBNaXNzaW5nIHJlcXVpcmVkIGRhdGEgZm9yIGNvbXB1dGF0aW9uJywge1xuICAgICAgICAgIGNvbmZpZyxcbiAgICAgICAgICBzb3VyY2UsXG4gICAgICAgICAgZGVzdGluYXRpb24sXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmICghc291cmNlKSB7XG4gICAgICAgICAgYWxlcnQoJ1BsZWFzZSBzZWxlY3QgdGhlIHN0YXJ0aW5nIHJvYWQgZmlyc3QuJyk7XG4gICAgICAgICAgc2V0Q3VycmVudFN0ZXAoJ3NlbGVjdGluZ19zb3VyY2UnKTtcbiAgICAgICAgfSBlbHNlIGlmICghZGVzdGluYXRpb24pIHtcbiAgICAgICAgICBhbGVydCgnUGxlYXNlIHNlbGVjdCB0aGUgZGVzdGluYXRpb24gcm9hZC4nKTtcbiAgICAgICAgICBzZXRDdXJyZW50U3RlcCgnc2VsZWN0aW5nX2Rlc3RpbmF0aW9uJyk7XG4gICAgICAgIH0gZWxzZSBpZiAoIWNvbmZpZykge1xuICAgICAgICAgIGFsZXJ0KCdWZWhpY2xlIHNldHRpbmdzIG5vdCByZWFkeSB5ZXQuIFBsZWFzZSB3YWl0IGEgbW9tZW50IGFuZCB0cnkgYWdhaW4uJyk7XG4gICAgICAgICAgc2V0Q3VycmVudFN0ZXAoJ3Byb2ZpbGUnKTtcbiAgICAgICAgICBzZXRJc0RpYWxvZ09wZW4odHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBzZXRDdXJyZW50U3RlcCgnY29tcHV0aW5nJyk7XG5cbiAgICAgIHRyeSB7XG4gICAgICAgIC8vIEZpbmQgc2hhcmVkIGludGVyc2VjdGlvblxuICAgICAgICBsZXQgaW50ZXJzZWN0aW9uID0gYXdhaXQgZmluZFNoYXJlZEludGVyc2VjdGlvbihcbiAgICAgICAgICBzb3VyY2Uucm9hZF9pZCxcbiAgICAgICAgICBkZXN0aW5hdGlvbi5yb2FkX2lkLFxuICAgICAgICAgIHNvdXJjZS5zZWdtZW50X2lkLFxuICAgICAgICAgIGRlc3RpbmF0aW9uLnNlZ21lbnRfaWRcbiAgICAgICAgKTtcblxuICAgICAgICBpZiAoIWludGVyc2VjdGlvbikge1xuICAgICAgICAgIGNvbnN0IHNoYXJlZEVuZHBvaW50ID0gZmluZFNoYXJlZEVuZHBvaW50RnJvbVNlbGVjdGlvbnMoc291cmNlLCBkZXN0aW5hdGlvbik7XG4gICAgICAgICAgaWYgKHNoYXJlZEVuZHBvaW50KSB7XG4gICAgICAgICAgICBpbnRlcnNlY3Rpb24gPSB7IG5hbWU6IHNoYXJlZEVuZHBvaW50IH07XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFpbnRlcnNlY3Rpb24pIHtcbiAgICAgICAgICBjb25zb2xlLndhcm4oJ1tUdXJuIFBhdGhdIE5vIHNoYXJlZCBpbnRlcnNlY3Rpb247IHByb2NlZWRpbmcgd2l0aG91dCBpbnRlcnNlY3Rpb24gbmFtZScpO1xuICAgICAgICAgIGludGVyc2VjdGlvbiA9IHsgbmFtZTogbnVsbCB9O1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc29sZS5sb2coJ1tUdXJuIFBhdGhdIENvbXB1dGluZyBwYXRoOicsIHtcbiAgICAgICAgICBmcm9tOiBzb3VyY2Uucm9hZF9pZCxcbiAgICAgICAgICB0bzogZGVzdGluYXRpb24ucm9hZF9pZCxcbiAgICAgICAgICBpbnRlcnNlY3Rpb246IGludGVyc2VjdGlvbi5uYW1lLFxuICAgICAgICB9KTtcblxuICAgICAgICBjb25zdCBwYXlsb2FkID0ge1xuICAgICAgICAgIGZyb21fcm9hZF9pZDogc291cmNlLnJvYWRfaWQsXG4gICAgICAgICAgdG9fcm9hZF9pZDogZGVzdGluYXRpb24ucm9hZF9pZCxcbiAgICAgICAgICBpbnRlcnNlY3Rpb25fbmFtZTogaW50ZXJzZWN0aW9uLm5hbWUgfHwgJ3Vua25vd25faW50ZXJzZWN0aW9uJyxcbiAgICAgICAgICAuLi5jb25maWcsXG4gICAgICAgIH07XG5cbiAgICAgICAgaWYgKGludGVyc2VjdGlvbi5mcm9tX21hcmtlcl9vaWQgJiYgaW50ZXJzZWN0aW9uLnRvX21hcmtlcl9vaWQpIHtcbiAgICAgICAgICBwYXlsb2FkLmZyb21fbWFya2VyX29pZCA9IGludGVyc2VjdGlvbi5mcm9tX21hcmtlcl9vaWQ7XG4gICAgICAgICAgcGF5bG9hZC50b19tYXJrZXJfb2lkID0gaW50ZXJzZWN0aW9uLnRvX21hcmtlcl9vaWQ7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKCcvYXBpL3R1cm4tcGF0aCcsIHtcbiAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShwYXlsb2FkKSxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuXG4gICAgICAgIGlmIChyZXN1bHQuc3RhdHVzID09PSAnb2snKSB7XG4gICAgICAgICAgY29uc29sZS5sb2coJ1tUdXJuIFBhdGhdIFBhdGggY29tcHV0ZWQgc3VjY2Vzc2Z1bGx5OicsIHJlc3VsdCk7XG5cbiAgICAgICAgICBzZXRDb21wdXRlZFBhdGgocmVzdWx0KTtcbiAgICAgICAgICBzZXRXYXJuaW5nKG51bGwpO1xuXG4gICAgICAgICAgY29uc3QgY2xlYXJhbmNlTXNnID0gcmVzdWx0LmNsZWFyYW5jZS52ZWhpY2xlX2VudmVsb3BlX29rXG4gICAgICAgICAgICA/ICfinIUgVmVoaWNsZSBjbGVhcmFuY2UgT0snXG4gICAgICAgICAgICA6IGDimqDvuI8gVmVoaWNsZSBleHRlbmRzICR7cmVzdWx0LmNsZWFyYW5jZS5vdXRzaWRlX2FyZWFfc3FtLnRvRml4ZWQoXG4gICAgICAgICAgICAgIDFcbiAgICAgICAgICAgICl9IG3CsiBvdXRzaWRlIGludGVyc2VjdGlvbmA7XG5cbiAgICAgICAgICBjb25zb2xlLmxvZyhcbiAgICAgICAgICAgIGBbVHVybiBQYXRoXSBsZW5ndGg9JHtyZXN1bHQucGF0aC5sZW5ndGhfbS50b0ZpeGVkKFxuICAgICAgICAgICAgICAxXG4gICAgICAgICAgICApfW0sIHR5cGU9JHtyZXN1bHQucGF0aC5wYXRoX3R5cGV9LCAke2NsZWFyYW5jZU1zZ31gXG4gICAgICAgICAgKTtcblxuICAgICAgICAgIHNldEN1cnJlbnRTdGVwKCdzaG93aW5nX3BhdGgnKTtcbiAgICAgICAgICBzZXRJc0RpYWxvZ09wZW4oZmFsc2UpO1xuICAgICAgICB9IGVsc2UgaWYgKHJlc3VsdC5zdGF0dXMgPT09ICdlbnZlbG9wZV9vdXRzaWRlX2ludGVyc2VjdGlvbicpIHtcbiAgICAgICAgICBjb25zb2xlLndhcm4oJ1tUdXJuIFBhdGhdIEVudmVsb3BlIGxlYWtzIG91dHNpZGUgaW50ZXJzZWN0aW9uOicsIHJlc3VsdC5jbGVhcmFuY2UpO1xuICAgICAgICAgIGNvbnN0IGxlYWsgPSByZXN1bHQuY2xlYXJhbmNlPy5vdXRzaWRlX2FyZWFfc3FtO1xuXG4gICAgICAgICAgY29uc3QgbXNnID1cbiAgICAgICAgICAgIGxlYWsgIT0gbnVsbFxuICAgICAgICAgICAgICA/IGBObyB2YWxpZCB0dXJuIHBhdGggY2FuIGJlIGRyYXduOiB2ZWhpY2xlIGVudmVsb3BlIHdvdWxkIGxlYXZlIHRoZSBpbnRlcnNlY3Rpb24gKG91dHNpZGUgYXJlYSDiiYggJHtsZWFrLnRvRml4ZWQoXG4gICAgICAgICAgICAgICAgMVxuICAgICAgICAgICAgICApfSBtwrIpLmBcbiAgICAgICAgICAgICAgOiAnTm8gdmFsaWQgdHVybiBwYXRoIGNhbiBiZSBkcmF3bjogdmVoaWNsZSBlbnZlbG9wZSB3b3VsZCBsZWF2ZSB0aGUgaW50ZXJzZWN0aW9uLic7XG5cbiAgICAgICAgICBhbGVydChtc2cpO1xuXG4gICAgICAgICAgLy8gSEFSRCBGQUlMOiBjbGVhciBhbnkgcGF0aCBhbmQgc2VsZWN0aW9uIHNvIG5vdGhpbmcgaXMgcmVuZGVyZWRcbiAgICAgICAgICByZXNldFNlbGVjdGlvbigpO1xuICAgICAgICAgIHNldElzRGlhbG9nT3BlbihmYWxzZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcignW1R1cm4gUGF0aF0gUGF0aCBjb21wdXRhdGlvbiBmYWlsZWQ6JywgcmVzdWx0LmVycm9yKTtcbiAgICAgICAgICBhbGVydChgRmFpbGVkIHRvIGNvbXB1dGUgcGF0aDogJHtyZXN1bHQuZXJyb3IgfHwgcmVzdWx0LnN0YXR1c31gKTtcbiAgICAgICAgICByZXNldFNlbGVjdGlvbigpO1xuICAgICAgICAgIHNldElzRGlhbG9nT3BlbihmYWxzZSk7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tUdXJuIFBhdGhdIEVycm9yIGNvbXB1dGluZyBwYXRoOicsIGVycm9yKTtcbiAgICAgICAgYWxlcnQoYEVycm9yOiAke2Vycm9yLm1lc3NhZ2V9YCk7XG4gICAgICAgIHJlc2V0U2VsZWN0aW9uKCk7XG4gICAgICAgIHNldElzRGlhbG9nT3BlbihmYWxzZSk7XG4gICAgICB9XG4gICAgfSxcbiAgICBbcmVzZXRTZWxlY3Rpb24sIGNlbnRlclBvaW50cywgZ2V0TmVhcmVzdENlbnRlclBvaW50XVxuICApO1xuXG4gIC8vIEhhbmRsZSByb2FkIGNsaWNrIGR1cmluZyBzZWxlY3Rpb25cbiAgY29uc3QgaGFuZGxlTWFwQ2xpY2sgPSB1c2VDYWxsYmFjayhcbiAgICAoY2xpY2tlZEVudGl0eSkgPT4ge1xuICAgICAgY29uc3Qgc3RlcCA9IGN1cnJlbnRTdGVwUmVmLmN1cnJlbnQ7XG4gICAgICBjb25zb2xlLmxvZygnW1R1cm4gUGF0aF0gaGFuZGxlTWFwQ2xpY2sgY2FsbGVkOicsIHtcbiAgICAgICAgY3VycmVudFN0ZXA6IHN0ZXAsXG4gICAgICAgIGhhc0VudGl0eTogISFjbGlja2VkRW50aXR5LFxuICAgICAgICBoYXNWaWV3ZXI6ICEhY2VzaXVtVmlld2VyUmVmLmN1cnJlbnQsXG4gICAgICB9KTtcblxuICAgICAgaWYgKCFjZXNpdW1WaWV3ZXJSZWYuY3VycmVudCB8fCAhY2xpY2tlZEVudGl0eSkge1xuICAgICAgICBjb25zb2xlLmxvZygnW1R1cm4gUGF0aF0gTWlzc2luZyB2aWV3ZXIgb3IgZW50aXR5Jyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgLy8gSWYgd2UgYWxyZWFkeSBoYXZlIGEgc291cmNlIGFuZCB3ZSdyZSBzdGlsbCBpbiBzZWxlY3Rpbmdfc291cmNlLCBibG9jayBkb3VibGUtY2xpY2tcbiAgICAgIGlmIChzdGVwID09PSAnc2VsZWN0aW5nX3NvdXJjZScgJiYgc2VsZWN0ZWRTb3VyY2VSb2FkUmVmLmN1cnJlbnQpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ1tUdXJuIFBhdGhdIFNvdXJjZSBhbHJlYWR5IHNlbGVjdGVkLCB3YWl0aW5nIGZvciBkZXN0aW5hdGlvbicpO1xuICAgICAgICBzZXRDdXJyZW50U3RlcCgnc2VsZWN0aW5nX2Rlc3RpbmF0aW9uJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgY29uc3QgZ2V0UHJvcCA9IChrZXkpID0+XG4gICAgICAgIGNsaWNrZWRFbnRpdHkucHJvcGVydGllcz8uW2tleV0/LmdldFZhbHVlPy4oKSA/PyBjbGlja2VkRW50aXR5LnByb3BlcnRpZXM/LltrZXldO1xuXG4gICAgICBjb25zdCBjYXRlZ29yeSA9IGdldFByb3AoJ2NhdGVnb3J5Jyk7XG4gICAgICBjb25zdCByb2FkTmFtZVJhdyA9XG4gICAgICAgIGdldFByb3AoJ25hbWUnKSB8fFxuICAgICAgICBnZXRQcm9wKCdyb2FkX25hbWUnKSB8fFxuICAgICAgICBnZXRQcm9wKCdkaXNwbGF5X25hbWUnKSB8fFxuICAgICAgICBnZXRQcm9wKCdyb2FkTmFtZScpO1xuICAgICAgY29uc3QgcmF3Um9hZElkID1cbiAgICAgICAgZ2V0UHJvcCgncm9hZF9pZCcpID8/XG4gICAgICAgIGdldFByb3AoJ3JvYWRJZCcpID8/XG4gICAgICAgIGdldFByb3AoJ3JvYWRfb2lkJykgPz9cbiAgICAgICAgZ2V0UHJvcCgncm9hZF9vaWRfaW50JykgPz9cbiAgICAgICAgZ2V0UHJvcCgncm9hZE9pZCcpO1xuICAgICAgY29uc3QgbGFuZUlkID1cbiAgICAgICAgZ2V0UHJvcCgnbGFuZV9pZCcpID8/XG4gICAgICAgIGdldFByb3AoJ2xhbmVJZCcpO1xuICAgICAgY29uc3QgcGFyZW50TGFuZUlkID1cbiAgICAgICAgZ2V0UHJvcCgncGFyZW50X2xhbmVfaWQnKSA/P1xuICAgICAgICBnZXRQcm9wKCdwYXJlbnRMYW5lSWQnKTtcbiAgICAgIGxldCBkZXJpdmVkUm9hZElkID0gbnVsbDtcbiAgICAgIGlmICghcmF3Um9hZElkICYmIGxhbmVJZCAmJiB0eXBlb2YgbGFuZUlkID09PSAnc3RyaW5nJykge1xuICAgICAgICBjb25zdCBtID0gbGFuZUlkLm1hdGNoKC9yb2FkW18tXT8oXFxkKykvaSk7XG4gICAgICAgIGlmIChtICYmIG1bMV0pIGRlcml2ZWRSb2FkSWQgPSBtWzFdO1xuICAgICAgfVxuICAgICAgY29uc3QgbG9naWNhbFJvYWRJZCA9IHJhd1JvYWRJZCA/PyBwYXJlbnRMYW5lSWQgPz8gbGFuZUlkID8/IGRlcml2ZWRSb2FkSWQ7XG4gICAgICBjb25zdCBzZWdtZW50SWQgPVxuICAgICAgICBnZXRQcm9wKCdzZWdtZW50X2lkJykgPz9cbiAgICAgICAgZ2V0UHJvcCgnc2VnbWVudElkJykgPz9cbiAgICAgICAgZ2V0UHJvcCgnX29pZF8nKSA/P1xuICAgICAgICBnZXRQcm9wKCdvaWQnKSA/P1xuICAgICAgICBnZXRQcm9wKCdpZCcpO1xuXG4gICAgICBjb25zb2xlLmxvZygnW1R1cm4gUGF0aF0gRW50aXR5IHByb3BlcnRpZXM6Jywge1xuICAgICAgICBjYXRlZ29yeSxcbiAgICAgICAgcm9hZE5hbWU6IHJvYWROYW1lUmF3LFxuICAgICAgICByYXdSb2FkSWQsXG4gICAgICAgIGxhbmVJZCxcbiAgICAgICAgcGFyZW50TGFuZUlkLFxuICAgICAgICBsb2dpY2FsUm9hZElkLFxuICAgICAgICBoYXNQb2x5Z29uOiAhIWNsaWNrZWRFbnRpdHkucG9seWdvbixcbiAgICAgICAgaGFzUG9seWxpbmU6ICEhY2xpY2tlZEVudGl0eS5wb2x5bGluZSxcbiAgICAgICAgaGFzQ29ycmlkb3I6ICEhY2xpY2tlZEVudGl0eS5jb3JyaWRvcixcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCBjYXRlZ29yeUxvd2VyID0gY2F0ZWdvcnkgPyBjYXRlZ29yeS50b1N0cmluZygpLnRvTG93ZXJDYXNlKCkgOiAnJztcbiAgICAgIGNvbnN0IGlzUm9hZExpa2UgPVxuICAgICAgICBjYXRlZ29yeUxvd2VyLmluY2x1ZGVzKCdyb2FkJykgfHwgY2F0ZWdvcnlMb3dlci5pbmNsdWRlcygnZGlzcGF0Y2hfc2VnbWVudCcpIHx8IGNhdGVnb3J5TG93ZXIuaW5jbHVkZXMoJ3NlZ21lbnQnKTtcblxuICAgICAgaWYgKCFpc1JvYWRMaWtlIHx8ICFsb2dpY2FsUm9hZElkKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdbVHVybiBQYXRoXSBDbGlja2VkIGVudGl0eSBpcyBub3QgYSByb2FkIG9yIG1pc3NpbmcgbG9naWNhbFJvYWRJZCwgaWdub3JpbmcnKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBjb25zdCB2aWV3ZXIgPSBjZXNpdW1WaWV3ZXJSZWYuY3VycmVudDtcbiAgICAgIGNvbnN0IGFsbEVudGl0aWVzID0gdmlld2VyPy5lbnRpdGllcz8udmFsdWVzIHx8IFtdO1xuICAgICAgY29uc3QgZ2V0RW50aXR5R3JvdXBJZCA9IChlbnQpID0+IHtcbiAgICAgICAgY29uc3QgcHJvcHMgPSBlbnQucHJvcGVydGllcztcbiAgICAgICAgaWYgKCFwcm9wcykgcmV0dXJuIG51bGw7XG4gICAgICAgIGNvbnN0IGdldFZhbCA9IChrZXkpID0+IHtcbiAgICAgICAgICBjb25zdCB2ID0gcHJvcHNba2V5XTtcbiAgICAgICAgICByZXR1cm4gdiAmJiB0eXBlb2Ygdi5nZXRWYWx1ZSA9PT0gJ2Z1bmN0aW9uJyA/IHYuZ2V0VmFsdWUoKSA6IHY7XG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IGVudFJhd1JvYWRJZCA9XG4gICAgICAgICAgZ2V0VmFsKCdyb2FkX2lkJykgPz9cbiAgICAgICAgICBnZXRWYWwoJ3JvYWRJZCcpID8/XG4gICAgICAgICAgZ2V0VmFsKCdyb2FkX29pZCcpID8/XG4gICAgICAgICAgZ2V0VmFsKCdyb2FkX29pZF9pbnQnKSA/P1xuICAgICAgICAgIGdldFZhbCgncm9hZE9pZCcpID8/XG4gICAgICAgICAgZ2V0VmFsKCdyYXdSb2FkSWQnKSA/P1xuICAgICAgICAgIGdldFZhbCgncmF3Um9hZElEJyk7XG4gICAgICAgIGNvbnN0IGVudFBhcmVudExhbmVJZCA9XG4gICAgICAgICAgZ2V0VmFsKCdwYXJlbnRfbGFuZV9pZCcpID8/XG4gICAgICAgICAgZ2V0VmFsKCdwYXJlbnRMYW5lSWQnKTtcbiAgICAgICAgY29uc3QgZW50TGFuZUlkID1cbiAgICAgICAgICBnZXRWYWwoJ2xhbmVfaWQnKSA/P1xuICAgICAgICAgIGdldFZhbCgnbGFuZUlkJyk7XG4gICAgICAgIHJldHVybiBlbnRSYXdSb2FkSWQgPz8gZW50UGFyZW50TGFuZUlkID8/IGVudExhbmVJZCA/PyBudWxsO1xuICAgICAgfTtcblxuICAgICAgY29uc3QgbWF0Y2hpbmdFbnRpdGllcyA9IGFsbEVudGl0aWVzLmZpbHRlcigoZW50KSA9PiB7XG4gICAgICAgIGNvbnN0IG1hdGNoSWQgPSBnZXRFbnRpdHlHcm91cElkKGVudCk7XG4gICAgICAgIHJldHVybiBtYXRjaElkICYmIGxvZ2ljYWxSb2FkSWQgJiYgU3RyaW5nKG1hdGNoSWQpID09PSBTdHJpbmcobG9naWNhbFJvYWRJZCk7XG4gICAgICB9KTtcbiAgICAgIGNvbnNvbGUubG9nKCdbVHVybiBQYXRoXSBNYXRjaGluZyBlbnRpdGllcyBjb3VudDonLCBtYXRjaGluZ0VudGl0aWVzLmxlbmd0aCk7XG5cbiAgICAgIGNvbnN0IGhpZ2hsaWdodEVudGl0aWVzID0gKGVudGl0aWVzLCBjb2xvcikgPT4ge1xuICAgICAgICBlbnRpdGllcy5mb3JFYWNoKChlbnQpID0+IHtcbiAgICAgICAgICBpZiAoZW50LnBvbHlnb24pIHtcbiAgICAgICAgICAgIGVudC5fb3JpZ2luYWxNYXRlcmlhbCA9IGVudC5fb3JpZ2luYWxNYXRlcmlhbCB8fCBlbnQucG9seWdvbi5tYXRlcmlhbDtcbiAgICAgICAgICAgIGVudC5wb2x5Z29uLm1hdGVyaWFsID0gY29sb3Iud2l0aEFscGhhKDAuNSk7XG4gICAgICAgICAgICBlbnQucG9seWdvbi5vdXRsaW5lID0gdHJ1ZTtcbiAgICAgICAgICAgIGVudC5wb2x5Z29uLm91dGxpbmVDb2xvciA9IHdpbmRvdy5DZXNpdW0uQ29sb3IuV0hJVEUud2l0aEFscGhhKDAuOCk7XG4gICAgICAgICAgICBlbnQucG9seWdvbi5vdXRsaW5lV2lkdGggPSAxLjU7XG4gICAgICAgICAgfSBlbHNlIGlmIChlbnQuY29ycmlkb3IpIHtcbiAgICAgICAgICAgIGVudC5fb3JpZ2luYWxNYXRlcmlhbCA9IGVudC5fb3JpZ2luYWxNYXRlcmlhbCB8fCBlbnQuY29ycmlkb3IubWF0ZXJpYWw7XG4gICAgICAgICAgICBlbnQuY29ycmlkb3IubWF0ZXJpYWwgPSBjb2xvci53aXRoQWxwaGEoMC41KTtcbiAgICAgICAgICAgIGVudC5jb3JyaWRvci5vdXRsaW5lID0gdHJ1ZTtcbiAgICAgICAgICAgIGVudC5jb3JyaWRvci5vdXRsaW5lQ29sb3IgPSB3aW5kb3cuQ2VzaXVtLkNvbG9yLldISVRFLndpdGhBbHBoYSgwLjgpO1xuICAgICAgICAgICAgZW50LmNvcnJpZG9yLm91dGxpbmVXaWR0aCA9IDEuNTtcbiAgICAgICAgICB9IGVsc2UgaWYgKGVudC5wb2x5bGluZSkge1xuICAgICAgICAgICAgZW50Ll9vcmlnaW5hbE1hdGVyaWFsID0gZW50Ll9vcmlnaW5hbE1hdGVyaWFsIHx8IGVudC5wb2x5bGluZS5tYXRlcmlhbDtcbiAgICAgICAgICAgIGVudC5fb3JpZ2luYWxXaWR0aCA9IGVudC5fb3JpZ2luYWxXaWR0aCB8fCBlbnQucG9seWxpbmUud2lkdGg7XG4gICAgICAgICAgICBlbnQucG9seWxpbmUubWF0ZXJpYWwgPSBjb2xvci53aXRoQWxwaGEoMC45KTtcbiAgICAgICAgICAgIGVudC5wb2x5bGluZS53aWR0aCA9IE1hdGgubWF4KGVudC5wb2x5bGluZS53aWR0aCB8fCAxLCA4KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfTtcblxuICAgICAgaWYgKHN0ZXAgPT09ICdzZWxlY3Rpbmdfc291cmNlJykge1xuICAgICAgICBjb25zb2xlLmxvZygnW1R1cm4gUGF0aF0gU2VsZWN0ZWQgc291cmNlIHJvYWQ6Jywgcm9hZE5hbWVSYXcsIGxvZ2ljYWxSb2FkSWQpO1xuXG4gICAgICAgIGNvbnN0IGNvbm5lY3Rpb25zID0gZXh0cmFjdFJvYWRDb25uZWN0aW9ucyhjbGlja2VkRW50aXR5KTtcbiAgICAgICAgY29uc3QgbmV3U291cmNlID0ge1xuICAgICAgICAgIG5hbWU6IHJvYWROYW1lUmF3IHx8IGBSb2FkICR7bG9naWNhbFJvYWRJZH1gLFxuICAgICAgICAgIHJvYWRfaWQ6IGxvZ2ljYWxSb2FkSWQsXG4gICAgICAgICAgcmF3X3JvYWRfaWQ6IHJhd1JvYWRJZCB8fCBudWxsLFxuICAgICAgICAgIGxhbmVfaWQ6IGxhbmVJZCB8fCBudWxsLFxuICAgICAgICAgIHBhcmVudF9sYW5lX2lkOiBwYXJlbnRMYW5lSWQgfHwgbnVsbCxcbiAgICAgICAgICBzZWdtZW50X2lkOiBzZWdtZW50SWQsXG4gICAgICAgICAgZW50aXR5OiBjbGlja2VkRW50aXR5LFxuICAgICAgICAgIGVudGl0aWVzOiBtYXRjaGluZ0VudGl0aWVzLmxlbmd0aCA/IG1hdGNoaW5nRW50aXRpZXMgOiBbY2xpY2tlZEVudGl0eV0sXG4gICAgICAgICAgY29ubmVjdGlvbnMsXG4gICAgICAgICAgY2VudGVyX3BvaW50OiBnZXROZWFyZXN0Q2VudGVyUG9pbnQobG9naWNhbFJvYWRJZCksXG4gICAgICAgIH07XG5cbiAgICAgICAgc2VsZWN0ZWRTb3VyY2VSb2FkUmVmLmN1cnJlbnQgPSBuZXdTb3VyY2U7XG4gICAgICAgIHNldFNlbGVjdGVkU291cmNlUm9hZChuZXdTb3VyY2UpO1xuXG4gICAgICAgIGhpZ2hsaWdodEVudGl0aWVzKG5ld1NvdXJjZS5lbnRpdGllcywgd2luZG93LkNlc2l1bS5Db2xvci5HUkVFTik7XG5cbiAgICAgICAgc2V0Q3VycmVudFN0ZXAoJ3NlbGVjdGluZ19kZXN0aW5hdGlvbicpO1xuICAgICAgfSBlbHNlIGlmIChzdGVwID09PSAnc2VsZWN0aW5nX2Rlc3RpbmF0aW9uJykge1xuICAgICAgICBjb25zdCBzb3VyY2VSb2FkID0gc2VsZWN0ZWRTb3VyY2VSb2FkUmVmLmN1cnJlbnQ7XG4gICAgICAgIGlmIChzb3VyY2VSb2FkICYmIFN0cmluZyhzb3VyY2VSb2FkLnJvYWRfaWQpID09PSBTdHJpbmcobG9naWNhbFJvYWRJZCkpIHtcbiAgICAgICAgICBjb25zb2xlLmxvZygnW1R1cm4gUGF0aF0gQ2Fubm90IHNlbGVjdCBzYW1lIHJvYWQgYXMgc291cmNlIGFuZCBkZXN0aW5hdGlvbicpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnNvbGUubG9nKCdbVHVybiBQYXRoXSBTZWxlY3RlZCBkZXN0aW5hdGlvbiByb2FkOicsIHJvYWROYW1lUmF3LCBsb2dpY2FsUm9hZElkKTtcblxuICAgICAgICBjb25zdCBjb25uZWN0aW9ucyA9IGV4dHJhY3RSb2FkQ29ubmVjdGlvbnMoY2xpY2tlZEVudGl0eSk7XG4gICAgICAgIGNvbnN0IG5ld0Rlc3RpbmF0aW9uID0ge1xuICAgICAgICAgIG5hbWU6IHJvYWROYW1lUmF3IHx8IGBSb2FkICR7bG9naWNhbFJvYWRJZH1gLFxuICAgICAgICAgIHJvYWRfaWQ6IGxvZ2ljYWxSb2FkSWQsXG4gICAgICAgICAgcmF3X3JvYWRfaWQ6IHJhd1JvYWRJZCB8fCBudWxsLFxuICAgICAgICAgIGxhbmVfaWQ6IGxhbmVJZCB8fCBudWxsLFxuICAgICAgICAgIHBhcmVudF9sYW5lX2lkOiBwYXJlbnRMYW5lSWQgfHwgbnVsbCxcbiAgICAgICAgICBzZWdtZW50X2lkOiBzZWdtZW50SWQsXG4gICAgICAgICAgZW50aXR5OiBjbGlja2VkRW50aXR5LFxuICAgICAgICAgIGVudGl0aWVzOiBtYXRjaGluZ0VudGl0aWVzLmxlbmd0aCA/IG1hdGNoaW5nRW50aXRpZXMgOiBbY2xpY2tlZEVudGl0eV0sXG4gICAgICAgICAgY29ubmVjdGlvbnMsXG4gICAgICAgICAgY2VudGVyX3BvaW50OiBnZXROZWFyZXN0Q2VudGVyUG9pbnQobG9naWNhbFJvYWRJZCksXG4gICAgICAgIH07XG5cbiAgICAgICAgc2V0U2VsZWN0ZWREZXN0aW5hdGlvblJvYWQobmV3RGVzdGluYXRpb24pO1xuXG4gICAgICAgIGhpZ2hsaWdodEVudGl0aWVzKG5ld0Rlc3RpbmF0aW9uLmVudGl0aWVzLCB3aW5kb3cuQ2VzaXVtLkNvbG9yLlJFRCk7XG5cbiAgICAgICAgY29tcHV0ZVR1cm5QYXRoKHNvdXJjZVJvYWQsIG5ld0Rlc3RpbmF0aW9uKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIFtjZXNpdW1WaWV3ZXJSZWYsIGNvbXB1dGVUdXJuUGF0aF1cbiAgKTtcblxuICAvLyBPcGVuIGRpYWxvZyBhbmQgc3RhcnQgd29ya2Zsb3dcbiAgY29uc3Qgb3BlbkRpYWxvZyA9ICgpID0+IHtcbiAgICBzZXRJc0RpYWxvZ09wZW4odHJ1ZSk7XG4gICAgc2V0Q3VycmVudFN0ZXAoJ3Byb2ZpbGUnKTtcbiAgfTtcblxuICAvLyBDbG9zZSBkaWFsb2cgYW5kIGNsZWFuIHVwXG4gIGNvbnN0IGNsb3NlRGlhbG9nID0gKCkgPT4ge1xuICAgIHJlc2V0U2VsZWN0aW9uKCk7XG4gICAgc2V0SXNEaWFsb2dPcGVuKGZhbHNlKTtcbiAgICBzZXRDdXJyZW50U3RlcCgncHJvZmlsZScpO1xuICB9O1xuXG4gIC8vIFN0YXJ0IHJvYWQgc2VsZWN0aW9uIHByb2Nlc3NcbiAgY29uc3Qgc3RhcnRTZWxlY3Rpb24gPSAoY29uZmlnKSA9PiB7XG4gICAgY29uc29sZS5sb2coJ1tUdXJuIFBhdGhdIHN0YXJ0U2VsZWN0aW9uIGNhbGxlZCB3aXRoIGNvbmZpZzonLCBjb25maWcpO1xuXG4gICAgcGF0aENvbmZpZ1JlZi5jdXJyZW50ID0gY29uZmlnO1xuICAgIHNldFBhdGhDb25maWcoY29uZmlnKTtcblxuICAgIGNvbnNvbGUubG9nKCdbVHVybiBQYXRoXSBTZXR0aW5nIGN1cnJlbnRTdGVwIHRvOiBzZWxlY3Rpbmdfc291cmNlJyk7XG4gICAgY3VycmVudFN0ZXBSZWYuY3VycmVudCA9ICdzZWxlY3Rpbmdfc291cmNlJztcbiAgICBzZXRDdXJyZW50U3RlcCgnc2VsZWN0aW5nX3NvdXJjZScpO1xuICAgIGNvbnNvbGUubG9nKCdbVHVybiBQYXRoXSBjdXJyZW50U3RlcCBzaG91bGQgbm93IGJlOiBzZWxlY3Rpbmdfc291cmNlJyk7XG4gIH07XG5cbiAgY29uc3QgcGF0aEVudGl0aWVzUmVmID0gdXNlUmVmKFtdKTtcblxuICAvLyAtLS0tLS0tLS0tLSBWQUxJREFUSU9OIEhFTFBFUlMgLS0tLS0tLS0tLS1cblxuICBjb25zdCBpc0Zpbml0ZU51bWJlciA9ICh2KSA9PiB7XG4gICAgcmV0dXJuIHR5cGVvZiB2ID09PSAnbnVtYmVyJyAmJiBOdW1iZXIuaXNGaW5pdGUodik7XG4gIH07XG5cbiAgY29uc3QgcG9zaXRpb25zQXJlRmluaXRlID0gKHBvc2l0aW9ucywgbGFiZWwpID0+IHtcbiAgICBpZiAoIXBvc2l0aW9ucyB8fCBwb3NpdGlvbnMubGVuZ3RoID09PSAwKSB7XG4gICAgICBjb25zb2xlLndhcm4oYFtUdXJuIFBhdGhdICR7bGFiZWx9OiBlbXB0eSBwb3NpdGlvbnMsIHNraXBwaW5nLmApO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcG9zaXRpb25zLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBwID0gcG9zaXRpb25zW2ldO1xuICAgICAgaWYgKFxuICAgICAgICAhcCB8fFxuICAgICAgICAhaXNGaW5pdGVOdW1iZXIocC54KSB8fFxuICAgICAgICAhaXNGaW5pdGVOdW1iZXIocC55KSB8fFxuICAgICAgICAhaXNGaW5pdGVOdW1iZXIocC56KVxuICAgICAgKSB7XG4gICAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgICBgW1R1cm4gUGF0aF0gJHtsYWJlbH06IGludmFsaWQgcG9zaXRpb24gYXQgaW5kZXggJHtpfSwgc2tpcHBpbmcgcG9seWdvbi5gLFxuICAgICAgICAgIHBcbiAgICAgICAgKTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfTtcblxuICBjb25zdCBzYWZlQWRkUG9seWdvbiA9ICh2aWV3ZXIsIHBvc2l0aW9ucywgbGFiZWwsIHN0eWxlID0ge30pID0+IHtcbiAgICBpZiAoIXBvc2l0aW9uc0FyZUZpbml0ZShwb3NpdGlvbnMsIGxhYmVsKSkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiB2aWV3ZXIuZW50aXRpZXMuYWRkKHtcbiAgICAgICAgcG9seWdvbjoge1xuICAgICAgICAgIGhpZXJhcmNoeTogbmV3IHdpbmRvdy5DZXNpdW0uUG9seWdvbkhpZXJhcmNoeShwb3NpdGlvbnMpLFxuICAgICAgICAgIG1hdGVyaWFsOiB3aW5kb3cuQ2VzaXVtLkNvbG9yLllFTExPVy53aXRoQWxwaGEoMC4zKSxcbiAgICAgICAgICBvdXRsaW5lOiB0cnVlLFxuICAgICAgICAgIG91dGxpbmVDb2xvcjogd2luZG93LkNlc2l1bS5Db2xvci5ZRUxMT1csXG4gICAgICAgICAgaGVpZ2h0UmVmZXJlbmNlOiB3aW5kb3cuQ2VzaXVtLkhlaWdodFJlZmVyZW5jZS5SRUxBVElWRV9UT19HUk9VTkQsXG4gICAgICAgIH0sXG4gICAgICAgIC4uLnN0eWxlLFxuICAgICAgfSk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgY29uc29sZS5lcnJvcihgW1R1cm4gUGF0aF0gRXJyb3IgYWRkaW5nIHBvbHlnb24gZm9yICR7bGFiZWx9OmAsIGUpO1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IHNhZmVEZWdyZWVzQXJyYXlUb1Bvc2l0aW9ucyA9IChkZWdyZWVzLCBsYWJlbCkgPT4ge1xuICAgIGlmICghQXJyYXkuaXNBcnJheShkZWdyZWVzKSB8fCBkZWdyZWVzLmxlbmd0aCA8IDYpIHtcbiAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgYFtUdXJuIFBhdGhdICR7bGFiZWx9OiBub3QgZW5vdWdoIGNvb3JkcyBmb3IgcG9seWdvbiAobmVlZCBhdCBsZWFzdCAzIHBvaW50cykuYCxcbiAgICAgICAgZGVncmVlc1xuICAgICAgKTtcbiAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkZWdyZWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAoIWlzRmluaXRlTnVtYmVyKGRlZ3JlZXNbaV0pKSB7XG4gICAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgICBgW1R1cm4gUGF0aF0gJHtsYWJlbH06IG5vbi1maW5pdGUgZGVncmVlIHZhbHVlIGF0IGluZGV4ICR7aX06YCxcbiAgICAgICAgICBkZWdyZWVzW2ldXG4gICAgICAgICk7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHBvc2l0aW9ucyA9IHdpbmRvdy5DZXNpdW0uQ2FydGVzaWFuMy5mcm9tRGVncmVlc0FycmF5KGRlZ3JlZXMpO1xuICAgICAgaWYgKCFwb3NpdGlvbnNBcmVGaW5pdGUocG9zaXRpb25zLCBgJHtsYWJlbH0gKGFmdGVyIGZyb21EZWdyZWVzQXJyYXkpYCkpIHtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBwb3NpdGlvbnM7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgY29uc29sZS53YXJuKGBbVHVybiBQYXRoXSAke2xhYmVsfTogZnJvbURlZ3JlZXNBcnJheSBmYWlsZWQ6YCwgZSk7XG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgfTtcblxuICAvLyBDbGVhciBleGlzdGluZyBwYXRoIGVudGl0aWVzXG4gIGNvbnN0IGNsZWFyUGF0aEVudGl0aWVzID0gKCkgPT4ge1xuICAgIGNvbnN0IHZpZXdlciA9IGNlc2l1bVZpZXdlclJlZi5jdXJyZW50O1xuICAgIGlmICghdmlld2VyKSByZXR1cm47XG5cbiAgICBjb25zb2xlLmxvZygnW1R1cm4gUGF0aF0gY2xlYXJQYXRoRW50aXRpZXMgY2FsbGVkIC0gRk9SQ0UgUkVNT1ZJTkcgQUxMIHR1cm4gcGF0aCBlbnRpdGllcycpO1xuXG4gICAgLy8gMS4gUmVtb3ZlIGVudGl0aWVzIHdlIHRyYWNrZWRcbiAgICBpZiAocGF0aEVudGl0aWVzUmVmLmN1cnJlbnQubGVuZ3RoID4gMCkge1xuICAgICAgcGF0aEVudGl0aWVzUmVmLmN1cnJlbnQuZm9yRWFjaCgoZW50aXR5KSA9PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgdmlld2VyLmVudGl0aWVzLnJlbW92ZShlbnRpdHkpO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgY29uc29sZS53YXJuKCdbVHVybiBQYXRoXSBFcnJvciByZW1vdmluZyBlbnRpdHk6JywgZSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgcGF0aEVudGl0aWVzUmVmLmN1cnJlbnQgPSBbXTtcbiAgICB9XG5cbiAgICAvLyAyLiBTQUZFVFkgTkVUOiBTY2FuIEFMTCBlbnRpdGllcyBmb3Igb3VyIGNhdGVnb3JpZXMgYW5kIHJlbW92ZSB0aGVtXG4gICAgLy8gVGhpcyBoYW5kbGVzIGNhc2VzIHdoZXJlIGhvdC1yZWxvYWQgbG9zdCB0aGUgcmVmIGJ1dCBlbnRpdGllcyByZW1haW4gb24gbWFwXG4gICAgY29uc3QgdG9SZW1vdmUgPSBbXTtcbiAgICBjb25zdCBrbm93bkNhdGVnb3JpZXMgPSBbJ3R1cm5fcGF0aF9zd2VwdCcsICd0dXJuX3BhdGhfZW52ZWxvcGUnLCAndHVybl9wYXRoX2NlbnRyZWxpbmUnLCAnc3dlcHRfcGF0aCcsICd2ZWhpY2xlX2VudmVsb3BlJ107XG5cbiAgICB0cnkge1xuICAgICAgdmlld2VyLmVudGl0aWVzLnZhbHVlcy5mb3JFYWNoKChlbnRpdHkpID0+IHtcbiAgICAgICAgY29uc3QgY2F0ID0gZW50aXR5LnByb3BlcnRpZXM/LmNhdGVnb3J5Py5nZXRWYWx1ZT8uKCkgfHwgZW50aXR5LnByb3BlcnRpZXM/LmNhdGVnb3J5O1xuICAgICAgICBjb25zdCBsYXllciA9IGVudGl0eS5wcm9wZXJ0aWVzPy50dXJuX2xheWVyPy5nZXRWYWx1ZT8uKCkgfHwgZW50aXR5LnByb3BlcnRpZXM/LnR1cm5fbGF5ZXI7XG5cbiAgICAgICAgaWYgKGtub3duQ2F0ZWdvcmllcy5pbmNsdWRlcyhjYXQpIHx8IGtub3duQ2F0ZWdvcmllcy5pbmNsdWRlcyhsYXllcikpIHtcbiAgICAgICAgICB0b1JlbW92ZS5wdXNoKGVudGl0eSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICBpZiAodG9SZW1vdmUubGVuZ3RoID4gMCkge1xuICAgICAgICBjb25zb2xlLmxvZyhgW1R1cm4gUGF0aF0gRm91bmQgJHt0b1JlbW92ZS5sZW5ndGh9IHN0cmFuZGVkIGVudGl0aWVzIHRvIHJlbW92ZS5gKTtcbiAgICAgICAgdG9SZW1vdmUuZm9yRWFjaChlID0+IHZpZXdlci5lbnRpdGllcy5yZW1vdmUoZSkpO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIGNvbnNvbGUud2FybignW1R1cm4gUGF0aF0gRXJyb3Igc2Nhbm5pbmcgZW50aXRpZXMgZm9yIGNsZWFudXA6JywgZSk7XG4gICAgfVxuXG4gICAgaWYgKHZpZXdlci5zY2VuZSkge1xuICAgICAgdmlld2VyLnNjZW5lLnJlcXVlc3RSZW5kZXIoKTtcbiAgICB9XG4gIH07XG5cbiAgLy8gSGVscGVyIHRvIHNpbXBsaWZ5IHBvc2l0aW9ucyB0byBwcmV2ZW50IENlc2l1bSB0ZXNzZWxsYXRpb24gaXNzdWVzXG4gIC8vIChXZSdsbCBrZWVwIHRoaXMgYXMgYW4gZXh0cmEgb3B0aW1pemF0aW9uIHN0ZXAgYmVmb3JlIHJlbmRlcmluZyBjZW50ZXJsaW5lcylcbiAgY29uc3Qgc2ltcGxpZnlQb3NpdGlvbnMgPSAocG9zaXRpb25zLCB0b2xlcmFuY2UgPSAxLjApID0+IHtcbiAgICBpZiAoIXBvc2l0aW9ucyB8fCBwb3NpdGlvbnMubGVuZ3RoIDwgMikgcmV0dXJuIHBvc2l0aW9ucztcblxuICAgIGNvbnN0IHNpbXBsaWZpZWQgPSBbcG9zaXRpb25zWzBdXTtcblxuICAgIGZvciAobGV0IGkgPSAxOyBpIDwgcG9zaXRpb25zLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBwcmV2ID0gc2ltcGxpZmllZFtzaW1wbGlmaWVkLmxlbmd0aCAtIDFdO1xuICAgICAgY29uc3QgY3VyciA9IHBvc2l0aW9uc1tpXTtcblxuICAgICAgLy8gQ2hlY2sgZm9yIHN0cmljdGx5IGlkZW50aWNhbCBwb2ludHMgKHByZXZlbnQgZGVnZW5lcmF0ZSBzZWdtZW50cylcbiAgICAgIGlmICh3aW5kb3cuQ2VzaXVtLkNhcnRlc2lhbjMuZXF1YWxzRXBzaWxvbihwcmV2LCBjdXJyLCB3aW5kb3cuQ2VzaXVtLk1hdGguRVBTSUxPTjcpKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBkeCA9IGN1cnIueCAtIHByZXYueDtcbiAgICAgIGNvbnN0IGR5ID0gY3Vyci55IC0gcHJldi55O1xuICAgICAgY29uc3QgZHogPSBjdXJyLnogLSBwcmV2Lno7XG4gICAgICBjb25zdCBkaXN0ID0gTWF0aC5zcXJ0KGR4ICogZHggKyBkeSAqIGR5ICsgZHogKiBkeik7XG4gICAgICBpZiAoZGlzdCA+IHRvbGVyYW5jZSkge1xuICAgICAgICBzaW1wbGlmaWVkLnB1c2goY3Vycik7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHNpbXBsaWZpZWQubGVuZ3RoIDwgMiAmJiBwb3NpdGlvbnMubGVuZ3RoID49IDIpIHtcbiAgICAgIC8vIEZhbGxiYWNrOiBhdCBsZWFzdCByZXR1cm4gc3RhcnQgYW5kIGVuZCBpZiBpbnZhbGlkXG4gICAgICByZXR1cm4gW3Bvc2l0aW9uc1swXSwgcG9zaXRpb25zW3Bvc2l0aW9ucy5sZW5ndGggLSAxXV07XG4gICAgfVxuICAgIHJldHVybiBzaW1wbGlmaWVkO1xuICB9O1xuXG4gIC8vIFBpY2sgdGhlIGJlc3QgYXZhaWxhYmxlIGNlbnRyZWxpbmUgV0tUXG4gIGNvbnN0IGNob29zZUNlbnRlcmxpbmVXa3QgPSAocGF0aCkgPT4ge1xuICAgIGlmICghcGF0aCkgcmV0dXJuICcnO1xuICAgIHJldHVybiBwYXRoLndrdCB8fCBwYXRoLnNtb290aF93a3QgfHwgcGF0aC5yYXdfd2t0IHx8ICcnO1xuICB9O1xuXG4gIC8vIC0tLSBzbWFsbCBoZWxwZXI6IHVud3JhcCB7Z2VvbWV0cnlfZ2VvanNvbn0gb3IgcmF3IGdlb21ldHJ5IC0tLVxuICBjb25zdCB0b1BvbHlnb25HZW9tID0gKHdyYXBwZXIsIGxhYmVsKSA9PiB7XG4gICAgaWYgKCF3cmFwcGVyKSByZXR1cm4gbnVsbDtcblxuICAgIC8vIElmIGl0J3MgYWxyZWFkeSBhIGdlb21ldHJ5IChmcm9tIHNvbWUgb3RoZXIgcGF0aCksIGp1c3QgdXNlIGl0XG4gICAgaWYgKHdyYXBwZXIudHlwZSA9PT0gJ1BvbHlnb24nICYmIEFycmF5LmlzQXJyYXkod3JhcHBlci5jb29yZGluYXRlcykpIHtcbiAgICAgIHJldHVybiB3cmFwcGVyO1xuICAgIH1cblxuICAgIGNvbnN0IGdlb20gPVxuICAgICAgd3JhcHBlci5nZW9tZXRyeV9nZW9qc29uIHx8XG4gICAgICB3cmFwcGVyLmdlb21ldHJ5IHx8IC8vIGp1c3QgaW4gY2FzZSB5b3UgY2hhbmdlIHRoZSBiYWNrZW5kIGxhdGVyXG4gICAgICBudWxsO1xuXG4gICAgaWYgKCFnZW9tIHx8IGdlb20udHlwZSAhPT0gJ1BvbHlnb24nIHx8ICFBcnJheS5pc0FycmF5KGdlb20uY29vcmRpbmF0ZXMpKSB7XG4gICAgICBjb25zb2xlLndhcm4oYFtUdXJuIFBhdGhdICR7bGFiZWx9OiBpbnZhbGlkIHBvbHlnb24gZ2VvbWAsIHdyYXBwZXIpO1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHJldHVybiBnZW9tO1xuICB9O1xuXG4gIC8vIEhlbHBlciB0byBnZXQgdmVoaWNsZSBkZXRhaWxzIGZvciBsYWJlbFxuICBjb25zdCBnZXRWZWhpY2xlTWV0YWRhdGEgPSAoY29uZmlnKSA9PiB7XG4gICAgaWYgKCFjb25maWcpIHJldHVybiBudWxsO1xuICAgIGlmIChjb25maWcuY3VzdG9tX3ZlaGljbGVfcHJvZmlsZSkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgd2lkdGg6IGNvbmZpZy5jdXN0b21fdmVoaWNsZV9wcm9maWxlLnZlaGljbGVfd2lkdGhfbSxcbiAgICAgICAgYnVmZmVyOiBjb25maWcuY3VzdG9tX3ZlaGljbGVfcHJvZmlsZS5zaWRlX2J1ZmZlcl9tLFxuICAgICAgICBuYW1lOiBjb25maWcuY3VzdG9tX3ZlaGljbGVfcHJvZmlsZS5uYW1lIHx8ICdDdXN0b20gVmVoaWNsZSdcbiAgICAgIH07XG4gICAgfVxuICAgIC8vIEZvciBwcmVkZWZpbmVkLCB3ZSBtaWdodCBuZWVkIHRvIGxvb2sgdXAgaW4gdmVoaWNsZVByb2ZpbGVzIGlmIHdlIGhhZCB0aGUgSUQsIFxuICAgIC8vIGJ1dCBwYXRoQ29uZmlnIHVzdWFsbHkgaGFzIHRoZSBmbGF0dGVuZWQgcGFyYW1ldGVycyBpZiBpdCB3YXMgY29uc3RydWN0ZWQgcHJvcGVybHkuXG4gICAgaWYgKGNvbmZpZy52ZWhpY2xlX3Byb2ZpbGVfaWQgJiYgdmVoaWNsZVByb2ZpbGVzW2NvbmZpZy52ZWhpY2xlX3Byb2ZpbGVfaWRdKSB7XG4gICAgICBjb25zdCBwID0gdmVoaWNsZVByb2ZpbGVzW2NvbmZpZy52ZWhpY2xlX3Byb2ZpbGVfaWRdO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgd2lkdGg6IHAudmVoaWNsZV93aWR0aF9tLFxuICAgICAgICBidWZmZXI6IHAuc2lkZV9idWZmZXJfbSB8fCAwLjUsXG4gICAgICAgIG5hbWU6IHAubmFtZVxuICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgIHdpZHRoOiAnPycsXG4gICAgICBidWZmZXI6ICc/JyxcbiAgICAgIG5hbWU6ICdWZWhpY2xlJ1xuICAgIH07XG4gIH07XG5cbiAgLy8gQ2VudGVybGluZS1vbmx5IHJlbmRlcmluZzsgbm8gYmFja2VuZCBwb2x5Z29ucyBhdmFpbGFibGUsIHNvIHdlIGRlcml2ZSBhIGNvcnJpZG9yIGxvY2FsbHkuXG4gIGNvbnN0IGRyYXdWZWhpY2xlQ29ycmlkb3JGcm9tQ2VudGVybGluZSA9ICh2aWV3ZXIsIHBhdGgsIGNsZWFyYW5jZSwgZW50aXRpZXMpID0+IHtcbiAgICBpZiAoIXBhdGgpIHJldHVybjtcbiAgICBjb25zdCBsaW5lV2t0ID0gY2hvb3NlQ2VudGVybGluZVdrdChwYXRoKTtcbiAgICBpZiAoIWxpbmVXa3QpIHJldHVybjtcblxuICAgIGNvbnN0IG1hdGNoID0gbGluZVdrdC5tYXRjaCgvTElORVNUUklOR1xccypcXCgoLispXFwpL2kpO1xuICAgIGlmICghbWF0Y2gpIHJldHVybjtcblxuICAgIGNvbnN0IGNvb3Jkc0RlZyA9IFtdO1xuICAgIGZvciAoY29uc3QgcGFpciBvZiBtYXRjaFsxXS5zcGxpdCgnLCcpKSB7XG4gICAgICBjb25zdCBwYXJ0cyA9IHBhaXIudHJpbSgpLnNwbGl0KC9cXHMrLyk7XG4gICAgICBpZiAocGFydHMubGVuZ3RoIDwgMikgY29udGludWU7XG4gICAgICBjb25zdCBsb24gPSBOdW1iZXIocGFydHNbMF0pO1xuICAgICAgY29uc3QgbGF0ID0gTnVtYmVyKHBhcnRzWzFdKTtcbiAgICAgIGlmICghaXNGaW5pdGVOdW1iZXIobG9uKSB8fCAhaXNGaW5pdGVOdW1iZXIobGF0KSkgY29udGludWU7XG4gICAgICBjb29yZHNEZWcucHVzaChsb24sIGxhdCk7XG4gICAgfVxuICAgIGlmIChjb29yZHNEZWcubGVuZ3RoIDwgNCkgcmV0dXJuOyAvLyBuZWVkIGF0IGxlYXN0IDIgcG9pbnRzXG5cbiAgICAvLyBDb252ZXJ0IHRvIENhcnRlc2lhbiBmb3Igb2Zmc2V0dGluZ1xuICAgIGNvbnN0IHBvc2l0aW9ucyA9IHdpbmRvdy5DZXNpdW0uQ2FydGVzaWFuMy5mcm9tRGVncmVlc0FycmF5KGNvb3Jkc0RlZyk7XG4gICAgaWYgKCFwb3NpdGlvbnNBcmVGaW5pdGUocG9zaXRpb25zLCAnY29ycmlkb3JfcG9zaXRpb25zJykpIHJldHVybjtcblxuICAgIC8vIERldGVybWluZSBoYWxmIHdpZHRoICh2ZWhpY2xlIHdpZHRoICsgYnVmZmVycykgLyAyXG4gICAgY29uc3Qgd2lkdGhNZXRlcnMgPSBNYXRoLm1heCgyLjAsIChjbGVhcmFuY2U/LnZlaGljbGVfd2lkdGhfd2l0aF9idWZmZXJfbSB8fCA4LjApICogMC42KTsgLy8gdGlnaHRlciB0byBrZWVwIGluc2lkZSByb2FkXG4gICAgY29uc3QgaGFsZiA9IHdpZHRoTWV0ZXJzIC8gMi4wO1xuXG4gICAgLy8gQnVpbGQgbGVmdC9yaWdodCBvZmZzZXRzIHVzaW5nIHNpbXBsZSAyRCBwZXJwZW5kaWN1bGFyIGluIEVOVSBhdCBlYWNoIHZlcnRleFxuICAgIGNvbnN0IGVsbGlwc29pZCA9IHdpbmRvdy5DZXNpdW0uRWxsaXBzb2lkLldHUzg0O1xuICAgIGNvbnN0IGxlZnRQdHMgPSBbXTtcbiAgICBjb25zdCByaWdodFB0cyA9IFtdO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwb3NpdGlvbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IHAgPSBwb3NpdGlvbnNbaV07XG4gICAgICAvLyBEZXRlcm1pbmUgZm9yd2FyZCB2ZWN0b3JcbiAgICAgIGNvbnN0IHBOZXh0ID0gcG9zaXRpb25zW01hdGgubWluKGkgKyAxLCBwb3NpdGlvbnMubGVuZ3RoIC0gMSldO1xuICAgICAgY29uc3QgcFByZXYgPSBwb3NpdGlvbnNbTWF0aC5tYXgoaSAtIDEsIDApXTtcbiAgICAgIGNvbnN0IGRpciA9IG5ldyB3aW5kb3cuQ2VzaXVtLkNhcnRlc2lhbjMoKTtcbiAgICAgIHdpbmRvdy5DZXNpdW0uQ2FydGVzaWFuMy5zdWJ0cmFjdChwTmV4dCwgcFByZXYsIGRpcik7XG4gICAgICBpZiAod2luZG93LkNlc2l1bS5DYXJ0ZXNpYW4zLm1hZ25pdHVkZShkaXIpIDwgMWUtMykgY29udGludWU7XG4gICAgICB3aW5kb3cuQ2VzaXVtLkNhcnRlc2lhbjMubm9ybWFsaXplKGRpciwgZGlyKTtcblxuICAgICAgLy8gVXAgdmVjdG9yIGF0IHRoaXMgcG9pbnRcbiAgICAgIGNvbnN0IHVwID0gZWxsaXBzb2lkLmdlb2RldGljU3VyZmFjZU5vcm1hbChwLCBuZXcgd2luZG93LkNlc2l1bS5DYXJ0ZXNpYW4zKCkpO1xuICAgICAgLy8gTGVmdCA9IHVwIHggZGlyXG4gICAgICBjb25zdCBsZWZ0ID0gbmV3IHdpbmRvdy5DZXNpdW0uQ2FydGVzaWFuMygpO1xuICAgICAgd2luZG93LkNlc2l1bS5DYXJ0ZXNpYW4zLmNyb3NzKHVwLCBkaXIsIGxlZnQpO1xuICAgICAgd2luZG93LkNlc2l1bS5DYXJ0ZXNpYW4zLm5vcm1hbGl6ZShsZWZ0LCBsZWZ0KTtcblxuICAgICAgY29uc3QgbGVmdE9mZnNldCA9IHdpbmRvdy5DZXNpdW0uQ2FydGVzaWFuMy5tdWx0aXBseUJ5U2NhbGFyKGxlZnQsIGhhbGYsIG5ldyB3aW5kb3cuQ2VzaXVtLkNhcnRlc2lhbjMoKSk7XG4gICAgICBjb25zdCByaWdodE9mZnNldCA9IHdpbmRvdy5DZXNpdW0uQ2FydGVzaWFuMy5tdWx0aXBseUJ5U2NhbGFyKGxlZnQsIC1oYWxmLCBuZXcgd2luZG93LkNlc2l1bS5DYXJ0ZXNpYW4zKCkpO1xuXG4gICAgICBjb25zdCBsZWZ0UG9pbnQgPSB3aW5kb3cuQ2VzaXVtLkNhcnRlc2lhbjMuYWRkKHAsIGxlZnRPZmZzZXQsIG5ldyB3aW5kb3cuQ2VzaXVtLkNhcnRlc2lhbjMoKSk7XG4gICAgICBjb25zdCByaWdodFBvaW50ID0gd2luZG93LkNlc2l1bS5DYXJ0ZXNpYW4zLmFkZChwLCByaWdodE9mZnNldCwgbmV3IHdpbmRvdy5DZXNpdW0uQ2FydGVzaWFuMygpKTtcblxuICAgICAgbGVmdFB0cy5wdXNoKGxlZnRQb2ludCk7XG4gICAgICByaWdodFB0cy5wdXNoKHJpZ2h0UG9pbnQpO1xuICAgIH1cblxuICAgIGlmIChsZWZ0UHRzLmxlbmd0aCA8IDIgfHwgcmlnaHRQdHMubGVuZ3RoIDwgMikgcmV0dXJuO1xuXG4gICAgLy8gQnVpbGQgcG9seWdvbjogbGVmdCBzaWRlIGZvcndhcmQsIHJpZ2h0IHNpZGUgYmFja3dhcmQgdG8gY2xvc2VcbiAgICBjb25zdCBwb2x5Z29uUG9zaXRpb25zID0gWy4uLmxlZnRQdHMsIC4uLnJpZ2h0UHRzLnJldmVyc2UoKV07XG4gICAgaWYgKCFwb3NpdGlvbnNBcmVGaW5pdGUocG9seWdvblBvc2l0aW9ucywgJ2NvcnJpZG9yX3BvbHlnb24nKSkgcmV0dXJuO1xuXG4gICAgdHJ5IHtcbiAgICAgIC8vIFJhaXNlIHNsaWdodGx5IGFib3ZlIGdyb3VuZCBhbmQgZGlzYWJsZSBkZXB0aCB0ZXN0IHNvIGl0IGFsd2F5cyBkcmF3cyBvbiB0b3BcbiAgICAgIGNvbnN0IHJhaXNlZFBvc2l0aW9ucyA9IHBvbHlnb25Qb3NpdGlvbnMubWFwKHAgPT4ge1xuICAgICAgICBjb25zdCBjYXJ0byA9IHdpbmRvdy5DZXNpdW0uQ2FydG9ncmFwaGljLmZyb21DYXJ0ZXNpYW4ocCk7XG4gICAgICAgIHJldHVybiB3aW5kb3cuQ2VzaXVtLkNhcnRlc2lhbjMuZnJvbVJhZGlhbnMoY2FydG8ubG9uZ2l0dWRlLCBjYXJ0by5sYXRpdHVkZSwgKGNhcnRvLmhlaWdodCB8fCAwKSArIDMuMCk7XG4gICAgICB9KTtcblxuICAgICAgY29uc3QgZW50aXR5ID0gdmlld2VyLmVudGl0aWVzLmFkZCh7XG4gICAgICAgIHBvbHlnb246IHtcbiAgICAgICAgICBoaWVyYXJjaHk6IG5ldyB3aW5kb3cuQ2VzaXVtLlBvbHlnb25IaWVyYXJjaHkocmFpc2VkUG9zaXRpb25zKSxcbiAgICAgICAgICBtYXRlcmlhbDogd2luZG93LkNlc2l1bS5Db2xvci5HUkVFTi53aXRoQWxwaGEoMC42NSksXG4gICAgICAgICAgb3V0bGluZTogdHJ1ZSxcbiAgICAgICAgICBvdXRsaW5lQ29sb3I6IHdpbmRvdy5DZXNpdW0uQ29sb3IuV0hJVEUud2l0aEFscGhhKDAuOSksXG4gICAgICAgICAgb3V0bGluZVdpZHRoOiAyLjUsXG4gICAgICAgICAgaGVpZ2h0UmVmZXJlbmNlOiB3aW5kb3cuQ2VzaXVtLkhlaWdodFJlZmVyZW5jZS5OT05FLFxuICAgICAgICAgIHBlclBvc2l0aW9uSGVpZ2h0OiB0cnVlLFxuICAgICAgICAgIGNsYXNzaWZpY2F0aW9uVHlwZTogd2luZG93LkNlc2l1bS5DbGFzc2lmaWNhdGlvblR5cGUuQk9USCxcbiAgICAgICAgICB6SW5kZXg6IDk5OTk5OSxcbiAgICAgICAgICBkaXNhYmxlRGVwdGhUZXN0RGlzdGFuY2U6IE51bWJlci5QT1NJVElWRV9JTkZJTklUWSxcbiAgICAgICAgfSxcbiAgICAgICAgbmFtZTogJ1R1cm4gUGF0aCBFbnZlbG9wZSAoZGVyaXZlZCBwb2x5Z29uKScsXG4gICAgICAgIHByb3BlcnRpZXM6IHtcbiAgICAgICAgICBjYXRlZ29yeTogJ3R1cm5fcGF0aF9lbnZlbG9wZScsXG4gICAgICAgICAgdHVybl9sYXllcjogJ3ZlaGljbGVfZW52ZWxvcGUnLFxuICAgICAgICB9LFxuICAgICAgfSk7XG4gICAgICBlbnRpdGllcy5wdXNoKGVudGl0eSk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgY29uc29sZS53YXJuKCdbVHVybiBQYXRoXSBGYWlsZWQgdG8gY3JlYXRlIGRlcml2ZWQgcG9seWdvbiBlbnZlbG9wZTonLCBlKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgZHJhd1NhZmVQYXRoUG9seWxpbmUgPSAodmlld2VyLCBwYXRoLCBlbnRpdGllcykgPT4ge1xuICAgIGlmICghcGF0aCkgcmV0dXJuO1xuXG4gICAgY29uc3QgbGluZVdrdCA9IGNob29zZUNlbnRlcmxpbmVXa3QocGF0aCk7XG4gICAgaWYgKCFsaW5lV2t0IHx8IHR5cGVvZiBsaW5lV2t0ICE9PSAnc3RyaW5nJykge1xuICAgICAgY29uc29sZS53YXJuKCdbVHVybiBQYXRoXSBubyBjZW50cmVsaW5lIFdLVCB0byBkcmF3JywgcGF0aCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgbWF0Y2ggPSBsaW5lV2t0Lm1hdGNoKC9MSU5FU1RSSU5HXFxzKlxcKCguKylcXCkvaSk7XG4gICAgaWYgKCFtYXRjaCkge1xuICAgICAgY29uc29sZS53YXJuKCdbVHVybiBQYXRoXSBjZW50cmVsaW5lIFdLVCBpcyBub3QgYSBMSU5FU1RSSU5HOicsIGxpbmVXa3Quc2xpY2UoMCwgMTIwKSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgY29vcmRzID0gW107XG4gICAgZm9yIChjb25zdCBwYWlyIG9mIG1hdGNoWzFdLnNwbGl0KCcsJykpIHtcbiAgICAgIGNvbnN0IHBhcnRzID0gcGFpci50cmltKCkuc3BsaXQoL1xccysvKTtcbiAgICAgIGlmIChwYXJ0cy5sZW5ndGggPCAyKSBjb250aW51ZTtcbiAgICAgIGNvbnN0IGxvbiA9IE51bWJlcihwYXJ0c1swXSk7XG4gICAgICBjb25zdCBsYXQgPSBOdW1iZXIocGFydHNbMV0pO1xuICAgICAgaWYgKCFpc0Zpbml0ZU51bWJlcihsb24pIHx8ICFpc0Zpbml0ZU51bWJlcihsYXQpKSBjb250aW51ZTtcbiAgICAgIGNvb3Jkcy5wdXNoKGxvbiwgbGF0KTtcbiAgICB9XG5cbiAgICBpZiAoY29vcmRzLmxlbmd0aCA8IDIpIHtcbiAgICAgIGNvbnNvbGUud2FybignW1R1cm4gUGF0aF0gY2VudHJlbGluZSBjb29yZHMgdG9vIHNob3J0Jyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgcG9zaXRpb25zID0gc2FmZURlZ3JlZXNBcnJheVRvUG9zaXRpb25zKGNvb3JkcywgJ3BhdGhfcG9seWxpbmUnKTtcbiAgICBpZiAoIXBvc2l0aW9uc0FyZUZpbml0ZShwb3NpdGlvbnMsICdwYXRoX3BvbHlsaW5lJykpIHJldHVybjtcbiAgICBjb25zdCBzaW1wbGlmaWVkID0gc2ltcGxpZnlQb3NpdGlvbnMocG9zaXRpb25zLCAwLjEpO1xuICAgIGlmICghc2ltcGxpZmllZCB8fCBzaW1wbGlmaWVkLmxlbmd0aCA8IDIpIHJldHVybjtcblxuICAgIHRyeSB7XG4gICAgICBjb25zdCBlbnRpdHkgPSB2aWV3ZXIuZW50aXRpZXMuYWRkKHtcbiAgICAgICAgcG9seWxpbmU6IHtcbiAgICAgICAgICBwb3NpdGlvbnM6IHNpbXBsaWZpZWQsXG4gICAgICAgICAgd2lkdGg6IDMsXG4gICAgICAgICAgbWF0ZXJpYWw6IHdpbmRvdy5DZXNpdW0uQ29sb3IuQ1lBTi53aXRoQWxwaGEoMC45KSxcbiAgICAgICAgICBjbGFtcFRvR3JvdW5kOiB0cnVlLFxuICAgICAgICAgIHpJbmRleDogNDAwLFxuICAgICAgICB9LFxuICAgICAgICBuYW1lOiAnVHVybiBQYXRoIENlbnRyZWxpbmUnLFxuICAgICAgICBwcm9wZXJ0aWVzOiB7XG4gICAgICAgICAgY2F0ZWdvcnk6ICd0dXJuX3BhdGhfY2VudHJlbGluZScsXG4gICAgICAgICAgdHVybl9sYXllcjogJ3BhdGgnLFxuICAgICAgICB9LFxuICAgICAgfSk7XG4gICAgICBlbnRpdGllcy5wdXNoKGVudGl0eSk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgY29uc29sZS5lcnJvcignW1R1cm4gUGF0aF0gRmFpbGVkIHRvIGNyZWF0ZSBjZW50cmVsaW5lIGVudGl0eTonLCBlKTtcbiAgICB9XG4gIH07XG5cblxuICAvLyBSZW5kZXIgdGhlIGNvbXB1dGVkIHBhdGhcbiAgY29uc3QgcmVuZGVyUGF0aCA9IChwYXRoRGF0YSkgPT4ge1xuICAgIGlmICghY2VzaXVtVmlld2VyUmVmLmN1cnJlbnQgfHwgIXBhdGhEYXRhKSByZXR1cm47XG5cbiAgICAvLyBBZ2dyZXNzaXZlbHkgY2xlYXIgb2xkIGVudGl0aWVzIGZpcnN0XG4gICAgY2xlYXJQYXRoRW50aXRpZXMoKTtcblxuICAgIGNvbnN0IHZpZXdlciA9IGNlc2l1bVZpZXdlclJlZi5jdXJyZW50O1xuICAgIGNvbnN0IGVudGl0aWVzID0gW107XG4gICAgcGF0aEVudGl0aWVzUmVmLmN1cnJlbnQgPSBlbnRpdGllcztcblxuICAgIGNvbnN0IHsgc3RhdHVzLCBwYXRoLCBjbGVhcmFuY2UgfSA9IHBhdGhEYXRhO1xuICAgIGlmIChzdGF0dXMgIT09ICdvaycpIHJldHVybjtcblxuICAgIC8vIFNraXAgY2VudHJlbGluZTsgb25seSBkcmF3IGRlcml2ZWQgZW52ZWxvcGUgcG9seWdvblxuICAgIGRyYXdWZWhpY2xlQ29ycmlkb3JGcm9tQ2VudGVybGluZSh2aWV3ZXIsIHBhdGgsIGNsZWFyYW5jZSwgZW50aXRpZXMpO1xuXG4gICAgaWYgKGVudGl0aWVzLmxlbmd0aCA+IDApIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHZpZXdlci5mbHlUbyhlbnRpdGllcywge1xuICAgICAgICAgIGR1cmF0aW9uOiAxLjUsXG4gICAgICAgICAgb2Zmc2V0OiBuZXcgd2luZG93LkNlc2l1bS5IZWFkaW5nUGl0Y2hSYW5nZShcbiAgICAgICAgICAgIHdpbmRvdy5DZXNpdW0uTWF0aC50b1JhZGlhbnMoMCksXG4gICAgICAgICAgICB3aW5kb3cuQ2VzaXVtLk1hdGgudG9SYWRpYW5zKC05MCksXG4gICAgICAgICAgICAwXG4gICAgICAgICAgKSxcbiAgICAgICAgfSk7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGNvbnNvbGUud2FybignW1R1cm4gUGF0aF0gRXJyb3IgZmx5aW5nIHRvIGVudGl0aWVzOicsIGUpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICAvLyBFZmZlY3QgdG8gcmVuZGVyIGNvbXB1dGVkIHBhdGhcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoY29tcHV0ZWRQYXRoKSB7XG4gICAgICByZW5kZXJQYXRoKGNvbXB1dGVkUGF0aCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNsZWFyUGF0aEVudGl0aWVzKCk7XG4gICAgfVxuICB9LCBbY29tcHV0ZWRQYXRoXSk7XG5cbiAgLy8gQ2xlYW51cCBvbiB1bm1vdW50XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGNsZWFyUGF0aEVudGl0aWVzKCk7XG4gICAgfTtcbiAgfSwgW10pO1xuXG4gIHJldHVybiB7XG4gICAgaXNEaWFsb2dPcGVuLFxuICAgIGN1cnJlbnRTdGVwLFxuICAgIGdldEN1cnJlbnRTdGVwLFxuICAgIGdldFNlbGVjdGVkU291cmNlUm9hZCxcbiAgICB2ZWhpY2xlUHJvZmlsZXMsXG4gICAgc2VsZWN0ZWRTb3VyY2VSb2FkLFxuICAgIHNlbGVjdGVkRGVzdGluYXRpb25Sb2FkLFxuICAgIGNvbXB1dGVkUGF0aCxcbiAgICB3YXJuaW5nLFxuICAgIG9wZW5EaWFsb2csXG4gICAgY2xvc2VEaWFsb2csXG4gICAgc3RhcnRTZWxlY3Rpb24sXG4gICAgaGFuZGxlTWFwQ2xpY2ssXG4gICAgcmVzZXRTZWxlY3Rpb24sXG4gIH07XG59XG4iXSwibmFtZXMiOlsidXNlU3RhdGUiLCJ1c2VFZmZlY3QiLCJ1c2VDYWxsYmFjayIsInVzZVJlZiIsInVzZVR1cm5QYXRoTWFuYWdlciIsImNlc2l1bVZpZXdlclJlZiIsImNlbnRlclBvaW50cyIsImlzRGlhbG9nT3BlbiIsInNldElzRGlhbG9nT3BlbiIsImN1cnJlbnRTdGVwIiwic2V0Q3VycmVudFN0ZXAiLCJ2ZWhpY2xlUHJvZmlsZXMiLCJzZXRWZWhpY2xlUHJvZmlsZXMiLCJwYXRoQ29uZmlnIiwic2V0UGF0aENvbmZpZyIsInNlbGVjdGVkU291cmNlUm9hZCIsInNldFNlbGVjdGVkU291cmNlUm9hZCIsInNlbGVjdGVkRGVzdGluYXRpb25Sb2FkIiwic2V0U2VsZWN0ZWREZXN0aW5hdGlvblJvYWQiLCJjb21wdXRlZFBhdGgiLCJzZXRDb21wdXRlZFBhdGgiLCJ3YXJuaW5nIiwic2V0V2FybmluZyIsImN1cnJlbnRTdGVwUmVmIiwic2VsZWN0ZWRTb3VyY2VSb2FkUmVmIiwic2VsZWN0ZWREZXN0aW5hdGlvblJvYWRSZWYiLCJwYXRoQ29uZmlnUmVmIiwiZ2V0RW50aXR5UHJvcGVydHkiLCJlbnRpdHkiLCJrZXkiLCJwcm9wZXJ0aWVzIiwicHJvcCIsInVuZGVmaW5lZCIsImdldFZhbHVlIiwiZXh0cmFjdFJvYWRDb25uZWN0aW9ucyIsInBvc3NpYmxlS2V5cyIsInZhbHVlcyIsIm1hcCIsImZpbHRlciIsInZhbCIsInRyaW0iLCJsZW5ndGgiLCJBcnJheSIsImZyb20iLCJTZXQiLCJ2IiwiY3VycmVudCIsImdldEN1cnJlbnRTdGVwIiwiZ2V0U2VsZWN0ZWRTb3VyY2VSb2FkIiwiZ2V0U2VsZWN0ZWREZXN0aW5hdGlvblJvYWQiLCJyZXNldFNlbGVjdGlvbiIsInJlc3RvcmVFbnRpdHlNYXRlcmlhbCIsInBvbHlnb24iLCJfb3JpZ2luYWxNYXRlcmlhbCIsIm1hdGVyaWFsIiwicG9seWxpbmUiLCJfb3JpZ2luYWxXaWR0aCIsIndpZHRoIiwiY29ycmlkb3IiLCJyZXN0b3JlQWxsIiwic2VsZWN0aW9uIiwiaXNBcnJheSIsImVudGl0aWVzIiwiZm9yRWFjaCIsImZldGNoIiwidGhlbiIsInJlcyIsImpzb24iLCJkYXRhIiwic3RhdHVzIiwicHJvZmlsZXMiLCJjYXRjaCIsImVyciIsImNvbnNvbGUiLCJlcnJvciIsImhhbmRsZUtleURvd24iLCJlIiwiY2xvc2VEaWFsb2ciLCJ3aW5kb3ciLCJhZGRFdmVudExpc3RlbmVyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImZpbmRTaGFyZWRJbnRlcnNlY3Rpb24iLCJyb2FkSWQxIiwicm9hZElkMiIsInNlZ0lkMSIsInNlZ0lkMiIsImlkc0VxdWFsIiwiYSIsImIiLCJTdHJpbmciLCJyMSIsInIyIiwidHJ5Q2VudGVyUG9pbnRzIiwib2siLCJyb3dzIiwiYnlSb2FkIiwicmVkdWNlIiwiYWNjIiwicm93Iiwicm9hZF9pZCIsInB1c2giLCJsaXN0MSIsImxpc3QyIiwiYmVzdCIsImJlc3RTY29yZSIsInNjb3JlIiwic2VsU2VnIiwic2VnbWVudF9pZCIsImludGVyc2VjdGlvbl9pZCIsInMiLCJuYW1lIiwiaW50ZXJzZWN0aW9uX25hbWUiLCJwaWNrRmFsbGJhY2siLCJsaXN0IiwiY291bnRzIiwidG9wSWQiLCJPYmplY3QiLCJrZXlzIiwic29ydCIsImZpbmQiLCJyIiwiZmluZFNoYXJlZEVuZHBvaW50RnJvbVNlbGVjdGlvbnMiLCJzb3VyY2UiLCJkZXN0aW5hdGlvbiIsInNvdXJjZUNvbm5lY3Rpb25zIiwiY29ubmVjdGlvbnMiLCJkZXN0aW5hdGlvbkNvbm5lY3Rpb25zIiwiY29ubiIsImluY2x1ZGVzIiwiZ2V0TmVhcmVzdENlbnRlclBvaW50Iiwicm9hZElkIiwibWF0Y2hlcyIsInAiLCJoYXZlcnNpbmVNZXRlcnMiLCJsb24xIiwibGF0MSIsImxvbjIiLCJsYXQyIiwiUiIsInRvUmFkIiwiZCIsIk1hdGgiLCJQSSIsImRMYXQiLCJkTG9uIiwic2luIiwiY29zIiwiYyIsImF0YW4yIiwic3FydCIsImNvbXB1dGVUdXJuUGF0aCIsImNvbmZpZyIsImFsZXJ0IiwiaW50ZXJzZWN0aW9uIiwic2hhcmVkRW5kcG9pbnQiLCJ3YXJuIiwibG9nIiwidG8iLCJwYXlsb2FkIiwiZnJvbV9yb2FkX2lkIiwidG9fcm9hZF9pZCIsImZyb21fbWFya2VyX29pZCIsInRvX21hcmtlcl9vaWQiLCJyZXNwb25zZSIsIm1ldGhvZCIsImhlYWRlcnMiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsInJlc3VsdCIsImNsZWFyYW5jZU1zZyIsImNsZWFyYW5jZSIsInZlaGljbGVfZW52ZWxvcGVfb2siLCJvdXRzaWRlX2FyZWFfc3FtIiwidG9GaXhlZCIsInBhdGgiLCJsZW5ndGhfbSIsInBhdGhfdHlwZSIsImxlYWsiLCJtc2ciLCJtZXNzYWdlIiwiaGFuZGxlTWFwQ2xpY2siLCJjbGlja2VkRW50aXR5Iiwic3RlcCIsImhhc0VudGl0eSIsImhhc1ZpZXdlciIsImdldFByb3AiLCJjYXRlZ29yeSIsInJvYWROYW1lUmF3IiwicmF3Um9hZElkIiwibGFuZUlkIiwicGFyZW50TGFuZUlkIiwiZGVyaXZlZFJvYWRJZCIsIm0iLCJtYXRjaCIsImxvZ2ljYWxSb2FkSWQiLCJzZWdtZW50SWQiLCJyb2FkTmFtZSIsImhhc1BvbHlnb24iLCJoYXNQb2x5bGluZSIsImhhc0NvcnJpZG9yIiwiY2F0ZWdvcnlMb3dlciIsInRvU3RyaW5nIiwidG9Mb3dlckNhc2UiLCJpc1JvYWRMaWtlIiwidmlld2VyIiwiYWxsRW50aXRpZXMiLCJnZXRFbnRpdHlHcm91cElkIiwiZW50IiwicHJvcHMiLCJnZXRWYWwiLCJlbnRSYXdSb2FkSWQiLCJlbnRQYXJlbnRMYW5lSWQiLCJlbnRMYW5lSWQiLCJtYXRjaGluZ0VudGl0aWVzIiwibWF0Y2hJZCIsImhpZ2hsaWdodEVudGl0aWVzIiwiY29sb3IiLCJ3aXRoQWxwaGEiLCJvdXRsaW5lIiwib3V0bGluZUNvbG9yIiwiQ2VzaXVtIiwiQ29sb3IiLCJXSElURSIsIm91dGxpbmVXaWR0aCIsIm1heCIsIm5ld1NvdXJjZSIsInJhd19yb2FkX2lkIiwibGFuZV9pZCIsInBhcmVudF9sYW5lX2lkIiwiY2VudGVyX3BvaW50IiwiR1JFRU4iLCJzb3VyY2VSb2FkIiwibmV3RGVzdGluYXRpb24iLCJSRUQiLCJvcGVuRGlhbG9nIiwic3RhcnRTZWxlY3Rpb24iLCJwYXRoRW50aXRpZXNSZWYiLCJpc0Zpbml0ZU51bWJlciIsIk51bWJlciIsImlzRmluaXRlIiwicG9zaXRpb25zQXJlRmluaXRlIiwicG9zaXRpb25zIiwibGFiZWwiLCJpIiwieCIsInkiLCJ6Iiwic2FmZUFkZFBvbHlnb24iLCJzdHlsZSIsImFkZCIsImhpZXJhcmNoeSIsIlBvbHlnb25IaWVyYXJjaHkiLCJZRUxMT1ciLCJoZWlnaHRSZWZlcmVuY2UiLCJIZWlnaHRSZWZlcmVuY2UiLCJSRUxBVElWRV9UT19HUk9VTkQiLCJzYWZlRGVncmVlc0FycmF5VG9Qb3NpdGlvbnMiLCJkZWdyZWVzIiwiQ2FydGVzaWFuMyIsImZyb21EZWdyZWVzQXJyYXkiLCJjbGVhclBhdGhFbnRpdGllcyIsInJlbW92ZSIsInRvUmVtb3ZlIiwia25vd25DYXRlZ29yaWVzIiwiY2F0IiwibGF5ZXIiLCJ0dXJuX2xheWVyIiwic2NlbmUiLCJyZXF1ZXN0UmVuZGVyIiwic2ltcGxpZnlQb3NpdGlvbnMiLCJ0b2xlcmFuY2UiLCJzaW1wbGlmaWVkIiwicHJldiIsImN1cnIiLCJlcXVhbHNFcHNpbG9uIiwiRVBTSUxPTjciLCJkeCIsImR5IiwiZHoiLCJkaXN0IiwiY2hvb3NlQ2VudGVybGluZVdrdCIsIndrdCIsInNtb290aF93a3QiLCJyYXdfd2t0IiwidG9Qb2x5Z29uR2VvbSIsIndyYXBwZXIiLCJ0eXBlIiwiY29vcmRpbmF0ZXMiLCJnZW9tIiwiZ2VvbWV0cnlfZ2VvanNvbiIsImdlb21ldHJ5IiwiZ2V0VmVoaWNsZU1ldGFkYXRhIiwiY3VzdG9tX3ZlaGljbGVfcHJvZmlsZSIsInZlaGljbGVfd2lkdGhfbSIsImJ1ZmZlciIsInNpZGVfYnVmZmVyX20iLCJ2ZWhpY2xlX3Byb2ZpbGVfaWQiLCJkcmF3VmVoaWNsZUNvcnJpZG9yRnJvbUNlbnRlcmxpbmUiLCJsaW5lV2t0IiwiY29vcmRzRGVnIiwicGFpciIsInNwbGl0IiwicGFydHMiLCJsb24iLCJsYXQiLCJ3aWR0aE1ldGVycyIsInZlaGljbGVfd2lkdGhfd2l0aF9idWZmZXJfbSIsImhhbGYiLCJlbGxpcHNvaWQiLCJFbGxpcHNvaWQiLCJXR1M4NCIsImxlZnRQdHMiLCJyaWdodFB0cyIsInBOZXh0IiwibWluIiwicFByZXYiLCJkaXIiLCJzdWJ0cmFjdCIsIm1hZ25pdHVkZSIsIm5vcm1hbGl6ZSIsInVwIiwiZ2VvZGV0aWNTdXJmYWNlTm9ybWFsIiwibGVmdCIsImNyb3NzIiwibGVmdE9mZnNldCIsIm11bHRpcGx5QnlTY2FsYXIiLCJyaWdodE9mZnNldCIsImxlZnRQb2ludCIsInJpZ2h0UG9pbnQiLCJwb2x5Z29uUG9zaXRpb25zIiwicmV2ZXJzZSIsInJhaXNlZFBvc2l0aW9ucyIsImNhcnRvIiwiQ2FydG9ncmFwaGljIiwiZnJvbUNhcnRlc2lhbiIsImZyb21SYWRpYW5zIiwibG9uZ2l0dWRlIiwibGF0aXR1ZGUiLCJoZWlnaHQiLCJOT05FIiwicGVyUG9zaXRpb25IZWlnaHQiLCJjbGFzc2lmaWNhdGlvblR5cGUiLCJDbGFzc2lmaWNhdGlvblR5cGUiLCJCT1RIIiwiekluZGV4IiwiZGlzYWJsZURlcHRoVGVzdERpc3RhbmNlIiwiUE9TSVRJVkVfSU5GSU5JVFkiLCJkcmF3U2FmZVBhdGhQb2x5bGluZSIsInNsaWNlIiwiY29vcmRzIiwiQ1lBTiIsImNsYW1wVG9Hcm91bmQiLCJyZW5kZXJQYXRoIiwicGF0aERhdGEiLCJmbHlUbyIsImR1cmF0aW9uIiwib2Zmc2V0IiwiSGVhZGluZ1BpdGNoUmFuZ2UiLCJ0b1JhZGlhbnMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./components/useTurnPathManager.js\n");

/***/ })

};
;