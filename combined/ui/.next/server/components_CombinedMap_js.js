"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "components_CombinedMap_js";
exports.ids = ["components_CombinedMap_js"];
exports.modules = {

/***/ "./components/CombinedMap.js":
/*!***********************************!*\
  !*** ./components/CombinedMap.js ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ DispatchCesiumMap)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var next_script__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/script */ \"./node_modules/next/script.js\");\n/* harmony import */ var next_script__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_script__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var crypto__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! crypto */ \"crypto\");\n/* harmony import */ var crypto__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(crypto__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _TopMenuBar__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./TopMenuBar */ \"./components/TopMenuBar.js\");\n/* harmony import */ var _TurnPathDialog__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./TurnPathDialog */ \"./components/TurnPathDialog.js\");\n/* harmony import */ var _TurnPathStatusBanner__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./TurnPathStatusBanner */ \"./components/TurnPathStatusBanner.js\");\n/* harmony import */ var _useTurnPathManager__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./useTurnPathManager */ \"./components/useTurnPathManager.js\");\n/* harmony import */ var _useMeasurementTool__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./useMeasurementTool */ \"./components/useMeasurementTool.js\");\n/* harmony import */ var _RoadProfileViewer__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./RoadProfileViewer */ \"./components/RoadProfileViewer.js\");\n\n\n\n\n\n\n\n\n\n\n// Color palette and helpers\nconst DISPATCH_LOCATION_COLOR_MAP = {\n    \"call point\": \"#FF6B6B\",\n    \"dump\": \"#FF8E72\",\n    \"blast\": \"#FFB347\",\n    \"stockpile\": \"#FFD166\",\n    \"workshop\": \"#F4A261\",\n    \"shiftchange\": \"#06D6A0\",\n    \"region\": \"#118AB2\",\n    \"crusher\": \"#9B5DE5\",\n    \"high dump\": \"#FF6B6B\",\n    \"load\": \"#FFD166\",\n    \"paddock dump\": \"#FF8E72\",\n    \"tiedown\": \"#06D6A0\",\n    \"pit\": \"#EF476F\",\n    \"parking\": \"#FFE066\",\n    \"fuel\": \"#FE5F55\",\n    \"tipping area\": \"#FF924C\",\n    \"infrastructure\": \"#5C677D\",\n    \"infrastructure_table\": \"#5C677D\",\n    \"default\": \"#9FA4B0\"\n};\n// Location types that render as squares\nconst SQUARE_TYPES = new Set([\n    \"blast\",\n    \"dump\",\n    \"stockpile\",\n    \"workshop\",\n    \"crusher\",\n    \"high dump\",\n    \"load\",\n    \"paddock dump\",\n    \"tiedown\"\n]);\nconst DEFAULT_HIDDEN_LOCATION_TYPES = [\n    \"call point\",\n    \"shiftchange\",\n    \"region\",\n    \"pit\"\n];\nconst resolveDispatchLocationType = (location)=>{\n    if (!location) return \"Infrastructure\";\n    const rawValue = location.unit_type || location.location_category || location.unit_type_id || location.category || location.source || \"Infrastructure\";\n    if (typeof rawValue !== \"string\") return \"Infrastructure\";\n    const trimmed = rawValue.trim();\n    return trimmed.length > 0 ? trimmed : \"Infrastructure\";\n};\nconst getDispatchLocationColor = (locationType)=>{\n    if (!locationType || typeof locationType !== \"string\") return DISPATCH_LOCATION_COLOR_MAP.default;\n    return DISPATCH_LOCATION_COLOR_MAP[locationType.trim().toLowerCase()] || DISPATCH_LOCATION_COLOR_MAP.default;\n};\n// Helpers to guard polygons\nconst ringArea2D = (coords)=>{\n    if (!Array.isArray(coords) || coords.length < 3) return 0;\n    let area = 0;\n    const n = coords.length;\n    for(let i = 0; i < n; i++){\n        const [x1, y1] = coords[i];\n        const [x2, y2] = coords[(i + 1) % n];\n        area += x1 * y2 - x2 * y1;\n    }\n    return Math.abs(area) * 0.5;\n};\nconst parsePolygonHierarchy = (geojson)=>{\n    if (!geojson || !window?.Cesium) return null;\n    const Cesium1 = window.Cesium;\n    let gj;\n    try {\n        gj = typeof geojson === \"string\" ? JSON.parse(geojson) : geojson;\n    } catch  {\n        return null;\n    }\n    if (!gj || !gj.coordinates) return null;\n    let rings = null;\n    if (gj.type === \"Polygon\") {\n        rings = gj.coordinates;\n    } else if (gj.type === \"MultiPolygon\" && Array.isArray(gj.coordinates) && gj.coordinates.length > 0) {\n        rings = gj.coordinates[0];\n    } else {\n        return null;\n    }\n    if (!Array.isArray(rings) || rings.length === 0) return null;\n    let outer = rings[0];\n    if (!Array.isArray(outer) || outer.length < 3) return null;\n    outer = outer.filter((c)=>Array.isArray(c) && c.length >= 2 && Number.isFinite(c[0]) && Number.isFinite(c[1]));\n    if (outer.length < 3) return null;\n    if (outer.length >= 2) {\n        const [fx, fy] = outer[0];\n        const [lx, ly] = outer[outer.length - 1];\n        if (fx === lx && fy === ly) {\n            outer = outer.slice(0, -1);\n        }\n    }\n    const cleaned = [];\n    for(let i = 0; i < outer.length; i++){\n        const cur = outer[i];\n        if (i === 0 || cur[0] !== outer[i - 1][0] || cur[1] !== outer[i - 1][1]) {\n            cleaned.push(cur);\n        }\n    }\n    if (cleaned.length < 3) return null;\n    const area2D = ringArea2D(cleaned);\n    if (!Number.isFinite(area2D) || area2D < 1e-10) return null;\n    const positions = Cesium1.Cartesian3.fromDegreesArray(cleaned.flat());\n    if (!positions || positions.length < 3) return null;\n    let minX = Infinity, maxX = -Infinity;\n    let minY = Infinity, maxY = -Infinity;\n    let minZ = Infinity, maxZ = -Infinity;\n    for (const p of positions){\n        if (!Number.isFinite(p.x) || !Number.isFinite(p.y) || !Number.isFinite(p.z)) return null;\n        if (p.x < minX) minX = p.x;\n        if (p.x > maxX) maxX = p.x;\n        if (p.y < minY) minY = p.y;\n        if (p.y > maxY) maxY = p.y;\n        if (p.z < minZ) minZ = p.z;\n        if (p.z > maxZ) maxZ = p.z;\n    }\n    const span = Math.max(maxX - minX, maxY - minY, maxZ - minZ);\n    if (!Number.isFinite(span) || span < 0.1) return null;\n    return new Cesium1.PolygonHierarchy(positions);\n};\n// Guard for arbitrary Cartesian3 position arrays (for polygons)\nconst arePositionsValid = (positions)=>{\n    if (!Array.isArray(positions) || positions.length < 3) return false;\n    let minX = Infinity, maxX = -Infinity;\n    let minY = Infinity, maxY = -Infinity;\n    let minZ = Infinity, maxZ = -Infinity;\n    for (const p of positions){\n        if (!p || !Number.isFinite(p.x) || !Number.isFinite(p.y) || !Number.isFinite(p.z)) {\n            return false;\n        }\n        if (p.x < minX) minX = p.x;\n        if (p.x > maxX) maxX = p.x;\n        if (p.y < minY) minY = p.y;\n        if (p.y > maxY) maxY = p.y;\n        if (p.z < minZ) minZ = p.z;\n        if (p.z > maxZ) maxZ = p.z;\n    }\n    const span = Math.max(maxX - minX, maxY - minY, maxZ - minZ);\n    return Number.isFinite(span) && span >= 0.1;\n};\nconst isDispatchSegmentClosed = (segment)=>{\n    if (!segment) return false;\n    const value = segment.is_closed;\n    if (typeof value === \"boolean\") return value;\n};\n// Render tooltip lines in the same label/value layout as the Lat/Lng box\nconst renderTooltipItems = (items, { compact = false } = {})=>{\n    return items.filter(Boolean).map((raw)=>{\n        let item = typeof raw === \"string\" ? raw : String(raw).trim();\n        if (!item) return \"\";\n        // SECTION HEADERS, e.g. \"--- ROAD DIMENSIONS ---\"\n        if (!item.includes(\":\")) {\n            const label = item.replace(/^[-\\s]+|[-\\s]+$/g, \"\");\n            return `\n          <div\n            style=\"\n              margin: ${compact ? \"4px\" : \"6px\"} 0 2px;\n              font-weight: 600;\n              color: #f5f5f5;\n              border-top: 1px solid rgba(255,255,255,0.08);\n              padding-top: 4px;\n            \"\n          >\n            ${label}\n          </div>\n        `;\n        }\n        // NORMAL \"LABEL: value\" LINES\n        const [rawLabel, ...rest] = item.split(\":\");\n        const label = rawLabel.trim();\n        const value = rest.join(\":\").trim();\n        return `\n        <div\n          style=\"\n            display: flex;\n            justify-content: space-between;\n            margin-bottom: ${compact ? \"1px\" : \"3px\"};\n          \"\n        >\n          <span style=\"color: #a0a0a0; font-weight: 400;\">\n            ${label}\n          </span>\n          <span style=\"\n            color: white;\n            font-weight: 500;\n            font-variant-numeric: tabular-nums;\n            text-align: right;\n            white-space: nowrap;\n          \">\n            ${value}\n          </span>\n        </div>\n      `;\n    }).join(\"\");\n};\nconst formatTooltipContent = (entity)=>{\n    if (!entity || !entity.properties) return \"\";\n    // Handle both Cesium Property objects and direct values\n    const getProp = (key)=>{\n        const prop = entity.properties[key];\n        if (prop === undefined || prop === null) return undefined;\n        if (prop && typeof prop.getValue === \"function\") {\n            return prop.getValue(window.Cesium.JulianDate.now());\n        }\n        return prop;\n    };\n    const items = [];\n    const category = getProp(\"category\");\n    if (category === \"dispatch_segment\") {\n        items.push(`--- DISPATCH SEGMENT ---`);\n        if (getProp(\"road_id\")) items.push(`ROAD ID: ${getProp(\"road_id\")}`);\n        if (getProp(\"lane_id\")) items.push(`LANE ID: ${getProp(\"lane_id\")}`);\n        if (getProp(\"length_m\")) items.push(`LENGTH: ${Math.round(getProp(\"length_m\"))} m`);\n        if (getProp(\"direction\")) items.push(`DIRECTION: ${getProp(\"direction\")}`);\n        const closed = getProp(\"is_closed\");\n        items.push(`STATUS: ${closed ? \"Closed\" : \"Open\"}`);\n    } else if (category === \"dispatch_location\") {\n        items.push(`--- LOCATION ---`);\n        items.push(`NAME: ${getProp(\"location_name\")}`);\n        items.push(`TYPE: ${getProp(\"unit_type\") || getProp(\"location_category\")}`);\n    } else if (category === \"dispatch_intersection\") {\n        items.push(`--- INTERSECTION ---`);\n        items.push(`NAME: ${getProp(\"intersection_name\")}`);\n        if (getProp(\"intersection_type\")) items.push(`TYPE: ${getProp(\"intersection_type\")}`);\n        if (getProp(\"safety_buffer_m\")) items.push(`SAFETY BUFFER: ${getProp(\"safety_buffer_m\")} m`);\n        if (getProp(\"r_min_m\")) items.push(`R-MIN: ${getProp(\"r_min_m\")} m`);\n        const roads = getProp(\"connected_roads\");\n        if (roads && Array.isArray(roads) && roads.length > 0) {\n            items.push(`CONNECTED ROADS: ${roads.join(\", \")}`);\n        }\n    } else if (category === \"dispatch_trolley\") {\n        items.push(`--- TROLLEY ---`);\n        items.push(`TYPE: Trolley Line`);\n    }\n    return renderTooltipItems(items, {\n        compact: true\n    });\n};\nfunction DispatchCesiumMap() {\n    const mapContainer = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const cesiumViewerRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const measurementHandlerRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const [mapLoaded, setMapLoaded] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [mapError, setMapError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [cesiumLoaded, setCesiumLoaded] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [dialogOpen, setDialogOpen] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [dialogData, setDialogData] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [showProfileViewer, setShowProfileViewer] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [selectedRoadId, setSelectedRoadId] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    // Data\n    const [locations, setLocations] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [segments, setSegments] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [trolleySegments, setTrolleySegments] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [wateringStations, setWateringStations] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [speedMonitoring, setSpeedMonitoring] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [intersections, setIntersections] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [centerPoints, setCenterPoints] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const centerPointEntitiesRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)([]);\n    const { isDialogOpen: turnDialogOpen, currentStep: turnCurrentStep, getCurrentStep: getTurnCurrentStep, selectedSourceRoad: turnSourceRoad, selectedDestinationRoad: turnDestRoad, openDialog: openTurnDialog, closeDialog: closeTurnDialog, startSelection: startTurnSelection, handleMapClick: handleTurnPathClick } = (0,_useTurnPathManager__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(cesiumViewerRef, centerPoints);\n    // UI State\n    const [roadNetworksExpanded, setRoadNetworksExpanded] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const [locationTypesExpanded, setLocationTypesExpanded] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const [baseLayer, setBaseLayer] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"night\"); // 'night' or 'day'\n    const [measurementMode, setMeasurementMode] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"none\"); // none | distance | area\n    // Visibility\n    const [showOpenRoads, setShowOpenRoads] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const [showClosedRoads, setShowClosedRoads] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const [showIntersections, setShowIntersections] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const [showCenterPoints, setShowCenterPoints] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [showTrolley, setShowTrolley] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const [showWatering, setShowWatering] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const [showSpeed, setShowSpeed] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const [visibleLocationTypes, setVisibleLocationTypes] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(new Set());\n    // Frontrunner-style measurement hook\n    const { measurementMode: frMeasurementMode, startMeasurement: frStartMeasurement, cancelMeasurement: frCancelMeasurement, addMeasurementPoint: frAddPoint, clearMeasurements: frClearMeasurements, updatePreviewLine: frUpdatePreview, finalizeAreaMeasurement: frFinalizeArea, getMeasurementMode: frGetMode } = (0,_useMeasurementTool__WEBPACK_IMPORTED_MODULE_8__[\"default\"])(cesiumViewerRef);\n    const recenterView = ()=>{\n        const viewer = cesiumViewerRef.current;\n        if (!viewer || !window?.Cesium) return;\n        const Cesium1 = window.Cesium;\n        viewer.camera.flyTo({\n            destination: Cesium1.Cartesian3.fromDegrees(148.980202, -23.847083, 5000),\n            orientation: {\n                heading: 0,\n                pitch: Cesium1.Math.toRadians(-90),\n                roll: 0\n            },\n            duration: 0.8\n        });\n    };\n    // Computed\n    // ---------------------------------------------------------------------\n    // Hide info/tooltip overlays while turn-path selection is active\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const selecting = turnCurrentStep === \"selecting_source\" || turnCurrentStep === \"selecting_destination\";\n        if (selecting) {\n            setDialogOpen(false);\n            setDialogData(null);\n            const tooltip = document.getElementById(\"map-tooltip\");\n            if (tooltip) tooltip.style.display = \"none\";\n        }\n    }, [\n        turnCurrentStep\n    ]);\n    // ---------------------------------------------------------------------\n    const locationCounts = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>{\n        const counts = {};\n        locations.forEach((l)=>counts[resolveDispatchLocationType(l)] = (counts[resolveDispatchLocationType(l)] || 0) + 1);\n        return counts;\n    }, [\n        locations\n    ]);\n    const roadCounts = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>({\n            open: segments.filter((s)=>!isDispatchSegmentClosed(s)).length,\n            closed: segments.filter((s)=>isDispatchSegmentClosed(s)).length\n        }), [\n        segments\n    ]);\n    const centerPointCount = centerPoints.length;\n    const toggleLocationType = (type, checked)=>{\n        const newSet = new Set(visibleLocationTypes);\n        checked ? newSet.add(type) : newSet.delete(type);\n        setVisibleLocationTypes(newSet);\n    };\n    // Initialize Cesium\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (!cesiumLoaded || !mapContainer.current || cesiumViewerRef.current) return;\n        try {\n            const Cesium1 = window.Cesium;\n            Cesium1.Ion.defaultAccessToken = \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiJkN2JiMWMyMS05YmU0LTQ2MzktODk5Yy0xZjJjMDkyOGJkMzkiLCJpZCI6MTg0NzYsImlhdCI6MTYzOTQzOTU4Mn0.6GMOP-Y9nPwqGPZ0fLCuO-YXK1xVHK0HxxMz4EBqhJk\";\n            const viewer = new Cesium1.Viewer(mapContainer.current, {\n                baseLayerPicker: false,\n                geocoder: false,\n                homeButton: false,\n                sceneModePicker: false,\n                navigationHelpButton: false,\n                animation: false,\n                timeline: false,\n                fullscreenButton: false,\n                vrButton: false,\n                imageryProvider: false,\n                terrainProvider: new Cesium1.EllipsoidTerrainProvider(),\n                selectionIndicator: false,\n                infoBox: false\n            });\n            viewer.cesiumWidget.creditContainer.style.display = \"none\";\n            viewer.camera.setView({\n                destination: Cesium1.Cartesian3.fromDegrees(148.980202, -23.847083, 5000),\n                orientation: {\n                    heading: 0,\n                    pitch: Cesium1.Math.toRadians(-90),\n                    roll: 0\n                }\n            });\n            cesiumViewerRef.current = viewer;\n            window.cesiumViewer = viewer;\n            setMapLoaded(true);\n            // Load center points from backend (intersection_center_points)\n            fetch(\"/api/intersection_center_points\").then((res)=>res.json()).then((data)=>{\n                if (Array.isArray(data)) {\n                    setCenterPoints(data);\n                }\n            }).catch((err)=>{\n                console.warn(\"Failed to load center points\", err?.message || err);\n            });\n            // Measurement handlers\n            const handler = new Cesium1.ScreenSpaceEventHandler(viewer.scene.canvas);\n            measurementHandlerRef.current = handler;\n            handler.setInputAction((movement)=>{\n                // Turn path selection takes priority if in selecting mode\n                const step = getTurnCurrentStep?.();\n                if (step === \"selecting_source\" || step === \"selecting_destination\") {\n                    const drill = viewer.scene.drillPick(movement.position);\n                    const picked = drill && drill[0] || viewer.scene.pick(movement.position);\n                    if (picked && picked.id) {\n                        handleTurnPathClick(picked.id);\n                        return;\n                    }\n                }\n                const mode = frGetMode();\n                if (!mode) return;\n                const ellipsoid = viewer.scene.globe.ellipsoid;\n                let cartesian = viewer.camera.pickEllipsoid(movement.position, ellipsoid) || viewer.scene.pickPosition(movement.position);\n                if (!cartesian) {\n                    const ray = viewer.camera.getPickRay(movement.position);\n                    if (ray) cartesian = viewer.scene.globe.pick(ray, viewer.scene);\n                }\n                if (!cartesian) return;\n                const carto = ellipsoid.cartesianToCartographic(cartesian);\n                const clamped = Cesium1.Cartesian3.fromRadians(carto.longitude, carto.latitude, 0.0);\n                frAddPoint(clamped);\n            }, Cesium1.ScreenSpaceEventType.LEFT_CLICK);\n            handler.setInputAction((movement)=>{\n                const mode = frGetMode();\n                if (mode !== \"distance\") return;\n                const ellipsoid = viewer.scene.globe.ellipsoid;\n                let cartesian = viewer.camera.pickEllipsoid(movement.endPosition, ellipsoid) || viewer.scene.pickPosition(movement.endPosition);\n                if (!cartesian) {\n                    frUpdatePreview(null);\n                    return;\n                }\n                const carto = ellipsoid.cartesianToCartographic(cartesian);\n                const clamped = Cesium1.Cartesian3.fromRadians(carto.longitude, carto.latitude, 0.0);\n                frUpdatePreview(clamped);\n            }, Cesium1.ScreenSpaceEventType.MOUSE_MOVE);\n            handler.setInputAction(()=>{\n                frFinalizeArea();\n            }, Cesium1.ScreenSpaceEventType.RIGHT_CLICK);\n            // Coordinates (exact Frontrunner style)\n            const coordDisplay1 = document.createElement(\"div\");\n            coordDisplay1.id = \"mouse-coordinates\";\n            coordDisplay1.style.cssText = `\n              position: absolute;\n              bottom: 20px;\n              right: 20px;\n              background: rgba(50, 50, 50, 0.92);\n              color: white;\n              padding: 12px 16px;\n              border-radius: 9px;\n              font-family: 'Segoe UI', -apple-system, BlinkMacSystemFont, sans-serif;\n              font-size: 12px;\n              font-weight: 400;\n              box-shadow: 0 4px 16px rgba(0, 0, 0, 0.3);\n              backdrop-filter: blur(12px);\n              border: none;\n              z-index: 1000;\n              min-width: 160px;\n              text-align: left;\n              display: block;\n              line-height: 1.35;\n            `;\n            document.body.appendChild(coordDisplay1);\n            const coordHandler1 = new Cesium1.ScreenSpaceEventHandler(viewer.scene.canvas);\n            coordHandler1.setInputAction((movement)=>{\n                const cartesian = viewer.scene.pickPosition(movement.endPosition);\n                if (Cesium1.defined(cartesian)) {\n                    const cart = Cesium1.Cartographic.fromCartesian(cartesian);\n                    const lng = Cesium1.Math.toDegrees(cart.longitude).toFixed(6);\n                    const lat = Cesium1.Math.toDegrees(cart.latitude).toFixed(6);\n                    coordDisplay1.innerHTML = `\n                      <div style=\"display: flex; justify-content: space-between; margin-bottom: 4px;\">\n                        <span style=\"color: #a0a0a0; font-weight: 400;\">Lat:</span>\n                        <span style=\"color: white; font-weight: 500; font-variant-numeric: tabular-nums;\">${lat}°</span>\n                      </div>\n                      <div style=\"display: flex; justify-content: space-between;\">\n                        <span style=\"color: #a0a0a0; font-weight: 400;\">Lng:</span>\n                        <span style=\"color: white; font-weight: 500; font-variant-numeric: tabular-nums;\">${lng}°</span>\n                      </div>\n                    `;\n                    coordDisplay1.style.display = \"block\";\n                }\n            }, Cesium1.ScreenSpaceEventType.MOUSE_MOVE);\n        } catch (e) {\n            setMapError(e.message);\n        }\n        return ()=>{\n            if (measurementHandlerRef.current) {\n                measurementHandlerRef.current.destroy();\n                measurementHandlerRef.current = null;\n            }\n            if (coordHandler && !coordHandler.isDestroyed()) {\n                coordHandler.destroy();\n            }\n            if (coordDisplay && coordDisplay.parentNode) {\n                coordDisplay.remove();\n            }\n            cesiumViewerRef.current?.destroy();\n        };\n    }, [\n        cesiumLoaded\n    ]);\n    // Tooltip Handler\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (!mapLoaded || !cesiumViewerRef.current) return;\n        const viewer = cesiumViewerRef.current;\n        const Cesium1 = window.Cesium;\n        const handler = new Cesium1.ScreenSpaceEventHandler(viewer.scene.canvas);\n        const tooltip = document.createElement(\"div\");\n        tooltip.style.cssText = `\n            position: absolute; display: none; pointer-events: none;\n            background: rgba(20, 20, 30, 0.95); color: white;\n            padding: 8px 12px; border-radius: 6px;\n            font-family: 'Inter', sans-serif; font-size: 12px;\n            box-shadow: 0 4px 12px rgba(0,0,0,0.4);\n            border: 1px solid rgba(255,255,255,0.15);\n            z-index: 10000; max-width: 300px;\n        `;\n        viewer.container.appendChild(tooltip);\n        handler.setInputAction((movement)=>{\n            const step = getTurnCurrentStep?.();\n            if (step === \"selecting_source\" || step === \"selecting_destination\") {\n                tooltip.style.display = \"none\";\n                viewer.container.style.cursor = \"default\";\n                return;\n            }\n            const pickedObject = viewer.scene.pick(movement.endPosition);\n            if (pickedObject && pickedObject.id && pickedObject.id.properties) {\n                const content = formatTooltipContent(pickedObject.id);\n                if (content) {\n                    tooltip.style.display = \"block\";\n                    tooltip.innerHTML = content;\n                    // Position tooltip near mouse but not under it\n                    const x = movement.endPosition.x + 15;\n                    const y = movement.endPosition.y + 15;\n                    tooltip.style.left = `${x}px`;\n                    tooltip.style.top = `${y}px`;\n                    // Keep within bounds\n                    const containerRect = viewer.container.getBoundingClientRect();\n                    if (x + tooltip.offsetWidth > containerRect.width) {\n                        tooltip.style.left = `${movement.endPosition.x - tooltip.offsetWidth - 10}px`;\n                    }\n                    if (y + tooltip.offsetHeight > containerRect.height) {\n                        tooltip.style.top = `${movement.endPosition.y - tooltip.offsetHeight - 10}px`;\n                    }\n                    viewer.container.style.cursor = \"pointer\";\n                    return;\n                }\n            }\n            tooltip.style.display = \"none\";\n            viewer.container.style.cursor = \"default\";\n        }, Cesium1.ScreenSpaceEventType.MOUSE_MOVE);\n        return ()=>{\n            handler.destroy();\n            if (tooltip.parentNode) tooltip.parentNode.removeChild(tooltip);\n        };\n    }, [\n        mapLoaded\n    ]);\n    // Click Handler for Dialog\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (!mapLoaded || !cesiumViewerRef.current) return;\n        const viewer = cesiumViewerRef.current;\n        const Cesium1 = window.Cesium;\n        const handler = new Cesium1.ScreenSpaceEventHandler(viewer.scene.canvas);\n        handler.setInputAction((click)=>{\n            // Short-circuit to turn-path selection: no info dialog while selecting\n            const step = getTurnCurrentStep?.();\n            if (step === \"selecting_source\" || step === \"selecting_destination\") {\n                const drill = viewer.scene.drillPick(click.position);\n                const picked = drill && drill[0] || viewer.scene.pick(click.position);\n                if (picked && picked.id) {\n                    handleTurnPathClick(picked.id);\n                }\n                return; // always suppress info dialog while selecting\n            }\n            // Look at *all* primitives under the cursor\n            const picked = viewer.scene.drillPick(click.position) || [];\n            // Prefer locations / intersections over roads when overlapping\n            let pickedObject = picked.find((o)=>{\n                if (!o.id || !o.id.properties || !o.id.properties.category) return false;\n                const catProp = o.id.properties.category;\n                const cat = catProp.getValue ? catProp.getValue(window.Cesium.JulianDate.now()) : catProp;\n                return cat === \"dispatch_location\" || cat === \"dispatch_intersection\";\n            }) || picked[0];\n            if (Cesium1.defined(pickedObject) && pickedObject.id && pickedObject.id.properties) {\n                const entity = pickedObject.id;\n                const allProperties = {};\n                // Extract properties\n                const propertyNames = entity.properties.propertyNames || Object.keys(entity.properties);\n                propertyNames.forEach((propName)=>{\n                    // Skip internal Cesium properties\n                    if (propName.startsWith(\"_\") || propName === \"propertyNames\" || propName === \"definitionChanged\" || propName === \"color\" || propName === \"style_role\") return;\n                    try {\n                        const prop = entity.properties[propName];\n                        if (prop && typeof prop.getValue === \"function\") {\n                            const val = prop.getValue(Cesium1.JulianDate.now());\n                            if (val !== undefined && val !== null) allProperties[propName] = val;\n                        } else if (prop !== undefined && prop !== null) {\n                            allProperties[propName] = prop;\n                        }\n                    } catch (e) {}\n                });\n                // Also try direct properties if not found above\n                if (entity.properties.category && !allProperties.category) {\n                    allProperties.category = entity.properties.category.getValue ? entity.properties.category.getValue() : entity.properties.category;\n                }\n                if (entity.properties.name && !allProperties.name) {\n                    allProperties.name = entity.properties.name.getValue ? entity.properties.name.getValue() : entity.properties.name;\n                }\n                // Clear previous highlights\n                viewer.entities.values.forEach((prevEntity)=>{\n                    if (prevEntity._originalMaterial) {\n                        if (prevEntity.corridor) {\n                            prevEntity.corridor.material = prevEntity._originalMaterial;\n                            prevEntity.corridor.outline = false;\n                        } else if (prevEntity.polygon) {\n                            prevEntity.polygon.material = prevEntity._originalMaterial;\n                            prevEntity.polygon.outline = false;\n                        }\n                        delete prevEntity._originalMaterial;\n                    }\n                });\n                // Highlight clicked entity\n                if (entity.corridor) {\n                    if (!entity._originalMaterial) entity._originalMaterial = entity.corridor.material;\n                    entity.corridor.material = Cesium1.Color.CYAN.withAlpha(1.0);\n                    entity.corridor.outline = true;\n                    entity.corridor.outlineColor = Cesium1.Color.YELLOW;\n                    entity.corridor.outlineWidth = 3;\n                } else if (entity.polygon) {\n                    if (!entity._originalMaterial) entity._originalMaterial = entity.polygon.material;\n                    entity.polygon.material = Cesium1.Color.CYAN.withAlpha(0.9);\n                    entity.polygon.outline = true;\n                    entity.polygon.outlineColor = Cesium1.Color.YELLOW;\n                    entity.polygon.outlineWidth = 3;\n                }\n                setDialogData({\n                    category: allProperties.category,\n                    name: allProperties.name || \"Unknown\",\n                    allProperties: allProperties\n                });\n                setDialogOpen(true);\n            } else {\n                // Clicked empty space\n                setDialogOpen(false);\n                setDialogData(null);\n                // Reset highlights\n                viewer.entities.values.forEach((prevEntity)=>{\n                    if (prevEntity._originalMaterial) {\n                        if (prevEntity.corridor) {\n                            prevEntity.corridor.material = prevEntity._originalMaterial;\n                            prevEntity.corridor.outline = false;\n                        } else if (prevEntity.polygon) {\n                            prevEntity.polygon.material = prevEntity._originalMaterial;\n                            prevEntity.polygon.outline = false;\n                        }\n                        delete prevEntity._originalMaterial;\n                    }\n                });\n            }\n        }, Cesium1.ScreenSpaceEventType.LEFT_CLICK);\n        return ()=>{\n            handler.destroy();\n        };\n    }, [\n        mapLoaded\n    ]);\n    // Center points renderer (magenta markers, like Frontrunner)\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const viewer = cesiumViewerRef.current;\n        if (!viewer || !viewer.entities) return;\n        // clear old\n        if (centerPointEntitiesRef.current.length) {\n            centerPointEntitiesRef.current.forEach((e)=>{\n                try {\n                    viewer.entities.remove(e);\n                } catch (_) {}\n            });\n            centerPointEntitiesRef.current = [];\n        }\n        if (!showCenterPoints || !Array.isArray(centerPoints)) {\n            viewer.scene?.requestRender();\n            return;\n        }\n        const Cesium1 = window.Cesium;\n        centerPoints.forEach((cp)=>{\n            if (cp.lon == null || cp.lat == null) return;\n            const pos = Cesium1.Cartesian3.fromDegrees(cp.lon, cp.lat, 2.0);\n            const ent = viewer.entities.add({\n                position: pos,\n                point: {\n                    pixelSize: 25,\n                    color: Cesium1.Color.MAGENTA,\n                    outlineColor: Cesium1.Color.WHITE,\n                    outlineWidth: 6,\n                    heightReference: Cesium1.HeightReference.RELATIVE_TO_GROUND,\n                    disableDepthTestDistance: Number.POSITIVE_INFINITY,\n                    scaleByDistance: new Cesium1.NearFarScalar(1.5e2, 3.0, 1.5e7, 1.5)\n                },\n                cylinder: {\n                    length: 2.0,\n                    topRadius: 0.8,\n                    bottomRadius: 0.8,\n                    material: Cesium1.Color.MAGENTA.withAlpha(0.9),\n                    outline: true,\n                    outlineColor: Cesium1.Color.WHITE,\n                    outlineWidth: 2,\n                    heightReference: Cesium1.HeightReference.RELATIVE_TO_GROUND\n                },\n                properties: {\n                    category: \"road_intersection_center\",\n                    road_id: cp.road_id,\n                    intersection_id: cp.intersection_id,\n                    intersection_name: cp.intersection_name\n                },\n                name: `Center Point ${cp.intersection_name || \"\"} (${cp.road_id || \"\"})`\n            });\n            centerPointEntitiesRef.current.push(ent);\n        });\n        viewer.scene?.requestRender();\n    }, [\n        centerPoints,\n        showCenterPoints\n    ]);\n    // Base Layer Logic\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (!cesiumViewerRef.current || !window.Cesium) return;\n        const viewer = cesiumViewerRef.current;\n        const Cesium1 = window.Cesium;\n        let cancelled = false;\n        const updateBaseLayer = async ()=>{\n            viewer.imageryLayers.removeAll();\n            let provider;\n            switch(baseLayer){\n                case \"night\":\n                    provider = new Cesium1.UrlTemplateImageryProvider({\n                        url: \"https://a.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}.png\",\n                        credit: \"\\xa9 OpenStreetMap contributors, \\xa9 CARTO\"\n                    });\n                    break;\n                case \"day\":\n                    provider = new Cesium1.UrlTemplateImageryProvider({\n                        url: \"https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}\",\n                        credit: \"\\xa9 Esri, DigitalGlobe, GeoEye, Earthstar Geographics, CNES/Airbus DS, USDA, USGS, AeroGRID, IGN, and the GIS User Community\"\n                    });\n                    break;\n                case \"topographic\":\n                    provider = new Cesium1.UrlTemplateImageryProvider({\n                        url: \"https://{s}.tile.opentopomap.org/{z}/{x}/{y}.png\",\n                        credit: \"\\xa9 OpenTopoMap contributors\",\n                        subdomains: [\n                            \"a\",\n                            \"b\",\n                            \"c\"\n                        ]\n                    });\n                    break;\n                case \"terrain\":\n                    provider = new Cesium1.UrlTemplateImageryProvider({\n                        url: \"https://tiles.stadiamaps.com/tiles/stamen_terrain/{z}/{x}/{y}.png\",\n                        credit: \"\\xa9 Stadia Maps \\xa9 Stamen Design \\xa9 OpenMapTiles \\xa9 OpenStreetMap contributors\"\n                    });\n                    break;\n                default:\n                    provider = new Cesium1.UrlTemplateImageryProvider({\n                        url: \"https://a.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}.png\",\n                        credit: \"\\xa9 OpenStreetMap contributors, \\xa9 CARTO\"\n                    });\n            }\n            if (!cancelled) {\n                viewer.imageryLayers.addImageryProvider(provider);\n                // Ensure base color is dark for night mode or general consistency\n                viewer.scene.globe.baseColor = Cesium1.Color.fromCssColorString(\"#1a1a2e\");\n            }\n        };\n        updateBaseLayer();\n        return ()=>{\n            cancelled = true;\n        };\n    }, [\n        baseLayer,\n        mapLoaded\n    ]);\n    // Load Data (combined API)\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (!mapLoaded) return;\n        const load = async ()=>{\n            try {\n                const res = await fetch(\"/api/combined-map-data\");\n                const data = await res.json();\n                // Show everything from the combined API (both dispatch and frontrunner)\n                const roads = data?.roads || [];\n                const intersections = data?.intersections || [];\n                const infrastructure = data?.infrastructure || [];\n                const apiSegments = data?.segments || [];\n                const mappedSegments = (apiSegments.length ? apiSegments : roads).map((s)=>({\n                        lane_id: s.lane_id || s.road_id,\n                        road_id: s.road_id || s.lane_id,\n                        geometry: s.geometry_geojson || s.geometry || s.centerline_geojson,\n                        is_closed: s.is_closed,\n                        direction: s.direction ?? null,\n                        length_m: s.length_m ?? null\n                    }));\n                const mappedLocations = infrastructure.map((p)=>{\n                    let lat = null, lon = null;\n                    try {\n                        const gj = p.point_geojson ? JSON.parse(p.point_geojson) : null;\n                        if (gj && gj.type === \"Point\" && Array.isArray(gj.coordinates)) {\n                            [lon, lat] = gj.coordinates;\n                        }\n                    } catch (_) {}\n                    return {\n                        location_id: p.location_id,\n                        location_name: p.location_name || \"\",\n                        latitude: lat,\n                        longitude: lon,\n                        geometry: p.geom_geojson || p.geometry || null,\n                        unit_type: p.unit_type || p.location_category || p.unit_type_id || p.unit_id || p.source || \"infrastructure\",\n                        location_category: p.location_category || p.unit_type || p.unit_type_id || p.unit_id || p.source || \"infrastructure\",\n                        unit_type_id: p.unit_type_id || p.unit_id || null,\n                        source: p.source || \"\"\n                    };\n                }).filter((p)=>Number.isFinite(p.latitude) && Number.isFinite(p.longitude));\n                const mappedIntersections = intersections.map((i)=>({\n                        ...i,\n                        geometry: i.geom_geojson || i.geometry\n                    }));\n                // Debug: log counts and top types\n                const typeCounts = {};\n                mappedLocations.forEach((loc)=>{\n                    const t = resolveDispatchLocationType(loc);\n                    typeCounts[t] = (typeCounts[t] || 0) + 1;\n                });\n                // Log a few sample locations with resolved type\n                console.log(\"[CombinedMap][Data]\", {\n                    roads: roads.length,\n                    segments: mappedSegments.length,\n                    intersections: mappedIntersections.length,\n                    infrastructure: mappedLocations.length,\n                    typeCounts,\n                    samples: mappedLocations.slice(0, 5).map((loc)=>({\n                            location_id: loc.location_id,\n                            source: loc.source,\n                            unit_type: loc.unit_type,\n                            unit_type_id: loc.unit_type_id,\n                            resolved_type: resolveDispatchLocationType(loc)\n                        }))\n                });\n                setLocations(mappedLocations);\n                setSegments(mappedSegments);\n                setTrolleySegments(data?.trolleySegments || []);\n                setWateringStations(data?.wateringStations || []);\n                setSpeedMonitoring(data?.speedMonitoring || []);\n                setIntersections(mappedIntersections);\n                // Build visible types from the resolved types present in the payload\n                const resolvedTypes = Array.from(new Set(mappedLocations.map((loc)=>resolveDispatchLocationType(loc))));\n                const visibleSet = new Set();\n                resolvedTypes.forEach((t)=>{\n                    const key = String(t).trim().toLowerCase();\n                    const isNumeric = /^[0-9]+$/.test(key);\n                    if (SQUARE_TYPES.has(key) || isNumeric) {\n                        visibleSet.add(t);\n                    }\n                });\n                SQUARE_TYPES.forEach((t)=>visibleSet.add(t));\n                setVisibleLocationTypes(visibleSet);\n                console.log(`[CombinedMap] Loaded data:\n                  - Locations: ${mappedLocations.length}\n                  - Segments: ${mappedSegments.length}\n                  - Intersections: ${mappedIntersections.length}`);\n            } catch (e) {\n                console.error(e);\n            }\n        };\n        load();\n    }, [\n        mapLoaded\n    ]);\n    // Render\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (!cesiumViewerRef.current || !window.Cesium) return;\n        const viewer = cesiumViewerRef.current;\n        const Cesium1 = window.Cesium;\n        // Clear existing entities\n        viewer.entities.removeAll();\n        // Helper function to compute an offset polyline (for road edges)\n        const computeOffsetLine = (positions, offsetMeters)=>{\n            const Cesium1 = window.Cesium;\n            const ellipsoid = Cesium1.Ellipsoid.WGS84;\n            const offsetPositions = [];\n            const direction = new Cesium1.Cartesian3();\n            const up = new Cesium1.Cartesian3();\n            const right = new Cesium1.Cartesian3();\n            const n = positions.length;\n            if (n === 0) return offsetPositions;\n            if (n === 1) {\n                offsetPositions.push(positions[0]);\n                return offsetPositions;\n            }\n            for(let i = 0; i < n; i++){\n                const cur = positions[i];\n                // ---- choose a forward vector with CONSISTENT orientation ----\n                if (i === 0) {\n                    // first: use next - current\n                    Cesium1.Cartesian3.subtract(positions[1], cur, direction);\n                } else if (i === n - 1) {\n                    // last: use current - previous\n                    Cesium1.Cartesian3.subtract(cur, positions[n - 2], direction);\n                } else {\n                    // middle: average prev and next directions for smoother corners\n                    const d1 = new Cesium1.Cartesian3();\n                    const d2 = new Cesium1.Cartesian3();\n                    Cesium1.Cartesian3.subtract(cur, positions[i - 1], d1);\n                    Cesium1.Cartesian3.subtract(positions[i + 1], cur, d2);\n                    if (Cesium1.Cartesian3.magnitudeSquared(d1) > Cesium1.Math.EPSILON10) Cesium1.Cartesian3.normalize(d1, d1);\n                    if (Cesium1.Cartesian3.magnitudeSquared(d2) > Cesium1.Math.EPSILON10) Cesium1.Cartesian3.normalize(d2, d2);\n                    Cesium1.Cartesian3.add(d1, d2, direction);\n                }\n                // zero-length safety\n                if (Cesium1.Cartesian3.magnitudeSquared(direction) < Cesium1.Math.EPSILON10) {\n                    offsetPositions.push(cur);\n                    continue;\n                }\n                Cesium1.Cartesian3.normalize(direction, direction);\n                if (isNaN(direction.x) || isNaN(direction.y) || isNaN(direction.z)) {\n                    offsetPositions.push(cur);\n                    continue;\n                }\n                // local \"up\" (normal to ellipsoid at this point)\n                ellipsoid.geodeticSurfaceNormal(cur, up);\n                // right = direction x up  (perpendicular to road, tangent to ground)\n                Cesium1.Cartesian3.cross(direction, up, right);\n                if (Cesium1.Cartesian3.magnitudeSquared(right) < Cesium1.Math.EPSILON10) {\n                    offsetPositions.push(cur);\n                    continue;\n                }\n                Cesium1.Cartesian3.normalize(right, right);\n                if (isNaN(right.x) || isNaN(right.y) || isNaN(right.z)) {\n                    offsetPositions.push(cur);\n                    continue;\n                }\n                const offset = Cesium1.Cartesian3.multiplyByScalar(right, offsetMeters, new Cesium1.Cartesian3());\n                const finalPos = Cesium1.Cartesian3.add(cur, offset, new Cesium1.Cartesian3());\n                if (isNaN(finalPos.x) || isNaN(finalPos.y) || isNaN(finalPos.z)) {\n                    offsetPositions.push(cur);\n                } else {\n                    offsetPositions.push(finalPos);\n                }\n            }\n            return offsetPositions;\n        };\n        // Helper: Filter unique positions to prevent zero-length segments\n        const filterUniquePositions = (positions)=>{\n            if (!positions || positions.length < 2) return positions;\n            return positions.filter((p, idx)=>{\n                if (idx === 0) return true;\n                const prev = positions[idx - 1];\n                return Cesium1.Cartesian3.distanceSquared(p, prev) > 0.0001; // 1cm^2 threshold\n            });\n        };\n        // Helper: bearing (heading) of the nearest road segment to a location.\n        // Returns heading in radians, measured clockwise from NORTH.\n        const getNearestRoadBearing = (location, segments)=>{\n            const locCart = Cesium1.Cartesian3.fromDegrees(location.longitude, location.latitude);\n            let minDistance = Infinity;\n            let bestBearing = 0;\n            segments.forEach((s)=>{\n                const g = typeof s.geometry === \"string\" ? JSON.parse(s.geometry) : s.geometry;\n                if (!g?.coordinates || g.coordinates.length < 2) return;\n                const coords = g.coordinates;\n                for(let i = 0; i < coords.length - 1; i++){\n                    const c1Raw = coords[i];\n                    const c2Raw = coords[i + 1];\n                    if (!Number.isFinite(c1Raw[0]) || !Number.isFinite(c1Raw[1]) || !Number.isFinite(c2Raw[0]) || !Number.isFinite(c2Raw[1])) {\n                        continue;\n                    }\n                    const p1 = Cesium1.Cartesian3.fromDegrees(c1Raw[0], c1Raw[1]);\n                    const p2 = Cesium1.Cartesian3.fromDegrees(c2Raw[0], c2Raw[1]);\n                    // use segment midpoint as \"position\" to compare distance\n                    const mid = Cesium1.Cartesian3.multiplyByScalar(Cesium1.Cartesian3.add(p1, p2, new Cesium1.Cartesian3()), 0.5, new Cesium1.Cartesian3());\n                    const distSq = Cesium1.Cartesian3.distanceSquared(locCart, mid);\n                    if (distSq >= minDistance) continue;\n                    // closer -> update bearing\n                    minDistance = distSq;\n                    const c1 = Cesium1.Cartographic.fromDegrees(c1Raw[0], c1Raw[1]);\n                    const c2 = Cesium1.Cartographic.fromDegrees(c2Raw[0], c2Raw[1]);\n                    const dLon = c2.longitude - c1.longitude;\n                    const y = Math.sin(dLon) * Math.cos(c2.latitude);\n                    const x = Math.cos(c1.latitude) * Math.sin(c2.latitude) - Math.sin(c1.latitude) * Math.cos(c2.latitude) * Math.cos(dLon);\n                    // heading from NORTH, clockwise, in radians\n                    bestBearing = Math.atan2(y, x);\n                }\n            });\n            return isNaN(bestBearing) ? 0 : bestBearing;\n        };\n        // Helper: 50m x 50m square polygon, rotated by angleFromEast (radians), in ENU frame\n        const computeSquarePolygon = (centerCartesian, sizeMeters, angleFromEast)=>{\n            if (isNaN(angleFromEast) || !centerCartesian) return null;\n            const half = sizeMeters / 2.0;\n            // ENU (East-North-Up) local frame at the center\n            const transform = Cesium1.Transforms.eastNorthUpToFixedFrame(centerCartesian);\n            const cos = Math.cos(angleFromEast);\n            const sin = Math.sin(angleFromEast);\n            // square corners in local ENU before rotation (meters)\n            const baseCorners = [\n                {\n                    x: -half,\n                    y: -half\n                },\n                {\n                    x: half,\n                    y: -half\n                },\n                {\n                    x: half,\n                    y: half\n                },\n                {\n                    x: -half,\n                    y: half\n                }\n            ];\n            const result = baseCorners.map((c)=>{\n                // rotate in ENU\n                const rx = c.x * cos - c.y * sin;\n                const ry = c.x * sin + c.y * cos;\n                const localPos = new Cesium1.Cartesian3(rx, ry, 0.0);\n                return Cesium1.Matrix4.multiplyByPoint(transform, localPos, new Cesium1.Cartesian3());\n            });\n            // Validate result for NaNs\n            for (const p of result){\n                if (isNaN(p.x) || isNaN(p.y) || isNaN(p.z)) return null;\n            }\n            return result;\n        };\n        // Exact theme (only using the colors now)\n        const NIGHT_THEME = {\n            // Dark asphalt surfaces; edge color carries status\n            roadSurfaceColorOpen: \"#2C2F3A\",\n            roadSurfaceColorClosed: \"#2C2F3A\",\n            roadSurfaceAlpha: 0.98,\n            roadShoulderColorOpen: \"#2C2F3A\",\n            roadShoulderColorClosed: \"#2C2F3A\",\n            roadShoulderAlpha: 0.98,\n            polygonOutlineColor: \"#A0A0A0\",\n            polygonOutlineAlpha: 0.95,\n            polygonOutlineWidth: 2.2,\n            // Intersection styling: red fill, white outline\n            intersectionFillColor: \"#E74C3C\",\n            intersectionFillAlpha: 1.0,\n            intersectionOutlineColor: \"#FFFFFF\",\n            intersectionOutlineAlpha: 1.0\n        };\n        // ----- cross-section constants -----\n        // total width (forward + backward + centre white line)\n        const TOTAL_ROAD_WIDTH = 40.0; // metres\n        const CENTERLINE_WIDTH = 1.0; // metres\n        // each direction (incl. its shoulder) gets half of the remaining width\n        const LANE_TOTAL_WIDTH = (TOTAL_ROAD_WIDTH - CENTERLINE_WIDTH) / 2.0; // 19.5 m\n        const HALF_LANE_TOTAL_WIDTH = LANE_TOTAL_WIDTH / 2.0; // 9.75 m\n        // make the asphalt slightly narrower than the lane (so there is a subtle shoulder)\n        const LANE_SHOULDER_PADDING = 1.0; // m each side\n        const LANE_SURFACE_WIDTH = LANE_TOTAL_WIDTH - 2 * LANE_SHOULDER_PADDING; // 17.5 m\n        // distance from the global centreline to the centre of each carriageway\n        // = half centreline + half lane width\n        const LANE_CENTER_OFFSET_MAG = CENTERLINE_WIDTH / 2.0 + HALF_LANE_TOTAL_WIDTH; // 0.5 + 9.75 = 10.25 m\n        // ROAD SEGMENTS\n        segments.forEach((s)=>{\n            const closed = isDispatchSegmentClosed(s);\n            if (!(closed && showClosedRoads || !closed && showOpenRoads)) return;\n            try {\n                const surfaceColor = Cesium1.Color.fromCssColorString(closed ? NIGHT_THEME.roadSurfaceColorClosed : NIGHT_THEME.roadSurfaceColorOpen).withAlpha(NIGHT_THEME.roadSurfaceAlpha);\n                const shoulderColor = Cesium1.Color.fromCssColorString(closed ? NIGHT_THEME.roadShoulderColorClosed : NIGHT_THEME.roadShoulderColorOpen).withAlpha(NIGHT_THEME.roadShoulderAlpha);\n                const edgeColor = closed ? Cesium1.Color.fromCssColorString(\"#E74C3C\") : Cesium1.Color.fromCssColorString(\"#FFD600\");\n                const centerlineColor = Cesium1.Color.WHITE;\n                const g = typeof s.geometry === \"string\" ? JSON.parse(s.geometry) : s.geometry;\n                if (!g?.coordinates) return;\n                // If Frontrunner road geometries arrive as polygons, render them as filled polygons.\n                if (g.type === \"Polygon\" || g.type === \"MultiPolygon\") {\n                    const polys = g.type === \"Polygon\" ? [\n                        g.coordinates\n                    ] : g.coordinates;\n                    polys.forEach((coords)=>{\n                        const hierarchy = parsePolygonHierarchy({\n                            type: \"Polygon\",\n                            coordinates: coords\n                        });\n                        if (hierarchy && hierarchy.positions && hierarchy.positions.length >= 3 && arePositionsValid(hierarchy.positions)) {\n                            viewer.entities.add({\n                                polygon: {\n                                    hierarchy,\n                                    material: surfaceColor,\n                                    outline: true,\n                                    outlineColor: edgeColor,\n                                    height: 0.0\n                                },\n                                properties: {\n                                    category: \"frontrunner_road_polygon\",\n                                    ...s\n                                }\n                            });\n                        }\n                    });\n                    return; // handled polygon case; skip corridor rendering\n                }\n                let allLineStrings = [];\n                if (g.type === \"MultiLineString\") {\n                    allLineStrings = g.coordinates;\n                } else if (g.type === \"LineString\") {\n                    allLineStrings = [\n                        g.coordinates\n                    ];\n                } else {\n                    return;\n                }\n                allLineStrings.forEach((coordinates)=>{\n                    // Validate coordinates structure\n                    if (!coordinates || !Array.isArray(coordinates) || coordinates.length < 2) return;\n                    // Filter invalid coordinates (NaN, etc)\n                    const validCoords = coordinates.filter((c)=>Array.isArray(c) && c.length >= 2 && Number.isFinite(c[0]) && Number.isFinite(c[1]));\n                    if (validCoords.length < 2) return;\n                    const rawPositions = validCoords.map((c)=>Cesium1.Cartesian3.fromDegrees(c[0], c[1]));\n                    // Filter duplicates and points that are too close (within 1cm)\n                    const positions = filterUniquePositions(rawPositions);\n                    if (positions.length < 2) return;\n                    // Extra guard for NaNs/degeneracy\n                    const spanOk = positions.every((p)=>Number.isFinite(p.x) && Number.isFinite(p.y) && Number.isFinite(p.z));\n                    if (!spanOk) return;\n                    const bbox = positions.reduce((acc, p)=>{\n                        acc.minX = Math.min(acc.minX, p.x);\n                        acc.maxX = Math.max(acc.maxX, p.x);\n                        acc.minY = Math.min(acc.minY, p.y);\n                        acc.maxY = Math.max(acc.maxY, p.y);\n                        acc.minZ = Math.min(acc.minZ, p.z);\n                        acc.maxZ = Math.max(acc.maxZ, p.z);\n                        return acc;\n                    }, {\n                        minX: Infinity,\n                        maxX: -Infinity,\n                        minY: Infinity,\n                        maxY: -Infinity,\n                        minZ: Infinity,\n                        maxZ: -Infinity\n                    });\n                    const span = Math.max(bbox.maxX - bbox.minX, bbox.maxY - bbox.minY, bbox.maxZ - bbox.minZ);\n                    if (!Number.isFinite(span) || span < 0.1) return;\n                    // ----- decide which side this lane sits on -----\n                    const dir = (s.direction || \"\").toString().toLowerCase();\n                    let dirSign = 0; // 0 = centred (if no direction), +1 = one side, -1 = opposite\n                    if (dir.includes(\"forward\")) dirSign = 1;\n                    else if (dir.includes(\"backward\")) dirSign = -1;\n                    const laneCenterOffset = dirSign * LANE_CENTER_OFFSET_MAG;\n                    // centreline of this *lane* (shifted left/right from global centreline)\n                    let lanePositions = laneCenterOffset === 0 ? positions : computeOffsetLine(positions, laneCenterOffset);\n                    // Final filter to ensure no duplicates after offset calculation\n                    lanePositions = filterUniquePositions(lanePositions);\n                    // Verify lanePositions after offset calculation\n                    if (!lanePositions || lanePositions.length < 2) return;\n                    // Colours: dark fill, edges indicate status (open yellow, closed red)\n                    // 1. Lane shoulder (full lane width, shifted to its side)\n                    viewer.entities.add({\n                        corridor: {\n                            positions: lanePositions,\n                            width: LANE_TOTAL_WIDTH,\n                            material: shoulderColor,\n                            height: 0.0,\n                            cornerType: Cesium1.CornerType.MITERED,\n                            outline: false\n                        },\n                        properties: {\n                            category: \"dispatch_segment\",\n                            style_role: \"road_shoulder\",\n                            ...s\n                        }\n                    });\n                    // 2. Lane asphalt surface (slightly narrower)\n                    viewer.entities.add({\n                        corridor: {\n                            positions: lanePositions,\n                            width: LANE_SURFACE_WIDTH,\n                            material: surfaceColor,\n                            height: 0.18,\n                            cornerType: Cesium1.CornerType.MITERED,\n                            outline: false\n                        },\n                        properties: {\n                            category: \"dispatch_segment\",\n                            style_role: \"road_surface\",\n                            ...s\n                        }\n                    });\n                    // 3. Centerline (dashed line)\n                    viewer.entities.add({\n                        polyline: {\n                            positions: lanePositions,\n                            width: CENTERLINE_WIDTH,\n                            material: new Cesium1.PolylineDashMaterialProperty({\n                                color: centerlineColor,\n                                dashLength: 16.0\n                            }),\n                            arcType: Cesium1.ArcType.GEODESIC\n                        },\n                        properties: {\n                            category: \"dispatch_segment\",\n                            style_role: \"road_centerline\",\n                            ...s\n                        }\n                    });\n                    // 4. Edges (solid lines)\n                    // Left edge\n                    const leftEdgeOffset = -HALF_LANE_TOTAL_WIDTH;\n                    let leftEdgePositions = computeOffsetLine(lanePositions, leftEdgeOffset);\n                    leftEdgePositions = filterUniquePositions(leftEdgePositions);\n                    if (leftEdgePositions && leftEdgePositions.length >= 2) {\n                        viewer.entities.add({\n                            polyline: {\n                                positions: leftEdgePositions,\n                                width: 2.0,\n                                material: edgeColor,\n                                arcType: Cesium1.ArcType.GEODESIC\n                            },\n                            properties: {\n                                category: \"dispatch_segment\",\n                                style_role: \"road_edge_left\",\n                                ...s\n                            }\n                        });\n                    }\n                    // Right edge\n                    const rightEdgeOffset = HALF_LANE_TOTAL_WIDTH;\n                    let rightEdgePositions = computeOffsetLine(lanePositions, rightEdgeOffset);\n                    rightEdgePositions = filterUniquePositions(rightEdgePositions);\n                    if (rightEdgePositions && rightEdgePositions.length >= 2) {\n                        viewer.entities.add({\n                            polyline: {\n                                positions: rightEdgePositions,\n                                width: 2.0,\n                                material: edgeColor,\n                                arcType: Cesium1.ArcType.GEODESIC\n                            },\n                            properties: {\n                                category: \"dispatch_segment\",\n                                style_role: \"road_edge_right\",\n                                ...s\n                            }\n                        });\n                    }\n                });\n            } catch (e) {\n                console.error(\"Error rendering segment\", s, e);\n            }\n        });\n        // OTHER LAYERS (trolley, intersections, etc.)\n        if (showTrolley) {\n            trolleySegments.forEach((t)=>{\n                try {\n                    if (!Number.isFinite(t.start_longitude) || !Number.isFinite(t.start_latitude) || !Number.isFinite(t.end_longitude) || !Number.isFinite(t.end_latitude)) {\n                        return;\n                    }\n                    viewer.entities.add({\n                        polyline: {\n                            positions: Cesium1.Cartesian3.fromDegreesArray([\n                                t.start_longitude,\n                                t.start_latitude,\n                                t.end_longitude,\n                                t.end_latitude\n                            ]),\n                            width: 5,\n                            material: Cesium1.Color.fromCssColorString(\"#FF6B6B\").withAlpha(0.9)\n                        },\n                        properties: {\n                            category: \"dispatch_trolley\",\n                            ...t\n                        }\n                    });\n                } catch (e) {\n                    console.error(\"Error rendering trolley segment\", t, e);\n                }\n            });\n        }\n        if (showIntersections) {\n            console.log(`Rendering ${intersections.length} intersections`);\n            intersections.forEach((i)=>{\n                try {\n                    const raw = i.geom_geojson || i.geometry;\n                    const hierarchy = parsePolygonHierarchy(raw);\n                    if (!hierarchy || !hierarchy.positions || hierarchy.positions.length < 3 || !arePositionsValid(hierarchy.positions)) {\n                        return;\n                    }\n                    viewer.entities.add({\n                        polygon: {\n                            hierarchy,\n                            material: Cesium1.Color.fromCssColorString(NIGHT_THEME.intersectionFillColor).withAlpha(NIGHT_THEME.intersectionFillAlpha),\n                            height: 0.6,\n                            outline: true,\n                            outlineColor: Cesium1.Color.fromCssColorString(NIGHT_THEME.intersectionOutlineColor).withAlpha(NIGHT_THEME.intersectionOutlineAlpha),\n                            outlineWidth: NIGHT_THEME.polygonOutlineWidth\n                        },\n                        properties: {\n                            category: \"dispatch_intersection\",\n                            ...i,\n                            part_index: 0\n                        }\n                    });\n                } catch (e) {\n                    console.error(\"Bad intersection geometry\", i, e);\n                }\n            });\n        }\n        locations.forEach((l)=>{\n            try {\n                if (!Number.isFinite(l.latitude) || !Number.isFinite(l.longitude)) return;\n                const type = resolveDispatchLocationType(l);\n                const typeLower = (type || \"\").toLowerCase();\n                const sourceLower = (l.source || \"\").toLowerCase();\n                const isNumericType = /^[0-9]+$/.test(typeLower);\n                if (!visibleLocationTypes.has(type)) {\n                    // console.log('[CombinedMap][Locations] Skip type not visible', {\n                    //     type,\n                    //     location_id: l.location_id,\n                    //     unit_type: l.unit_type,\n                    //     unit_type_id: l.unit_type_id,\n                    //     location_category: l.location_category,\n                    //     source: l.source,\n                    // });\n                    return;\n                }\n                const color = Cesium1.Color.fromCssColorString(getDispatchLocationColor(type));\n                const position = Cesium1.Cartesian3.fromDegrees(l.longitude, l.latitude, 2.0 // 2m above ground so locations sit clearly above the road surface\n                );\n                // If geometry is a polygon, render it; otherwise render square/point.\n                const rawGeom = l.geometry ? typeof l.geometry === \"string\" ? l.geometry : JSON.stringify(l.geometry) : null;\n                if (rawGeom) {\n                    const hierarchy = parsePolygonHierarchy(rawGeom);\n                    if (hierarchy && hierarchy.positions && hierarchy.positions.length >= 3 && arePositionsValid(hierarchy.positions)) {\n                        viewer.entities.add({\n                            polygon: {\n                                hierarchy,\n                                material: color.withAlpha(0.9),\n                                outline: true,\n                                outlineColor: Cesium1.Color.WHITE,\n                                perPositionHeight: true\n                            },\n                            properties: {\n                                category: \"frontrunner_location\",\n                                ...l\n                            }\n                        });\n                        return;\n                    }\n                }\n                const showSquare = SQUARE_TYPES.has(typeLower) || isNumericType;\n                if (!showSquare) {\n                    return; // skip all non-target types\n                }\n                // Render square pad for allowed types\n                const bearingFromNorth = getNearestRoadBearing(l, segments);\n                const angleFromEast = -bearingFromNorth; // perpendicular to road\n                const squarePositions = computeSquarePolygon(position, 40.0, angleFromEast);\n                if (squarePositions && arePositionsValid(squarePositions)) {\n                    const hierarchy = new Cesium1.PolygonHierarchy(squarePositions);\n                    viewer.entities.add({\n                        polygon: {\n                            hierarchy,\n                            material: color.withAlpha(1.0),\n                            outline: true,\n                            outlineColor: Cesium1.Color.WHITE,\n                            perPositionHeight: true // use the actual heights in hierarchy (≈2m)\n                        },\n                        properties: {\n                            category: \"dispatch_location\",\n                            ...l\n                        }\n                    });\n                } else {\n                // console.log('[CombinedMap][Locations] Invalid square geometry, skipping', {\n                //     type,\n                //     location_id: l.location_id,\n                //     unit_type: l.unit_type,\n                //     unit_type_id: l.unit_type_id,\n                //     location_category: l.location_category,\n                //     source: l.source,\n                // });\n                }\n            // If invalid square, skip (no point fallback)\n            } catch (e) {\n                console.error(\"Error rendering location\", l, e);\n            }\n        });\n    }, [\n        locations,\n        segments,\n        trolleySegments,\n        wateringStations,\n        speedMonitoring,\n        intersections,\n        showOpenRoads,\n        showClosedRoads,\n        showIntersections,\n        showTrolley,\n        showWatering,\n        showSpeed,\n        visibleLocationTypes\n    ]);\n    const getCategoryDisplayName = (consolidatedCategory)=>{\n        const displayNames = {\n            \"pit\": \"Pit Locations\",\n            \"parking\": \"Parking Bay\",\n            \"crusher\": \"Crusher Operations\",\n            \"fuel\": \"Fuel Station\",\n            \"intersection\": \"Road Networks\",\n            \"dump\": \"Dump Site\",\n            \"blast\": \"Blast Area\",\n            \"stockpile\": \"Stockpile\",\n            \"workshop\": \"Workshop\",\n            \"gate\": \"Gate\",\n            \"access\": \"Access Point\",\n            \"default\": \"Other\"\n        };\n        if (displayNames[consolidatedCategory]) {\n            return displayNames[consolidatedCategory];\n        }\n        const categoryStr = String(consolidatedCategory || \"Other\");\n        return categoryStr.split(\"_\").map((word)=>word.charAt(0).toUpperCase() + word.slice(1)).join(\" \");\n    };\n    // --- Measurement helpers (mirror Frontrunner behavior) ---\n    const removePreviewEntities = (viewer)=>{\n        if (!viewer) return;\n        const refs = [\n            previewLineEntityRef,\n            previewLabelEntityRef\n        ];\n        refs.forEach((ref)=>{\n            if (ref.current) {\n                try {\n                    viewer.entities.remove(ref.current);\n                } catch (_) {}\n                ref.current = null;\n            }\n        });\n        viewer.scene?.requestRender();\n    };\n    const clearMeasurements = (viewer)=>{\n        if (!viewer) return;\n        measurementEntitiesRef.current.forEach((e)=>{\n            try {\n                viewer.entities.remove(e);\n            } catch (_) {}\n        });\n        overlayEntitiesRef.current.forEach((e)=>{\n            try {\n                viewer.entities.remove(e);\n            } catch (_) {}\n        });\n        removePreviewEntities(viewer);\n        measurementEntitiesRef.current = [];\n        overlayEntitiesRef.current = [];\n        measurementPointsRef.current = [];\n        areaLockedRef.current = false;\n        measurementModeRef.current = \"none\";\n        setMeasurementMode(\"none\");\n        viewer.scene?.requestRender();\n    };\n    const drawDistance = (viewer, points)=>{\n        overlayEntitiesRef.current.forEach((e)=>{\n            try {\n                viewer.entities.remove(e);\n            } catch (_) {}\n        });\n        overlayEntitiesRef.current = [];\n        const positions = points.map((p)=>p.cartesian);\n        const line = viewer.entities.add({\n            polyline: {\n                positions,\n                width: 4,\n                material: Cesium.Color.WHITE\n            }\n        });\n        measurementEntitiesRef.current.push(line);\n        overlayEntitiesRef.current.push(line);\n        const ellipsoid = viewer.scene.globe.ellipsoid;\n        const c1 = ellipsoid.cartesianToCartographic(positions[0]);\n        const c2 = ellipsoid.cartesianToCartographic(positions[1]);\n        const geodesic = new Cesium.EllipsoidGeodesic(c1, c2);\n        const distanceMeters = geodesic.surfaceDistance;\n        const distanceFeet = distanceMeters * 3.28084;\n        if (!Number.isFinite(distanceMeters) || distanceMeters < 0.01) {\n            // discard second point\n            const lastPoint = measurementEntitiesRef.current.pop();\n            try {\n                viewer.entities.remove(lastPoint);\n            } catch (_) {}\n            measurementPointsRef.current = [\n                points[0]\n            ];\n            viewer.scene?.requestRender();\n            return;\n        }\n        const metersText = `${distanceMeters.toFixed(2)} m`;\n        const feetText = `${distanceFeet.toFixed(2)} ft`;\n        const mid = Cesium.Cartesian3.lerp(positions[0], positions[1], 0.5, new Cesium.Cartesian3());\n        const label1 = viewer.entities.add({\n            position: mid,\n            label: {\n                text: metersText,\n                font: '22px bold \"Arial\", sans-serif',\n                fillColor: Cesium.Color.YELLOW,\n                outlineColor: Cesium.Color.BLACK,\n                outlineWidth: 4,\n                style: Cesium.LabelStyle.FILL_AND_OUTLINE,\n                verticalOrigin: Cesium.VerticalOrigin.CENTER,\n                horizontalOrigin: Cesium.HorizontalOrigin.CENTER,\n                pixelOffset: new Cesium.Cartesian2(0, -30),\n                disableDepthTestDistance: Number.POSITIVE_INFINITY\n            }\n        });\n        const label2 = viewer.entities.add({\n            position: mid,\n            label: {\n                text: feetText,\n                font: '20px bold \"Arial\", sans-serif',\n                fillColor: Cesium.Color.WHITE,\n                outlineColor: Cesium.Color.BLACK,\n                outlineWidth: 4,\n                style: Cesium.LabelStyle.FILL_AND_OUTLINE,\n                verticalOrigin: Cesium.VerticalOrigin.CENTER,\n                horizontalOrigin: Cesium.HorizontalOrigin.CENTER,\n                pixelOffset: new Cesium.Cartesian2(0, 30),\n                disableDepthTestDistance: Number.POSITIVE_INFINITY\n            }\n        });\n        measurementEntitiesRef.current.push(label1, label2);\n        overlayEntitiesRef.current.push(label1, label2);\n        areaLockedRef.current = true;\n        measurementModeRef.current = \"none\";\n        setMeasurementMode(\"none\");\n        viewer.scene?.requestRender();\n    };\n    const drawAreaPreview = (viewer, points)=>{\n        overlayEntitiesRef.current.forEach((e)=>{\n            try {\n                viewer.entities.remove(e);\n            } catch (_) {}\n        });\n        overlayEntitiesRef.current = [];\n        if (points.length < 2) return;\n        const positions = points.map((p)=>p.cartesian);\n        const polyline = viewer.entities.add({\n            polyline: {\n                positions,\n                width: 2,\n                material: Cesium.Color.CYAN.withAlpha(0.8)\n            }\n        });\n        overlayEntitiesRef.current.push(polyline);\n        viewer.scene?.requestRender();\n    };\n    const computeArea = (positions, ellipsoid)=>{\n        const origin = positions[0];\n        const enu = Cesium.Transforms.eastNorthUpToFixedFrame(origin, ellipsoid);\n        const inv = Cesium.Matrix4.inverseTransformation(enu, new Cesium.Matrix4());\n        const local = positions.map((p)=>{\n            const diff = Cesium.Cartesian3.subtract(p, origin, new Cesium.Cartesian3());\n            return Cesium.Matrix4.multiplyByPointAsVector(inv, diff, new Cesium.Cartesian3());\n        });\n        let area = 0;\n        for(let i = 0, j = local.length - 1; i < local.length; j = i++){\n            area += local[j].x * local[i].y - local[i].x * local[j].y;\n        }\n        return Math.abs(area) * 0.5;\n    };\n    const finalizeAreaMeasurement = (viewer)=>{\n        const pts = measurementPointsRef.current;\n        if (!viewer || pts.length < 3 || areaLockedRef.current) return;\n        overlayEntitiesRef.current.forEach((e)=>{\n            try {\n                viewer.entities.remove(e);\n            } catch (_) {}\n        });\n        overlayEntitiesRef.current = [];\n        removePreviewEntities(viewer);\n        const positions = pts.map((p)=>p.cartesian);\n        if (!arePositionsValid(positions)) {\n            measurementPointsRef.current = pts.slice(0, 1);\n            viewer.scene?.requestRender();\n            return;\n        }\n        const poly = viewer.entities.add({\n            polygon: {\n                hierarchy: new Cesium.PolygonHierarchy(positions),\n                material: Cesium.Color.YELLOW.withAlpha(0.25),\n                outline: true,\n                outlineColor: Cesium.Color.YELLOW,\n                outlineWidth: 2\n            }\n        });\n        measurementEntitiesRef.current.push(poly);\n        overlayEntitiesRef.current.push(poly);\n        const ellipsoid = viewer.scene.globe.ellipsoid;\n        const areaSqm = computeArea(positions, ellipsoid);\n        const areaSqft = areaSqm * 10.7639;\n        const centroid = positions.reduce((acc, cur)=>Cesium.Cartesian3.add(acc, cur, acc), new Cesium.Cartesian3());\n        Cesium.Cartesian3.multiplyByScalar(centroid, 1 / positions.length, centroid);\n        const label = viewer.entities.add({\n            position: centroid,\n            label: {\n                text: `${areaSqm.toFixed(2)} m² / ${areaSqft.toFixed(2)} ft²`,\n                font: '20px bold \"Arial\", sans-serif',\n                fillColor: Cesium.Color.YELLOW,\n                outlineColor: Cesium.Color.BLACK,\n                outlineWidth: 4,\n                style: Cesium.LabelStyle.FILL_AND_OUTLINE,\n                verticalOrigin: Cesium.VerticalOrigin.CENTER,\n                horizontalOrigin: Cesium.HorizontalOrigin.CENTER,\n                pixelOffset: new Cesium.Cartesian2(0, -20),\n                disableDepthTestDistance: Number.POSITIVE_INFINITY\n            }\n        });\n        measurementEntitiesRef.current.push(label);\n        overlayEntitiesRef.current.push(label);\n        areaLockedRef.current = true;\n        measurementModeRef.current = \"none\";\n        setMeasurementMode(\"none\");\n        viewer.scene?.requestRender();\n    };\n    const updatePreviewLine = (viewer, cursorCartesian)=>{\n        if (!viewer) return;\n        if (areaLockedRef.current) {\n            removePreviewEntities(viewer);\n            return;\n        }\n        const mode = measurementModeRef.current;\n        const pts = measurementPointsRef.current;\n        if (mode !== \"distance\" || pts.length !== 1) {\n            removePreviewEntities(viewer);\n            return;\n        }\n        if (!cursorCartesian) {\n            removePreviewEntities(viewer);\n            return;\n        }\n        const first = pts[0].cartesian;\n        removePreviewEntities(viewer);\n        previewLineEntityRef.current = viewer.entities.add({\n            polyline: {\n                positions: [\n                    first,\n                    cursorCartesian\n                ],\n                width: 3,\n                material: Cesium.Color.YELLOW.withAlpha(0.8)\n            }\n        });\n        const ellipsoid = viewer.scene.globe.ellipsoid;\n        const c1 = ellipsoid.cartesianToCartographic(first);\n        const c2 = ellipsoid.cartesianToCartographic(cursorCartesian);\n        const geodesic = new Cesium.EllipsoidGeodesic(c1, c2);\n        const distanceMeters = geodesic.surfaceDistance;\n        const distanceFeet = distanceMeters * 3.28084;\n        const text = `${distanceMeters.toFixed(2)} m / ${distanceFeet.toFixed(2)} ft`;\n        const mid = Cesium.Cartesian3.lerp(first, cursorCartesian, 0.5, new Cesium.Cartesian3());\n        previewLabelEntityRef.current = viewer.entities.add({\n            position: mid,\n            label: {\n                text,\n                font: '20px bold \"Arial\", sans-serif',\n                fillColor: Cesium.Color.YELLOW,\n                outlineColor: Cesium.Color.BLACK,\n                outlineWidth: 4,\n                style: Cesium.LabelStyle.FILL_AND_OUTLINE,\n                verticalOrigin: Cesium.VerticalOrigin.CENTER,\n                pixelOffset: new Cesium.Cartesian2(0, -25),\n                disableDepthTestDistance: Number.POSITIVE_INFINITY\n            }\n        });\n        viewer.scene?.requestRender();\n    };\n    const addMeasurementPoint = (viewer, cartesian)=>{\n        if (!viewer || !cartesian) return;\n        if (areaLockedRef.current) return;\n        const mode = measurementModeRef.current;\n        if (mode === \"none\") return;\n        const newPoint = {\n            id: (0,crypto__WEBPACK_IMPORTED_MODULE_3__.randomUUID)(),\n            cartesian\n        };\n        const newPoints = [\n            ...measurementPointsRef.current,\n            newPoint\n        ];\n        measurementPointsRef.current = newPoints;\n        const pointEntity = viewer.entities.add({\n            position: cartesian,\n            point: {\n                pixelSize: 12,\n                color: Cesium.Color.WHITE,\n                outlineColor: Cesium.Color.CYAN,\n                outlineWidth: 3,\n                heightReference: Cesium.HeightReference.CLAMP_TO_GROUND,\n                disableDepthTestDistance: Number.POSITIVE_INFINITY\n            }\n        });\n        measurementEntitiesRef.current.push(pointEntity);\n        if (mode === \"distance\" && newPoints.length === 2) {\n            removePreviewEntities(viewer);\n            drawDistance(viewer, newPoints);\n        } else if (mode === \"area\" && newPoints.length >= 2) {\n            drawAreaPreview(viewer, newPoints);\n        }\n    };\n    const handleMeasureChange = (mode)=>{\n        if (mode === \"clear\") {\n            frClearMeasurements();\n            setMeasurementMode(\"none\");\n            return;\n        }\n        frStartMeasurement(mode);\n        setMeasurementMode(mode);\n    };\n    if (mapError) return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        style: {\n            color: \"white\",\n            padding: 20\n        },\n        children: [\n            \"Error: \",\n            mapError\n        ]\n    }, void 0, true, {\n        fileName: \"/app/components/CombinedMap.js\",\n        lineNumber: 1869,\n        columnNumber: 26\n    }, this);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((next_script__WEBPACK_IMPORTED_MODULE_2___default()), {\n                src: \"https://cdnjs.cloudflare.com/ajax/libs/cesium/1.126.0/Cesium.js\",\n                onLoad: ()=>setCesiumLoaded(true)\n            }, void 0, false, {\n                fileName: \"/app/components/CombinedMap.js\",\n                lineNumber: 1873,\n                columnNumber: 13\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_TopMenuBar__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n                onComputePath: ()=>{\n                    openTurnDialog();\n                },\n                onManageProfiles: ()=>{\n                    const val = window.prompt(\"Enter Road ID to view profile\");\n                    if (val && val.trim().length > 0) {\n                        setSelectedRoadId(val.trim());\n                        setShowProfileViewer(true);\n                    }\n                },\n                onMeasureDistance: ()=>handleMeasureChange(\"distance\"),\n                onMeasureArea: ()=>handleMeasureChange(\"area\")\n            }, void 0, false, {\n                fileName: \"/app/components/CombinedMap.js\",\n                lineNumber: 1874,\n                columnNumber: 13\n            }, this),\n            turnDialogOpen && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_TurnPathStatusBanner__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n                        currentStep: turnCurrentStep,\n                        selectedSourceRoad: turnSourceRoad,\n                        selectedDestinationRoad: turnDestRoad,\n                        onCancel: closeTurnDialog\n                    }, void 0, false, {\n                        fileName: \"/app/components/CombinedMap.js\",\n                        lineNumber: 1890,\n                        columnNumber: 21\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_TurnPathDialog__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n                        isOpen: turnDialogOpen,\n                        onClose: closeTurnDialog,\n                        onStartSelection: (config)=>{\n                            startTurnSelection(config);\n                        },\n                        vehicleProfiles: {},\n                        currentStep: turnCurrentStep\n                    }, void 0, false, {\n                        fileName: \"/app/components/CombinedMap.js\",\n                        lineNumber: 1896,\n                        columnNumber: 21\n                    }, this)\n                ]\n            }, void 0, true),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                style: {\n                    position: \"fixed\",\n                    top: 40,\n                    left: 0,\n                    right: 0,\n                    bottom: 0,\n                    overflow: \"hidden\",\n                    background: \"#000\"\n                },\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        ref: mapContainer,\n                        style: {\n                            position: \"absolute\",\n                            inset: 0,\n                            background: \"#1a1a2e\"\n                        }\n                    }, void 0, false, {\n                        fileName: \"/app/components/CombinedMap.js\",\n                        lineNumber: 1908,\n                        columnNumber: 17\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        style: {\n                            display: \"none\",\n                            position: \"absolute\",\n                            top: 20,\n                            right: 20,\n                            width: 300,\n                            backgroundColor: \"rgba(40, 40, 40, 0.75)\",\n                            border: \"1px solid rgba(120, 120, 120, 0.6)\",\n                            borderRadius: \"8px\",\n                            boxShadow: \"0 4px 20px rgba(0, 0, 0, 0.4)\",\n                            backdropFilter: \"blur(15px)\",\n                            zIndex: 1000,\n                            fontFamily: `'Inter','Segoe UI',Arial,sans-serif`,\n                            overflow: \"hidden\"\n                        },\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                style: {\n                                    backgroundColor: \"rgba(30, 30, 30, 0.8)\",\n                                    padding: \"12px 16px\",\n                                    borderRadius: \"8px 8px 0 0\",\n                                    display: \"flex\",\n                                    alignItems: \"center\",\n                                    justifyContent: \"space-between\"\n                                },\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        style: {\n                                            display: \"flex\",\n                                            alignItems: \"center\",\n                                            gap: \"10px\"\n                                        },\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                style: {\n                                                    width: \"20px\",\n                                                    height: \"20px\",\n                                                    backgroundColor: \"#3498db\",\n                                                    borderRadius: \"4px\",\n                                                    display: \"flex\",\n                                                    alignItems: \"center\",\n                                                    justifyContent: \"center\"\n                                                }\n                                            }, void 0, false, {\n                                                fileName: \"/app/components/CombinedMap.js\",\n                                                lineNumber: 1933,\n                                                columnNumber: 29\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                style: {\n                                                    color: \"white\",\n                                                    fontWeight: \"600\",\n                                                    fontSize: \"14px\"\n                                                },\n                                                children: \"Dispatch Map\"\n                                            }, void 0, false, {\n                                                fileName: \"/app/components/CombinedMap.js\",\n                                                lineNumber: 1943,\n                                                columnNumber: 29\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/app/components/CombinedMap.js\",\n                                        lineNumber: 1932,\n                                        columnNumber: 25\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        style: {\n                                            display: \"flex\",\n                                            alignItems: \"center\",\n                                            gap: \"8px\"\n                                        },\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                style: {\n                                                    backgroundColor: \"rgba(52, 152, 219, 0.3)\",\n                                                    border: \"1px solid rgba(52, 152, 219, 0.5)\",\n                                                    borderRadius: \"4px\",\n                                                    color: \"#3498db\",\n                                                    cursor: \"pointer\",\n                                                    padding: \"4px 8px\",\n                                                    fontSize: \"12px\",\n                                                    fontWeight: \"500\",\n                                                    display: \"flex\",\n                                                    alignItems: \"center\",\n                                                    gap: \"4px\",\n                                                    transition: \"all 0.2s\"\n                                                },\n                                                onClick: recenterView,\n                                                onMouseEnter: (e)=>{\n                                                    e.target.style.backgroundColor = \"rgba(52, 152, 219, 0.5)\";\n                                                },\n                                                onMouseLeave: (e)=>{\n                                                    e.target.style.backgroundColor = \"rgba(52, 152, 219, 0.3)\";\n                                                },\n                                                title: \"Recenter map on current data\",\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                                    width: \"16\",\n                                                    height: \"16\",\n                                                    viewBox: \"0 0 16 16\",\n                                                    style: {\n                                                        display: \"inline-block\",\n                                                        verticalAlign: \"middle\"\n                                                    },\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"circle\", {\n                                                            cx: \"8\",\n                                                            cy: \"8\",\n                                                            r: \"7.5\",\n                                                            fill: \"#000\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/app/components/CombinedMap.js\",\n                                                            lineNumber: 1978,\n                                                            columnNumber: 37\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"circle\", {\n                                                            cx: \"8\",\n                                                            cy: \"8\",\n                                                            r: \"6\",\n                                                            fill: \"none\",\n                                                            stroke: \"#CC5500\",\n                                                            strokeWidth: \"1.5\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/app/components/CombinedMap.js\",\n                                                            lineNumber: 1979,\n                                                            columnNumber: 37\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"circle\", {\n                                                            cx: \"8\",\n                                                            cy: \"8\",\n                                                            r: \"3\",\n                                                            fill: \"#CC5500\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/app/components/CombinedMap.js\",\n                                                            lineNumber: 1980,\n                                                            columnNumber: 37\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"rect\", {\n                                                            x: \"7\",\n                                                            y: \"0\",\n                                                            width: \"2\",\n                                                            height: \"3\",\n                                                            fill: \"#CC5500\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/app/components/CombinedMap.js\",\n                                                            lineNumber: 1981,\n                                                            columnNumber: 37\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"rect\", {\n                                                            x: \"7\",\n                                                            y: \"13\",\n                                                            width: \"2\",\n                                                            height: \"3\",\n                                                            fill: \"#CC5500\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/app/components/CombinedMap.js\",\n                                                            lineNumber: 1982,\n                                                            columnNumber: 37\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"rect\", {\n                                                            x: \"0\",\n                                                            y: \"7\",\n                                                            width: \"3\",\n                                                            height: \"2\",\n                                                            fill: \"#CC5500\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/app/components/CombinedMap.js\",\n                                                            lineNumber: 1983,\n                                                            columnNumber: 37\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"rect\", {\n                                                            x: \"13\",\n                                                            y: \"7\",\n                                                            width: \"3\",\n                                                            height: \"2\",\n                                                            fill: \"#CC5500\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/app/components/CombinedMap.js\",\n                                                            lineNumber: 1984,\n                                                            columnNumber: 37\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/app/components/CombinedMap.js\",\n                                                    lineNumber: 1972,\n                                                    columnNumber: 33\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"/app/components/CombinedMap.js\",\n                                                lineNumber: 1948,\n                                                columnNumber: 29\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                style: {\n                                                    color: \"white\",\n                                                    fontSize: \"16px\",\n                                                    cursor: \"pointer\",\n                                                    padding: \"4px\",\n                                                    transition: \"transform 0.2s\"\n                                                },\n                                                children: \"▼\"\n                                            }, void 0, false, {\n                                                fileName: \"/app/components/CombinedMap.js\",\n                                                lineNumber: 1987,\n                                                columnNumber: 29\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/app/components/CombinedMap.js\",\n                                        lineNumber: 1947,\n                                        columnNumber: 25\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/app/components/CombinedMap.js\",\n                                lineNumber: 1924,\n                                columnNumber: 21\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                style: {\n                                    padding: \"12px\",\n                                    borderBottom: \"1px solid rgba(120, 120, 120, 0.3)\",\n                                    backgroundColor: \"rgba(52, 152, 219, 0.1)\"\n                                },\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                        style: {\n                                            display: \"block\",\n                                            marginBottom: \"6px\",\n                                            fontSize: \"11px\",\n                                            color: \"#bdc3c7\",\n                                            fontWeight: \"600\"\n                                        },\n                                        children: \"Base Layer\"\n                                    }, void 0, false, {\n                                        fileName: \"/app/components/CombinedMap.js\",\n                                        lineNumber: 2006,\n                                        columnNumber: 25\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"select\", {\n                                        value: baseLayer,\n                                        onChange: (e)=>setBaseLayer(e.target.value),\n                                        style: {\n                                            width: \"100%\",\n                                            padding: \"6px 8px\",\n                                            backgroundColor: \"rgba(40, 40, 40, 0.9)\",\n                                            color: \"white\",\n                                            border: \"1px solid rgba(120, 120, 120, 0.4)\",\n                                            borderRadius: \"4px\",\n                                            fontSize: \"12px\",\n                                            cursor: \"pointer\",\n                                            outline: \"none\"\n                                        },\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                                value: \"night\",\n                                                children: \"Night Mode (Dark)\"\n                                            }, void 0, false, {\n                                                fileName: \"/app/components/CombinedMap.js\",\n                                                lineNumber: 2030,\n                                                columnNumber: 29\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                                value: \"day\",\n                                                children: \"Day Mode (Satellite)\"\n                                            }, void 0, false, {\n                                                fileName: \"/app/components/CombinedMap.js\",\n                                                lineNumber: 2031,\n                                                columnNumber: 29\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                                value: \"topographic\",\n                                                children: \"Topographic\"\n                                            }, void 0, false, {\n                                                fileName: \"/app/components/CombinedMap.js\",\n                                                lineNumber: 2032,\n                                                columnNumber: 29\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                                value: \"terrain\",\n                                                children: \"Terrain\"\n                                            }, void 0, false, {\n                                                fileName: \"/app/components/CombinedMap.js\",\n                                                lineNumber: 2033,\n                                                columnNumber: 29\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/app/components/CombinedMap.js\",\n                                        lineNumber: 2015,\n                                        columnNumber: 25\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/app/components/CombinedMap.js\",\n                                lineNumber: 2001,\n                                columnNumber: 21\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                style: {\n                                    padding: \"12px\",\n                                    color: \"white\",\n                                    fontSize: \"12px\",\n                                    maxHeight: \"320px\",\n                                    overflowY: \"auto\",\n                                    overflowX: \"hidden\",\n                                    scrollbarWidth: \"thin\",\n                                    scrollbarColor: \"rgba(120, 120, 120, 0.6) rgba(40, 40, 40, 0.3)\"\n                                }\n                            }, void 0, false, {\n                                fileName: \"/app/components/CombinedMap.js\",\n                                lineNumber: 2038,\n                                columnNumber: 21\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/app/components/CombinedMap.js\",\n                        lineNumber: 1912,\n                        columnNumber: 17\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/app/components/CombinedMap.js\",\n                lineNumber: 1907,\n                columnNumber: 13\n            }, this),\n            dialogOpen && dialogData && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                style: {\n                    position: \"fixed\",\n                    top: 0,\n                    left: 0,\n                    right: 0,\n                    bottom: 0,\n                    backgroundColor: \"rgba(0, 0, 0, 0.7)\",\n                    display: \"flex\",\n                    alignItems: \"center\",\n                    justifyContent: \"center\",\n                    zIndex: 10000,\n                    backdropFilter: \"blur(5px)\"\n                },\n                onClick: ()=>{\n                    setDialogOpen(false);\n                    setDialogData(null);\n                },\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    style: {\n                        backgroundColor: \"#1e1e1e\",\n                        borderRadius: \"8px\",\n                        padding: \"16px\",\n                        maxWidth: \"600px\",\n                        maxHeight: \"70vh\",\n                        width: \"85%\",\n                        boxShadow: \"0 8px 32px rgba(0, 0, 0, 0.5)\",\n                        border: \"1px solid rgba(255, 255, 255, 0.1)\",\n                        overflow: \"hidden\",\n                        display: \"flex\",\n                        flexDirection: \"column\"\n                    },\n                    onClick: (e)=>e.stopPropagation(),\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            style: {\n                                display: \"flex\",\n                                justifyContent: \"space-between\",\n                                alignItems: \"center\",\n                                marginBottom: \"12px\",\n                                paddingBottom: \"10px\",\n                                borderBottom: \"1px solid rgba(255, 255, 255, 0.2)\"\n                            },\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                                            style: {\n                                                color: \"#fff\",\n                                                margin: 0,\n                                                fontSize: \"16px\",\n                                                fontWeight: \"600\"\n                                            },\n                                            children: [\n                                                dialogData.category === \"intersection\" ? \"\\uD83D\\uDEA6\" : \"\\uD83D\\uDCCD\",\n                                                \" \",\n                                                dialogData.name\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/app/components/CombinedMap.js\",\n                                            lineNumber: 2080,\n                                            columnNumber: 33\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                            style: {\n                                                color: \"#bdc3c7\",\n                                                margin: \"2px 0 0 0\",\n                                                fontSize: \"11px\",\n                                                textTransform: \"capitalize\"\n                                            },\n                                            children: [\n                                                getCategoryDisplayName(dialogData.category),\n                                                \" Information\"\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/app/components/CombinedMap.js\",\n                                            lineNumber: 2083,\n                                            columnNumber: 33\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/app/components/CombinedMap.js\",\n                                    lineNumber: 2079,\n                                    columnNumber: 29\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    onClick: ()=>{\n                                        setDialogOpen(false);\n                                        setDialogData(null);\n                                    },\n                                    style: {\n                                        background: \"rgba(255, 255, 255, 0.1)\",\n                                        border: \"1px solid rgba(255, 255, 255, 0.2)\",\n                                        borderRadius: \"4px\",\n                                        color: \"#fff\",\n                                        cursor: \"pointer\",\n                                        padding: \"6px 12px\",\n                                        fontSize: \"12px\",\n                                        fontWeight: \"500\"\n                                    },\n                                    children: \"✕\"\n                                }, void 0, false, {\n                                    fileName: \"/app/components/CombinedMap.js\",\n                                    lineNumber: 2087,\n                                    columnNumber: 29\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/app/components/CombinedMap.js\",\n                            lineNumber: 2074,\n                            columnNumber: 25\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            style: {\n                                overflowY: \"auto\",\n                                flex: 1,\n                                paddingRight: \"6px\"\n                            },\n                            children: [\n                                dialogData.category === \"dispatch_segment\" && dialogData.allProperties.road_id && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    style: {\n                                        marginBottom: \"16px\",\n                                        padding: \"12px\",\n                                        backgroundColor: \"rgba(52, 152, 219, 0.1)\",\n                                        borderRadius: \"6px\",\n                                        border: \"1px solid rgba(52, 152, 219, 0.3)\"\n                                    },\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        onClick: ()=>{\n                                            setDialogOpen(false);\n                                            setSelectedRoadId(dialogData.allProperties.road_id);\n                                            setShowProfileViewer(true);\n                                        },\n                                        style: {\n                                            width: \"100%\",\n                                            background: \"#4ECDC4\",\n                                            color: \"white\",\n                                            border: \"none\",\n                                            padding: \"12px\",\n                                            borderRadius: \"6px\",\n                                            cursor: \"pointer\",\n                                            fontWeight: \"bold\",\n                                            fontSize: \"14px\",\n                                            display: \"flex\",\n                                            alignItems: \"center\",\n                                            justifyContent: \"center\",\n                                            gap: \"8px\"\n                                        },\n                                        children: \"\\uD83D\\uDCCA View Profile\"\n                                    }, void 0, false, {\n                                        fileName: \"/app/components/CombinedMap.js\",\n                                        lineNumber: 2104,\n                                        columnNumber: 37\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/app/components/CombinedMap.js\",\n                                    lineNumber: 2103,\n                                    columnNumber: 33\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    style: {\n                                        display: \"grid\",\n                                        gridTemplateColumns: \"repeat(auto-fit, minmax(200px, 1fr))\",\n                                        gap: \"8px\"\n                                    },\n                                    children: Object.entries(dialogData.allProperties).filter(([key])=>![\n                                            \"linestring\",\n                                            \"polygon\",\n                                            \"geometry\",\n                                            \"geometry_3d\",\n                                            \"propertyNames\",\n                                            \"definitionChanged\",\n                                            \"_listeners\",\n                                            \"color\",\n                                            \"style_role\"\n                                        ].includes(key) && !key.startsWith(\"_\")).map(([key, value])=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            style: {\n                                                backgroundColor: \"rgba(255, 255, 255, 0.05)\",\n                                                padding: \"8px\",\n                                                borderRadius: \"6px\",\n                                                border: \"1px solid rgba(255, 255, 255, 0.1)\"\n                                            },\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    style: {\n                                                        color: \"#bdc3c7\",\n                                                        fontSize: \"10px\",\n                                                        fontWeight: \"600\",\n                                                        textTransform: \"uppercase\",\n                                                        marginBottom: \"4px\"\n                                                    },\n                                                    children: key.replace(/_/g, \" \")\n                                                }, void 0, false, {\n                                                    fileName: \"/app/components/CombinedMap.js\",\n                                                    lineNumber: 2138,\n                                                    columnNumber: 45\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    style: {\n                                                        color: \"#fff\",\n                                                        fontSize: \"12px\",\n                                                        wordBreak: \"break-word\",\n                                                        fontFamily: \"monospace\",\n                                                        whiteSpace: \"pre-wrap\"\n                                                    },\n                                                    children: String(value)\n                                                }, void 0, false, {\n                                                    fileName: \"/app/components/CombinedMap.js\",\n                                                    lineNumber: 2141,\n                                                    columnNumber: 45\n                                                }, this)\n                                            ]\n                                        }, key, true, {\n                                            fileName: \"/app/components/CombinedMap.js\",\n                                            lineNumber: 2134,\n                                            columnNumber: 41\n                                        }, this))\n                                }, void 0, false, {\n                                    fileName: \"/app/components/CombinedMap.js\",\n                                    lineNumber: 2130,\n                                    columnNumber: 29\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/app/components/CombinedMap.js\",\n                            lineNumber: 2100,\n                            columnNumber: 25\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/app/components/CombinedMap.js\",\n                    lineNumber: 2063,\n                    columnNumber: 21\n                }, this)\n            }, void 0, false, {\n                fileName: \"/app/components/CombinedMap.js\",\n                lineNumber: 2054,\n                columnNumber: 17\n            }, this),\n            showProfileViewer && selectedRoadId && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_RoadProfileViewer__WEBPACK_IMPORTED_MODULE_9__[\"default\"], {\n                roadId: selectedRoadId,\n                onClose: ()=>{\n                    setShowProfileViewer(false);\n                    setSelectedRoadId(null);\n                }\n            }, void 0, false, {\n                fileName: \"/app/components/CombinedMap.js\",\n                lineNumber: 2152,\n                columnNumber: 17\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"style\", {\n                dangerouslySetInnerHTML: {\n                    __html: `\n                .cesium-viewer-bottom, .cesium-viewer-cesiumWidgetContainer .cesium-widget-credits,\n                .cesium-viewer-cesiumLogoContainer, .cesium-credit-logoContainer, .cesium-credit-expand-link,\n                .cesium-viewer-creditTextContainer { display: none !important; }\n                a[href*=\"cesium.com\"], a[href*=\"cesiumion.com\"] { display: none !important; }\n                .cesium-widget-credits { display: none !important; }\n            `\n                }\n            }, void 0, false, {\n                fileName: \"/app/components/CombinedMap.js\",\n                lineNumber: 2160,\n                columnNumber: 13\n            }, this)\n        ]\n    }, void 0, true);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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TTs4REFDaEhqakIsSUFBSVQsT0FBTyxDQUFDLE1BQU07Ozs7Ozs4REFFdkIsOERBQUN3Z0I7b0RBQUkzWSxPQUFPO3dEQUFFa0osT0FBTzt3REFBUXVSLFVBQVU7d0RBQVF3QyxXQUFXO3dEQUFjN0MsWUFBWTt3REFBYThDLFlBQVk7b0RBQVc7OERBQ25IbGxCLE9BQU9UOzs7Ozs7OzJDQVJOcUI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztZQWlCckN1QixxQkFBcUJFLGdDQUNsQiw4REFBQzVILDBEQUFpQkE7Z0JBQ2QwcUIsUUFBUTlpQjtnQkFDUmlmLFNBQVM7b0JBQ0xsZixxQkFBcUI7b0JBQ3JCRSxrQkFBa0I7Z0JBQ3RCOzs7Ozs7MEJBR1IsOERBQUMwRjtnQkFBTW9kLHlCQUF5QjtvQkFDNUJDLFFBQVEsQ0FBQzs7Ozs7O1lBTWIsQ0FBQztnQkFBQTs7Ozs7Ozs7QUFHYiIsInNvdXJjZXMiOlsid2VicGFjazovL2NvbWJpbmVkLXVpLy4vY29tcG9uZW50cy9Db21iaW5lZE1hcC5qcz9hMDgwIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCwgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0LCB1c2VSZWYsIHVzZU1lbW8gfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgU2NyaXB0IGZyb20gJ25leHQvc2NyaXB0JztcbmltcG9ydCB7IHJhbmRvbVVVSUQgYXMgdXVpZHY0IH0gZnJvbSAnY3J5cHRvJztcbmltcG9ydCBUb3BNZW51QmFyIGZyb20gJy4vVG9wTWVudUJhcic7XG5pbXBvcnQgVHVyblBhdGhEaWFsb2cgZnJvbSAnLi9UdXJuUGF0aERpYWxvZyc7XG5pbXBvcnQgVHVyblBhdGhTdGF0dXNCYW5uZXIgZnJvbSAnLi9UdXJuUGF0aFN0YXR1c0Jhbm5lcic7XG5pbXBvcnQgdXNlVHVyblBhdGhNYW5hZ2VyIGZyb20gJy4vdXNlVHVyblBhdGhNYW5hZ2VyJztcbmltcG9ydCB1c2VNZWFzdXJlbWVudFRvb2wgZnJvbSAnLi91c2VNZWFzdXJlbWVudFRvb2wnO1xuaW1wb3J0IFJvYWRQcm9maWxlVmlld2VyIGZyb20gJy4vUm9hZFByb2ZpbGVWaWV3ZXInO1xuXG4vLyBDb2xvciBwYWxldHRlIGFuZCBoZWxwZXJzXG5jb25zdCBESVNQQVRDSF9MT0NBVElPTl9DT0xPUl9NQVAgPSB7XG4gICAgJ2NhbGwgcG9pbnQnOiAnI0ZGNkI2QicsICdkdW1wJzogJyNGRjhFNzInLCAnYmxhc3QnOiAnI0ZGQjM0NycsICdzdG9ja3BpbGUnOiAnI0ZGRDE2NicsXG4gICAgJ3dvcmtzaG9wJzogJyNGNEEyNjEnLCAnc2hpZnRjaGFuZ2UnOiAnIzA2RDZBMCcsICdyZWdpb24nOiAnIzExOEFCMicsICdjcnVzaGVyJzogJyM5QjVERTUnLFxuICAgICdoaWdoIGR1bXAnOiAnI0ZGNkI2QicsICdsb2FkJzogJyNGRkQxNjYnLCAncGFkZG9jayBkdW1wJzogJyNGRjhFNzInLCAndGllZG93bic6ICcjMDZENkEwJyxcbiAgICAncGl0JzogJyNFRjQ3NkYnLCAncGFya2luZyc6ICcjRkZFMDY2JywgJ2Z1ZWwnOiAnI0ZFNUY1NScsICd0aXBwaW5nIGFyZWEnOiAnI0ZGOTI0QycsXG4gICAgJ2luZnJhc3RydWN0dXJlJzogJyM1QzY3N0QnLCAnaW5mcmFzdHJ1Y3R1cmVfdGFibGUnOiAnIzVDNjc3RCcsICdkZWZhdWx0JzogJyM5RkE0QjAnXG59O1xuXG4vLyBMb2NhdGlvbiB0eXBlcyB0aGF0IHJlbmRlciBhcyBzcXVhcmVzXG5jb25zdCBTUVVBUkVfVFlQRVMgPSBuZXcgU2V0KFtcbiAgICBcImJsYXN0XCIsXG4gICAgXCJkdW1wXCIsXG4gICAgXCJzdG9ja3BpbGVcIixcbiAgICBcIndvcmtzaG9wXCIsXG4gICAgXCJjcnVzaGVyXCIsXG4gICAgXCJoaWdoIGR1bXBcIixcbiAgICBcImxvYWRcIixcbiAgICBcInBhZGRvY2sgZHVtcFwiLFxuICAgIFwidGllZG93blwiXG5dKTtcblxuY29uc3QgREVGQVVMVF9ISURERU5fTE9DQVRJT05fVFlQRVMgPSBbXG4gICAgJ2NhbGwgcG9pbnQnLFxuICAgICdzaGlmdGNoYW5nZScsXG4gICAgJ3JlZ2lvbicsXG4gICAgJ3BpdCcsXG5dO1xuXG5jb25zdCByZXNvbHZlRGlzcGF0Y2hMb2NhdGlvblR5cGUgPSAobG9jYXRpb24pID0+IHtcbiAgICBpZiAoIWxvY2F0aW9uKSByZXR1cm4gJ0luZnJhc3RydWN0dXJlJztcbiAgICBjb25zdCByYXdWYWx1ZSA9IGxvY2F0aW9uLnVuaXRfdHlwZSB8fCBsb2NhdGlvbi5sb2NhdGlvbl9jYXRlZ29yeSB8fCBsb2NhdGlvbi51bml0X3R5cGVfaWQgfHwgbG9jYXRpb24uY2F0ZWdvcnkgfHwgbG9jYXRpb24uc291cmNlIHx8ICdJbmZyYXN0cnVjdHVyZSc7XG4gICAgaWYgKHR5cGVvZiByYXdWYWx1ZSAhPT0gJ3N0cmluZycpIHJldHVybiAnSW5mcmFzdHJ1Y3R1cmUnO1xuICAgIGNvbnN0IHRyaW1tZWQgPSByYXdWYWx1ZS50cmltKCk7XG4gICAgcmV0dXJuIHRyaW1tZWQubGVuZ3RoID4gMCA/IHRyaW1tZWQgOiAnSW5mcmFzdHJ1Y3R1cmUnO1xufTtcblxuY29uc3QgZ2V0RGlzcGF0Y2hMb2NhdGlvbkNvbG9yID0gKGxvY2F0aW9uVHlwZSkgPT4ge1xuICAgIGlmICghbG9jYXRpb25UeXBlIHx8IHR5cGVvZiBsb2NhdGlvblR5cGUgIT09ICdzdHJpbmcnKSByZXR1cm4gRElTUEFUQ0hfTE9DQVRJT05fQ09MT1JfTUFQLmRlZmF1bHQ7XG4gICAgcmV0dXJuIERJU1BBVENIX0xPQ0FUSU9OX0NPTE9SX01BUFtsb2NhdGlvblR5cGUudHJpbSgpLnRvTG93ZXJDYXNlKCldIHx8IERJU1BBVENIX0xPQ0FUSU9OX0NPTE9SX01BUC5kZWZhdWx0O1xufTtcblxuLy8gSGVscGVycyB0byBndWFyZCBwb2x5Z29uc1xuY29uc3QgcmluZ0FyZWEyRCA9IChjb29yZHMpID0+IHtcbiAgICBpZiAoIUFycmF5LmlzQXJyYXkoY29vcmRzKSB8fCBjb29yZHMubGVuZ3RoIDwgMykgcmV0dXJuIDA7XG4gICAgbGV0IGFyZWEgPSAwO1xuICAgIGNvbnN0IG4gPSBjb29yZHMubGVuZ3RoO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbjsgaSsrKSB7XG4gICAgICAgIGNvbnN0IFt4MSwgeTFdID0gY29vcmRzW2ldO1xuICAgICAgICBjb25zdCBbeDIsIHkyXSA9IGNvb3Jkc1soaSArIDEpICUgbl07XG4gICAgICAgIGFyZWEgKz0geDEgKiB5MiAtIHgyICogeTE7XG4gICAgfVxuICAgIHJldHVybiBNYXRoLmFicyhhcmVhKSAqIDAuNTtcbn07XG5cbmNvbnN0IHBhcnNlUG9seWdvbkhpZXJhcmNoeSA9IChnZW9qc29uKSA9PiB7XG4gICAgaWYgKCFnZW9qc29uIHx8ICF3aW5kb3c/LkNlc2l1bSkgcmV0dXJuIG51bGw7XG4gICAgY29uc3QgQ2VzaXVtID0gd2luZG93LkNlc2l1bTtcbiAgICBsZXQgZ2o7XG4gICAgdHJ5IHtcbiAgICAgICAgZ2ogPSB0eXBlb2YgZ2VvanNvbiA9PT0gJ3N0cmluZycgPyBKU09OLnBhcnNlKGdlb2pzb24pIDogZ2VvanNvbjtcbiAgICB9IGNhdGNoIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGlmICghZ2ogfHwgIWdqLmNvb3JkaW5hdGVzKSByZXR1cm4gbnVsbDtcblxuICAgIGxldCByaW5ncyA9IG51bGw7XG4gICAgaWYgKGdqLnR5cGUgPT09ICdQb2x5Z29uJykge1xuICAgICAgICByaW5ncyA9IGdqLmNvb3JkaW5hdGVzO1xuICAgIH0gZWxzZSBpZiAoZ2oudHlwZSA9PT0gJ011bHRpUG9seWdvbicgJiYgQXJyYXkuaXNBcnJheShnai5jb29yZGluYXRlcykgJiYgZ2ouY29vcmRpbmF0ZXMubGVuZ3RoID4gMCkge1xuICAgICAgICByaW5ncyA9IGdqLmNvb3JkaW5hdGVzWzBdO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBpZiAoIUFycmF5LmlzQXJyYXkocmluZ3MpIHx8IHJpbmdzLmxlbmd0aCA9PT0gMCkgcmV0dXJuIG51bGw7XG5cbiAgICBsZXQgb3V0ZXIgPSByaW5nc1swXTtcbiAgICBpZiAoIUFycmF5LmlzQXJyYXkob3V0ZXIpIHx8IG91dGVyLmxlbmd0aCA8IDMpIHJldHVybiBudWxsO1xuXG4gICAgb3V0ZXIgPSBvdXRlci5maWx0ZXIoXG4gICAgICAgIChjKSA9PlxuICAgICAgICAgICAgQXJyYXkuaXNBcnJheShjKSAmJlxuICAgICAgICAgICAgYy5sZW5ndGggPj0gMiAmJlxuICAgICAgICAgICAgTnVtYmVyLmlzRmluaXRlKGNbMF0pICYmXG4gICAgICAgICAgICBOdW1iZXIuaXNGaW5pdGUoY1sxXSlcbiAgICApO1xuICAgIGlmIChvdXRlci5sZW5ndGggPCAzKSByZXR1cm4gbnVsbDtcblxuICAgIGlmIChvdXRlci5sZW5ndGggPj0gMikge1xuICAgICAgICBjb25zdCBbZngsIGZ5XSA9IG91dGVyWzBdO1xuICAgICAgICBjb25zdCBbbHgsIGx5XSA9IG91dGVyW291dGVyLmxlbmd0aCAtIDFdO1xuICAgICAgICBpZiAoZnggPT09IGx4ICYmIGZ5ID09PSBseSkge1xuICAgICAgICAgICAgb3V0ZXIgPSBvdXRlci5zbGljZSgwLCAtMSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCBjbGVhbmVkID0gW107XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBvdXRlci5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCBjdXIgPSBvdXRlcltpXTtcbiAgICAgICAgaWYgKGkgPT09IDAgfHwgY3VyWzBdICE9PSBvdXRlcltpIC0gMV1bMF0gfHwgY3VyWzFdICE9PSBvdXRlcltpIC0gMV1bMV0pIHtcbiAgICAgICAgICAgIGNsZWFuZWQucHVzaChjdXIpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChjbGVhbmVkLmxlbmd0aCA8IDMpIHJldHVybiBudWxsO1xuXG4gICAgY29uc3QgYXJlYTJEID0gcmluZ0FyZWEyRChjbGVhbmVkKTtcbiAgICBpZiAoIU51bWJlci5pc0Zpbml0ZShhcmVhMkQpIHx8IGFyZWEyRCA8IDFlLTEwKSByZXR1cm4gbnVsbDtcblxuICAgIGNvbnN0IHBvc2l0aW9ucyA9IENlc2l1bS5DYXJ0ZXNpYW4zLmZyb21EZWdyZWVzQXJyYXkoY2xlYW5lZC5mbGF0KCkpO1xuICAgIGlmICghcG9zaXRpb25zIHx8IHBvc2l0aW9ucy5sZW5ndGggPCAzKSByZXR1cm4gbnVsbDtcblxuICAgIGxldCBtaW5YID0gSW5maW5pdHksIG1heFggPSAtSW5maW5pdHk7XG4gICAgbGV0IG1pblkgPSBJbmZpbml0eSwgbWF4WSA9IC1JbmZpbml0eTtcbiAgICBsZXQgbWluWiA9IEluZmluaXR5LCBtYXhaID0gLUluZmluaXR5O1xuICAgIGZvciAoY29uc3QgcCBvZiBwb3NpdGlvbnMpIHtcbiAgICAgICAgaWYgKCFOdW1iZXIuaXNGaW5pdGUocC54KSB8fCAhTnVtYmVyLmlzRmluaXRlKHAueSkgfHwgIU51bWJlci5pc0Zpbml0ZShwLnopKSByZXR1cm4gbnVsbDtcbiAgICAgICAgaWYgKHAueCA8IG1pblgpIG1pblggPSBwLng7XG4gICAgICAgIGlmIChwLnggPiBtYXhYKSBtYXhYID0gcC54O1xuICAgICAgICBpZiAocC55IDwgbWluWSkgbWluWSA9IHAueTtcbiAgICAgICAgaWYgKHAueSA+IG1heFkpIG1heFkgPSBwLnk7XG4gICAgICAgIGlmIChwLnogPCBtaW5aKSBtaW5aID0gcC56O1xuICAgICAgICBpZiAocC56ID4gbWF4WikgbWF4WiA9IHAuejtcbiAgICB9XG4gICAgY29uc3Qgc3BhbiA9IE1hdGgubWF4KG1heFggLSBtaW5YLCBtYXhZIC0gbWluWSwgbWF4WiAtIG1pblopO1xuICAgIGlmICghTnVtYmVyLmlzRmluaXRlKHNwYW4pIHx8IHNwYW4gPCAwLjEpIHJldHVybiBudWxsO1xuXG4gICAgcmV0dXJuIG5ldyBDZXNpdW0uUG9seWdvbkhpZXJhcmNoeShwb3NpdGlvbnMpO1xufTtcblxuLy8gR3VhcmQgZm9yIGFyYml0cmFyeSBDYXJ0ZXNpYW4zIHBvc2l0aW9uIGFycmF5cyAoZm9yIHBvbHlnb25zKVxuY29uc3QgYXJlUG9zaXRpb25zVmFsaWQgPSAocG9zaXRpb25zKSA9PiB7XG4gICAgaWYgKCFBcnJheS5pc0FycmF5KHBvc2l0aW9ucykgfHwgcG9zaXRpb25zLmxlbmd0aCA8IDMpIHJldHVybiBmYWxzZTtcbiAgICBsZXQgbWluWCA9IEluZmluaXR5LCBtYXhYID0gLUluZmluaXR5O1xuICAgIGxldCBtaW5ZID0gSW5maW5pdHksIG1heFkgPSAtSW5maW5pdHk7XG4gICAgbGV0IG1pblogPSBJbmZpbml0eSwgbWF4WiA9IC1JbmZpbml0eTtcbiAgICBmb3IgKGNvbnN0IHAgb2YgcG9zaXRpb25zKSB7XG4gICAgICAgIGlmICghcCB8fCAhTnVtYmVyLmlzRmluaXRlKHAueCkgfHwgIU51bWJlci5pc0Zpbml0ZShwLnkpIHx8ICFOdW1iZXIuaXNGaW5pdGUocC56KSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwLnggPCBtaW5YKSBtaW5YID0gcC54O1xuICAgICAgICBpZiAocC54ID4gbWF4WCkgbWF4WCA9IHAueDtcbiAgICAgICAgaWYgKHAueSA8IG1pblkpIG1pblkgPSBwLnk7XG4gICAgICAgIGlmIChwLnkgPiBtYXhZKSBtYXhZID0gcC55O1xuICAgICAgICBpZiAocC56IDwgbWluWikgbWluWiA9IHAuejtcbiAgICAgICAgaWYgKHAueiA+IG1heFopIG1heFogPSBwLno7XG4gICAgfVxuICAgIGNvbnN0IHNwYW4gPSBNYXRoLm1heChtYXhYIC0gbWluWCwgbWF4WSAtIG1pblksIG1heFogLSBtaW5aKTtcbiAgICByZXR1cm4gTnVtYmVyLmlzRmluaXRlKHNwYW4pICYmIHNwYW4gPj0gMC4xO1xufTtcblxuY29uc3QgaXNEaXNwYXRjaFNlZ21lbnRDbG9zZWQgPSAoc2VnbWVudCkgPT4ge1xuICAgIGlmICghc2VnbWVudCkgcmV0dXJuIGZhbHNlO1xuICAgIGNvbnN0IHZhbHVlID0gc2VnbWVudC5pc19jbG9zZWQ7XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ2Jvb2xlYW4nKSByZXR1cm4gdmFsdWU7XG59O1xuXG4vLyBSZW5kZXIgdG9vbHRpcCBsaW5lcyBpbiB0aGUgc2FtZSBsYWJlbC92YWx1ZSBsYXlvdXQgYXMgdGhlIExhdC9MbmcgYm94XG5jb25zdCByZW5kZXJUb29sdGlwSXRlbXMgPSAoaXRlbXMsIHsgY29tcGFjdCA9IGZhbHNlIH0gPSB7fSkgPT4ge1xuICAgIHJldHVybiBpdGVtc1xuICAgICAgICAuZmlsdGVyKEJvb2xlYW4pXG4gICAgICAgIC5tYXAoKHJhdykgPT4ge1xuICAgICAgICAgICAgbGV0IGl0ZW0gPSB0eXBlb2YgcmF3ID09PSAnc3RyaW5nJyA/IHJhdyA6IFN0cmluZyhyYXcpLnRyaW0oKTtcbiAgICAgICAgICAgIGlmICghaXRlbSkgcmV0dXJuICcnO1xuXG4gICAgICAgICAgICAvLyBTRUNUSU9OIEhFQURFUlMsIGUuZy4gXCItLS0gUk9BRCBESU1FTlNJT05TIC0tLVwiXG4gICAgICAgICAgICBpZiAoIWl0ZW0uaW5jbHVkZXMoJzonKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGxhYmVsID0gaXRlbS5yZXBsYWNlKC9eWy1cXHNdK3xbLVxcc10rJC9nLCAnJyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBcbiAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICBzdHlsZT1cIlxuICAgICAgICAgICAgICBtYXJnaW46ICR7Y29tcGFjdCA/ICc0cHgnIDogJzZweCd9IDAgMnB4O1xuICAgICAgICAgICAgICBmb250LXdlaWdodDogNjAwO1xuICAgICAgICAgICAgICBjb2xvcjogI2Y1ZjVmNTtcbiAgICAgICAgICAgICAgYm9yZGVyLXRvcDogMXB4IHNvbGlkIHJnYmEoMjU1LDI1NSwyNTUsMC4wOCk7XG4gICAgICAgICAgICAgIHBhZGRpbmctdG9wOiA0cHg7XG4gICAgICAgICAgICBcIlxuICAgICAgICAgID5cbiAgICAgICAgICAgICR7bGFiZWx9XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIGA7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIE5PUk1BTCBcIkxBQkVMOiB2YWx1ZVwiIExJTkVTXG4gICAgICAgICAgICBjb25zdCBbcmF3TGFiZWwsIC4uLnJlc3RdID0gaXRlbS5zcGxpdCgnOicpO1xuICAgICAgICAgICAgY29uc3QgbGFiZWwgPSByYXdMYWJlbC50cmltKCk7XG4gICAgICAgICAgICBjb25zdCB2YWx1ZSA9IHJlc3Quam9pbignOicpLnRyaW0oKTtcblxuICAgICAgICAgICAgcmV0dXJuIGBcbiAgICAgICAgPGRpdlxuICAgICAgICAgIHN0eWxlPVwiXG4gICAgICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICAgICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xuICAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogJHtjb21wYWN0ID8gJzFweCcgOiAnM3B4J307XG4gICAgICAgICAgXCJcbiAgICAgICAgPlxuICAgICAgICAgIDxzcGFuIHN0eWxlPVwiY29sb3I6ICNhMGEwYTA7IGZvbnQtd2VpZ2h0OiA0MDA7XCI+XG4gICAgICAgICAgICAke2xhYmVsfVxuICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICA8c3BhbiBzdHlsZT1cIlxuICAgICAgICAgICAgY29sb3I6IHdoaXRlO1xuICAgICAgICAgICAgZm9udC13ZWlnaHQ6IDUwMDtcbiAgICAgICAgICAgIGZvbnQtdmFyaWFudC1udW1lcmljOiB0YWJ1bGFyLW51bXM7XG4gICAgICAgICAgICB0ZXh0LWFsaWduOiByaWdodDtcbiAgICAgICAgICAgIHdoaXRlLXNwYWNlOiBub3dyYXA7XG4gICAgICAgICAgXCI+XG4gICAgICAgICAgICAke3ZhbHVlfVxuICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICBgO1xuICAgICAgICB9KVxuICAgICAgICAuam9pbignJyk7XG59O1xuXG5jb25zdCBmb3JtYXRUb29sdGlwQ29udGVudCA9IChlbnRpdHkpID0+IHtcbiAgICBpZiAoIWVudGl0eSB8fCAhZW50aXR5LnByb3BlcnRpZXMpIHJldHVybiAnJztcbiAgICAvLyBIYW5kbGUgYm90aCBDZXNpdW0gUHJvcGVydHkgb2JqZWN0cyBhbmQgZGlyZWN0IHZhbHVlc1xuICAgIGNvbnN0IGdldFByb3AgPSAoa2V5KSA9PiB7XG4gICAgICAgIGNvbnN0IHByb3AgPSBlbnRpdHkucHJvcGVydGllc1trZXldO1xuICAgICAgICBpZiAocHJvcCA9PT0gdW5kZWZpbmVkIHx8IHByb3AgPT09IG51bGwpIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIGlmIChwcm9wICYmIHR5cGVvZiBwcm9wLmdldFZhbHVlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICByZXR1cm4gcHJvcC5nZXRWYWx1ZSh3aW5kb3cuQ2VzaXVtLkp1bGlhbkRhdGUubm93KCkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBwcm9wO1xuICAgIH07XG5cbiAgICBjb25zdCBpdGVtcyA9IFtdO1xuICAgIGNvbnN0IGNhdGVnb3J5ID0gZ2V0UHJvcCgnY2F0ZWdvcnknKTtcblxuICAgIGlmIChjYXRlZ29yeSA9PT0gJ2Rpc3BhdGNoX3NlZ21lbnQnKSB7XG4gICAgICAgIGl0ZW1zLnB1c2goYC0tLSBESVNQQVRDSCBTRUdNRU5UIC0tLWApO1xuICAgICAgICBpZiAoZ2V0UHJvcCgncm9hZF9pZCcpKSBpdGVtcy5wdXNoKGBST0FEIElEOiAke2dldFByb3AoJ3JvYWRfaWQnKX1gKTtcbiAgICAgICAgaWYgKGdldFByb3AoJ2xhbmVfaWQnKSkgaXRlbXMucHVzaChgTEFORSBJRDogJHtnZXRQcm9wKCdsYW5lX2lkJyl9YCk7XG4gICAgICAgIGlmIChnZXRQcm9wKCdsZW5ndGhfbScpKSBpdGVtcy5wdXNoKGBMRU5HVEg6ICR7TWF0aC5yb3VuZChnZXRQcm9wKCdsZW5ndGhfbScpKX0gbWApO1xuICAgICAgICBpZiAoZ2V0UHJvcCgnZGlyZWN0aW9uJykpIGl0ZW1zLnB1c2goYERJUkVDVElPTjogJHtnZXRQcm9wKCdkaXJlY3Rpb24nKX1gKTtcbiAgICAgICAgY29uc3QgY2xvc2VkID0gZ2V0UHJvcCgnaXNfY2xvc2VkJyk7XG4gICAgICAgIGl0ZW1zLnB1c2goYFNUQVRVUzogJHtjbG9zZWQgPyAnQ2xvc2VkJyA6ICdPcGVuJ31gKTtcbiAgICB9IGVsc2UgaWYgKGNhdGVnb3J5ID09PSAnZGlzcGF0Y2hfbG9jYXRpb24nKSB7XG4gICAgICAgIGl0ZW1zLnB1c2goYC0tLSBMT0NBVElPTiAtLS1gKTtcbiAgICAgICAgaXRlbXMucHVzaChgTkFNRTogJHtnZXRQcm9wKCdsb2NhdGlvbl9uYW1lJyl9YCk7XG4gICAgICAgIGl0ZW1zLnB1c2goYFRZUEU6ICR7Z2V0UHJvcCgndW5pdF90eXBlJykgfHwgZ2V0UHJvcCgnbG9jYXRpb25fY2F0ZWdvcnknKX1gKTtcbiAgICB9IGVsc2UgaWYgKGNhdGVnb3J5ID09PSAnZGlzcGF0Y2hfaW50ZXJzZWN0aW9uJykge1xuICAgICAgICBpdGVtcy5wdXNoKGAtLS0gSU5URVJTRUNUSU9OIC0tLWApO1xuICAgICAgICBpdGVtcy5wdXNoKGBOQU1FOiAke2dldFByb3AoJ2ludGVyc2VjdGlvbl9uYW1lJyl9YCk7XG4gICAgICAgIGlmIChnZXRQcm9wKCdpbnRlcnNlY3Rpb25fdHlwZScpKSBpdGVtcy5wdXNoKGBUWVBFOiAke2dldFByb3AoJ2ludGVyc2VjdGlvbl90eXBlJyl9YCk7XG4gICAgICAgIGlmIChnZXRQcm9wKCdzYWZldHlfYnVmZmVyX20nKSkgaXRlbXMucHVzaChgU0FGRVRZIEJVRkZFUjogJHtnZXRQcm9wKCdzYWZldHlfYnVmZmVyX20nKX0gbWApO1xuICAgICAgICBpZiAoZ2V0UHJvcCgncl9taW5fbScpKSBpdGVtcy5wdXNoKGBSLU1JTjogJHtnZXRQcm9wKCdyX21pbl9tJyl9IG1gKTtcbiAgICAgICAgY29uc3Qgcm9hZHMgPSBnZXRQcm9wKCdjb25uZWN0ZWRfcm9hZHMnKTtcbiAgICAgICAgaWYgKHJvYWRzICYmIEFycmF5LmlzQXJyYXkocm9hZHMpICYmIHJvYWRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGl0ZW1zLnB1c2goYENPTk5FQ1RFRCBST0FEUzogJHtyb2Fkcy5qb2luKCcsICcpfWApO1xuICAgICAgICB9XG4gICAgfSBlbHNlIGlmIChjYXRlZ29yeSA9PT0gJ2Rpc3BhdGNoX3Ryb2xsZXknKSB7XG4gICAgICAgIGl0ZW1zLnB1c2goYC0tLSBUUk9MTEVZIC0tLWApO1xuICAgICAgICBpdGVtcy5wdXNoKGBUWVBFOiBUcm9sbGV5IExpbmVgKTtcbiAgICB9XG5cbiAgICByZXR1cm4gcmVuZGVyVG9vbHRpcEl0ZW1zKGl0ZW1zLCB7IGNvbXBhY3Q6IHRydWUgfSk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBEaXNwYXRjaENlc2l1bU1hcCgpIHtcbiAgICBjb25zdCBtYXBDb250YWluZXIgPSB1c2VSZWYobnVsbCk7XG4gICAgY29uc3QgY2VzaXVtVmlld2VyUmVmID0gdXNlUmVmKG51bGwpO1xuICAgIGNvbnN0IG1lYXN1cmVtZW50SGFuZGxlclJlZiA9IHVzZVJlZihudWxsKTtcbiAgICBjb25zdCBbbWFwTG9hZGVkLCBzZXRNYXBMb2FkZWRdID0gdXNlU3RhdGUoZmFsc2UpO1xuICAgIGNvbnN0IFttYXBFcnJvciwgc2V0TWFwRXJyb3JdID0gdXNlU3RhdGUobnVsbCk7XG4gICAgY29uc3QgW2Nlc2l1bUxvYWRlZCwgc2V0Q2VzaXVtTG9hZGVkXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgICBjb25zdCBbZGlhbG9nT3Blbiwgc2V0RGlhbG9nT3Blbl0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gICAgY29uc3QgW2RpYWxvZ0RhdGEsIHNldERpYWxvZ0RhdGFdID0gdXNlU3RhdGUobnVsbCk7XG4gICAgY29uc3QgW3Nob3dQcm9maWxlVmlld2VyLCBzZXRTaG93UHJvZmlsZVZpZXdlcl0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gICAgY29uc3QgW3NlbGVjdGVkUm9hZElkLCBzZXRTZWxlY3RlZFJvYWRJZF0gPSB1c2VTdGF0ZShudWxsKTtcbiAgICAvLyBEYXRhXG4gICAgY29uc3QgW2xvY2F0aW9ucywgc2V0TG9jYXRpb25zXSA9IHVzZVN0YXRlKFtdKTtcbiAgICBjb25zdCBbc2VnbWVudHMsIHNldFNlZ21lbnRzXSA9IHVzZVN0YXRlKFtdKTtcbiAgICBjb25zdCBbdHJvbGxleVNlZ21lbnRzLCBzZXRUcm9sbGV5U2VnbWVudHNdID0gdXNlU3RhdGUoW10pO1xuICAgIGNvbnN0IFt3YXRlcmluZ1N0YXRpb25zLCBzZXRXYXRlcmluZ1N0YXRpb25zXSA9IHVzZVN0YXRlKFtdKTtcbiAgICBjb25zdCBbc3BlZWRNb25pdG9yaW5nLCBzZXRTcGVlZE1vbml0b3JpbmddID0gdXNlU3RhdGUoW10pO1xuICAgIGNvbnN0IFtpbnRlcnNlY3Rpb25zLCBzZXRJbnRlcnNlY3Rpb25zXSA9IHVzZVN0YXRlKFtdKTtcbiAgICBjb25zdCBbY2VudGVyUG9pbnRzLCBzZXRDZW50ZXJQb2ludHNdID0gdXNlU3RhdGUoW10pO1xuICAgIGNvbnN0IGNlbnRlclBvaW50RW50aXRpZXNSZWYgPSB1c2VSZWYoW10pO1xuXG4gICAgY29uc3Qge1xuICAgICAgICBpc0RpYWxvZ09wZW46IHR1cm5EaWFsb2dPcGVuLFxuICAgICAgICBjdXJyZW50U3RlcDogdHVybkN1cnJlbnRTdGVwLCAgICAgICAgICAgLy8gZm9yIFVJXG4gICAgICAgIGdldEN1cnJlbnRTdGVwOiBnZXRUdXJuQ3VycmVudFN0ZXAsICAgICAvLyByZWYtYmFja2VkIGZvciBDZXNpdW0gaGFuZGxlcnNcbiAgICAgICAgc2VsZWN0ZWRTb3VyY2VSb2FkOiB0dXJuU291cmNlUm9hZCxcbiAgICAgICAgc2VsZWN0ZWREZXN0aW5hdGlvblJvYWQ6IHR1cm5EZXN0Um9hZCxcbiAgICAgICAgb3BlbkRpYWxvZzogb3BlblR1cm5EaWFsb2csXG4gICAgICAgIGNsb3NlRGlhbG9nOiBjbG9zZVR1cm5EaWFsb2csXG4gICAgICAgIHN0YXJ0U2VsZWN0aW9uOiBzdGFydFR1cm5TZWxlY3Rpb24sXG4gICAgICAgIGhhbmRsZU1hcENsaWNrOiBoYW5kbGVUdXJuUGF0aENsaWNrLFxuICAgIH0gPSB1c2VUdXJuUGF0aE1hbmFnZXIoY2VzaXVtVmlld2VyUmVmLCBjZW50ZXJQb2ludHMpO1xuXG4gICAgLy8gVUkgU3RhdGVcbiAgICBjb25zdCBbcm9hZE5ldHdvcmtzRXhwYW5kZWQsIHNldFJvYWROZXR3b3Jrc0V4cGFuZGVkXSA9IHVzZVN0YXRlKHRydWUpO1xuICAgIGNvbnN0IFtsb2NhdGlvblR5cGVzRXhwYW5kZWQsIHNldExvY2F0aW9uVHlwZXNFeHBhbmRlZF0gPSB1c2VTdGF0ZSh0cnVlKTtcbiAgICBjb25zdCBbYmFzZUxheWVyLCBzZXRCYXNlTGF5ZXJdID0gdXNlU3RhdGUoJ25pZ2h0Jyk7IC8vICduaWdodCcgb3IgJ2RheSdcbiAgICBjb25zdCBbbWVhc3VyZW1lbnRNb2RlLCBzZXRNZWFzdXJlbWVudE1vZGVdID0gdXNlU3RhdGUoJ25vbmUnKTsgLy8gbm9uZSB8IGRpc3RhbmNlIHwgYXJlYVxuXG4gICAgLy8gVmlzaWJpbGl0eVxuICAgIGNvbnN0IFtzaG93T3BlblJvYWRzLCBzZXRTaG93T3BlblJvYWRzXSA9IHVzZVN0YXRlKHRydWUpO1xuICAgIGNvbnN0IFtzaG93Q2xvc2VkUm9hZHMsIHNldFNob3dDbG9zZWRSb2Fkc10gPSB1c2VTdGF0ZSh0cnVlKTtcbiAgICBjb25zdCBbc2hvd0ludGVyc2VjdGlvbnMsIHNldFNob3dJbnRlcnNlY3Rpb25zXSA9IHVzZVN0YXRlKHRydWUpO1xuICAgIGNvbnN0IFtzaG93Q2VudGVyUG9pbnRzLCBzZXRTaG93Q2VudGVyUG9pbnRzXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgICBjb25zdCBbc2hvd1Ryb2xsZXksIHNldFNob3dUcm9sbGV5XSA9IHVzZVN0YXRlKHRydWUpO1xuICAgIGNvbnN0IFtzaG93V2F0ZXJpbmcsIHNldFNob3dXYXRlcmluZ10gPSB1c2VTdGF0ZSh0cnVlKTtcbiAgICBjb25zdCBbc2hvd1NwZWVkLCBzZXRTaG93U3BlZWRdID0gdXNlU3RhdGUodHJ1ZSk7XG4gICAgY29uc3QgW3Zpc2libGVMb2NhdGlvblR5cGVzLCBzZXRWaXNpYmxlTG9jYXRpb25UeXBlc10gPSB1c2VTdGF0ZShuZXcgU2V0KCkpO1xuXG4gICAgLy8gRnJvbnRydW5uZXItc3R5bGUgbWVhc3VyZW1lbnQgaG9va1xuICAgIGNvbnN0IHtcbiAgICAgICAgbWVhc3VyZW1lbnRNb2RlOiBmck1lYXN1cmVtZW50TW9kZSxcbiAgICAgICAgc3RhcnRNZWFzdXJlbWVudDogZnJTdGFydE1lYXN1cmVtZW50LFxuICAgICAgICBjYW5jZWxNZWFzdXJlbWVudDogZnJDYW5jZWxNZWFzdXJlbWVudCxcbiAgICAgICAgYWRkTWVhc3VyZW1lbnRQb2ludDogZnJBZGRQb2ludCxcbiAgICAgICAgY2xlYXJNZWFzdXJlbWVudHM6IGZyQ2xlYXJNZWFzdXJlbWVudHMsXG4gICAgICAgIHVwZGF0ZVByZXZpZXdMaW5lOiBmclVwZGF0ZVByZXZpZXcsXG4gICAgICAgIGZpbmFsaXplQXJlYU1lYXN1cmVtZW50OiBmckZpbmFsaXplQXJlYSxcbiAgICAgICAgZ2V0TWVhc3VyZW1lbnRNb2RlOiBmckdldE1vZGUsXG4gICAgfSA9IHVzZU1lYXN1cmVtZW50VG9vbChjZXNpdW1WaWV3ZXJSZWYpO1xuXG4gICAgY29uc3QgcmVjZW50ZXJWaWV3ID0gKCkgPT4ge1xuICAgICAgICBjb25zdCB2aWV3ZXIgPSBjZXNpdW1WaWV3ZXJSZWYuY3VycmVudDtcbiAgICAgICAgaWYgKCF2aWV3ZXIgfHwgIXdpbmRvdz8uQ2VzaXVtKSByZXR1cm47XG4gICAgICAgIGNvbnN0IENlc2l1bSA9IHdpbmRvdy5DZXNpdW07XG4gICAgICAgIHZpZXdlci5jYW1lcmEuZmx5VG8oe1xuICAgICAgICAgICAgZGVzdGluYXRpb246IENlc2l1bS5DYXJ0ZXNpYW4zLmZyb21EZWdyZWVzKDE0OC45ODAyMDIsIC0yMy44NDcwODMsIDUwMDApLFxuICAgICAgICAgICAgb3JpZW50YXRpb246IHsgaGVhZGluZzogMCwgcGl0Y2g6IENlc2l1bS5NYXRoLnRvUmFkaWFucygtOTApLCByb2xsOiAwIH0sXG4gICAgICAgICAgICBkdXJhdGlvbjogMC44LFxuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgLy8gQ29tcHV0ZWRcblxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIC8vIEhpZGUgaW5mby90b29sdGlwIG92ZXJsYXlzIHdoaWxlIHR1cm4tcGF0aCBzZWxlY3Rpb24gaXMgYWN0aXZlXG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgY29uc3Qgc2VsZWN0aW5nID1cbiAgICAgICAgICAgIHR1cm5DdXJyZW50U3RlcCA9PT0gJ3NlbGVjdGluZ19zb3VyY2UnIHx8XG4gICAgICAgICAgICB0dXJuQ3VycmVudFN0ZXAgPT09ICdzZWxlY3RpbmdfZGVzdGluYXRpb24nO1xuICAgICAgICBpZiAoc2VsZWN0aW5nKSB7XG4gICAgICAgICAgICBzZXREaWFsb2dPcGVuKGZhbHNlKTtcbiAgICAgICAgICAgIHNldERpYWxvZ0RhdGEobnVsbCk7XG4gICAgICAgICAgICBjb25zdCB0b29sdGlwID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21hcC10b29sdGlwJyk7XG4gICAgICAgICAgICBpZiAodG9vbHRpcCkgdG9vbHRpcC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgICB9XG4gICAgfSwgW3R1cm5DdXJyZW50U3RlcF0pO1xuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIGNvbnN0IGxvY2F0aW9uQ291bnRzID0gdXNlTWVtbygoKSA9PiB7XG4gICAgICAgIGNvbnN0IGNvdW50cyA9IHt9O1xuICAgICAgICBsb2NhdGlvbnMuZm9yRWFjaChsID0+IGNvdW50c1tyZXNvbHZlRGlzcGF0Y2hMb2NhdGlvblR5cGUobCldID0gKGNvdW50c1tyZXNvbHZlRGlzcGF0Y2hMb2NhdGlvblR5cGUobCldIHx8IDApICsgMSk7XG4gICAgICAgIHJldHVybiBjb3VudHM7XG4gICAgfSwgW2xvY2F0aW9uc10pO1xuXG4gICAgY29uc3Qgcm9hZENvdW50cyA9IHVzZU1lbW8oKCkgPT4gKHtcbiAgICAgICAgb3Blbjogc2VnbWVudHMuZmlsdGVyKHMgPT4gIWlzRGlzcGF0Y2hTZWdtZW50Q2xvc2VkKHMpKS5sZW5ndGgsXG4gICAgICAgIGNsb3NlZDogc2VnbWVudHMuZmlsdGVyKHMgPT4gaXNEaXNwYXRjaFNlZ21lbnRDbG9zZWQocykpLmxlbmd0aFxuICAgIH0pLCBbc2VnbWVudHNdKTtcblxuICAgIGNvbnN0IGNlbnRlclBvaW50Q291bnQgPSBjZW50ZXJQb2ludHMubGVuZ3RoO1xuXG4gICAgY29uc3QgdG9nZ2xlTG9jYXRpb25UeXBlID0gKHR5cGUsIGNoZWNrZWQpID0+IHtcbiAgICAgICAgY29uc3QgbmV3U2V0ID0gbmV3IFNldCh2aXNpYmxlTG9jYXRpb25UeXBlcyk7XG4gICAgICAgIGNoZWNrZWQgPyBuZXdTZXQuYWRkKHR5cGUpIDogbmV3U2V0LmRlbGV0ZSh0eXBlKTtcbiAgICAgICAgc2V0VmlzaWJsZUxvY2F0aW9uVHlwZXMobmV3U2V0KTtcbiAgICB9O1xuXG4gICAgLy8gSW5pdGlhbGl6ZSBDZXNpdW1cbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAoIWNlc2l1bUxvYWRlZCB8fCAhbWFwQ29udGFpbmVyLmN1cnJlbnQgfHwgY2VzaXVtVmlld2VyUmVmLmN1cnJlbnQpIHJldHVybjtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IENlc2l1bSA9IHdpbmRvdy5DZXNpdW07XG4gICAgICAgICAgICBDZXNpdW0uSW9uLmRlZmF1bHRBY2Nlc3NUb2tlbiA9ICdleUpoYkdjaU9pSklVekkxTmlJc0luUjVjQ0k2SWtwWFZDSjkuZXlKcWRHa2lPaUprTjJKaU1XTXlNUzA1WW1VMExUUTJNemt0T0RrNVl5MHhaakpqTURreU9HSmtNemtpTENKcFpDSTZNVGcwTnpZc0ltbGhkQ0k2TVRZek9UUXpPVFU0TW4wLjZHTU9QLVk5blB3cUdQWjBmTEN1Ty1ZWEsxeFZISzBIeHhNejRFQnFoSmsnO1xuXG4gICAgICAgICAgICBjb25zdCB2aWV3ZXIgPSBuZXcgQ2VzaXVtLlZpZXdlcihtYXBDb250YWluZXIuY3VycmVudCwge1xuICAgICAgICAgICAgICAgIGJhc2VMYXllclBpY2tlcjogZmFsc2UsIGdlb2NvZGVyOiBmYWxzZSwgaG9tZUJ1dHRvbjogZmFsc2UsIHNjZW5lTW9kZVBpY2tlcjogZmFsc2UsXG4gICAgICAgICAgICAgICAgbmF2aWdhdGlvbkhlbHBCdXR0b246IGZhbHNlLCBhbmltYXRpb246IGZhbHNlLCB0aW1lbGluZTogZmFsc2UsIGZ1bGxzY3JlZW5CdXR0b246IGZhbHNlLFxuICAgICAgICAgICAgICAgIHZyQnV0dG9uOiBmYWxzZSwgaW1hZ2VyeVByb3ZpZGVyOiBmYWxzZSwgdGVycmFpblByb3ZpZGVyOiBuZXcgQ2VzaXVtLkVsbGlwc29pZFRlcnJhaW5Qcm92aWRlcigpLFxuICAgICAgICAgICAgICAgIHNlbGVjdGlvbkluZGljYXRvcjogZmFsc2UsIGluZm9Cb3g6IGZhbHNlXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgdmlld2VyLmNlc2l1bVdpZGdldC5jcmVkaXRDb250YWluZXIuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgICAgICAgIHZpZXdlci5jYW1lcmEuc2V0Vmlldyh7XG4gICAgICAgICAgICAgICAgZGVzdGluYXRpb246IENlc2l1bS5DYXJ0ZXNpYW4zLmZyb21EZWdyZWVzKDE0OC45ODAyMDIsIC0yMy44NDcwODMsIDUwMDApLFxuICAgICAgICAgICAgICAgIG9yaWVudGF0aW9uOiB7IGhlYWRpbmc6IDAsIHBpdGNoOiBDZXNpdW0uTWF0aC50b1JhZGlhbnMoLTkwKSwgcm9sbDogMCB9XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgY2VzaXVtVmlld2VyUmVmLmN1cnJlbnQgPSB2aWV3ZXI7XG4gICAgICAgICAgICB3aW5kb3cuY2VzaXVtVmlld2VyID0gdmlld2VyO1xuICAgICAgICAgICAgc2V0TWFwTG9hZGVkKHRydWUpO1xuXG4gICAgICAgICAgICAvLyBMb2FkIGNlbnRlciBwb2ludHMgZnJvbSBiYWNrZW5kIChpbnRlcnNlY3Rpb25fY2VudGVyX3BvaW50cylcbiAgICAgICAgICAgIGZldGNoKCcvYXBpL2ludGVyc2VjdGlvbl9jZW50ZXJfcG9pbnRzJylcbiAgICAgICAgICAgICAgICAudGhlbihyZXMgPT4gcmVzLmpzb24oKSlcbiAgICAgICAgICAgICAgICAudGhlbihkYXRhID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoZGF0YSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldENlbnRlclBvaW50cyhkYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLmNhdGNoKGVyciA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybignRmFpbGVkIHRvIGxvYWQgY2VudGVyIHBvaW50cycsIGVycj8ubWVzc2FnZSB8fCBlcnIpO1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAvLyBNZWFzdXJlbWVudCBoYW5kbGVyc1xuICAgICAgICAgICAgY29uc3QgaGFuZGxlciA9IG5ldyBDZXNpdW0uU2NyZWVuU3BhY2VFdmVudEhhbmRsZXIodmlld2VyLnNjZW5lLmNhbnZhcyk7XG4gICAgICAgICAgICBtZWFzdXJlbWVudEhhbmRsZXJSZWYuY3VycmVudCA9IGhhbmRsZXI7XG5cbiAgICAgICAgICAgIGhhbmRsZXIuc2V0SW5wdXRBY3Rpb24oKG1vdmVtZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgLy8gVHVybiBwYXRoIHNlbGVjdGlvbiB0YWtlcyBwcmlvcml0eSBpZiBpbiBzZWxlY3RpbmcgbW9kZVxuICAgICAgICAgICAgICAgIGNvbnN0IHN0ZXAgPSBnZXRUdXJuQ3VycmVudFN0ZXA/LigpO1xuICAgICAgICAgICAgICAgIGlmIChzdGVwID09PSAnc2VsZWN0aW5nX3NvdXJjZScgfHwgc3RlcCA9PT0gJ3NlbGVjdGluZ19kZXN0aW5hdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZHJpbGwgPSB2aWV3ZXIuc2NlbmUuZHJpbGxQaWNrKG1vdmVtZW50LnBvc2l0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcGlja2VkID0gKGRyaWxsICYmIGRyaWxsWzBdKSB8fCB2aWV3ZXIuc2NlbmUucGljayhtb3ZlbWVudC5wb3NpdGlvbik7XG4gICAgICAgICAgICAgICAgICAgIGlmIChwaWNrZWQgJiYgcGlja2VkLmlkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBoYW5kbGVUdXJuUGF0aENsaWNrKHBpY2tlZC5pZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBjb25zdCBtb2RlID0gZnJHZXRNb2RlKCk7XG4gICAgICAgICAgICAgICAgaWYgKCFtb2RlKSByZXR1cm47XG4gICAgICAgICAgICAgICAgY29uc3QgZWxsaXBzb2lkID0gdmlld2VyLnNjZW5lLmdsb2JlLmVsbGlwc29pZDtcbiAgICAgICAgICAgICAgICBsZXQgY2FydGVzaWFuID1cbiAgICAgICAgICAgICAgICAgICAgdmlld2VyLmNhbWVyYS5waWNrRWxsaXBzb2lkKG1vdmVtZW50LnBvc2l0aW9uLCBlbGxpcHNvaWQpIHx8XG4gICAgICAgICAgICAgICAgICAgIHZpZXdlci5zY2VuZS5waWNrUG9zaXRpb24obW92ZW1lbnQucG9zaXRpb24pO1xuICAgICAgICAgICAgICAgIGlmICghY2FydGVzaWFuKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJheSA9IHZpZXdlci5jYW1lcmEuZ2V0UGlja1JheShtb3ZlbWVudC5wb3NpdGlvbik7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyYXkpIGNhcnRlc2lhbiA9IHZpZXdlci5zY2VuZS5nbG9iZS5waWNrKHJheSwgdmlld2VyLnNjZW5lKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKCFjYXJ0ZXNpYW4pIHJldHVybjtcbiAgICAgICAgICAgICAgICBjb25zdCBjYXJ0byA9IGVsbGlwc29pZC5jYXJ0ZXNpYW5Ub0NhcnRvZ3JhcGhpYyhjYXJ0ZXNpYW4pO1xuICAgICAgICAgICAgICAgIGNvbnN0IGNsYW1wZWQgPSBDZXNpdW0uQ2FydGVzaWFuMy5mcm9tUmFkaWFucyhjYXJ0by5sb25naXR1ZGUsIGNhcnRvLmxhdGl0dWRlLCAwLjApO1xuICAgICAgICAgICAgICAgIGZyQWRkUG9pbnQoY2xhbXBlZCk7XG4gICAgICAgICAgICB9LCBDZXNpdW0uU2NyZWVuU3BhY2VFdmVudFR5cGUuTEVGVF9DTElDSyk7XG5cbiAgICAgICAgICAgIGhhbmRsZXIuc2V0SW5wdXRBY3Rpb24oKG1vdmVtZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgbW9kZSA9IGZyR2V0TW9kZSgpO1xuICAgICAgICAgICAgICAgIGlmIChtb2RlICE9PSAnZGlzdGFuY2UnKSByZXR1cm47XG4gICAgICAgICAgICAgICAgY29uc3QgZWxsaXBzb2lkID0gdmlld2VyLnNjZW5lLmdsb2JlLmVsbGlwc29pZDtcbiAgICAgICAgICAgICAgICBsZXQgY2FydGVzaWFuID1cbiAgICAgICAgICAgICAgICAgICAgdmlld2VyLmNhbWVyYS5waWNrRWxsaXBzb2lkKG1vdmVtZW50LmVuZFBvc2l0aW9uLCBlbGxpcHNvaWQpIHx8XG4gICAgICAgICAgICAgICAgICAgIHZpZXdlci5zY2VuZS5waWNrUG9zaXRpb24obW92ZW1lbnQuZW5kUG9zaXRpb24pO1xuICAgICAgICAgICAgICAgIGlmICghY2FydGVzaWFuKSB7XG4gICAgICAgICAgICAgICAgICAgIGZyVXBkYXRlUHJldmlldyhudWxsKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCBjYXJ0byA9IGVsbGlwc29pZC5jYXJ0ZXNpYW5Ub0NhcnRvZ3JhcGhpYyhjYXJ0ZXNpYW4pO1xuICAgICAgICAgICAgICAgIGNvbnN0IGNsYW1wZWQgPSBDZXNpdW0uQ2FydGVzaWFuMy5mcm9tUmFkaWFucyhjYXJ0by5sb25naXR1ZGUsIGNhcnRvLmxhdGl0dWRlLCAwLjApO1xuICAgICAgICAgICAgICAgIGZyVXBkYXRlUHJldmlldyhjbGFtcGVkKTtcbiAgICAgICAgICAgIH0sIENlc2l1bS5TY3JlZW5TcGFjZUV2ZW50VHlwZS5NT1VTRV9NT1ZFKTtcblxuICAgICAgICAgICAgaGFuZGxlci5zZXRJbnB1dEFjdGlvbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgZnJGaW5hbGl6ZUFyZWEoKTtcbiAgICAgICAgICAgIH0sIENlc2l1bS5TY3JlZW5TcGFjZUV2ZW50VHlwZS5SSUdIVF9DTElDSyk7XG5cbiAgICAgICAgICAgIC8vIENvb3JkaW5hdGVzIChleGFjdCBGcm9udHJ1bm5lciBzdHlsZSlcbiAgICAgICAgICAgIGNvbnN0IGNvb3JkRGlzcGxheSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICAgICAgY29vcmREaXNwbGF5LmlkID0gJ21vdXNlLWNvb3JkaW5hdGVzJztcbiAgICAgICAgICAgIGNvb3JkRGlzcGxheS5zdHlsZS5jc3NUZXh0ID0gYFxuICAgICAgICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICAgICAgICAgIGJvdHRvbTogMjBweDtcbiAgICAgICAgICAgICAgcmlnaHQ6IDIwcHg7XG4gICAgICAgICAgICAgIGJhY2tncm91bmQ6IHJnYmEoNTAsIDUwLCA1MCwgMC45Mik7XG4gICAgICAgICAgICAgIGNvbG9yOiB3aGl0ZTtcbiAgICAgICAgICAgICAgcGFkZGluZzogMTJweCAxNnB4O1xuICAgICAgICAgICAgICBib3JkZXItcmFkaXVzOiA5cHg7XG4gICAgICAgICAgICAgIGZvbnQtZmFtaWx5OiAnU2Vnb2UgVUknLCAtYXBwbGUtc3lzdGVtLCBCbGlua01hY1N5c3RlbUZvbnQsIHNhbnMtc2VyaWY7XG4gICAgICAgICAgICAgIGZvbnQtc2l6ZTogMTJweDtcbiAgICAgICAgICAgICAgZm9udC13ZWlnaHQ6IDQwMDtcbiAgICAgICAgICAgICAgYm94LXNoYWRvdzogMCA0cHggMTZweCByZ2JhKDAsIDAsIDAsIDAuMyk7XG4gICAgICAgICAgICAgIGJhY2tkcm9wLWZpbHRlcjogYmx1cigxMnB4KTtcbiAgICAgICAgICAgICAgYm9yZGVyOiBub25lO1xuICAgICAgICAgICAgICB6LWluZGV4OiAxMDAwO1xuICAgICAgICAgICAgICBtaW4td2lkdGg6IDE2MHB4O1xuICAgICAgICAgICAgICB0ZXh0LWFsaWduOiBsZWZ0O1xuICAgICAgICAgICAgICBkaXNwbGF5OiBibG9jaztcbiAgICAgICAgICAgICAgbGluZS1oZWlnaHQ6IDEuMzU7XG4gICAgICAgICAgICBgO1xuICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChjb29yZERpc3BsYXkpO1xuXG4gICAgICAgICAgICBjb25zdCBjb29yZEhhbmRsZXIgPSBuZXcgQ2VzaXVtLlNjcmVlblNwYWNlRXZlbnRIYW5kbGVyKHZpZXdlci5zY2VuZS5jYW52YXMpO1xuICAgICAgICAgICAgY29vcmRIYW5kbGVyLnNldElucHV0QWN0aW9uKChtb3ZlbWVudCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNhcnRlc2lhbiA9IHZpZXdlci5zY2VuZS5waWNrUG9zaXRpb24obW92ZW1lbnQuZW5kUG9zaXRpb24pO1xuICAgICAgICAgICAgICAgIGlmIChDZXNpdW0uZGVmaW5lZChjYXJ0ZXNpYW4pKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNhcnQgPSBDZXNpdW0uQ2FydG9ncmFwaGljLmZyb21DYXJ0ZXNpYW4oY2FydGVzaWFuKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbG5nID0gQ2VzaXVtLk1hdGgudG9EZWdyZWVzKGNhcnQubG9uZ2l0dWRlKS50b0ZpeGVkKDYpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBsYXQgPSBDZXNpdW0uTWF0aC50b0RlZ3JlZXMoY2FydC5sYXRpdHVkZSkudG9GaXhlZCg2KTtcbiAgICAgICAgICAgICAgICAgICAgY29vcmREaXNwbGF5LmlubmVySFRNTCA9IGBcbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPVwiZGlzcGxheTogZmxleDsganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuOyBtYXJnaW4tYm90dG9tOiA0cHg7XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBzdHlsZT1cImNvbG9yOiAjYTBhMGEwOyBmb250LXdlaWdodDogNDAwO1wiPkxhdDo8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBzdHlsZT1cImNvbG9yOiB3aGl0ZTsgZm9udC13ZWlnaHQ6IDUwMDsgZm9udC12YXJpYW50LW51bWVyaWM6IHRhYnVsYXItbnVtcztcIj4ke2xhdH3CsDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPVwiZGlzcGxheTogZmxleDsganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gc3R5bGU9XCJjb2xvcjogI2EwYTBhMDsgZm9udC13ZWlnaHQ6IDQwMDtcIj5Mbmc6PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gc3R5bGU9XCJjb2xvcjogd2hpdGU7IGZvbnQtd2VpZ2h0OiA1MDA7IGZvbnQtdmFyaWFudC1udW1lcmljOiB0YWJ1bGFyLW51bXM7XCI+JHtsbmd9wrA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIGA7XG4gICAgICAgICAgICAgICAgICAgIGNvb3JkRGlzcGxheS5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCBDZXNpdW0uU2NyZWVuU3BhY2VFdmVudFR5cGUuTU9VU0VfTU9WRSk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHsgc2V0TWFwRXJyb3IoZS5tZXNzYWdlKTsgfVxuXG4gICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgICBpZiAobWVhc3VyZW1lbnRIYW5kbGVyUmVmLmN1cnJlbnQpIHtcbiAgICAgICAgICAgICAgICBtZWFzdXJlbWVudEhhbmRsZXJSZWYuY3VycmVudC5kZXN0cm95KCk7XG4gICAgICAgICAgICAgICAgbWVhc3VyZW1lbnRIYW5kbGVyUmVmLmN1cnJlbnQgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGNvb3JkSGFuZGxlciAmJiAhY29vcmRIYW5kbGVyLmlzRGVzdHJveWVkKCkpIHtcbiAgICAgICAgICAgICAgICBjb29yZEhhbmRsZXIuZGVzdHJveSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGNvb3JkRGlzcGxheSAmJiBjb29yZERpc3BsYXkucGFyZW50Tm9kZSkge1xuICAgICAgICAgICAgICAgIGNvb3JkRGlzcGxheS5yZW1vdmUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNlc2l1bVZpZXdlclJlZi5jdXJyZW50Py5kZXN0cm95KCk7XG4gICAgICAgIH07XG4gICAgfSwgW2Nlc2l1bUxvYWRlZF0pO1xuXG4gICAgLy8gVG9vbHRpcCBIYW5kbGVyXG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgaWYgKCFtYXBMb2FkZWQgfHwgIWNlc2l1bVZpZXdlclJlZi5jdXJyZW50KSByZXR1cm47XG4gICAgICAgIGNvbnN0IHZpZXdlciA9IGNlc2l1bVZpZXdlclJlZi5jdXJyZW50O1xuICAgICAgICBjb25zdCBDZXNpdW0gPSB3aW5kb3cuQ2VzaXVtO1xuICAgICAgICBjb25zdCBoYW5kbGVyID0gbmV3IENlc2l1bS5TY3JlZW5TcGFjZUV2ZW50SGFuZGxlcih2aWV3ZXIuc2NlbmUuY2FudmFzKTtcblxuICAgICAgICBjb25zdCB0b29sdGlwID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIHRvb2x0aXAuc3R5bGUuY3NzVGV4dCA9IGBcbiAgICAgICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsgZGlzcGxheTogbm9uZTsgcG9pbnRlci1ldmVudHM6IG5vbmU7XG4gICAgICAgICAgICBiYWNrZ3JvdW5kOiByZ2JhKDIwLCAyMCwgMzAsIDAuOTUpOyBjb2xvcjogd2hpdGU7XG4gICAgICAgICAgICBwYWRkaW5nOiA4cHggMTJweDsgYm9yZGVyLXJhZGl1czogNnB4O1xuICAgICAgICAgICAgZm9udC1mYW1pbHk6ICdJbnRlcicsIHNhbnMtc2VyaWY7IGZvbnQtc2l6ZTogMTJweDtcbiAgICAgICAgICAgIGJveC1zaGFkb3c6IDAgNHB4IDEycHggcmdiYSgwLDAsMCwwLjQpO1xuICAgICAgICAgICAgYm9yZGVyOiAxcHggc29saWQgcmdiYSgyNTUsMjU1LDI1NSwwLjE1KTtcbiAgICAgICAgICAgIHotaW5kZXg6IDEwMDAwOyBtYXgtd2lkdGg6IDMwMHB4O1xuICAgICAgICBgO1xuICAgICAgICB2aWV3ZXIuY29udGFpbmVyLmFwcGVuZENoaWxkKHRvb2x0aXApO1xuXG4gICAgICAgIGhhbmRsZXIuc2V0SW5wdXRBY3Rpb24oKG1vdmVtZW50KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBzdGVwID0gZ2V0VHVybkN1cnJlbnRTdGVwPy4oKTtcbiAgICAgICAgICAgIGlmIChzdGVwID09PSAnc2VsZWN0aW5nX3NvdXJjZScgfHwgc3RlcCA9PT0gJ3NlbGVjdGluZ19kZXN0aW5hdGlvbicpIHtcbiAgICAgICAgICAgICAgICB0b29sdGlwLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICAgICAgICAgICAgdmlld2VyLmNvbnRhaW5lci5zdHlsZS5jdXJzb3IgPSAnZGVmYXVsdCc7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCBwaWNrZWRPYmplY3QgPSB2aWV3ZXIuc2NlbmUucGljayhtb3ZlbWVudC5lbmRQb3NpdGlvbik7XG4gICAgICAgICAgICBpZiAocGlja2VkT2JqZWN0ICYmIHBpY2tlZE9iamVjdC5pZCAmJiBwaWNrZWRPYmplY3QuaWQucHJvcGVydGllcykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNvbnRlbnQgPSBmb3JtYXRUb29sdGlwQ29udGVudChwaWNrZWRPYmplY3QuaWQpO1xuICAgICAgICAgICAgICAgIGlmIChjb250ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIHRvb2x0aXAuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG4gICAgICAgICAgICAgICAgICAgIHRvb2x0aXAuaW5uZXJIVE1MID0gY29udGVudDtcbiAgICAgICAgICAgICAgICAgICAgLy8gUG9zaXRpb24gdG9vbHRpcCBuZWFyIG1vdXNlIGJ1dCBub3QgdW5kZXIgaXRcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgeCA9IG1vdmVtZW50LmVuZFBvc2l0aW9uLnggKyAxNTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgeSA9IG1vdmVtZW50LmVuZFBvc2l0aW9uLnkgKyAxNTtcbiAgICAgICAgICAgICAgICAgICAgdG9vbHRpcC5zdHlsZS5sZWZ0ID0gYCR7eH1weGA7XG4gICAgICAgICAgICAgICAgICAgIHRvb2x0aXAuc3R5bGUudG9wID0gYCR7eX1weGA7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gS2VlcCB3aXRoaW4gYm91bmRzXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvbnRhaW5lclJlY3QgPSB2aWV3ZXIuY29udGFpbmVyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoeCArIHRvb2x0aXAub2Zmc2V0V2lkdGggPiBjb250YWluZXJSZWN0LndpZHRoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0b29sdGlwLnN0eWxlLmxlZnQgPSBgJHttb3ZlbWVudC5lbmRQb3NpdGlvbi54IC0gdG9vbHRpcC5vZmZzZXRXaWR0aCAtIDEwfXB4YDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoeSArIHRvb2x0aXAub2Zmc2V0SGVpZ2h0ID4gY29udGFpbmVyUmVjdC5oZWlnaHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvb2x0aXAuc3R5bGUudG9wID0gYCR7bW92ZW1lbnQuZW5kUG9zaXRpb24ueSAtIHRvb2x0aXAub2Zmc2V0SGVpZ2h0IC0gMTB9cHhgO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgdmlld2VyLmNvbnRhaW5lci5zdHlsZS5jdXJzb3IgPSAncG9pbnRlcic7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0b29sdGlwLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICAgICAgICB2aWV3ZXIuY29udGFpbmVyLnN0eWxlLmN1cnNvciA9ICdkZWZhdWx0JztcbiAgICAgICAgfSwgQ2VzaXVtLlNjcmVlblNwYWNlRXZlbnRUeXBlLk1PVVNFX01PVkUpO1xuXG4gICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgICBoYW5kbGVyLmRlc3Ryb3koKTtcbiAgICAgICAgICAgIGlmICh0b29sdGlwLnBhcmVudE5vZGUpIHRvb2x0aXAucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0b29sdGlwKTtcbiAgICAgICAgfTtcbiAgICB9LCBbbWFwTG9hZGVkXSk7XG5cbiAgICAvLyBDbGljayBIYW5kbGVyIGZvciBEaWFsb2dcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAoIW1hcExvYWRlZCB8fCAhY2VzaXVtVmlld2VyUmVmLmN1cnJlbnQpIHJldHVybjtcbiAgICAgICAgY29uc3Qgdmlld2VyID0gY2VzaXVtVmlld2VyUmVmLmN1cnJlbnQ7XG4gICAgICAgIGNvbnN0IENlc2l1bSA9IHdpbmRvdy5DZXNpdW07XG4gICAgICAgIGNvbnN0IGhhbmRsZXIgPSBuZXcgQ2VzaXVtLlNjcmVlblNwYWNlRXZlbnRIYW5kbGVyKHZpZXdlci5zY2VuZS5jYW52YXMpO1xuXG4gICAgICAgIGhhbmRsZXIuc2V0SW5wdXRBY3Rpb24oKGNsaWNrKSA9PiB7XG4gICAgICAgICAgICAvLyBTaG9ydC1jaXJjdWl0IHRvIHR1cm4tcGF0aCBzZWxlY3Rpb246IG5vIGluZm8gZGlhbG9nIHdoaWxlIHNlbGVjdGluZ1xuICAgICAgICAgICAgY29uc3Qgc3RlcCA9IGdldFR1cm5DdXJyZW50U3RlcD8uKCk7XG4gICAgICAgICAgICBpZiAoc3RlcCA9PT0gJ3NlbGVjdGluZ19zb3VyY2UnIHx8IHN0ZXAgPT09ICdzZWxlY3RpbmdfZGVzdGluYXRpb24nKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZHJpbGwgPSB2aWV3ZXIuc2NlbmUuZHJpbGxQaWNrKGNsaWNrLnBvc2l0aW9uKTtcbiAgICAgICAgICAgICAgICBjb25zdCBwaWNrZWQgPSAoZHJpbGwgJiYgZHJpbGxbMF0pIHx8IHZpZXdlci5zY2VuZS5waWNrKGNsaWNrLnBvc2l0aW9uKTtcbiAgICAgICAgICAgICAgICBpZiAocGlja2VkICYmIHBpY2tlZC5pZCkge1xuICAgICAgICAgICAgICAgICAgICBoYW5kbGVUdXJuUGF0aENsaWNrKHBpY2tlZC5pZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybjsgLy8gYWx3YXlzIHN1cHByZXNzIGluZm8gZGlhbG9nIHdoaWxlIHNlbGVjdGluZ1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBMb29rIGF0ICphbGwqIHByaW1pdGl2ZXMgdW5kZXIgdGhlIGN1cnNvclxuICAgICAgICAgICAgY29uc3QgcGlja2VkID0gdmlld2VyLnNjZW5lLmRyaWxsUGljayhjbGljay5wb3NpdGlvbikgfHwgW107XG5cbiAgICAgICAgICAgIC8vIFByZWZlciBsb2NhdGlvbnMgLyBpbnRlcnNlY3Rpb25zIG92ZXIgcm9hZHMgd2hlbiBvdmVybGFwcGluZ1xuICAgICAgICAgICAgbGV0IHBpY2tlZE9iamVjdCA9XG4gICAgICAgICAgICAgICAgcGlja2VkLmZpbmQobyA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghby5pZCB8fCAhby5pZC5wcm9wZXJ0aWVzIHx8ICFvLmlkLnByb3BlcnRpZXMuY2F0ZWdvcnkpIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY2F0UHJvcCA9IG8uaWQucHJvcGVydGllcy5jYXRlZ29yeTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY2F0ID0gY2F0UHJvcC5nZXRWYWx1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgPyBjYXRQcm9wLmdldFZhbHVlKHdpbmRvdy5DZXNpdW0uSnVsaWFuRGF0ZS5ub3coKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIDogY2F0UHJvcDtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNhdCA9PT0gJ2Rpc3BhdGNoX2xvY2F0aW9uJyB8fCBjYXQgPT09ICdkaXNwYXRjaF9pbnRlcnNlY3Rpb24nO1xuICAgICAgICAgICAgICAgIH0pIHx8IHBpY2tlZFswXTtcblxuICAgICAgICAgICAgaWYgKENlc2l1bS5kZWZpbmVkKHBpY2tlZE9iamVjdCkgJiYgcGlja2VkT2JqZWN0LmlkICYmIHBpY2tlZE9iamVjdC5pZC5wcm9wZXJ0aWVzKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZW50aXR5ID0gcGlja2VkT2JqZWN0LmlkO1xuICAgICAgICAgICAgICAgIGNvbnN0IGFsbFByb3BlcnRpZXMgPSB7fTtcblxuICAgICAgICAgICAgICAgIC8vIEV4dHJhY3QgcHJvcGVydGllc1xuICAgICAgICAgICAgICAgIGNvbnN0IHByb3BlcnR5TmFtZXMgPSBlbnRpdHkucHJvcGVydGllcy5wcm9wZXJ0eU5hbWVzIHx8IE9iamVjdC5rZXlzKGVudGl0eS5wcm9wZXJ0aWVzKTtcbiAgICAgICAgICAgICAgICBwcm9wZXJ0eU5hbWVzLmZvckVhY2gocHJvcE5hbWUgPT4ge1xuICAgICAgICAgICAgICAgICAgICAvLyBTa2lwIGludGVybmFsIENlc2l1bSBwcm9wZXJ0aWVzXG4gICAgICAgICAgICAgICAgICAgIGlmIChwcm9wTmFtZS5zdGFydHNXaXRoKCdfJykgfHwgcHJvcE5hbWUgPT09ICdwcm9wZXJ0eU5hbWVzJyB8fCBwcm9wTmFtZSA9PT0gJ2RlZmluaXRpb25DaGFuZ2VkJyB8fCBwcm9wTmFtZSA9PT0gJ2NvbG9yJyB8fCBwcm9wTmFtZSA9PT0gJ3N0eWxlX3JvbGUnKSByZXR1cm47XG5cbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHByb3AgPSBlbnRpdHkucHJvcGVydGllc1twcm9wTmFtZV07XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocHJvcCAmJiB0eXBlb2YgcHJvcC5nZXRWYWx1ZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHZhbCA9IHByb3AuZ2V0VmFsdWUoQ2VzaXVtLkp1bGlhbkRhdGUubm93KCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWwgIT09IHVuZGVmaW5lZCAmJiB2YWwgIT09IG51bGwpIGFsbFByb3BlcnRpZXNbcHJvcE5hbWVdID0gdmFsO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChwcm9wICE9PSB1bmRlZmluZWQgJiYgcHJvcCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsbFByb3BlcnRpZXNbcHJvcE5hbWVdID0gcHJvcDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkgeyB9XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAvLyBBbHNvIHRyeSBkaXJlY3QgcHJvcGVydGllcyBpZiBub3QgZm91bmQgYWJvdmVcbiAgICAgICAgICAgICAgICBpZiAoZW50aXR5LnByb3BlcnRpZXMuY2F0ZWdvcnkgJiYgIWFsbFByb3BlcnRpZXMuY2F0ZWdvcnkpIHtcbiAgICAgICAgICAgICAgICAgICAgYWxsUHJvcGVydGllcy5jYXRlZ29yeSA9IGVudGl0eS5wcm9wZXJ0aWVzLmNhdGVnb3J5LmdldFZhbHVlID8gZW50aXR5LnByb3BlcnRpZXMuY2F0ZWdvcnkuZ2V0VmFsdWUoKSA6IGVudGl0eS5wcm9wZXJ0aWVzLmNhdGVnb3J5O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoZW50aXR5LnByb3BlcnRpZXMubmFtZSAmJiAhYWxsUHJvcGVydGllcy5uYW1lKSB7XG4gICAgICAgICAgICAgICAgICAgIGFsbFByb3BlcnRpZXMubmFtZSA9IGVudGl0eS5wcm9wZXJ0aWVzLm5hbWUuZ2V0VmFsdWUgPyBlbnRpdHkucHJvcGVydGllcy5uYW1lLmdldFZhbHVlKCkgOiBlbnRpdHkucHJvcGVydGllcy5uYW1lO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIENsZWFyIHByZXZpb3VzIGhpZ2hsaWdodHNcbiAgICAgICAgICAgICAgICB2aWV3ZXIuZW50aXRpZXMudmFsdWVzLmZvckVhY2gocHJldkVudGl0eSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChwcmV2RW50aXR5Ll9vcmlnaW5hbE1hdGVyaWFsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocHJldkVudGl0eS5jb3JyaWRvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByZXZFbnRpdHkuY29ycmlkb3IubWF0ZXJpYWwgPSBwcmV2RW50aXR5Ll9vcmlnaW5hbE1hdGVyaWFsO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByZXZFbnRpdHkuY29ycmlkb3Iub3V0bGluZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChwcmV2RW50aXR5LnBvbHlnb24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmV2RW50aXR5LnBvbHlnb24ubWF0ZXJpYWwgPSBwcmV2RW50aXR5Ll9vcmlnaW5hbE1hdGVyaWFsO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByZXZFbnRpdHkucG9seWdvbi5vdXRsaW5lID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgcHJldkVudGl0eS5fb3JpZ2luYWxNYXRlcmlhbDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgLy8gSGlnaGxpZ2h0IGNsaWNrZWQgZW50aXR5XG4gICAgICAgICAgICAgICAgaWYgKGVudGl0eS5jb3JyaWRvcikge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWVudGl0eS5fb3JpZ2luYWxNYXRlcmlhbCkgZW50aXR5Ll9vcmlnaW5hbE1hdGVyaWFsID0gZW50aXR5LmNvcnJpZG9yLm1hdGVyaWFsO1xuICAgICAgICAgICAgICAgICAgICBlbnRpdHkuY29ycmlkb3IubWF0ZXJpYWwgPSBDZXNpdW0uQ29sb3IuQ1lBTi53aXRoQWxwaGEoMS4wKTtcbiAgICAgICAgICAgICAgICAgICAgZW50aXR5LmNvcnJpZG9yLm91dGxpbmUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBlbnRpdHkuY29ycmlkb3Iub3V0bGluZUNvbG9yID0gQ2VzaXVtLkNvbG9yLllFTExPVztcbiAgICAgICAgICAgICAgICAgICAgZW50aXR5LmNvcnJpZG9yLm91dGxpbmVXaWR0aCA9IDM7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChlbnRpdHkucG9seWdvbikge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWVudGl0eS5fb3JpZ2luYWxNYXRlcmlhbCkgZW50aXR5Ll9vcmlnaW5hbE1hdGVyaWFsID0gZW50aXR5LnBvbHlnb24ubWF0ZXJpYWw7XG4gICAgICAgICAgICAgICAgICAgIGVudGl0eS5wb2x5Z29uLm1hdGVyaWFsID0gQ2VzaXVtLkNvbG9yLkNZQU4ud2l0aEFscGhhKDAuOSk7XG4gICAgICAgICAgICAgICAgICAgIGVudGl0eS5wb2x5Z29uLm91dGxpbmUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBlbnRpdHkucG9seWdvbi5vdXRsaW5lQ29sb3IgPSBDZXNpdW0uQ29sb3IuWUVMTE9XO1xuICAgICAgICAgICAgICAgICAgICBlbnRpdHkucG9seWdvbi5vdXRsaW5lV2lkdGggPSAzO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHNldERpYWxvZ0RhdGEoe1xuICAgICAgICAgICAgICAgICAgICBjYXRlZ29yeTogYWxsUHJvcGVydGllcy5jYXRlZ29yeSxcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogYWxsUHJvcGVydGllcy5uYW1lIHx8ICdVbmtub3duJyxcbiAgICAgICAgICAgICAgICAgICAgYWxsUHJvcGVydGllczogYWxsUHJvcGVydGllc1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHNldERpYWxvZ09wZW4odHJ1ZSk7XG5cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gQ2xpY2tlZCBlbXB0eSBzcGFjZVxuICAgICAgICAgICAgICAgIHNldERpYWxvZ09wZW4oZmFsc2UpO1xuICAgICAgICAgICAgICAgIHNldERpYWxvZ0RhdGEobnVsbCk7XG5cbiAgICAgICAgICAgICAgICAvLyBSZXNldCBoaWdobGlnaHRzXG4gICAgICAgICAgICAgICAgdmlld2VyLmVudGl0aWVzLnZhbHVlcy5mb3JFYWNoKHByZXZFbnRpdHkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAocHJldkVudGl0eS5fb3JpZ2luYWxNYXRlcmlhbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHByZXZFbnRpdHkuY29ycmlkb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmV2RW50aXR5LmNvcnJpZG9yLm1hdGVyaWFsID0gcHJldkVudGl0eS5fb3JpZ2luYWxNYXRlcmlhbDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmV2RW50aXR5LmNvcnJpZG9yLm91dGxpbmUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAocHJldkVudGl0eS5wb2x5Z29uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJldkVudGl0eS5wb2x5Z29uLm1hdGVyaWFsID0gcHJldkVudGl0eS5fb3JpZ2luYWxNYXRlcmlhbDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmV2RW50aXR5LnBvbHlnb24ub3V0bGluZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHByZXZFbnRpdHkuX29yaWdpbmFsTWF0ZXJpYWw7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgQ2VzaXVtLlNjcmVlblNwYWNlRXZlbnRUeXBlLkxFRlRfQ0xJQ0spO1xuXG4gICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgICBoYW5kbGVyLmRlc3Ryb3koKTtcbiAgICAgICAgfTtcbiAgICB9LCBbbWFwTG9hZGVkXSk7XG5cbiAgICAvLyBDZW50ZXIgcG9pbnRzIHJlbmRlcmVyIChtYWdlbnRhIG1hcmtlcnMsIGxpa2UgRnJvbnRydW5uZXIpXG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgY29uc3Qgdmlld2VyID0gY2VzaXVtVmlld2VyUmVmLmN1cnJlbnQ7XG4gICAgICAgIGlmICghdmlld2VyIHx8ICF2aWV3ZXIuZW50aXRpZXMpIHJldHVybjtcblxuICAgICAgICAvLyBjbGVhciBvbGRcbiAgICAgICAgaWYgKGNlbnRlclBvaW50RW50aXRpZXNSZWYuY3VycmVudC5sZW5ndGgpIHtcbiAgICAgICAgICAgIGNlbnRlclBvaW50RW50aXRpZXNSZWYuY3VycmVudC5mb3JFYWNoKGUgPT4ge1xuICAgICAgICAgICAgICAgIHRyeSB7IHZpZXdlci5lbnRpdGllcy5yZW1vdmUoZSk7IH0gY2F0Y2ggKF8pIHsgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjZW50ZXJQb2ludEVudGl0aWVzUmVmLmN1cnJlbnQgPSBbXTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghc2hvd0NlbnRlclBvaW50cyB8fCAhQXJyYXkuaXNBcnJheShjZW50ZXJQb2ludHMpKSB7XG4gICAgICAgICAgICB2aWV3ZXIuc2NlbmU/LnJlcXVlc3RSZW5kZXIoKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IENlc2l1bSA9IHdpbmRvdy5DZXNpdW07XG4gICAgICAgIGNlbnRlclBvaW50cy5mb3JFYWNoKChjcCkgPT4ge1xuICAgICAgICAgICAgaWYgKGNwLmxvbiA9PSBudWxsIHx8IGNwLmxhdCA9PSBudWxsKSByZXR1cm47XG4gICAgICAgICAgICBjb25zdCBwb3MgPSBDZXNpdW0uQ2FydGVzaWFuMy5mcm9tRGVncmVlcyhjcC5sb24sIGNwLmxhdCwgMi4wKTtcbiAgICAgICAgICAgIGNvbnN0IGVudCA9IHZpZXdlci5lbnRpdGllcy5hZGQoe1xuICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBwb3MsXG4gICAgICAgICAgICAgICAgcG9pbnQ6IHtcbiAgICAgICAgICAgICAgICAgICAgcGl4ZWxTaXplOiAyNSxcbiAgICAgICAgICAgICAgICAgICAgY29sb3I6IENlc2l1bS5Db2xvci5NQUdFTlRBLFxuICAgICAgICAgICAgICAgICAgICBvdXRsaW5lQ29sb3I6IENlc2l1bS5Db2xvci5XSElURSxcbiAgICAgICAgICAgICAgICAgICAgb3V0bGluZVdpZHRoOiA2LFxuICAgICAgICAgICAgICAgICAgICBoZWlnaHRSZWZlcmVuY2U6IENlc2l1bS5IZWlnaHRSZWZlcmVuY2UuUkVMQVRJVkVfVE9fR1JPVU5ELFxuICAgICAgICAgICAgICAgICAgICBkaXNhYmxlRGVwdGhUZXN0RGlzdGFuY2U6IE51bWJlci5QT1NJVElWRV9JTkZJTklUWSxcbiAgICAgICAgICAgICAgICAgICAgc2NhbGVCeURpc3RhbmNlOiBuZXcgQ2VzaXVtLk5lYXJGYXJTY2FsYXIoMS41ZTIsIDMuMCwgMS41ZTcsIDEuNSksXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBjeWxpbmRlcjoge1xuICAgICAgICAgICAgICAgICAgICBsZW5ndGg6IDIuMCxcbiAgICAgICAgICAgICAgICAgICAgdG9wUmFkaXVzOiAwLjgsXG4gICAgICAgICAgICAgICAgICAgIGJvdHRvbVJhZGl1czogMC44LFxuICAgICAgICAgICAgICAgICAgICBtYXRlcmlhbDogQ2VzaXVtLkNvbG9yLk1BR0VOVEEud2l0aEFscGhhKDAuOSksXG4gICAgICAgICAgICAgICAgICAgIG91dGxpbmU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIG91dGxpbmVDb2xvcjogQ2VzaXVtLkNvbG9yLldISVRFLFxuICAgICAgICAgICAgICAgICAgICBvdXRsaW5lV2lkdGg6IDIsXG4gICAgICAgICAgICAgICAgICAgIGhlaWdodFJlZmVyZW5jZTogQ2VzaXVtLkhlaWdodFJlZmVyZW5jZS5SRUxBVElWRV9UT19HUk9VTkQsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzOiB7XG4gICAgICAgICAgICAgICAgICAgIGNhdGVnb3J5OiAncm9hZF9pbnRlcnNlY3Rpb25fY2VudGVyJyxcbiAgICAgICAgICAgICAgICAgICAgcm9hZF9pZDogY3Aucm9hZF9pZCxcbiAgICAgICAgICAgICAgICAgICAgaW50ZXJzZWN0aW9uX2lkOiBjcC5pbnRlcnNlY3Rpb25faWQsXG4gICAgICAgICAgICAgICAgICAgIGludGVyc2VjdGlvbl9uYW1lOiBjcC5pbnRlcnNlY3Rpb25fbmFtZSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIG5hbWU6IGBDZW50ZXIgUG9pbnQgJHtjcC5pbnRlcnNlY3Rpb25fbmFtZSB8fCAnJ30gKCR7Y3Aucm9hZF9pZCB8fCAnJ30pYCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgY2VudGVyUG9pbnRFbnRpdGllc1JlZi5jdXJyZW50LnB1c2goZW50KTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdmlld2VyLnNjZW5lPy5yZXF1ZXN0UmVuZGVyKCk7XG4gICAgfSwgW2NlbnRlclBvaW50cywgc2hvd0NlbnRlclBvaW50c10pO1xuXG4gICAgLy8gQmFzZSBMYXllciBMb2dpY1xuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGlmICghY2VzaXVtVmlld2VyUmVmLmN1cnJlbnQgfHwgIXdpbmRvdy5DZXNpdW0pIHJldHVybjtcbiAgICAgICAgY29uc3Qgdmlld2VyID0gY2VzaXVtVmlld2VyUmVmLmN1cnJlbnQ7XG4gICAgICAgIGNvbnN0IENlc2l1bSA9IHdpbmRvdy5DZXNpdW07XG4gICAgICAgIGxldCBjYW5jZWxsZWQgPSBmYWxzZTtcblxuICAgICAgICBjb25zdCB1cGRhdGVCYXNlTGF5ZXIgPSBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICB2aWV3ZXIuaW1hZ2VyeUxheWVycy5yZW1vdmVBbGwoKTtcblxuICAgICAgICAgICAgbGV0IHByb3ZpZGVyO1xuICAgICAgICAgICAgc3dpdGNoIChiYXNlTGF5ZXIpIHtcbiAgICAgICAgICAgICAgICBjYXNlICduaWdodCc6XG4gICAgICAgICAgICAgICAgICAgIHByb3ZpZGVyID0gbmV3IENlc2l1bS5VcmxUZW1wbGF0ZUltYWdlcnlQcm92aWRlcih7XG4gICAgICAgICAgICAgICAgICAgICAgICB1cmw6ICdodHRwczovL2EuYmFzZW1hcHMuY2FydG9jZG4uY29tL2RhcmtfYWxsL3t6fS97eH0ve3l9LnBuZycsXG4gICAgICAgICAgICAgICAgICAgICAgICBjcmVkaXQ6ICfCqSBPcGVuU3RyZWV0TWFwIGNvbnRyaWJ1dG9ycywgwqkgQ0FSVE8nXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdkYXknOlxuICAgICAgICAgICAgICAgICAgICBwcm92aWRlciA9IG5ldyBDZXNpdW0uVXJsVGVtcGxhdGVJbWFnZXJ5UHJvdmlkZXIoe1xuICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiAnaHR0cHM6Ly9zZXJ2ZXIuYXJjZ2lzb25saW5lLmNvbS9BcmNHSVMvcmVzdC9zZXJ2aWNlcy9Xb3JsZF9JbWFnZXJ5L01hcFNlcnZlci90aWxlL3t6fS97eX0ve3h9JyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNyZWRpdDogJ8KpIEVzcmksIERpZ2l0YWxHbG9iZSwgR2VvRXllLCBFYXJ0aHN0YXIgR2VvZ3JhcGhpY3MsIENORVMvQWlyYnVzIERTLCBVU0RBLCBVU0dTLCBBZXJvR1JJRCwgSUdOLCBhbmQgdGhlIEdJUyBVc2VyIENvbW11bml0eSdcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ3RvcG9ncmFwaGljJzpcbiAgICAgICAgICAgICAgICAgICAgcHJvdmlkZXIgPSBuZXcgQ2VzaXVtLlVybFRlbXBsYXRlSW1hZ2VyeVByb3ZpZGVyKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHVybDogJ2h0dHBzOi8ve3N9LnRpbGUub3BlbnRvcG9tYXAub3JnL3t6fS97eH0ve3l9LnBuZycsXG4gICAgICAgICAgICAgICAgICAgICAgICBjcmVkaXQ6ICfCqSBPcGVuVG9wb01hcCBjb250cmlidXRvcnMnLFxuICAgICAgICAgICAgICAgICAgICAgICAgc3ViZG9tYWluczogWydhJywgJ2InLCAnYyddXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICd0ZXJyYWluJzpcbiAgICAgICAgICAgICAgICAgICAgcHJvdmlkZXIgPSBuZXcgQ2VzaXVtLlVybFRlbXBsYXRlSW1hZ2VyeVByb3ZpZGVyKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHVybDogJ2h0dHBzOi8vdGlsZXMuc3RhZGlhbWFwcy5jb20vdGlsZXMvc3RhbWVuX3RlcnJhaW4ve3p9L3t4fS97eX0ucG5nJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNyZWRpdDogJ8KpIFN0YWRpYSBNYXBzIMKpIFN0YW1lbiBEZXNpZ24gwqkgT3Blbk1hcFRpbGVzIMKpIE9wZW5TdHJlZXRNYXAgY29udHJpYnV0b3JzJ1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgcHJvdmlkZXIgPSBuZXcgQ2VzaXVtLlVybFRlbXBsYXRlSW1hZ2VyeVByb3ZpZGVyKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHVybDogJ2h0dHBzOi8vYS5iYXNlbWFwcy5jYXJ0b2Nkbi5jb20vZGFya19hbGwve3p9L3t4fS97eX0ucG5nJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNyZWRpdDogJ8KpIE9wZW5TdHJlZXRNYXAgY29udHJpYnV0b3JzLCDCqSBDQVJUTydcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICghY2FuY2VsbGVkKSB7XG4gICAgICAgICAgICAgICAgdmlld2VyLmltYWdlcnlMYXllcnMuYWRkSW1hZ2VyeVByb3ZpZGVyKHByb3ZpZGVyKTtcbiAgICAgICAgICAgICAgICAvLyBFbnN1cmUgYmFzZSBjb2xvciBpcyBkYXJrIGZvciBuaWdodCBtb2RlIG9yIGdlbmVyYWwgY29uc2lzdGVuY3lcbiAgICAgICAgICAgICAgICB2aWV3ZXIuc2NlbmUuZ2xvYmUuYmFzZUNvbG9yID0gQ2VzaXVtLkNvbG9yLmZyb21Dc3NDb2xvclN0cmluZygnIzFhMWEyZScpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIHVwZGF0ZUJhc2VMYXllcigpO1xuICAgICAgICByZXR1cm4gKCkgPT4geyBjYW5jZWxsZWQgPSB0cnVlOyB9O1xuICAgIH0sIFtiYXNlTGF5ZXIsIG1hcExvYWRlZF0pO1xuXG4gICAgLy8gTG9hZCBEYXRhIChjb21iaW5lZCBBUEkpXG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgaWYgKCFtYXBMb2FkZWQpIHJldHVybjtcbiAgICAgICAgY29uc3QgbG9hZCA9IGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzID0gYXdhaXQgZmV0Y2goJy9hcGkvY29tYmluZWQtbWFwLWRhdGEnKTtcbiAgICAgICAgICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzLmpzb24oKTtcblxuICAgICAgICAgICAgICAgIC8vIFNob3cgZXZlcnl0aGluZyBmcm9tIHRoZSBjb21iaW5lZCBBUEkgKGJvdGggZGlzcGF0Y2ggYW5kIGZyb250cnVubmVyKVxuICAgICAgICAgICAgICAgIGNvbnN0IHJvYWRzID0gZGF0YT8ucm9hZHMgfHwgW107XG4gICAgICAgICAgICAgICAgY29uc3QgaW50ZXJzZWN0aW9ucyA9IGRhdGE/LmludGVyc2VjdGlvbnMgfHwgW107XG4gICAgICAgICAgICAgICAgY29uc3QgaW5mcmFzdHJ1Y3R1cmUgPSBkYXRhPy5pbmZyYXN0cnVjdHVyZSB8fCBbXTtcbiAgICAgICAgICAgICAgICBjb25zdCBhcGlTZWdtZW50cyA9IGRhdGE/LnNlZ21lbnRzIHx8IFtdO1xuXG4gICAgICAgICAgICAgICAgY29uc3QgbWFwcGVkU2VnbWVudHMgPSAoYXBpU2VnbWVudHMubGVuZ3RoID8gYXBpU2VnbWVudHMgOiByb2FkcykubWFwKChzKSA9PiAoe1xuICAgICAgICAgICAgICAgICAgICBsYW5lX2lkOiBzLmxhbmVfaWQgfHwgcy5yb2FkX2lkLFxuICAgICAgICAgICAgICAgICAgICByb2FkX2lkOiBzLnJvYWRfaWQgfHwgcy5sYW5lX2lkLFxuICAgICAgICAgICAgICAgICAgICBnZW9tZXRyeTogcy5nZW9tZXRyeV9nZW9qc29uIHx8IHMuZ2VvbWV0cnkgfHwgcy5jZW50ZXJsaW5lX2dlb2pzb24sXG4gICAgICAgICAgICAgICAgICAgIGlzX2Nsb3NlZDogcy5pc19jbG9zZWQsXG4gICAgICAgICAgICAgICAgICAgIGRpcmVjdGlvbjogcy5kaXJlY3Rpb24gPz8gbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgbGVuZ3RoX206IHMubGVuZ3RoX20gPz8gbnVsbCxcbiAgICAgICAgICAgICAgICB9KSk7XG5cbiAgICAgICAgICAgICAgICBjb25zdCBtYXBwZWRMb2NhdGlvbnMgPSBpbmZyYXN0cnVjdHVyZVxuICAgICAgICAgICAgICAgICAgICAubWFwKChwKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgbGF0ID0gbnVsbCwgbG9uID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZ2ogPSBwLnBvaW50X2dlb2pzb24gPyBKU09OLnBhcnNlKHAucG9pbnRfZ2VvanNvbikgOiBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChnaiAmJiBnai50eXBlID09PSAnUG9pbnQnICYmIEFycmF5LmlzQXJyYXkoZ2ouY29vcmRpbmF0ZXMpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtsb24sIGxhdF0gPSBnai5jb29yZGluYXRlcztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChfKSB7IH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYXRpb25faWQ6IHAubG9jYXRpb25faWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYXRpb25fbmFtZTogcC5sb2NhdGlvbl9uYW1lIHx8ICcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhdGl0dWRlOiBsYXQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9uZ2l0dWRlOiBsb24sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2VvbWV0cnk6IHAuZ2VvbV9nZW9qc29uIHx8IHAuZ2VvbWV0cnkgfHwgbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1bml0X3R5cGU6IHAudW5pdF90eXBlIHx8IHAubG9jYXRpb25fY2F0ZWdvcnkgfHwgcC51bml0X3R5cGVfaWQgfHwgcC51bml0X2lkIHx8IHAuc291cmNlIHx8ICdpbmZyYXN0cnVjdHVyZScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYXRpb25fY2F0ZWdvcnk6IHAubG9jYXRpb25fY2F0ZWdvcnkgfHwgcC51bml0X3R5cGUgfHwgcC51bml0X3R5cGVfaWQgfHwgcC51bml0X2lkIHx8IHAuc291cmNlIHx8ICdpbmZyYXN0cnVjdHVyZScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdW5pdF90eXBlX2lkOiBwLnVuaXRfdHlwZV9pZCB8fCBwLnVuaXRfaWQgfHwgbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzb3VyY2U6IHAuc291cmNlIHx8ICcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgLmZpbHRlcigocCkgPT4gTnVtYmVyLmlzRmluaXRlKHAubGF0aXR1ZGUpICYmIE51bWJlci5pc0Zpbml0ZShwLmxvbmdpdHVkZSkpO1xuXG4gICAgICAgICAgICAgICAgY29uc3QgbWFwcGVkSW50ZXJzZWN0aW9ucyA9IGludGVyc2VjdGlvbnMubWFwKChpKSA9PiAoe1xuICAgICAgICAgICAgICAgICAgICAuLi5pLFxuICAgICAgICAgICAgICAgICAgICBnZW9tZXRyeTogaS5nZW9tX2dlb2pzb24gfHwgaS5nZW9tZXRyeSxcbiAgICAgICAgICAgICAgICB9KSk7XG5cbiAgICAgICAgICAgICAgICAvLyBEZWJ1ZzogbG9nIGNvdW50cyBhbmQgdG9wIHR5cGVzXG4gICAgICAgICAgICAgICAgY29uc3QgdHlwZUNvdW50cyA9IHt9O1xuICAgICAgICAgICAgICAgIG1hcHBlZExvY2F0aW9ucy5mb3JFYWNoKChsb2MpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdCA9IHJlc29sdmVEaXNwYXRjaExvY2F0aW9uVHlwZShsb2MpO1xuICAgICAgICAgICAgICAgICAgICB0eXBlQ291bnRzW3RdID0gKHR5cGVDb3VudHNbdF0gfHwgMCkgKyAxO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIC8vIExvZyBhIGZldyBzYW1wbGUgbG9jYXRpb25zIHdpdGggcmVzb2x2ZWQgdHlwZVxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdbQ29tYmluZWRNYXBdW0RhdGFdJywge1xuICAgICAgICAgICAgICAgICAgICByb2Fkczogcm9hZHMubGVuZ3RoLFxuICAgICAgICAgICAgICAgICAgICBzZWdtZW50czogbWFwcGVkU2VnbWVudHMubGVuZ3RoLFxuICAgICAgICAgICAgICAgICAgICBpbnRlcnNlY3Rpb25zOiBtYXBwZWRJbnRlcnNlY3Rpb25zLmxlbmd0aCxcbiAgICAgICAgICAgICAgICAgICAgaW5mcmFzdHJ1Y3R1cmU6IG1hcHBlZExvY2F0aW9ucy5sZW5ndGgsXG4gICAgICAgICAgICAgICAgICAgIHR5cGVDb3VudHMsXG4gICAgICAgICAgICAgICAgICAgIHNhbXBsZXM6IG1hcHBlZExvY2F0aW9ucy5zbGljZSgwLCA1KS5tYXAoKGxvYykgPT4gKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvY2F0aW9uX2lkOiBsb2MubG9jYXRpb25faWQsXG4gICAgICAgICAgICAgICAgICAgICAgICBzb3VyY2U6IGxvYy5zb3VyY2UsXG4gICAgICAgICAgICAgICAgICAgICAgICB1bml0X3R5cGU6IGxvYy51bml0X3R5cGUsXG4gICAgICAgICAgICAgICAgICAgICAgICB1bml0X3R5cGVfaWQ6IGxvYy51bml0X3R5cGVfaWQsXG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlZF90eXBlOiByZXNvbHZlRGlzcGF0Y2hMb2NhdGlvblR5cGUobG9jKSxcbiAgICAgICAgICAgICAgICAgICAgfSkpLFxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgc2V0TG9jYXRpb25zKG1hcHBlZExvY2F0aW9ucyk7XG4gICAgICAgICAgICAgICAgc2V0U2VnbWVudHMobWFwcGVkU2VnbWVudHMpO1xuICAgICAgICAgICAgICAgIHNldFRyb2xsZXlTZWdtZW50cyhkYXRhPy50cm9sbGV5U2VnbWVudHMgfHwgW10pO1xuICAgICAgICAgICAgICAgIHNldFdhdGVyaW5nU3RhdGlvbnMoZGF0YT8ud2F0ZXJpbmdTdGF0aW9ucyB8fCBbXSk7XG4gICAgICAgICAgICAgICAgc2V0U3BlZWRNb25pdG9yaW5nKGRhdGE/LnNwZWVkTW9uaXRvcmluZyB8fCBbXSk7XG4gICAgICAgICAgICAgICAgc2V0SW50ZXJzZWN0aW9ucyhtYXBwZWRJbnRlcnNlY3Rpb25zKTtcblxuICAgICAgICAgICAgICAgIC8vIEJ1aWxkIHZpc2libGUgdHlwZXMgZnJvbSB0aGUgcmVzb2x2ZWQgdHlwZXMgcHJlc2VudCBpbiB0aGUgcGF5bG9hZFxuICAgICAgICAgICAgICAgIGNvbnN0IHJlc29sdmVkVHlwZXMgPSBBcnJheS5mcm9tKG5ldyBTZXQobWFwcGVkTG9jYXRpb25zLm1hcCgobG9jKSA9PiByZXNvbHZlRGlzcGF0Y2hMb2NhdGlvblR5cGUobG9jKSkpKTtcblxuICAgICAgICAgICAgICAgIGNvbnN0IHZpc2libGVTZXQgPSBuZXcgU2V0KCk7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZWRUeXBlcy5mb3JFYWNoKHQgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBrZXkgPSBTdHJpbmcodCkudHJpbSgpLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGlzTnVtZXJpYyA9IC9eWzAtOV0rJC8udGVzdChrZXkpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoU1FVQVJFX1RZUEVTLmhhcyhrZXkpIHx8IGlzTnVtZXJpYykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmlzaWJsZVNldC5hZGQodCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBTUVVBUkVfVFlQRVMuZm9yRWFjaCh0ID0+IHZpc2libGVTZXQuYWRkKHQpKTtcbiAgICAgICAgICAgICAgICBzZXRWaXNpYmxlTG9jYXRpb25UeXBlcyh2aXNpYmxlU2V0KTtcblxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGBbQ29tYmluZWRNYXBdIExvYWRlZCBkYXRhOlxuICAgICAgICAgICAgICAgICAgLSBMb2NhdGlvbnM6ICR7bWFwcGVkTG9jYXRpb25zLmxlbmd0aH1cbiAgICAgICAgICAgICAgICAgIC0gU2VnbWVudHM6ICR7bWFwcGVkU2VnbWVudHMubGVuZ3RofVxuICAgICAgICAgICAgICAgICAgLSBJbnRlcnNlY3Rpb25zOiAke21hcHBlZEludGVyc2VjdGlvbnMubGVuZ3RofWApO1xuICAgICAgICAgICAgfSBjYXRjaCAoZSkgeyBjb25zb2xlLmVycm9yKGUpOyB9XG4gICAgICAgIH07XG4gICAgICAgIGxvYWQoKTtcbiAgICB9LCBbbWFwTG9hZGVkXSk7XG5cbiAgICAvLyBSZW5kZXJcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAoIWNlc2l1bVZpZXdlclJlZi5jdXJyZW50IHx8ICF3aW5kb3cuQ2VzaXVtKSByZXR1cm47XG4gICAgICAgIGNvbnN0IHZpZXdlciA9IGNlc2l1bVZpZXdlclJlZi5jdXJyZW50O1xuICAgICAgICBjb25zdCBDZXNpdW0gPSB3aW5kb3cuQ2VzaXVtO1xuXG4gICAgICAgIC8vIENsZWFyIGV4aXN0aW5nIGVudGl0aWVzXG4gICAgICAgIHZpZXdlci5lbnRpdGllcy5yZW1vdmVBbGwoKTtcblxuICAgICAgICAvLyBIZWxwZXIgZnVuY3Rpb24gdG8gY29tcHV0ZSBhbiBvZmZzZXQgcG9seWxpbmUgKGZvciByb2FkIGVkZ2VzKVxuICAgICAgICBjb25zdCBjb21wdXRlT2Zmc2V0TGluZSA9IChwb3NpdGlvbnMsIG9mZnNldE1ldGVycykgPT4ge1xuICAgICAgICAgICAgY29uc3QgQ2VzaXVtID0gd2luZG93LkNlc2l1bTtcbiAgICAgICAgICAgIGNvbnN0IGVsbGlwc29pZCA9IENlc2l1bS5FbGxpcHNvaWQuV0dTODQ7XG5cbiAgICAgICAgICAgIGNvbnN0IG9mZnNldFBvc2l0aW9ucyA9IFtdO1xuICAgICAgICAgICAgY29uc3QgZGlyZWN0aW9uID0gbmV3IENlc2l1bS5DYXJ0ZXNpYW4zKCk7XG4gICAgICAgICAgICBjb25zdCB1cCA9IG5ldyBDZXNpdW0uQ2FydGVzaWFuMygpO1xuICAgICAgICAgICAgY29uc3QgcmlnaHQgPSBuZXcgQ2VzaXVtLkNhcnRlc2lhbjMoKTtcblxuICAgICAgICAgICAgY29uc3QgbiA9IHBvc2l0aW9ucy5sZW5ndGg7XG4gICAgICAgICAgICBpZiAobiA9PT0gMCkgcmV0dXJuIG9mZnNldFBvc2l0aW9ucztcbiAgICAgICAgICAgIGlmIChuID09PSAxKSB7XG4gICAgICAgICAgICAgICAgb2Zmc2V0UG9zaXRpb25zLnB1c2gocG9zaXRpb25zWzBdKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gb2Zmc2V0UG9zaXRpb25zO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG47IGkrKykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGN1ciA9IHBvc2l0aW9uc1tpXTtcblxuICAgICAgICAgICAgICAgIC8vIC0tLS0gY2hvb3NlIGEgZm9yd2FyZCB2ZWN0b3Igd2l0aCBDT05TSVNURU5UIG9yaWVudGF0aW9uIC0tLS1cbiAgICAgICAgICAgICAgICBpZiAoaSA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBmaXJzdDogdXNlIG5leHQgLSBjdXJyZW50XG4gICAgICAgICAgICAgICAgICAgIENlc2l1bS5DYXJ0ZXNpYW4zLnN1YnRyYWN0KHBvc2l0aW9uc1sxXSwgY3VyLCBkaXJlY3Rpb24pO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoaSA9PT0gbiAtIDEpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gbGFzdDogdXNlIGN1cnJlbnQgLSBwcmV2aW91c1xuICAgICAgICAgICAgICAgICAgICBDZXNpdW0uQ2FydGVzaWFuMy5zdWJ0cmFjdChjdXIsIHBvc2l0aW9uc1tuIC0gMl0sIGRpcmVjdGlvbik7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gbWlkZGxlOiBhdmVyYWdlIHByZXYgYW5kIG5leHQgZGlyZWN0aW9ucyBmb3Igc21vb3RoZXIgY29ybmVyc1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBkMSA9IG5ldyBDZXNpdW0uQ2FydGVzaWFuMygpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBkMiA9IG5ldyBDZXNpdW0uQ2FydGVzaWFuMygpO1xuICAgICAgICAgICAgICAgICAgICBDZXNpdW0uQ2FydGVzaWFuMy5zdWJ0cmFjdChjdXIsIHBvc2l0aW9uc1tpIC0gMV0sIGQxKTtcbiAgICAgICAgICAgICAgICAgICAgQ2VzaXVtLkNhcnRlc2lhbjMuc3VidHJhY3QocG9zaXRpb25zW2kgKyAxXSwgY3VyLCBkMik7XG4gICAgICAgICAgICAgICAgICAgIGlmIChDZXNpdW0uQ2FydGVzaWFuMy5tYWduaXR1ZGVTcXVhcmVkKGQxKSA+IENlc2l1bS5NYXRoLkVQU0lMT04xMCkgQ2VzaXVtLkNhcnRlc2lhbjMubm9ybWFsaXplKGQxLCBkMSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChDZXNpdW0uQ2FydGVzaWFuMy5tYWduaXR1ZGVTcXVhcmVkKGQyKSA+IENlc2l1bS5NYXRoLkVQU0lMT04xMCkgQ2VzaXVtLkNhcnRlc2lhbjMubm9ybWFsaXplKGQyLCBkMik7XG4gICAgICAgICAgICAgICAgICAgIENlc2l1bS5DYXJ0ZXNpYW4zLmFkZChkMSwgZDIsIGRpcmVjdGlvbik7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gemVyby1sZW5ndGggc2FmZXR5XG4gICAgICAgICAgICAgICAgaWYgKENlc2l1bS5DYXJ0ZXNpYW4zLm1hZ25pdHVkZVNxdWFyZWQoZGlyZWN0aW9uKSA8IENlc2l1bS5NYXRoLkVQU0lMT04xMCkge1xuICAgICAgICAgICAgICAgICAgICBvZmZzZXRQb3NpdGlvbnMucHVzaChjdXIpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBDZXNpdW0uQ2FydGVzaWFuMy5ub3JtYWxpemUoZGlyZWN0aW9uLCBkaXJlY3Rpb24pO1xuICAgICAgICAgICAgICAgIGlmIChpc05hTihkaXJlY3Rpb24ueCkgfHwgaXNOYU4oZGlyZWN0aW9uLnkpIHx8IGlzTmFOKGRpcmVjdGlvbi56KSkge1xuICAgICAgICAgICAgICAgICAgICBvZmZzZXRQb3NpdGlvbnMucHVzaChjdXIpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBsb2NhbCBcInVwXCIgKG5vcm1hbCB0byBlbGxpcHNvaWQgYXQgdGhpcyBwb2ludClcbiAgICAgICAgICAgICAgICBlbGxpcHNvaWQuZ2VvZGV0aWNTdXJmYWNlTm9ybWFsKGN1ciwgdXApO1xuXG4gICAgICAgICAgICAgICAgLy8gcmlnaHQgPSBkaXJlY3Rpb24geCB1cCAgKHBlcnBlbmRpY3VsYXIgdG8gcm9hZCwgdGFuZ2VudCB0byBncm91bmQpXG4gICAgICAgICAgICAgICAgQ2VzaXVtLkNhcnRlc2lhbjMuY3Jvc3MoZGlyZWN0aW9uLCB1cCwgcmlnaHQpO1xuICAgICAgICAgICAgICAgIGlmIChDZXNpdW0uQ2FydGVzaWFuMy5tYWduaXR1ZGVTcXVhcmVkKHJpZ2h0KSA8IENlc2l1bS5NYXRoLkVQU0lMT04xMCkge1xuICAgICAgICAgICAgICAgICAgICBvZmZzZXRQb3NpdGlvbnMucHVzaChjdXIpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgQ2VzaXVtLkNhcnRlc2lhbjMubm9ybWFsaXplKHJpZ2h0LCByaWdodCk7XG4gICAgICAgICAgICAgICAgaWYgKGlzTmFOKHJpZ2h0LngpIHx8IGlzTmFOKHJpZ2h0LnkpIHx8IGlzTmFOKHJpZ2h0LnopKSB7XG4gICAgICAgICAgICAgICAgICAgIG9mZnNldFBvc2l0aW9ucy5wdXNoKGN1cik7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGNvbnN0IG9mZnNldCA9IENlc2l1bS5DYXJ0ZXNpYW4zLm11bHRpcGx5QnlTY2FsYXIoXG4gICAgICAgICAgICAgICAgICAgIHJpZ2h0LFxuICAgICAgICAgICAgICAgICAgICBvZmZzZXRNZXRlcnMsXG4gICAgICAgICAgICAgICAgICAgIG5ldyBDZXNpdW0uQ2FydGVzaWFuMygpXG4gICAgICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgICAgIGNvbnN0IGZpbmFsUG9zID0gQ2VzaXVtLkNhcnRlc2lhbjMuYWRkKGN1ciwgb2Zmc2V0LCBuZXcgQ2VzaXVtLkNhcnRlc2lhbjMoKSk7XG4gICAgICAgICAgICAgICAgaWYgKGlzTmFOKGZpbmFsUG9zLngpIHx8IGlzTmFOKGZpbmFsUG9zLnkpIHx8IGlzTmFOKGZpbmFsUG9zLnopKSB7XG4gICAgICAgICAgICAgICAgICAgIG9mZnNldFBvc2l0aW9ucy5wdXNoKGN1cik7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgb2Zmc2V0UG9zaXRpb25zLnB1c2goZmluYWxQb3MpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIG9mZnNldFBvc2l0aW9ucztcbiAgICAgICAgfTtcblxuICAgICAgICAvLyBIZWxwZXI6IEZpbHRlciB1bmlxdWUgcG9zaXRpb25zIHRvIHByZXZlbnQgemVyby1sZW5ndGggc2VnbWVudHNcbiAgICAgICAgY29uc3QgZmlsdGVyVW5pcXVlUG9zaXRpb25zID0gKHBvc2l0aW9ucykgPT4ge1xuICAgICAgICAgICAgaWYgKCFwb3NpdGlvbnMgfHwgcG9zaXRpb25zLmxlbmd0aCA8IDIpIHJldHVybiBwb3NpdGlvbnM7XG4gICAgICAgICAgICByZXR1cm4gcG9zaXRpb25zLmZpbHRlcigocCwgaWR4KSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGlkeCA9PT0gMCkgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgY29uc3QgcHJldiA9IHBvc2l0aW9uc1tpZHggLSAxXTtcbiAgICAgICAgICAgICAgICByZXR1cm4gQ2VzaXVtLkNhcnRlc2lhbjMuZGlzdGFuY2VTcXVhcmVkKHAsIHByZXYpID4gMC4wMDAxOyAvLyAxY21eMiB0aHJlc2hvbGRcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuXG4gICAgICAgIC8vIEhlbHBlcjogYmVhcmluZyAoaGVhZGluZykgb2YgdGhlIG5lYXJlc3Qgcm9hZCBzZWdtZW50IHRvIGEgbG9jYXRpb24uXG4gICAgICAgIC8vIFJldHVybnMgaGVhZGluZyBpbiByYWRpYW5zLCBtZWFzdXJlZCBjbG9ja3dpc2UgZnJvbSBOT1JUSC5cbiAgICAgICAgY29uc3QgZ2V0TmVhcmVzdFJvYWRCZWFyaW5nID0gKGxvY2F0aW9uLCBzZWdtZW50cykgPT4ge1xuICAgICAgICAgICAgY29uc3QgbG9jQ2FydCA9IENlc2l1bS5DYXJ0ZXNpYW4zLmZyb21EZWdyZWVzKFxuICAgICAgICAgICAgICAgIGxvY2F0aW9uLmxvbmdpdHVkZSxcbiAgICAgICAgICAgICAgICBsb2NhdGlvbi5sYXRpdHVkZVxuICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgbGV0IG1pbkRpc3RhbmNlID0gSW5maW5pdHk7XG4gICAgICAgICAgICBsZXQgYmVzdEJlYXJpbmcgPSAwO1xuXG4gICAgICAgICAgICBzZWdtZW50cy5mb3JFYWNoKChzKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgZyA9XG4gICAgICAgICAgICAgICAgICAgIHR5cGVvZiBzLmdlb21ldHJ5ID09PSBcInN0cmluZ1wiID8gSlNPTi5wYXJzZShzLmdlb21ldHJ5KSA6IHMuZ2VvbWV0cnk7XG4gICAgICAgICAgICAgICAgaWYgKCFnPy5jb29yZGluYXRlcyB8fCBnLmNvb3JkaW5hdGVzLmxlbmd0aCA8IDIpIHJldHVybjtcblxuICAgICAgICAgICAgICAgIGNvbnN0IGNvb3JkcyA9IGcuY29vcmRpbmF0ZXM7XG5cbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNvb3Jkcy5sZW5ndGggLSAxOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYzFSYXcgPSBjb29yZHNbaV07XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGMyUmF3ID0gY29vcmRzW2kgKyAxXTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoIU51bWJlci5pc0Zpbml0ZShjMVJhd1swXSkgfHwgIU51bWJlci5pc0Zpbml0ZShjMVJhd1sxXSkgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICFOdW1iZXIuaXNGaW5pdGUoYzJSYXdbMF0pIHx8ICFOdW1iZXIuaXNGaW5pdGUoYzJSYXdbMV0pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHAxID0gQ2VzaXVtLkNhcnRlc2lhbjMuZnJvbURlZ3JlZXMoYzFSYXdbMF0sIGMxUmF3WzFdKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcDIgPSBDZXNpdW0uQ2FydGVzaWFuMy5mcm9tRGVncmVlcyhjMlJhd1swXSwgYzJSYXdbMV0pO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIHVzZSBzZWdtZW50IG1pZHBvaW50IGFzIFwicG9zaXRpb25cIiB0byBjb21wYXJlIGRpc3RhbmNlXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG1pZCA9IENlc2l1bS5DYXJ0ZXNpYW4zLm11bHRpcGx5QnlTY2FsYXIoXG4gICAgICAgICAgICAgICAgICAgICAgICBDZXNpdW0uQ2FydGVzaWFuMy5hZGQocDEsIHAyLCBuZXcgQ2VzaXVtLkNhcnRlc2lhbjMoKSksXG4gICAgICAgICAgICAgICAgICAgICAgICAwLjUsXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXcgQ2VzaXVtLkNhcnRlc2lhbjMoKVxuICAgICAgICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGRpc3RTcSA9IENlc2l1bS5DYXJ0ZXNpYW4zLmRpc3RhbmNlU3F1YXJlZChsb2NDYXJ0LCBtaWQpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZGlzdFNxID49IG1pbkRpc3RhbmNlKSBjb250aW51ZTtcblxuICAgICAgICAgICAgICAgICAgICAvLyBjbG9zZXIgLT4gdXBkYXRlIGJlYXJpbmdcbiAgICAgICAgICAgICAgICAgICAgbWluRGlzdGFuY2UgPSBkaXN0U3E7XG5cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYzEgPSBDZXNpdW0uQ2FydG9ncmFwaGljLmZyb21EZWdyZWVzKGMxUmF3WzBdLCBjMVJhd1sxXSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGMyID0gQ2VzaXVtLkNhcnRvZ3JhcGhpYy5mcm9tRGVncmVlcyhjMlJhd1swXSwgYzJSYXdbMV0pO1xuXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGRMb24gPSBjMi5sb25naXR1ZGUgLSBjMS5sb25naXR1ZGU7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHkgPSBNYXRoLnNpbihkTG9uKSAqIE1hdGguY29zKGMyLmxhdGl0dWRlKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgeCA9XG4gICAgICAgICAgICAgICAgICAgICAgICBNYXRoLmNvcyhjMS5sYXRpdHVkZSkgKiBNYXRoLnNpbihjMi5sYXRpdHVkZSkgLVxuICAgICAgICAgICAgICAgICAgICAgICAgTWF0aC5zaW4oYzEubGF0aXR1ZGUpICpcbiAgICAgICAgICAgICAgICAgICAgICAgIE1hdGguY29zKGMyLmxhdGl0dWRlKSAqXG4gICAgICAgICAgICAgICAgICAgICAgICBNYXRoLmNvcyhkTG9uKTtcblxuICAgICAgICAgICAgICAgICAgICAvLyBoZWFkaW5nIGZyb20gTk9SVEgsIGNsb2Nrd2lzZSwgaW4gcmFkaWFuc1xuICAgICAgICAgICAgICAgICAgICBiZXN0QmVhcmluZyA9IE1hdGguYXRhbjIoeSwgeCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHJldHVybiBpc05hTihiZXN0QmVhcmluZykgPyAwIDogYmVzdEJlYXJpbmc7XG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gSGVscGVyOiA1MG0geCA1MG0gc3F1YXJlIHBvbHlnb24sIHJvdGF0ZWQgYnkgYW5nbGVGcm9tRWFzdCAocmFkaWFucyksIGluIEVOVSBmcmFtZVxuICAgICAgICBjb25zdCBjb21wdXRlU3F1YXJlUG9seWdvbiA9IChjZW50ZXJDYXJ0ZXNpYW4sIHNpemVNZXRlcnMsIGFuZ2xlRnJvbUVhc3QpID0+IHtcbiAgICAgICAgICAgIGlmIChpc05hTihhbmdsZUZyb21FYXN0KSB8fCAhY2VudGVyQ2FydGVzaWFuKSByZXR1cm4gbnVsbDtcblxuICAgICAgICAgICAgY29uc3QgaGFsZiA9IHNpemVNZXRlcnMgLyAyLjA7XG5cbiAgICAgICAgICAgIC8vIEVOVSAoRWFzdC1Ob3J0aC1VcCkgbG9jYWwgZnJhbWUgYXQgdGhlIGNlbnRlclxuICAgICAgICAgICAgY29uc3QgdHJhbnNmb3JtID0gQ2VzaXVtLlRyYW5zZm9ybXMuZWFzdE5vcnRoVXBUb0ZpeGVkRnJhbWUoXG4gICAgICAgICAgICAgICAgY2VudGVyQ2FydGVzaWFuXG4gICAgICAgICAgICApO1xuXG4gICAgICAgICAgICBjb25zdCBjb3MgPSBNYXRoLmNvcyhhbmdsZUZyb21FYXN0KTtcbiAgICAgICAgICAgIGNvbnN0IHNpbiA9IE1hdGguc2luKGFuZ2xlRnJvbUVhc3QpO1xuXG4gICAgICAgICAgICAvLyBzcXVhcmUgY29ybmVycyBpbiBsb2NhbCBFTlUgYmVmb3JlIHJvdGF0aW9uIChtZXRlcnMpXG4gICAgICAgICAgICBjb25zdCBiYXNlQ29ybmVycyA9IFtcbiAgICAgICAgICAgICAgICB7IHg6IC1oYWxmLCB5OiAtaGFsZiB9LFxuICAgICAgICAgICAgICAgIHsgeDogaGFsZiwgeTogLWhhbGYgfSxcbiAgICAgICAgICAgICAgICB7IHg6IGhhbGYsIHk6IGhhbGYgfSxcbiAgICAgICAgICAgICAgICB7IHg6IC1oYWxmLCB5OiBoYWxmIH1cbiAgICAgICAgICAgIF07XG5cbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGJhc2VDb3JuZXJzLm1hcCgoYykgPT4ge1xuICAgICAgICAgICAgICAgIC8vIHJvdGF0ZSBpbiBFTlVcbiAgICAgICAgICAgICAgICBjb25zdCByeCA9IGMueCAqIGNvcyAtIGMueSAqIHNpbjtcbiAgICAgICAgICAgICAgICBjb25zdCByeSA9IGMueCAqIHNpbiArIGMueSAqIGNvcztcblxuICAgICAgICAgICAgICAgIGNvbnN0IGxvY2FsUG9zID0gbmV3IENlc2l1bS5DYXJ0ZXNpYW4zKHJ4LCByeSwgMC4wKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gQ2VzaXVtLk1hdHJpeDQubXVsdGlwbHlCeVBvaW50KFxuICAgICAgICAgICAgICAgICAgICB0cmFuc2Zvcm0sXG4gICAgICAgICAgICAgICAgICAgIGxvY2FsUG9zLFxuICAgICAgICAgICAgICAgICAgICBuZXcgQ2VzaXVtLkNhcnRlc2lhbjMoKVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgLy8gVmFsaWRhdGUgcmVzdWx0IGZvciBOYU5zXG4gICAgICAgICAgICBmb3IgKGNvbnN0IHAgb2YgcmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgaWYgKGlzTmFOKHAueCkgfHwgaXNOYU4ocC55KSB8fCBpc05hTihwLnopKSByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gRXhhY3QgdGhlbWUgKG9ubHkgdXNpbmcgdGhlIGNvbG9ycyBub3cpXG4gICAgICAgIGNvbnN0IE5JR0hUX1RIRU1FID0ge1xuICAgICAgICAgICAgLy8gRGFyayBhc3BoYWx0IHN1cmZhY2VzOyBlZGdlIGNvbG9yIGNhcnJpZXMgc3RhdHVzXG4gICAgICAgICAgICByb2FkU3VyZmFjZUNvbG9yT3BlbjogJyMyQzJGM0EnLFxuICAgICAgICAgICAgcm9hZFN1cmZhY2VDb2xvckNsb3NlZDogJyMyQzJGM0EnLFxuICAgICAgICAgICAgcm9hZFN1cmZhY2VBbHBoYTogMC45OCxcbiAgICAgICAgICAgIHJvYWRTaG91bGRlckNvbG9yT3BlbjogJyMyQzJGM0EnLFxuICAgICAgICAgICAgcm9hZFNob3VsZGVyQ29sb3JDbG9zZWQ6ICcjMkMyRjNBJyxcbiAgICAgICAgICAgIHJvYWRTaG91bGRlckFscGhhOiAwLjk4LFxuICAgICAgICAgICAgcG9seWdvbk91dGxpbmVDb2xvcjogJyNBMEEwQTAnLFxuICAgICAgICAgICAgcG9seWdvbk91dGxpbmVBbHBoYTogMC45NSxcbiAgICAgICAgICAgIHBvbHlnb25PdXRsaW5lV2lkdGg6IDIuMixcbiAgICAgICAgICAgIC8vIEludGVyc2VjdGlvbiBzdHlsaW5nOiByZWQgZmlsbCwgd2hpdGUgb3V0bGluZVxuICAgICAgICAgICAgaW50ZXJzZWN0aW9uRmlsbENvbG9yOiAnI0U3NEMzQycsXG4gICAgICAgICAgICBpbnRlcnNlY3Rpb25GaWxsQWxwaGE6IDEuMCxcbiAgICAgICAgICAgIGludGVyc2VjdGlvbk91dGxpbmVDb2xvcjogJyNGRkZGRkYnLFxuICAgICAgICAgICAgaW50ZXJzZWN0aW9uT3V0bGluZUFscGhhOiAxLjAsXG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gLS0tLS0gY3Jvc3Mtc2VjdGlvbiBjb25zdGFudHMgLS0tLS1cbiAgICAgICAgLy8gdG90YWwgd2lkdGggKGZvcndhcmQgKyBiYWNrd2FyZCArIGNlbnRyZSB3aGl0ZSBsaW5lKVxuICAgICAgICBjb25zdCBUT1RBTF9ST0FEX1dJRFRIID0gNDAuMDsgICAgICAvLyBtZXRyZXNcbiAgICAgICAgY29uc3QgQ0VOVEVSTElORV9XSURUSCA9IDEuMDsgICAgICAgLy8gbWV0cmVzXG5cbiAgICAgICAgLy8gZWFjaCBkaXJlY3Rpb24gKGluY2wuIGl0cyBzaG91bGRlcikgZ2V0cyBoYWxmIG9mIHRoZSByZW1haW5pbmcgd2lkdGhcbiAgICAgICAgY29uc3QgTEFORV9UT1RBTF9XSURUSCA9IChUT1RBTF9ST0FEX1dJRFRIIC0gQ0VOVEVSTElORV9XSURUSCkgLyAyLjA7IC8vIDE5LjUgbVxuICAgICAgICBjb25zdCBIQUxGX0xBTkVfVE9UQUxfV0lEVEggPSBMQU5FX1RPVEFMX1dJRFRIIC8gMi4wOyAgICAgICAgICAgICAgICAgLy8gOS43NSBtXG5cbiAgICAgICAgLy8gbWFrZSB0aGUgYXNwaGFsdCBzbGlnaHRseSBuYXJyb3dlciB0aGFuIHRoZSBsYW5lIChzbyB0aGVyZSBpcyBhIHN1YnRsZSBzaG91bGRlcilcbiAgICAgICAgY29uc3QgTEFORV9TSE9VTERFUl9QQURESU5HID0gMS4wOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIG0gZWFjaCBzaWRlXG4gICAgICAgIGNvbnN0IExBTkVfU1VSRkFDRV9XSURUSCA9IExBTkVfVE9UQUxfV0lEVEggLSAyICogTEFORV9TSE9VTERFUl9QQURESU5HOyAvLyAxNy41IG1cblxuICAgICAgICAvLyBkaXN0YW5jZSBmcm9tIHRoZSBnbG9iYWwgY2VudHJlbGluZSB0byB0aGUgY2VudHJlIG9mIGVhY2ggY2FycmlhZ2V3YXlcbiAgICAgICAgLy8gPSBoYWxmIGNlbnRyZWxpbmUgKyBoYWxmIGxhbmUgd2lkdGhcbiAgICAgICAgY29uc3QgTEFORV9DRU5URVJfT0ZGU0VUX01BRyA9XG4gICAgICAgICAgICBDRU5URVJMSU5FX1dJRFRIIC8gMi4wICsgSEFMRl9MQU5FX1RPVEFMX1dJRFRIOyAgLy8gMC41ICsgOS43NSA9IDEwLjI1IG1cblxuICAgICAgICAvLyBST0FEIFNFR01FTlRTXG4gICAgICAgIHNlZ21lbnRzLmZvckVhY2goKHMpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGNsb3NlZCA9IGlzRGlzcGF0Y2hTZWdtZW50Q2xvc2VkKHMpO1xuICAgICAgICAgICAgaWYgKCEoKGNsb3NlZCAmJiBzaG93Q2xvc2VkUm9hZHMpIHx8ICghY2xvc2VkICYmIHNob3dPcGVuUm9hZHMpKSkgcmV0dXJuO1xuXG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHN1cmZhY2VDb2xvciA9IENlc2l1bS5Db2xvclxuICAgICAgICAgICAgICAgICAgICAuZnJvbUNzc0NvbG9yU3RyaW5nKGNsb3NlZCA/IE5JR0hUX1RIRU1FLnJvYWRTdXJmYWNlQ29sb3JDbG9zZWQgOiBOSUdIVF9USEVNRS5yb2FkU3VyZmFjZUNvbG9yT3BlbilcbiAgICAgICAgICAgICAgICAgICAgLndpdGhBbHBoYShOSUdIVF9USEVNRS5yb2FkU3VyZmFjZUFscGhhKTtcblxuICAgICAgICAgICAgICAgIGNvbnN0IHNob3VsZGVyQ29sb3IgPSBDZXNpdW0uQ29sb3JcbiAgICAgICAgICAgICAgICAgICAgLmZyb21Dc3NDb2xvclN0cmluZyhjbG9zZWQgPyBOSUdIVF9USEVNRS5yb2FkU2hvdWxkZXJDb2xvckNsb3NlZCA6IE5JR0hUX1RIRU1FLnJvYWRTaG91bGRlckNvbG9yT3BlbilcbiAgICAgICAgICAgICAgICAgICAgLndpdGhBbHBoYShOSUdIVF9USEVNRS5yb2FkU2hvdWxkZXJBbHBoYSk7XG5cbiAgICAgICAgICAgICAgICBjb25zdCBlZGdlQ29sb3IgPSBjbG9zZWRcbiAgICAgICAgICAgICAgICAgICAgPyBDZXNpdW0uQ29sb3IuZnJvbUNzc0NvbG9yU3RyaW5nKCcjRTc0QzNDJylcbiAgICAgICAgICAgICAgICAgICAgOiBDZXNpdW0uQ29sb3IuZnJvbUNzc0NvbG9yU3RyaW5nKCcjRkZENjAwJyk7XG5cbiAgICAgICAgICAgICAgICBjb25zdCBjZW50ZXJsaW5lQ29sb3IgPSBDZXNpdW0uQ29sb3IuV0hJVEU7XG5cbiAgICAgICAgICAgICAgICBjb25zdCBnID0gdHlwZW9mIHMuZ2VvbWV0cnkgPT09ICdzdHJpbmcnID8gSlNPTi5wYXJzZShzLmdlb21ldHJ5KSA6IHMuZ2VvbWV0cnk7XG4gICAgICAgICAgICAgICAgaWYgKCFnPy5jb29yZGluYXRlcykgcmV0dXJuO1xuXG4gICAgICAgICAgICAgICAgLy8gSWYgRnJvbnRydW5uZXIgcm9hZCBnZW9tZXRyaWVzIGFycml2ZSBhcyBwb2x5Z29ucywgcmVuZGVyIHRoZW0gYXMgZmlsbGVkIHBvbHlnb25zLlxuICAgICAgICAgICAgICAgIGlmIChnLnR5cGUgPT09ICdQb2x5Z29uJyB8fCBnLnR5cGUgPT09ICdNdWx0aVBvbHlnb24nKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHBvbHlzID0gZy50eXBlID09PSAnUG9seWdvbicgPyBbZy5jb29yZGluYXRlc10gOiBnLmNvb3JkaW5hdGVzO1xuICAgICAgICAgICAgICAgICAgICBwb2x5cy5mb3JFYWNoKChjb29yZHMpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGhpZXJhcmNoeSA9IHBhcnNlUG9seWdvbkhpZXJhcmNoeSh7IHR5cGU6ICdQb2x5Z29uJywgY29vcmRpbmF0ZXM6IGNvb3JkcyB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoaWVyYXJjaHkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoaWVyYXJjaHkucG9zaXRpb25zICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGllcmFyY2h5LnBvc2l0aW9ucy5sZW5ndGggPj0gMyAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyZVBvc2l0aW9uc1ZhbGlkKGhpZXJhcmNoeS5wb3NpdGlvbnMpXG4gICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2aWV3ZXIuZW50aXRpZXMuYWRkKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9seWdvbjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGllcmFyY2h5LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF0ZXJpYWw6IHN1cmZhY2VDb2xvcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG91dGxpbmU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvdXRsaW5lQ29sb3I6IGVkZ2VDb2xvcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogMC4wLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXRlZ29yeTogJ2Zyb250cnVubmVyX3JvYWRfcG9seWdvbicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5zLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuOyAvLyBoYW5kbGVkIHBvbHlnb24gY2FzZTsgc2tpcCBjb3JyaWRvciByZW5kZXJpbmdcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBsZXQgYWxsTGluZVN0cmluZ3MgPSBbXTtcbiAgICAgICAgICAgICAgICBpZiAoZy50eXBlID09PSAnTXVsdGlMaW5lU3RyaW5nJykge1xuICAgICAgICAgICAgICAgICAgICBhbGxMaW5lU3RyaW5ncyA9IGcuY29vcmRpbmF0ZXM7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChnLnR5cGUgPT09ICdMaW5lU3RyaW5nJykge1xuICAgICAgICAgICAgICAgICAgICBhbGxMaW5lU3RyaW5ncyA9IFtnLmNvb3JkaW5hdGVzXTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgYWxsTGluZVN0cmluZ3MuZm9yRWFjaCgoY29vcmRpbmF0ZXMpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgLy8gVmFsaWRhdGUgY29vcmRpbmF0ZXMgc3RydWN0dXJlXG4gICAgICAgICAgICAgICAgICAgIGlmICghY29vcmRpbmF0ZXMgfHwgIUFycmF5LmlzQXJyYXkoY29vcmRpbmF0ZXMpIHx8IGNvb3JkaW5hdGVzLmxlbmd0aCA8IDIpIHJldHVybjtcblxuICAgICAgICAgICAgICAgICAgICAvLyBGaWx0ZXIgaW52YWxpZCBjb29yZGluYXRlcyAoTmFOLCBldGMpXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHZhbGlkQ29vcmRzID0gY29vcmRpbmF0ZXMuZmlsdGVyKGMgPT5cbiAgICAgICAgICAgICAgICAgICAgICAgIEFycmF5LmlzQXJyYXkoYykgJiYgYy5sZW5ndGggPj0gMiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgTnVtYmVyLmlzRmluaXRlKGNbMF0pICYmIE51bWJlci5pc0Zpbml0ZShjWzFdKVxuICAgICAgICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmICh2YWxpZENvb3Jkcy5sZW5ndGggPCAyKSByZXR1cm47XG5cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmF3UG9zaXRpb25zID0gdmFsaWRDb29yZHMubWFwKChjKSA9PlxuICAgICAgICAgICAgICAgICAgICAgICAgQ2VzaXVtLkNhcnRlc2lhbjMuZnJvbURlZ3JlZXMoY1swXSwgY1sxXSlcbiAgICAgICAgICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgICAgICAgICAvLyBGaWx0ZXIgZHVwbGljYXRlcyBhbmQgcG9pbnRzIHRoYXQgYXJlIHRvbyBjbG9zZSAod2l0aGluIDFjbSlcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcG9zaXRpb25zID0gZmlsdGVyVW5pcXVlUG9zaXRpb25zKHJhd1Bvc2l0aW9ucyk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHBvc2l0aW9ucy5sZW5ndGggPCAyKSByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIC8vIEV4dHJhIGd1YXJkIGZvciBOYU5zL2RlZ2VuZXJhY3lcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3Bhbk9rID0gcG9zaXRpb25zLmV2ZXJ5KHAgPT4gTnVtYmVyLmlzRmluaXRlKHAueCkgJiYgTnVtYmVyLmlzRmluaXRlKHAueSkgJiYgTnVtYmVyLmlzRmluaXRlKHAueikpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXNwYW5PaykgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBiYm94ID0gcG9zaXRpb25zLnJlZHVjZSgoYWNjLCBwKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhY2MubWluWCA9IE1hdGgubWluKGFjYy5taW5YLCBwLngpOyBhY2MubWF4WCA9IE1hdGgubWF4KGFjYy5tYXhYLCBwLngpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYWNjLm1pblkgPSBNYXRoLm1pbihhY2MubWluWSwgcC55KTsgYWNjLm1heFkgPSBNYXRoLm1heChhY2MubWF4WSwgcC55KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFjYy5taW5aID0gTWF0aC5taW4oYWNjLm1pblosIHAueik7IGFjYy5tYXhaID0gTWF0aC5tYXgoYWNjLm1heFosIHAueik7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYWNjO1xuICAgICAgICAgICAgICAgICAgICB9LCB7IG1pblg6IEluZmluaXR5LCBtYXhYOiAtSW5maW5pdHksIG1pblk6IEluZmluaXR5LCBtYXhZOiAtSW5maW5pdHksIG1pblo6IEluZmluaXR5LCBtYXhaOiAtSW5maW5pdHkgfSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHNwYW4gPSBNYXRoLm1heChiYm94Lm1heFggLSBiYm94Lm1pblgsIGJib3gubWF4WSAtIGJib3gubWluWSwgYmJveC5tYXhaIC0gYmJveC5taW5aKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFOdW1iZXIuaXNGaW5pdGUoc3BhbikgfHwgc3BhbiA8IDAuMSkgcmV0dXJuO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIC0tLS0tIGRlY2lkZSB3aGljaCBzaWRlIHRoaXMgbGFuZSBzaXRzIG9uIC0tLS0tXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGRpciA9IChzLmRpcmVjdGlvbiB8fCAnJykudG9TdHJpbmcoKS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICAgICAgICAgICAgICBsZXQgZGlyU2lnbiA9IDA7IC8vIDAgPSBjZW50cmVkIChpZiBubyBkaXJlY3Rpb24pLCArMSA9IG9uZSBzaWRlLCAtMSA9IG9wcG9zaXRlXG4gICAgICAgICAgICAgICAgICAgIGlmIChkaXIuaW5jbHVkZXMoJ2ZvcndhcmQnKSkgZGlyU2lnbiA9IDE7XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGRpci5pbmNsdWRlcygnYmFja3dhcmQnKSkgZGlyU2lnbiA9IC0xO1xuXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGxhbmVDZW50ZXJPZmZzZXQgPSBkaXJTaWduICogTEFORV9DRU5URVJfT0ZGU0VUX01BRztcblxuICAgICAgICAgICAgICAgICAgICAvLyBjZW50cmVsaW5lIG9mIHRoaXMgKmxhbmUqIChzaGlmdGVkIGxlZnQvcmlnaHQgZnJvbSBnbG9iYWwgY2VudHJlbGluZSlcbiAgICAgICAgICAgICAgICAgICAgbGV0IGxhbmVQb3NpdGlvbnMgPVxuICAgICAgICAgICAgICAgICAgICAgICAgbGFuZUNlbnRlck9mZnNldCA9PT0gMFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gcG9zaXRpb25zXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBjb21wdXRlT2Zmc2V0TGluZShwb3NpdGlvbnMsIGxhbmVDZW50ZXJPZmZzZXQpO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIEZpbmFsIGZpbHRlciB0byBlbnN1cmUgbm8gZHVwbGljYXRlcyBhZnRlciBvZmZzZXQgY2FsY3VsYXRpb25cbiAgICAgICAgICAgICAgICAgICAgbGFuZVBvc2l0aW9ucyA9IGZpbHRlclVuaXF1ZVBvc2l0aW9ucyhsYW5lUG9zaXRpb25zKTtcblxuICAgICAgICAgICAgICAgICAgICAvLyBWZXJpZnkgbGFuZVBvc2l0aW9ucyBhZnRlciBvZmZzZXQgY2FsY3VsYXRpb25cbiAgICAgICAgICAgICAgICAgICAgaWYgKCFsYW5lUG9zaXRpb25zIHx8IGxhbmVQb3NpdGlvbnMubGVuZ3RoIDwgMikgcmV0dXJuO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIENvbG91cnM6IGRhcmsgZmlsbCwgZWRnZXMgaW5kaWNhdGUgc3RhdHVzIChvcGVuIHllbGxvdywgY2xvc2VkIHJlZClcbiAgICAgICAgICAgICAgICAgICAgLy8gMS4gTGFuZSBzaG91bGRlciAoZnVsbCBsYW5lIHdpZHRoLCBzaGlmdGVkIHRvIGl0cyBzaWRlKVxuICAgICAgICAgICAgICAgICAgICB2aWV3ZXIuZW50aXRpZXMuYWRkKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvcnJpZG9yOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb25zOiBsYW5lUG9zaXRpb25zLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiBMQU5FX1RPVEFMX1dJRFRILFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hdGVyaWFsOiBzaG91bGRlckNvbG9yLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogMC4wLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvcm5lclR5cGU6IENlc2l1bS5Db3JuZXJUeXBlLk1JVEVSRUQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3V0bGluZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgcHJvcGVydGllczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhdGVnb3J5OiAnZGlzcGF0Y2hfc2VnbWVudCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGVfcm9sZTogJ3JvYWRfc2hvdWxkZXInLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLnMsXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICAvLyAyLiBMYW5lIGFzcGhhbHQgc3VyZmFjZSAoc2xpZ2h0bHkgbmFycm93ZXIpXG4gICAgICAgICAgICAgICAgICAgIHZpZXdlci5lbnRpdGllcy5hZGQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgY29ycmlkb3I6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbnM6IGxhbmVQb3NpdGlvbnMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6IExBTkVfU1VSRkFDRV9XSURUSCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXRlcmlhbDogc3VyZmFjZUNvbG9yLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogMC4xOCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb3JuZXJUeXBlOiBDZXNpdW0uQ29ybmVyVHlwZS5NSVRFUkVELFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG91dGxpbmU6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb3BlcnRpZXM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXRlZ29yeTogJ2Rpc3BhdGNoX3NlZ21lbnQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlX3JvbGU6ICdyb2FkX3N1cmZhY2UnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLnMsXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICAvLyAzLiBDZW50ZXJsaW5lIChkYXNoZWQgbGluZSlcbiAgICAgICAgICAgICAgICAgICAgdmlld2VyLmVudGl0aWVzLmFkZCh7XG4gICAgICAgICAgICAgICAgICAgICAgICBwb2x5bGluZToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uczogbGFuZVBvc2l0aW9ucyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogQ0VOVEVSTElORV9XSURUSCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXRlcmlhbDogbmV3IENlc2l1bS5Qb2x5bGluZURhc2hNYXRlcmlhbFByb3BlcnR5KHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6IGNlbnRlcmxpbmVDb2xvcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGFzaExlbmd0aDogMTYuMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcmNUeXBlOiBDZXNpdW0uQXJjVHlwZS5HRU9ERVNJQyxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2F0ZWdvcnk6ICdkaXNwYXRjaF9zZWdtZW50JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZV9yb2xlOiAncm9hZF9jZW50ZXJsaW5lJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5zLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gNC4gRWRnZXMgKHNvbGlkIGxpbmVzKVxuICAgICAgICAgICAgICAgICAgICAvLyBMZWZ0IGVkZ2VcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbGVmdEVkZ2VPZmZzZXQgPSAtSEFMRl9MQU5FX1RPVEFMX1dJRFRIO1xuICAgICAgICAgICAgICAgICAgICBsZXQgbGVmdEVkZ2VQb3NpdGlvbnMgPSBjb21wdXRlT2Zmc2V0TGluZShsYW5lUG9zaXRpb25zLCBsZWZ0RWRnZU9mZnNldCk7XG4gICAgICAgICAgICAgICAgICAgIGxlZnRFZGdlUG9zaXRpb25zID0gZmlsdGVyVW5pcXVlUG9zaXRpb25zKGxlZnRFZGdlUG9zaXRpb25zKTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAobGVmdEVkZ2VQb3NpdGlvbnMgJiYgbGVmdEVkZ2VQb3NpdGlvbnMubGVuZ3RoID49IDIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZpZXdlci5lbnRpdGllcy5hZGQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvbHlsaW5lOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uczogbGVmdEVkZ2VQb3NpdGlvbnMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiAyLjAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hdGVyaWFsOiBlZGdlQ29sb3IsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyY1R5cGU6IENlc2l1bS5BcmNUeXBlLkdFT0RFU0lDLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvcGVydGllczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXRlZ29yeTogJ2Rpc3BhdGNoX3NlZ21lbnQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZV9yb2xlOiAncm9hZF9lZGdlX2xlZnQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5zLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIC8vIFJpZ2h0IGVkZ2VcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmlnaHRFZGdlT2Zmc2V0ID0gSEFMRl9MQU5FX1RPVEFMX1dJRFRIO1xuICAgICAgICAgICAgICAgICAgICBsZXQgcmlnaHRFZGdlUG9zaXRpb25zID0gY29tcHV0ZU9mZnNldExpbmUobGFuZVBvc2l0aW9ucywgcmlnaHRFZGdlT2Zmc2V0KTtcbiAgICAgICAgICAgICAgICAgICAgcmlnaHRFZGdlUG9zaXRpb25zID0gZmlsdGVyVW5pcXVlUG9zaXRpb25zKHJpZ2h0RWRnZVBvc2l0aW9ucyk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHJpZ2h0RWRnZVBvc2l0aW9ucyAmJiByaWdodEVkZ2VQb3NpdGlvbnMubGVuZ3RoID49IDIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZpZXdlci5lbnRpdGllcy5hZGQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvbHlsaW5lOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uczogcmlnaHRFZGdlUG9zaXRpb25zLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogMi4wLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXRlcmlhbDogZWRnZUNvbG9yLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcmNUeXBlOiBDZXNpdW0uQXJjVHlwZS5HRU9ERVNJQyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3BlcnRpZXM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2F0ZWdvcnk6ICdkaXNwYXRjaF9zZWdtZW50JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGVfcm9sZTogJ3JvYWRfZWRnZV9yaWdodCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLnMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9IGNhdGNoIChlKSB7IGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHJlbmRlcmluZyBzZWdtZW50JywgcywgZSk7IH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gT1RIRVIgTEFZRVJTICh0cm9sbGV5LCBpbnRlcnNlY3Rpb25zLCBldGMuKVxuICAgICAgICBpZiAoc2hvd1Ryb2xsZXkpIHtcbiAgICAgICAgICAgIHRyb2xsZXlTZWdtZW50cy5mb3JFYWNoKCh0KSA9PiB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFOdW1iZXIuaXNGaW5pdGUodC5zdGFydF9sb25naXR1ZGUpIHx8ICFOdW1iZXIuaXNGaW5pdGUodC5zdGFydF9sYXRpdHVkZSkgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICFOdW1iZXIuaXNGaW5pdGUodC5lbmRfbG9uZ2l0dWRlKSB8fCAhTnVtYmVyLmlzRmluaXRlKHQuZW5kX2xhdGl0dWRlKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgdmlld2VyLmVudGl0aWVzLmFkZCh7XG4gICAgICAgICAgICAgICAgICAgICAgICBwb2x5bGluZToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uczogQ2VzaXVtLkNhcnRlc2lhbjMuZnJvbURlZ3JlZXNBcnJheShbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHQuc3RhcnRfbG9uZ2l0dWRlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0LnN0YXJ0X2xhdGl0dWRlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0LmVuZF9sb25naXR1ZGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHQuZW5kX2xhdGl0dWRlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6IDUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF0ZXJpYWw6IENlc2l1bS5Db2xvci5mcm9tQ3NzQ29sb3JTdHJpbmcoXCIjRkY2QjZCXCIpLndpdGhBbHBoYShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMC45XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb3BlcnRpZXM6IHsgY2F0ZWdvcnk6IFwiZGlzcGF0Y2hfdHJvbGxleVwiLCAuLi50IH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgcmVuZGVyaW5nIHRyb2xsZXkgc2VnbWVudFwiLCB0LCBlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChzaG93SW50ZXJzZWN0aW9ucykge1xuICAgICAgICAgICAgY29uc29sZS5sb2coYFJlbmRlcmluZyAke2ludGVyc2VjdGlvbnMubGVuZ3RofSBpbnRlcnNlY3Rpb25zYCk7XG4gICAgICAgICAgICBpbnRlcnNlY3Rpb25zLmZvckVhY2goKGkpID0+IHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCByYXcgPSBpLmdlb21fZ2VvanNvbiB8fCBpLmdlb21ldHJ5O1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBoaWVyYXJjaHkgPSBwYXJzZVBvbHlnb25IaWVyYXJjaHkocmF3KTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgIWhpZXJhcmNoeSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgIWhpZXJhcmNoeS5wb3NpdGlvbnMgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgIGhpZXJhcmNoeS5wb3NpdGlvbnMubGVuZ3RoIDwgMyB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgIWFyZVBvc2l0aW9uc1ZhbGlkKGhpZXJhcmNoeS5wb3NpdGlvbnMpXG4gICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgdmlld2VyLmVudGl0aWVzLmFkZCh7XG4gICAgICAgICAgICAgICAgICAgICAgICBwb2x5Z29uOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGllcmFyY2h5LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hdGVyaWFsOiBDZXNpdW0uQ29sb3IuZnJvbUNzc0NvbG9yU3RyaW5nKE5JR0hUX1RIRU1FLmludGVyc2VjdGlvbkZpbGxDb2xvcikud2l0aEFscGhhKE5JR0hUX1RIRU1FLmludGVyc2VjdGlvbkZpbGxBbHBoYSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiAwLjYsIC8vIExpZnQgc2xpZ2h0bHkgYWJvdmUgcm9hZHNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvdXRsaW5lOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG91dGxpbmVDb2xvcjogQ2VzaXVtLkNvbG9yLmZyb21Dc3NDb2xvclN0cmluZyhOSUdIVF9USEVNRS5pbnRlcnNlY3Rpb25PdXRsaW5lQ29sb3IpLndpdGhBbHBoYShOSUdIVF9USEVNRS5pbnRlcnNlY3Rpb25PdXRsaW5lQWxwaGEpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG91dGxpbmVXaWR0aDogTklHSFRfVEhFTUUucG9seWdvbk91dGxpbmVXaWR0aCxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2F0ZWdvcnk6IFwiZGlzcGF0Y2hfaW50ZXJzZWN0aW9uXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uaSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJ0X2luZGV4OiAwXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIkJhZCBpbnRlcnNlY3Rpb24gZ2VvbWV0cnlcIiwgaSwgZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBsb2NhdGlvbnMuZm9yRWFjaCgobCkgPT4ge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBpZiAoIU51bWJlci5pc0Zpbml0ZShsLmxhdGl0dWRlKSB8fCAhTnVtYmVyLmlzRmluaXRlKGwubG9uZ2l0dWRlKSkgcmV0dXJuO1xuXG4gICAgICAgICAgICAgICAgY29uc3QgdHlwZSA9IHJlc29sdmVEaXNwYXRjaExvY2F0aW9uVHlwZShsKTtcblxuICAgICAgICAgICAgICAgIGNvbnN0IHR5cGVMb3dlciA9ICh0eXBlIHx8ICcnKS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHNvdXJjZUxvd2VyID0gKGwuc291cmNlIHx8ICcnKS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGlzTnVtZXJpY1R5cGUgPSAvXlswLTldKyQvLnRlc3QodHlwZUxvd2VyKTtcblxuICAgICAgICAgICAgICAgIGlmICghdmlzaWJsZUxvY2F0aW9uVHlwZXMuaGFzKHR5cGUpKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCdbQ29tYmluZWRNYXBdW0xvY2F0aW9uc10gU2tpcCB0eXBlIG5vdCB2aXNpYmxlJywge1xuICAgICAgICAgICAgICAgICAgICAvLyAgICAgdHlwZSxcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgIGxvY2F0aW9uX2lkOiBsLmxvY2F0aW9uX2lkLFxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgdW5pdF90eXBlOiBsLnVuaXRfdHlwZSxcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgIHVuaXRfdHlwZV9pZDogbC51bml0X3R5cGVfaWQsXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICBsb2NhdGlvbl9jYXRlZ29yeTogbC5sb2NhdGlvbl9jYXRlZ29yeSxcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgIHNvdXJjZTogbC5zb3VyY2UsXG4gICAgICAgICAgICAgICAgICAgIC8vIH0pO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgY29uc3QgY29sb3IgPSBDZXNpdW0uQ29sb3IuZnJvbUNzc0NvbG9yU3RyaW5nKFxuICAgICAgICAgICAgICAgICAgICBnZXREaXNwYXRjaExvY2F0aW9uQ29sb3IodHlwZSlcbiAgICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAgICAgY29uc3QgcG9zaXRpb24gPSBDZXNpdW0uQ2FydGVzaWFuMy5mcm9tRGVncmVlcyhcbiAgICAgICAgICAgICAgICAgICAgbC5sb25naXR1ZGUsXG4gICAgICAgICAgICAgICAgICAgIGwubGF0aXR1ZGUsXG4gICAgICAgICAgICAgICAgICAgIDIuMCAgICAvLyAybSBhYm92ZSBncm91bmQgc28gbG9jYXRpb25zIHNpdCBjbGVhcmx5IGFib3ZlIHRoZSByb2FkIHN1cmZhY2VcbiAgICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAgICAgLy8gSWYgZ2VvbWV0cnkgaXMgYSBwb2x5Z29uLCByZW5kZXIgaXQ7IG90aGVyd2lzZSByZW5kZXIgc3F1YXJlL3BvaW50LlxuICAgICAgICAgICAgICAgIGNvbnN0IHJhd0dlb20gPSBsLmdlb21ldHJ5ID8gKHR5cGVvZiBsLmdlb21ldHJ5ID09PSAnc3RyaW5nJyA/IGwuZ2VvbWV0cnkgOiBKU09OLnN0cmluZ2lmeShsLmdlb21ldHJ5KSkgOiBudWxsO1xuICAgICAgICAgICAgICAgIGlmIChyYXdHZW9tKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGhpZXJhcmNoeSA9IHBhcnNlUG9seWdvbkhpZXJhcmNoeShyYXdHZW9tKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGhpZXJhcmNoeSAmJiBoaWVyYXJjaHkucG9zaXRpb25zICYmIGhpZXJhcmNoeS5wb3NpdGlvbnMubGVuZ3RoID49IDMgJiYgYXJlUG9zaXRpb25zVmFsaWQoaGllcmFyY2h5LnBvc2l0aW9ucykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZpZXdlci5lbnRpdGllcy5hZGQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvbHlnb246IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGllcmFyY2h5LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXRlcmlhbDogY29sb3Iud2l0aEFscGhhKDAuOSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG91dGxpbmU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG91dGxpbmVDb2xvcjogQ2VzaXVtLkNvbG9yLldISVRFLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwZXJQb3NpdGlvbkhlaWdodDogdHJ1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvcGVydGllczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXRlZ29yeTogXCJmcm9udHJ1bm5lcl9sb2NhdGlvblwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBjb25zdCBzaG93U3F1YXJlID0gU1FVQVJFX1RZUEVTLmhhcyh0eXBlTG93ZXIpIHx8IGlzTnVtZXJpY1R5cGU7XG4gICAgICAgICAgICAgICAgaWYgKCFzaG93U3F1YXJlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjsgLy8gc2tpcCBhbGwgbm9uLXRhcmdldCB0eXBlc1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIFJlbmRlciBzcXVhcmUgcGFkIGZvciBhbGxvd2VkIHR5cGVzXG4gICAgICAgICAgICAgICAgY29uc3QgYmVhcmluZ0Zyb21Ob3J0aCA9IGdldE5lYXJlc3RSb2FkQmVhcmluZyhsLCBzZWdtZW50cyk7XG4gICAgICAgICAgICAgICAgY29uc3QgYW5nbGVGcm9tRWFzdCA9IC1iZWFyaW5nRnJvbU5vcnRoOyAvLyBwZXJwZW5kaWN1bGFyIHRvIHJvYWRcblxuICAgICAgICAgICAgICAgIGNvbnN0IHNxdWFyZVBvc2l0aW9ucyA9IGNvbXB1dGVTcXVhcmVQb2x5Z29uKFxuICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbixcbiAgICAgICAgICAgICAgICAgICAgNDAuMCwgICAgICAgICAgLy8gc2l6ZSBpbiBtZXRlcnNcbiAgICAgICAgICAgICAgICAgICAgYW5nbGVGcm9tRWFzdFxuICAgICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgICAgICBpZiAoc3F1YXJlUG9zaXRpb25zICYmIGFyZVBvc2l0aW9uc1ZhbGlkKHNxdWFyZVBvc2l0aW9ucykpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaGllcmFyY2h5ID0gbmV3IENlc2l1bS5Qb2x5Z29uSGllcmFyY2h5KHNxdWFyZVBvc2l0aW9ucyk7XG4gICAgICAgICAgICAgICAgICAgIHZpZXdlci5lbnRpdGllcy5hZGQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgcG9seWdvbjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhpZXJhcmNoeSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXRlcmlhbDogY29sb3Iud2l0aEFscGhhKDEuMCksICAgLy8gb3BhcXVlOiBmdWxseSBoaWRlIHJvYWRzIHVuZGVybmVhdGhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvdXRsaW5lOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG91dGxpbmVDb2xvcjogQ2VzaXVtLkNvbG9yLldISVRFLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBlclBvc2l0aW9uSGVpZ2h0OiB0cnVlICAgICAgICAgICAvLyB1c2UgdGhlIGFjdHVhbCBoZWlnaHRzIGluIGhpZXJhcmNoeSAo4omIMm0pXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgcHJvcGVydGllczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhdGVnb3J5OiBcImRpc3BhdGNoX2xvY2F0aW9uXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4ubFxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZygnW0NvbWJpbmVkTWFwXVtMb2NhdGlvbnNdIEludmFsaWQgc3F1YXJlIGdlb21ldHJ5LCBza2lwcGluZycsIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgIHR5cGUsXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICBsb2NhdGlvbl9pZDogbC5sb2NhdGlvbl9pZCxcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgIHVuaXRfdHlwZTogbC51bml0X3R5cGUsXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICB1bml0X3R5cGVfaWQ6IGwudW5pdF90eXBlX2lkLFxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgbG9jYXRpb25fY2F0ZWdvcnk6IGwubG9jYXRpb25fY2F0ZWdvcnksXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICBzb3VyY2U6IGwuc291cmNlLFxuICAgICAgICAgICAgICAgICAgICAvLyB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gSWYgaW52YWxpZCBzcXVhcmUsIHNraXAgKG5vIHBvaW50IGZhbGxiYWNrKVxuICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciByZW5kZXJpbmcgbG9jYXRpb25cIiwgbCwgZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH0sIFtcbiAgICAgICAgbG9jYXRpb25zLFxuICAgICAgICBzZWdtZW50cyxcbiAgICAgICAgdHJvbGxleVNlZ21lbnRzLFxuICAgICAgICB3YXRlcmluZ1N0YXRpb25zLFxuICAgICAgICBzcGVlZE1vbml0b3JpbmcsXG4gICAgICAgIGludGVyc2VjdGlvbnMsXG4gICAgICAgIHNob3dPcGVuUm9hZHMsXG4gICAgICAgIHNob3dDbG9zZWRSb2FkcyxcbiAgICAgICAgc2hvd0ludGVyc2VjdGlvbnMsXG4gICAgICAgIHNob3dUcm9sbGV5LFxuICAgICAgICBzaG93V2F0ZXJpbmcsXG4gICAgICAgIHNob3dTcGVlZCxcbiAgICAgICAgdmlzaWJsZUxvY2F0aW9uVHlwZXNcbiAgICBdKTtcblxuICAgIGNvbnN0IGdldENhdGVnb3J5RGlzcGxheU5hbWUgPSAoY29uc29saWRhdGVkQ2F0ZWdvcnkpID0+IHtcbiAgICAgICAgY29uc3QgZGlzcGxheU5hbWVzID0ge1xuICAgICAgICAgICAgJ3BpdCc6ICdQaXQgTG9jYXRpb25zJyxcbiAgICAgICAgICAgICdwYXJraW5nJzogJ1BhcmtpbmcgQmF5JyxcbiAgICAgICAgICAgICdjcnVzaGVyJzogJ0NydXNoZXIgT3BlcmF0aW9ucycsXG4gICAgICAgICAgICAnZnVlbCc6ICdGdWVsIFN0YXRpb24nLFxuICAgICAgICAgICAgJ2ludGVyc2VjdGlvbic6ICdSb2FkIE5ldHdvcmtzJyxcbiAgICAgICAgICAgICdkdW1wJzogJ0R1bXAgU2l0ZScsXG4gICAgICAgICAgICAnYmxhc3QnOiAnQmxhc3QgQXJlYScsXG4gICAgICAgICAgICAnc3RvY2twaWxlJzogJ1N0b2NrcGlsZScsXG4gICAgICAgICAgICAnd29ya3Nob3AnOiAnV29ya3Nob3AnLFxuICAgICAgICAgICAgJ2dhdGUnOiAnR2F0ZScsXG4gICAgICAgICAgICAnYWNjZXNzJzogJ0FjY2VzcyBQb2ludCcsXG4gICAgICAgICAgICAnZGVmYXVsdCc6ICdPdGhlcidcbiAgICAgICAgfTtcblxuICAgICAgICBpZiAoZGlzcGxheU5hbWVzW2NvbnNvbGlkYXRlZENhdGVnb3J5XSkge1xuICAgICAgICAgICAgcmV0dXJuIGRpc3BsYXlOYW1lc1tjb25zb2xpZGF0ZWRDYXRlZ29yeV07XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBjYXRlZ29yeVN0ciA9IFN0cmluZyhjb25zb2xpZGF0ZWRDYXRlZ29yeSB8fCAnT3RoZXInKTtcbiAgICAgICAgcmV0dXJuIGNhdGVnb3J5U3RyLnNwbGl0KCdfJykubWFwKHdvcmQgPT5cbiAgICAgICAgICAgIHdvcmQuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyB3b3JkLnNsaWNlKDEpXG4gICAgICAgICkuam9pbignICcpO1xuICAgIH07XG5cbiAgICAvLyAtLS0gTWVhc3VyZW1lbnQgaGVscGVycyAobWlycm9yIEZyb250cnVubmVyIGJlaGF2aW9yKSAtLS1cbiAgICBjb25zdCByZW1vdmVQcmV2aWV3RW50aXRpZXMgPSAodmlld2VyKSA9PiB7XG4gICAgICAgIGlmICghdmlld2VyKSByZXR1cm47XG4gICAgICAgIGNvbnN0IHJlZnMgPSBbcHJldmlld0xpbmVFbnRpdHlSZWYsIHByZXZpZXdMYWJlbEVudGl0eVJlZl07XG4gICAgICAgIHJlZnMuZm9yRWFjaChyZWYgPT4ge1xuICAgICAgICAgICAgaWYgKHJlZi5jdXJyZW50KSB7XG4gICAgICAgICAgICAgICAgdHJ5IHsgdmlld2VyLmVudGl0aWVzLnJlbW92ZShyZWYuY3VycmVudCk7IH0gY2F0Y2ggKF8pIHsgfVxuICAgICAgICAgICAgICAgIHJlZi5jdXJyZW50ID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHZpZXdlci5zY2VuZT8ucmVxdWVzdFJlbmRlcigpO1xuICAgIH07XG5cbiAgICBjb25zdCBjbGVhck1lYXN1cmVtZW50cyA9ICh2aWV3ZXIpID0+IHtcbiAgICAgICAgaWYgKCF2aWV3ZXIpIHJldHVybjtcbiAgICAgICAgbWVhc3VyZW1lbnRFbnRpdGllc1JlZi5jdXJyZW50LmZvckVhY2goZSA9PiB7IHRyeSB7IHZpZXdlci5lbnRpdGllcy5yZW1vdmUoZSk7IH0gY2F0Y2ggKF8pIHsgfSB9KTtcbiAgICAgICAgb3ZlcmxheUVudGl0aWVzUmVmLmN1cnJlbnQuZm9yRWFjaChlID0+IHsgdHJ5IHsgdmlld2VyLmVudGl0aWVzLnJlbW92ZShlKTsgfSBjYXRjaCAoXykgeyB9IH0pO1xuICAgICAgICByZW1vdmVQcmV2aWV3RW50aXRpZXModmlld2VyKTtcbiAgICAgICAgbWVhc3VyZW1lbnRFbnRpdGllc1JlZi5jdXJyZW50ID0gW107XG4gICAgICAgIG92ZXJsYXlFbnRpdGllc1JlZi5jdXJyZW50ID0gW107XG4gICAgICAgIG1lYXN1cmVtZW50UG9pbnRzUmVmLmN1cnJlbnQgPSBbXTtcbiAgICAgICAgYXJlYUxvY2tlZFJlZi5jdXJyZW50ID0gZmFsc2U7XG4gICAgICAgIG1lYXN1cmVtZW50TW9kZVJlZi5jdXJyZW50ID0gJ25vbmUnO1xuICAgICAgICBzZXRNZWFzdXJlbWVudE1vZGUoJ25vbmUnKTtcbiAgICAgICAgdmlld2VyLnNjZW5lPy5yZXF1ZXN0UmVuZGVyKCk7XG4gICAgfTtcblxuICAgIGNvbnN0IGRyYXdEaXN0YW5jZSA9ICh2aWV3ZXIsIHBvaW50cykgPT4ge1xuICAgICAgICBvdmVybGF5RW50aXRpZXNSZWYuY3VycmVudC5mb3JFYWNoKGUgPT4geyB0cnkgeyB2aWV3ZXIuZW50aXRpZXMucmVtb3ZlKGUpOyB9IGNhdGNoIChfKSB7IH0gfSk7XG4gICAgICAgIG92ZXJsYXlFbnRpdGllc1JlZi5jdXJyZW50ID0gW107XG4gICAgICAgIGNvbnN0IHBvc2l0aW9ucyA9IHBvaW50cy5tYXAocCA9PiBwLmNhcnRlc2lhbik7XG4gICAgICAgIGNvbnN0IGxpbmUgPSB2aWV3ZXIuZW50aXRpZXMuYWRkKHtcbiAgICAgICAgICAgIHBvbHlsaW5lOiB7XG4gICAgICAgICAgICAgICAgcG9zaXRpb25zLFxuICAgICAgICAgICAgICAgIHdpZHRoOiA0LFxuICAgICAgICAgICAgICAgIG1hdGVyaWFsOiBDZXNpdW0uQ29sb3IuV0hJVEUsXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBtZWFzdXJlbWVudEVudGl0aWVzUmVmLmN1cnJlbnQucHVzaChsaW5lKTtcbiAgICAgICAgb3ZlcmxheUVudGl0aWVzUmVmLmN1cnJlbnQucHVzaChsaW5lKTtcblxuICAgICAgICBjb25zdCBlbGxpcHNvaWQgPSB2aWV3ZXIuc2NlbmUuZ2xvYmUuZWxsaXBzb2lkO1xuICAgICAgICBjb25zdCBjMSA9IGVsbGlwc29pZC5jYXJ0ZXNpYW5Ub0NhcnRvZ3JhcGhpYyhwb3NpdGlvbnNbMF0pO1xuICAgICAgICBjb25zdCBjMiA9IGVsbGlwc29pZC5jYXJ0ZXNpYW5Ub0NhcnRvZ3JhcGhpYyhwb3NpdGlvbnNbMV0pO1xuICAgICAgICBjb25zdCBnZW9kZXNpYyA9IG5ldyBDZXNpdW0uRWxsaXBzb2lkR2VvZGVzaWMoYzEsIGMyKTtcbiAgICAgICAgY29uc3QgZGlzdGFuY2VNZXRlcnMgPSBnZW9kZXNpYy5zdXJmYWNlRGlzdGFuY2U7XG4gICAgICAgIGNvbnN0IGRpc3RhbmNlRmVldCA9IGRpc3RhbmNlTWV0ZXJzICogMy4yODA4NDtcblxuICAgICAgICBpZiAoIU51bWJlci5pc0Zpbml0ZShkaXN0YW5jZU1ldGVycykgfHwgZGlzdGFuY2VNZXRlcnMgPCAwLjAxKSB7XG4gICAgICAgICAgICAvLyBkaXNjYXJkIHNlY29uZCBwb2ludFxuICAgICAgICAgICAgY29uc3QgbGFzdFBvaW50ID0gbWVhc3VyZW1lbnRFbnRpdGllc1JlZi5jdXJyZW50LnBvcCgpO1xuICAgICAgICAgICAgdHJ5IHsgdmlld2VyLmVudGl0aWVzLnJlbW92ZShsYXN0UG9pbnQpOyB9IGNhdGNoIChfKSB7IH1cbiAgICAgICAgICAgIG1lYXN1cmVtZW50UG9pbnRzUmVmLmN1cnJlbnQgPSBbcG9pbnRzWzBdXTtcbiAgICAgICAgICAgIHZpZXdlci5zY2VuZT8ucmVxdWVzdFJlbmRlcigpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgbWV0ZXJzVGV4dCA9IGAke2Rpc3RhbmNlTWV0ZXJzLnRvRml4ZWQoMil9IG1gO1xuICAgICAgICBjb25zdCBmZWV0VGV4dCA9IGAke2Rpc3RhbmNlRmVldC50b0ZpeGVkKDIpfSBmdGA7XG4gICAgICAgIGNvbnN0IG1pZCA9IENlc2l1bS5DYXJ0ZXNpYW4zLmxlcnAocG9zaXRpb25zWzBdLCBwb3NpdGlvbnNbMV0sIDAuNSwgbmV3IENlc2l1bS5DYXJ0ZXNpYW4zKCkpO1xuXG4gICAgICAgIGNvbnN0IGxhYmVsMSA9IHZpZXdlci5lbnRpdGllcy5hZGQoe1xuICAgICAgICAgICAgcG9zaXRpb246IG1pZCxcbiAgICAgICAgICAgIGxhYmVsOiB7XG4gICAgICAgICAgICAgICAgdGV4dDogbWV0ZXJzVGV4dCxcbiAgICAgICAgICAgICAgICBmb250OiAnMjJweCBib2xkIFwiQXJpYWxcIiwgc2Fucy1zZXJpZicsXG4gICAgICAgICAgICAgICAgZmlsbENvbG9yOiBDZXNpdW0uQ29sb3IuWUVMTE9XLFxuICAgICAgICAgICAgICAgIG91dGxpbmVDb2xvcjogQ2VzaXVtLkNvbG9yLkJMQUNLLFxuICAgICAgICAgICAgICAgIG91dGxpbmVXaWR0aDogNCxcbiAgICAgICAgICAgICAgICBzdHlsZTogQ2VzaXVtLkxhYmVsU3R5bGUuRklMTF9BTkRfT1VUTElORSxcbiAgICAgICAgICAgICAgICB2ZXJ0aWNhbE9yaWdpbjogQ2VzaXVtLlZlcnRpY2FsT3JpZ2luLkNFTlRFUixcbiAgICAgICAgICAgICAgICBob3Jpem9udGFsT3JpZ2luOiBDZXNpdW0uSG9yaXpvbnRhbE9yaWdpbi5DRU5URVIsXG4gICAgICAgICAgICAgICAgcGl4ZWxPZmZzZXQ6IG5ldyBDZXNpdW0uQ2FydGVzaWFuMigwLCAtMzApLFxuICAgICAgICAgICAgICAgIGRpc2FibGVEZXB0aFRlc3REaXN0YW5jZTogTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZLFxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgbGFiZWwyID0gdmlld2VyLmVudGl0aWVzLmFkZCh7XG4gICAgICAgICAgICBwb3NpdGlvbjogbWlkLFxuICAgICAgICAgICAgbGFiZWw6IHtcbiAgICAgICAgICAgICAgICB0ZXh0OiBmZWV0VGV4dCxcbiAgICAgICAgICAgICAgICBmb250OiAnMjBweCBib2xkIFwiQXJpYWxcIiwgc2Fucy1zZXJpZicsXG4gICAgICAgICAgICAgICAgZmlsbENvbG9yOiBDZXNpdW0uQ29sb3IuV0hJVEUsXG4gICAgICAgICAgICAgICAgb3V0bGluZUNvbG9yOiBDZXNpdW0uQ29sb3IuQkxBQ0ssXG4gICAgICAgICAgICAgICAgb3V0bGluZVdpZHRoOiA0LFxuICAgICAgICAgICAgICAgIHN0eWxlOiBDZXNpdW0uTGFiZWxTdHlsZS5GSUxMX0FORF9PVVRMSU5FLFxuICAgICAgICAgICAgICAgIHZlcnRpY2FsT3JpZ2luOiBDZXNpdW0uVmVydGljYWxPcmlnaW4uQ0VOVEVSLFxuICAgICAgICAgICAgICAgIGhvcml6b250YWxPcmlnaW46IENlc2l1bS5Ib3Jpem9udGFsT3JpZ2luLkNFTlRFUixcbiAgICAgICAgICAgICAgICBwaXhlbE9mZnNldDogbmV3IENlc2l1bS5DYXJ0ZXNpYW4yKDAsIDMwKSxcbiAgICAgICAgICAgICAgICBkaXNhYmxlRGVwdGhUZXN0RGlzdGFuY2U6IE51bWJlci5QT1NJVElWRV9JTkZJTklUWSxcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIG1lYXN1cmVtZW50RW50aXRpZXNSZWYuY3VycmVudC5wdXNoKGxhYmVsMSwgbGFiZWwyKTtcbiAgICAgICAgb3ZlcmxheUVudGl0aWVzUmVmLmN1cnJlbnQucHVzaChsYWJlbDEsIGxhYmVsMik7XG5cbiAgICAgICAgYXJlYUxvY2tlZFJlZi5jdXJyZW50ID0gdHJ1ZTtcbiAgICAgICAgbWVhc3VyZW1lbnRNb2RlUmVmLmN1cnJlbnQgPSAnbm9uZSc7XG4gICAgICAgIHNldE1lYXN1cmVtZW50TW9kZSgnbm9uZScpO1xuICAgICAgICB2aWV3ZXIuc2NlbmU/LnJlcXVlc3RSZW5kZXIoKTtcbiAgICB9O1xuXG4gICAgY29uc3QgZHJhd0FyZWFQcmV2aWV3ID0gKHZpZXdlciwgcG9pbnRzKSA9PiB7XG4gICAgICAgIG92ZXJsYXlFbnRpdGllc1JlZi5jdXJyZW50LmZvckVhY2goZSA9PiB7IHRyeSB7IHZpZXdlci5lbnRpdGllcy5yZW1vdmUoZSk7IH0gY2F0Y2ggKF8pIHsgfSB9KTtcbiAgICAgICAgb3ZlcmxheUVudGl0aWVzUmVmLmN1cnJlbnQgPSBbXTtcbiAgICAgICAgaWYgKHBvaW50cy5sZW5ndGggPCAyKSByZXR1cm47XG4gICAgICAgIGNvbnN0IHBvc2l0aW9ucyA9IHBvaW50cy5tYXAocCA9PiBwLmNhcnRlc2lhbik7XG4gICAgICAgIGNvbnN0IHBvbHlsaW5lID0gdmlld2VyLmVudGl0aWVzLmFkZCh7XG4gICAgICAgICAgICBwb2x5bGluZToge1xuICAgICAgICAgICAgICAgIHBvc2l0aW9ucyxcbiAgICAgICAgICAgICAgICB3aWR0aDogMixcbiAgICAgICAgICAgICAgICBtYXRlcmlhbDogQ2VzaXVtLkNvbG9yLkNZQU4ud2l0aEFscGhhKDAuOCksXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBvdmVybGF5RW50aXRpZXNSZWYuY3VycmVudC5wdXNoKHBvbHlsaW5lKTtcbiAgICAgICAgdmlld2VyLnNjZW5lPy5yZXF1ZXN0UmVuZGVyKCk7XG4gICAgfTtcblxuICAgIGNvbnN0IGNvbXB1dGVBcmVhID0gKHBvc2l0aW9ucywgZWxsaXBzb2lkKSA9PiB7XG4gICAgICAgIGNvbnN0IG9yaWdpbiA9IHBvc2l0aW9uc1swXTtcbiAgICAgICAgY29uc3QgZW51ID0gQ2VzaXVtLlRyYW5zZm9ybXMuZWFzdE5vcnRoVXBUb0ZpeGVkRnJhbWUob3JpZ2luLCBlbGxpcHNvaWQpO1xuICAgICAgICBjb25zdCBpbnYgPSBDZXNpdW0uTWF0cml4NC5pbnZlcnNlVHJhbnNmb3JtYXRpb24oZW51LCBuZXcgQ2VzaXVtLk1hdHJpeDQoKSk7XG4gICAgICAgIGNvbnN0IGxvY2FsID0gcG9zaXRpb25zLm1hcChwID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGRpZmYgPSBDZXNpdW0uQ2FydGVzaWFuMy5zdWJ0cmFjdChwLCBvcmlnaW4sIG5ldyBDZXNpdW0uQ2FydGVzaWFuMygpKTtcbiAgICAgICAgICAgIHJldHVybiBDZXNpdW0uTWF0cml4NC5tdWx0aXBseUJ5UG9pbnRBc1ZlY3RvcihpbnYsIGRpZmYsIG5ldyBDZXNpdW0uQ2FydGVzaWFuMygpKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGxldCBhcmVhID0gMDtcbiAgICAgICAgZm9yIChsZXQgaSA9IDAsIGogPSBsb2NhbC5sZW5ndGggLSAxOyBpIDwgbG9jYWwubGVuZ3RoOyBqID0gaSsrKSB7XG4gICAgICAgICAgICBhcmVhICs9IGxvY2FsW2pdLnggKiBsb2NhbFtpXS55IC0gbG9jYWxbaV0ueCAqIGxvY2FsW2pdLnk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIE1hdGguYWJzKGFyZWEpICogMC41O1xuICAgIH07XG5cbiAgICBjb25zdCBmaW5hbGl6ZUFyZWFNZWFzdXJlbWVudCA9ICh2aWV3ZXIpID0+IHtcbiAgICAgICAgY29uc3QgcHRzID0gbWVhc3VyZW1lbnRQb2ludHNSZWYuY3VycmVudDtcbiAgICAgICAgaWYgKCF2aWV3ZXIgfHwgcHRzLmxlbmd0aCA8IDMgfHwgYXJlYUxvY2tlZFJlZi5jdXJyZW50KSByZXR1cm47XG4gICAgICAgIG92ZXJsYXlFbnRpdGllc1JlZi5jdXJyZW50LmZvckVhY2goZSA9PiB7IHRyeSB7IHZpZXdlci5lbnRpdGllcy5yZW1vdmUoZSk7IH0gY2F0Y2ggKF8pIHsgfSB9KTtcbiAgICAgICAgb3ZlcmxheUVudGl0aWVzUmVmLmN1cnJlbnQgPSBbXTtcbiAgICAgICAgcmVtb3ZlUHJldmlld0VudGl0aWVzKHZpZXdlcik7XG5cbiAgICAgICAgY29uc3QgcG9zaXRpb25zID0gcHRzLm1hcChwID0+IHAuY2FydGVzaWFuKTtcbiAgICAgICAgaWYgKCFhcmVQb3NpdGlvbnNWYWxpZChwb3NpdGlvbnMpKSB7XG4gICAgICAgICAgICBtZWFzdXJlbWVudFBvaW50c1JlZi5jdXJyZW50ID0gcHRzLnNsaWNlKDAsIDEpO1xuICAgICAgICAgICAgdmlld2VyLnNjZW5lPy5yZXF1ZXN0UmVuZGVyKCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcG9seSA9IHZpZXdlci5lbnRpdGllcy5hZGQoe1xuICAgICAgICAgICAgcG9seWdvbjoge1xuICAgICAgICAgICAgICAgIGhpZXJhcmNoeTogbmV3IENlc2l1bS5Qb2x5Z29uSGllcmFyY2h5KHBvc2l0aW9ucyksXG4gICAgICAgICAgICAgICAgbWF0ZXJpYWw6IENlc2l1bS5Db2xvci5ZRUxMT1cud2l0aEFscGhhKDAuMjUpLFxuICAgICAgICAgICAgICAgIG91dGxpbmU6IHRydWUsXG4gICAgICAgICAgICAgICAgb3V0bGluZUNvbG9yOiBDZXNpdW0uQ29sb3IuWUVMTE9XLFxuICAgICAgICAgICAgICAgIG91dGxpbmVXaWR0aDogMixcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIG1lYXN1cmVtZW50RW50aXRpZXNSZWYuY3VycmVudC5wdXNoKHBvbHkpO1xuICAgICAgICBvdmVybGF5RW50aXRpZXNSZWYuY3VycmVudC5wdXNoKHBvbHkpO1xuXG4gICAgICAgIGNvbnN0IGVsbGlwc29pZCA9IHZpZXdlci5zY2VuZS5nbG9iZS5lbGxpcHNvaWQ7XG4gICAgICAgIGNvbnN0IGFyZWFTcW0gPSBjb21wdXRlQXJlYShwb3NpdGlvbnMsIGVsbGlwc29pZCk7XG4gICAgICAgIGNvbnN0IGFyZWFTcWZ0ID0gYXJlYVNxbSAqIDEwLjc2Mzk7XG4gICAgICAgIGNvbnN0IGNlbnRyb2lkID0gcG9zaXRpb25zLnJlZHVjZSgoYWNjLCBjdXIpID0+IENlc2l1bS5DYXJ0ZXNpYW4zLmFkZChhY2MsIGN1ciwgYWNjKSwgbmV3IENlc2l1bS5DYXJ0ZXNpYW4zKCkpO1xuICAgICAgICBDZXNpdW0uQ2FydGVzaWFuMy5tdWx0aXBseUJ5U2NhbGFyKGNlbnRyb2lkLCAxIC8gcG9zaXRpb25zLmxlbmd0aCwgY2VudHJvaWQpO1xuXG4gICAgICAgIGNvbnN0IGxhYmVsID0gdmlld2VyLmVudGl0aWVzLmFkZCh7XG4gICAgICAgICAgICBwb3NpdGlvbjogY2VudHJvaWQsXG4gICAgICAgICAgICBsYWJlbDoge1xuICAgICAgICAgICAgICAgIHRleHQ6IGAke2FyZWFTcW0udG9GaXhlZCgyKX0gbcKyIC8gJHthcmVhU3FmdC50b0ZpeGVkKDIpfSBmdMKyYCxcbiAgICAgICAgICAgICAgICBmb250OiAnMjBweCBib2xkIFwiQXJpYWxcIiwgc2Fucy1zZXJpZicsXG4gICAgICAgICAgICAgICAgZmlsbENvbG9yOiBDZXNpdW0uQ29sb3IuWUVMTE9XLFxuICAgICAgICAgICAgICAgIG91dGxpbmVDb2xvcjogQ2VzaXVtLkNvbG9yLkJMQUNLLFxuICAgICAgICAgICAgICAgIG91dGxpbmVXaWR0aDogNCxcbiAgICAgICAgICAgICAgICBzdHlsZTogQ2VzaXVtLkxhYmVsU3R5bGUuRklMTF9BTkRfT1VUTElORSxcbiAgICAgICAgICAgICAgICB2ZXJ0aWNhbE9yaWdpbjogQ2VzaXVtLlZlcnRpY2FsT3JpZ2luLkNFTlRFUixcbiAgICAgICAgICAgICAgICBob3Jpem9udGFsT3JpZ2luOiBDZXNpdW0uSG9yaXpvbnRhbE9yaWdpbi5DRU5URVIsXG4gICAgICAgICAgICAgICAgcGl4ZWxPZmZzZXQ6IG5ldyBDZXNpdW0uQ2FydGVzaWFuMigwLCAtMjApLFxuICAgICAgICAgICAgICAgIGRpc2FibGVEZXB0aFRlc3REaXN0YW5jZTogTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZLFxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgbWVhc3VyZW1lbnRFbnRpdGllc1JlZi5jdXJyZW50LnB1c2gobGFiZWwpO1xuICAgICAgICBvdmVybGF5RW50aXRpZXNSZWYuY3VycmVudC5wdXNoKGxhYmVsKTtcblxuICAgICAgICBhcmVhTG9ja2VkUmVmLmN1cnJlbnQgPSB0cnVlO1xuICAgICAgICBtZWFzdXJlbWVudE1vZGVSZWYuY3VycmVudCA9ICdub25lJztcbiAgICAgICAgc2V0TWVhc3VyZW1lbnRNb2RlKCdub25lJyk7XG4gICAgICAgIHZpZXdlci5zY2VuZT8ucmVxdWVzdFJlbmRlcigpO1xuICAgIH07XG5cbiAgICBjb25zdCB1cGRhdGVQcmV2aWV3TGluZSA9ICh2aWV3ZXIsIGN1cnNvckNhcnRlc2lhbikgPT4ge1xuICAgICAgICBpZiAoIXZpZXdlcikgcmV0dXJuO1xuICAgICAgICBpZiAoYXJlYUxvY2tlZFJlZi5jdXJyZW50KSB7XG4gICAgICAgICAgICByZW1vdmVQcmV2aWV3RW50aXRpZXModmlld2VyKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBtb2RlID0gbWVhc3VyZW1lbnRNb2RlUmVmLmN1cnJlbnQ7XG4gICAgICAgIGNvbnN0IHB0cyA9IG1lYXN1cmVtZW50UG9pbnRzUmVmLmN1cnJlbnQ7XG4gICAgICAgIGlmIChtb2RlICE9PSAnZGlzdGFuY2UnIHx8IHB0cy5sZW5ndGggIT09IDEpIHtcbiAgICAgICAgICAgIHJlbW92ZVByZXZpZXdFbnRpdGllcyh2aWV3ZXIpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICghY3Vyc29yQ2FydGVzaWFuKSB7XG4gICAgICAgICAgICByZW1vdmVQcmV2aWV3RW50aXRpZXModmlld2VyKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGZpcnN0ID0gcHRzWzBdLmNhcnRlc2lhbjtcbiAgICAgICAgcmVtb3ZlUHJldmlld0VudGl0aWVzKHZpZXdlcik7XG5cbiAgICAgICAgcHJldmlld0xpbmVFbnRpdHlSZWYuY3VycmVudCA9IHZpZXdlci5lbnRpdGllcy5hZGQoe1xuICAgICAgICAgICAgcG9seWxpbmU6IHtcbiAgICAgICAgICAgICAgICBwb3NpdGlvbnM6IFtmaXJzdCwgY3Vyc29yQ2FydGVzaWFuXSxcbiAgICAgICAgICAgICAgICB3aWR0aDogMyxcbiAgICAgICAgICAgICAgICBtYXRlcmlhbDogQ2VzaXVtLkNvbG9yLllFTExPVy53aXRoQWxwaGEoMC44KSxcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgY29uc3QgZWxsaXBzb2lkID0gdmlld2VyLnNjZW5lLmdsb2JlLmVsbGlwc29pZDtcbiAgICAgICAgY29uc3QgYzEgPSBlbGxpcHNvaWQuY2FydGVzaWFuVG9DYXJ0b2dyYXBoaWMoZmlyc3QpO1xuICAgICAgICBjb25zdCBjMiA9IGVsbGlwc29pZC5jYXJ0ZXNpYW5Ub0NhcnRvZ3JhcGhpYyhjdXJzb3JDYXJ0ZXNpYW4pO1xuICAgICAgICBjb25zdCBnZW9kZXNpYyA9IG5ldyBDZXNpdW0uRWxsaXBzb2lkR2VvZGVzaWMoYzEsIGMyKTtcbiAgICAgICAgY29uc3QgZGlzdGFuY2VNZXRlcnMgPSBnZW9kZXNpYy5zdXJmYWNlRGlzdGFuY2U7XG4gICAgICAgIGNvbnN0IGRpc3RhbmNlRmVldCA9IGRpc3RhbmNlTWV0ZXJzICogMy4yODA4NDtcbiAgICAgICAgY29uc3QgdGV4dCA9IGAke2Rpc3RhbmNlTWV0ZXJzLnRvRml4ZWQoMil9IG0gLyAke2Rpc3RhbmNlRmVldC50b0ZpeGVkKDIpfSBmdGA7XG5cbiAgICAgICAgY29uc3QgbWlkID0gQ2VzaXVtLkNhcnRlc2lhbjMubGVycChmaXJzdCwgY3Vyc29yQ2FydGVzaWFuLCAwLjUsIG5ldyBDZXNpdW0uQ2FydGVzaWFuMygpKTtcbiAgICAgICAgcHJldmlld0xhYmVsRW50aXR5UmVmLmN1cnJlbnQgPSB2aWV3ZXIuZW50aXRpZXMuYWRkKHtcbiAgICAgICAgICAgIHBvc2l0aW9uOiBtaWQsXG4gICAgICAgICAgICBsYWJlbDoge1xuICAgICAgICAgICAgICAgIHRleHQsXG4gICAgICAgICAgICAgICAgZm9udDogJzIwcHggYm9sZCBcXFwiQXJpYWxcXFwiLCBzYW5zLXNlcmlmJyxcbiAgICAgICAgICAgICAgICBmaWxsQ29sb3I6IENlc2l1bS5Db2xvci5ZRUxMT1csXG4gICAgICAgICAgICAgICAgb3V0bGluZUNvbG9yOiBDZXNpdW0uQ29sb3IuQkxBQ0ssXG4gICAgICAgICAgICAgICAgb3V0bGluZVdpZHRoOiA0LFxuICAgICAgICAgICAgICAgIHN0eWxlOiBDZXNpdW0uTGFiZWxTdHlsZS5GSUxMX0FORF9PVVRMSU5FLFxuICAgICAgICAgICAgICAgIHZlcnRpY2FsT3JpZ2luOiBDZXNpdW0uVmVydGljYWxPcmlnaW4uQ0VOVEVSLFxuICAgICAgICAgICAgICAgIHBpeGVsT2Zmc2V0OiBuZXcgQ2VzaXVtLkNhcnRlc2lhbjIoMCwgLTI1KSxcbiAgICAgICAgICAgICAgICBkaXNhYmxlRGVwdGhUZXN0RGlzdGFuY2U6IE51bWJlci5QT1NJVElWRV9JTkZJTklUWSxcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHZpZXdlci5zY2VuZT8ucmVxdWVzdFJlbmRlcigpO1xuICAgIH07XG5cbiAgICBjb25zdCBhZGRNZWFzdXJlbWVudFBvaW50ID0gKHZpZXdlciwgY2FydGVzaWFuKSA9PiB7XG4gICAgICAgIGlmICghdmlld2VyIHx8ICFjYXJ0ZXNpYW4pIHJldHVybjtcbiAgICAgICAgaWYgKGFyZWFMb2NrZWRSZWYuY3VycmVudCkgcmV0dXJuO1xuICAgICAgICBjb25zdCBtb2RlID0gbWVhc3VyZW1lbnRNb2RlUmVmLmN1cnJlbnQ7XG4gICAgICAgIGlmIChtb2RlID09PSAnbm9uZScpIHJldHVybjtcblxuICAgICAgICBjb25zdCBuZXdQb2ludCA9IHsgaWQ6IHV1aWR2NCgpLCBjYXJ0ZXNpYW4gfTtcbiAgICAgICAgY29uc3QgbmV3UG9pbnRzID0gWy4uLm1lYXN1cmVtZW50UG9pbnRzUmVmLmN1cnJlbnQsIG5ld1BvaW50XTtcbiAgICAgICAgbWVhc3VyZW1lbnRQb2ludHNSZWYuY3VycmVudCA9IG5ld1BvaW50cztcblxuICAgICAgICBjb25zdCBwb2ludEVudGl0eSA9IHZpZXdlci5lbnRpdGllcy5hZGQoe1xuICAgICAgICAgICAgcG9zaXRpb246IGNhcnRlc2lhbixcbiAgICAgICAgICAgIHBvaW50OiB7XG4gICAgICAgICAgICAgICAgcGl4ZWxTaXplOiAxMixcbiAgICAgICAgICAgICAgICBjb2xvcjogQ2VzaXVtLkNvbG9yLldISVRFLFxuICAgICAgICAgICAgICAgIG91dGxpbmVDb2xvcjogQ2VzaXVtLkNvbG9yLkNZQU4sXG4gICAgICAgICAgICAgICAgb3V0bGluZVdpZHRoOiAzLFxuICAgICAgICAgICAgICAgIGhlaWdodFJlZmVyZW5jZTogQ2VzaXVtLkhlaWdodFJlZmVyZW5jZS5DTEFNUF9UT19HUk9VTkQsXG4gICAgICAgICAgICAgICAgZGlzYWJsZURlcHRoVGVzdERpc3RhbmNlOiBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFksXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBtZWFzdXJlbWVudEVudGl0aWVzUmVmLmN1cnJlbnQucHVzaChwb2ludEVudGl0eSk7XG5cbiAgICAgICAgaWYgKG1vZGUgPT09ICdkaXN0YW5jZScgJiYgbmV3UG9pbnRzLmxlbmd0aCA9PT0gMikge1xuICAgICAgICAgICAgcmVtb3ZlUHJldmlld0VudGl0aWVzKHZpZXdlcik7XG4gICAgICAgICAgICBkcmF3RGlzdGFuY2Uodmlld2VyLCBuZXdQb2ludHMpO1xuICAgICAgICB9IGVsc2UgaWYgKG1vZGUgPT09ICdhcmVhJyAmJiBuZXdQb2ludHMubGVuZ3RoID49IDIpIHtcbiAgICAgICAgICAgIGRyYXdBcmVhUHJldmlldyh2aWV3ZXIsIG5ld1BvaW50cyk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3QgaGFuZGxlTWVhc3VyZUNoYW5nZSA9IChtb2RlKSA9PiB7XG4gICAgICAgIGlmIChtb2RlID09PSAnY2xlYXInKSB7XG4gICAgICAgICAgICBmckNsZWFyTWVhc3VyZW1lbnRzKCk7XG4gICAgICAgICAgICBzZXRNZWFzdXJlbWVudE1vZGUoJ25vbmUnKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBmclN0YXJ0TWVhc3VyZW1lbnQobW9kZSk7XG4gICAgICAgIHNldE1lYXN1cmVtZW50TW9kZShtb2RlKTtcbiAgICB9O1xuXG4gICAgaWYgKG1hcEVycm9yKSByZXR1cm4gPGRpdiBzdHlsZT17eyBjb2xvcjogJ3doaXRlJywgcGFkZGluZzogMjAgfX0+RXJyb3I6IHttYXBFcnJvcn08L2Rpdj47XG5cbiAgICByZXR1cm4gKFxuICAgICAgICA8PlxuICAgICAgICAgICAgPFNjcmlwdCBzcmM9XCJodHRwczovL2NkbmpzLmNsb3VkZmxhcmUuY29tL2FqYXgvbGlicy9jZXNpdW0vMS4xMjYuMC9DZXNpdW0uanNcIiBvbkxvYWQ9eygpID0+IHNldENlc2l1bUxvYWRlZCh0cnVlKX0gLz5cbiAgICAgICAgICAgIDxUb3BNZW51QmFyXG4gICAgICAgICAgICAgICAgb25Db21wdXRlUGF0aD17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBvcGVuVHVybkRpYWxvZygpO1xuICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgb25NYW5hZ2VQcm9maWxlcz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB2YWwgPSB3aW5kb3cucHJvbXB0KCdFbnRlciBSb2FkIElEIHRvIHZpZXcgcHJvZmlsZScpO1xuICAgICAgICAgICAgICAgICAgICBpZiAodmFsICYmIHZhbC50cmltKCkubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0U2VsZWN0ZWRSb2FkSWQodmFsLnRyaW0oKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRTaG93UHJvZmlsZVZpZXdlcih0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgb25NZWFzdXJlRGlzdGFuY2U9eygpID0+IGhhbmRsZU1lYXN1cmVDaGFuZ2UoJ2Rpc3RhbmNlJyl9XG4gICAgICAgICAgICAgICAgb25NZWFzdXJlQXJlYT17KCkgPT4gaGFuZGxlTWVhc3VyZUNoYW5nZSgnYXJlYScpfVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIHt0dXJuRGlhbG9nT3BlbiAmJiAoXG4gICAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICAgICAgPFR1cm5QYXRoU3RhdHVzQmFubmVyXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50U3RlcD17dHVybkN1cnJlbnRTdGVwfVxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRTb3VyY2VSb2FkPXt0dXJuU291cmNlUm9hZH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkRGVzdGluYXRpb25Sb2FkPXt0dXJuRGVzdFJvYWR9XG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNhbmNlbD17Y2xvc2VUdXJuRGlhbG9nfVxuICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICA8VHVyblBhdGhEaWFsb2dcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzT3Blbj17dHVybkRpYWxvZ09wZW59XG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNsb3NlPXtjbG9zZVR1cm5EaWFsb2d9XG4gICAgICAgICAgICAgICAgICAgICAgICBvblN0YXJ0U2VsZWN0aW9uPXsoY29uZmlnKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnRUdXJuU2VsZWN0aW9uKGNvbmZpZyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgdmVoaWNsZVByb2ZpbGVzPXt7fX1cbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRTdGVwPXt0dXJuQ3VycmVudFN0ZXB9XG4gICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICApfVxuICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBwb3NpdGlvbjogJ2ZpeGVkJywgdG9wOiA0MCwgbGVmdDogMCwgcmlnaHQ6IDAsIGJvdHRvbTogMCwgb3ZlcmZsb3c6ICdoaWRkZW4nLCBiYWNrZ3JvdW5kOiAnIzAwMCcgfX0+XG4gICAgICAgICAgICAgICAgPGRpdiByZWY9e21hcENvbnRhaW5lcn0gc3R5bGU9e3sgcG9zaXRpb246ICdhYnNvbHV0ZScsIGluc2V0OiAwLCBiYWNrZ3JvdW5kOiAnIzFhMWEyZScgfX0gLz5cblxuICAgICAgICAgICAgICAgIHsvKiBTaWRlYmFyIC0gUmlnaHQgU2lkZSAqL31cbiAgICAgICAgICAgICAgICB7LyogU2lkZWJhciAoY29weSBzdHlsaW5nIGZyb20gRnJvbnRydW5uZXIgbGVnZW5kKSAqL31cbiAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6ICdub25lJyxcbiAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246ICdhYnNvbHV0ZScsIHRvcDogMjAsIHJpZ2h0OiAyMCwgd2lkdGg6IDMwMCxcbiAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiAncmdiYSg0MCwgNDAsIDQwLCAwLjc1KScsXG4gICAgICAgICAgICAgICAgICAgIGJvcmRlcjogJzFweCBzb2xpZCByZ2JhKDEyMCwgMTIwLCAxMjAsIDAuNiknLFxuICAgICAgICAgICAgICAgICAgICBib3JkZXJSYWRpdXM6ICc4cHgnLFxuICAgICAgICAgICAgICAgICAgICBib3hTaGFkb3c6ICcwIDRweCAyMHB4IHJnYmEoMCwgMCwgMCwgMC40KScsXG4gICAgICAgICAgICAgICAgICAgIGJhY2tkcm9wRmlsdGVyOiAnYmx1cigxNXB4KScsXG4gICAgICAgICAgICAgICAgICAgIHpJbmRleDogMTAwMCxcbiAgICAgICAgICAgICAgICAgICAgZm9udEZhbWlseTogYCdJbnRlcicsJ1NlZ29lIFVJJyxBcmlhbCxzYW5zLXNlcmlmYCxcbiAgICAgICAgICAgICAgICAgICAgb3ZlcmZsb3c6ICdoaWRkZW4nXG4gICAgICAgICAgICAgICAgfX0+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogJ3JnYmEoMzAsIDMwLCAzMCwgMC44KScsXG4gICAgICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOiAnMTJweCAxNnB4JyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlclJhZGl1czogJzhweCA4cHggMCAwJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6ICdmbGV4JyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsaWduSXRlbXM6ICdjZW50ZXInLFxuICAgICAgICAgICAgICAgICAgICAgICAganVzdGlmeUNvbnRlbnQ6ICdzcGFjZS1iZXR3ZWVuJ1xuICAgICAgICAgICAgICAgICAgICB9fT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgZGlzcGxheTogJ2ZsZXgnLCBhbGlnbkl0ZW1zOiAnY2VudGVyJywgZ2FwOiAnMTBweCcgfX0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogJzIwcHgnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6ICcyMHB4JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiAnIzM0OThkYicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlclJhZGl1czogJzRweCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6ICdmbGV4JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxpZ25JdGVtczogJ2NlbnRlcicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGp1c3RpZnlDb250ZW50OiAnY2VudGVyJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIHN0eWxlPXt7IGNvbG9yOiAnd2hpdGUnLCBmb250V2VpZ2h0OiAnNjAwJywgZm9udFNpemU6ICcxNHB4JyB9fT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGlzcGF0Y2ggTWFwXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IGRpc3BsYXk6ICdmbGV4JywgYWxpZ25JdGVtczogJ2NlbnRlcicsIGdhcDogJzhweCcgfX0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiAncmdiYSg1MiwgMTUyLCAyMTksIDAuMyknLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9yZGVyOiAnMXB4IHNvbGlkIHJnYmEoNTIsIDE1MiwgMjE5LCAwLjUpJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlclJhZGl1czogJzRweCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogJyMzNDk4ZGInLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3Vyc29yOiAncG9pbnRlcicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOiAnNHB4IDhweCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb250U2l6ZTogJzEycHgnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9udFdlaWdodDogJzUwMCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiAnZmxleCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGlnbkl0ZW1zOiAnY2VudGVyJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdhcDogJzRweCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2l0aW9uOiAnYWxsIDAuMnMnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e3JlY2VudGVyVmlld31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25Nb3VzZUVudGVyPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZS50YXJnZXQuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gJ3JnYmEoNTIsIDE1MiwgMjE5LCAwLjUpJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25Nb3VzZUxlYXZlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZS50YXJnZXQuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gJ3JnYmEoNTIsIDE1MiwgMjE5LCAwLjMpJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU9XCJSZWNlbnRlciBtYXAgb24gY3VycmVudCBkYXRhXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzdmdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoPVwiMTZcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0PVwiMTZcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmlld0JveD1cIjAgMCAxNiAxNlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBkaXNwbGF5OiAnaW5saW5lLWJsb2NrJywgdmVydGljYWxBbGlnbjogJ21pZGRsZScgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGNpcmNsZSBjeD1cIjhcIiBjeT1cIjhcIiByPVwiNy41XCIgZmlsbD1cIiMwMDBcIiAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGNpcmNsZSBjeD1cIjhcIiBjeT1cIjhcIiByPVwiNlwiIGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiI0NDNTUwMFwiIHN0cm9rZVdpZHRoPVwiMS41XCIgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxjaXJjbGUgY3g9XCI4XCIgY3k9XCI4XCIgcj1cIjNcIiBmaWxsPVwiI0NDNTUwMFwiIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cmVjdCB4PVwiN1wiIHk9XCIwXCIgd2lkdGg9XCIyXCIgaGVpZ2h0PVwiM1wiIGZpbGw9XCIjQ0M1NTAwXCIgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxyZWN0IHg9XCI3XCIgeT1cIjEzXCIgd2lkdGg9XCIyXCIgaGVpZ2h0PVwiM1wiIGZpbGw9XCIjQ0M1NTAwXCIgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxyZWN0IHg9XCIwXCIgeT1cIjdcIiB3aWR0aD1cIjNcIiBoZWlnaHQ9XCIyXCIgZmlsbD1cIiNDQzU1MDBcIiAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHJlY3QgeD1cIjEzXCIgeT1cIjdcIiB3aWR0aD1cIjNcIiBoZWlnaHQ9XCIyXCIgZmlsbD1cIiNDQzU1MDBcIiAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3N2Zz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogJ3doaXRlJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvbnRTaXplOiAnMTZweCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJzb3I6ICdwb2ludGVyJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6ICc0cHgnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNpdGlvbjogJ3RyYW5zZm9ybSAwLjJzJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg4pa8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICAgICAgcGFkZGluZzogJzEycHgnLFxuICAgICAgICAgICAgICAgICAgICAgICAgYm9yZGVyQm90dG9tOiAnMXB4IHNvbGlkIHJnYmEoMTIwLCAxMjAsIDEyMCwgMC4zKScsXG4gICAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICdyZ2JhKDUyLCAxNTIsIDIxOSwgMC4xKSdcbiAgICAgICAgICAgICAgICAgICAgfX0+XG4gICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiAnYmxvY2snLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hcmdpbkJvdHRvbTogJzZweCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9udFNpemU6ICcxMXB4JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogJyNiZGMzYzcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvbnRXZWlnaHQ6ICc2MDAnXG4gICAgICAgICAgICAgICAgICAgICAgICB9fT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBCYXNlIExheWVyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgICAgICAgICAgICAgPHNlbGVjdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXtiYXNlTGF5ZXJ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXRCYXNlTGF5ZXIoZS50YXJnZXQudmFsdWUpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiAnMTAwJScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6ICc2cHggOHB4JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiAncmdiYSg0MCwgNDAsIDQwLCAwLjkpJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6ICd3aGl0ZScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlcjogJzFweCBzb2xpZCByZ2JhKDEyMCwgMTIwLCAxMjAsIDAuNCknLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib3JkZXJSYWRpdXM6ICc0cHgnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb250U2l6ZTogJzEycHgnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJzb3I6ICdwb2ludGVyJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3V0bGluZTogJ25vbmUnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwibmlnaHRcIj5OaWdodCBNb2RlIChEYXJrKTwvb3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJkYXlcIj5EYXkgTW9kZSAoU2F0ZWxsaXRlKTwvb3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJ0b3BvZ3JhcGhpY1wiPlRvcG9ncmFwaGljPC9vcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cInRlcnJhaW5cIj5UZXJyYWluPC9vcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L3NlbGVjdD5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgICAgICAgey8qIFNlY3Rpb25zICovfVxuICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOiAnMTJweCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogJ3doaXRlJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvbnRTaXplOiAnMTJweCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXhIZWlnaHQ6ICczMjBweCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBvdmVyZmxvd1k6ICdhdXRvJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG92ZXJmbG93WDogJ2hpZGRlbicsXG4gICAgICAgICAgICAgICAgICAgICAgICBzY3JvbGxiYXJXaWR0aDogJ3RoaW4nLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2Nyb2xsYmFyQ29sb3I6ICdyZ2JhKDEyMCwgMTIwLCAxMjAsIDAuNikgcmdiYSg0MCwgNDAsIDQwLCAwLjMpJ1xuICAgICAgICAgICAgICAgICAgICB9fT5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgey8qIENsb3NlIG1hcCB3cmFwcGVyICovfVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICB7LyogRW50aXR5IEluZm9ybWF0aW9uIERpYWxvZyAqL31cbiAgICAgICAgICAgIHtkaWFsb2dPcGVuICYmIGRpYWxvZ0RhdGEgJiYgKFxuICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiAnZml4ZWQnLCB0b3A6IDAsIGxlZnQ6IDAsIHJpZ2h0OiAwLCBib3R0b206IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICdyZ2JhKDAsIDAsIDAsIDAuNyknLCBkaXNwbGF5OiAnZmxleCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBhbGlnbkl0ZW1zOiAnY2VudGVyJywganVzdGlmeUNvbnRlbnQ6ICdjZW50ZXInLCB6SW5kZXg6IDEwMDAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgYmFja2Ryb3BGaWx0ZXI6ICdibHVyKDVweCknXG4gICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHsgc2V0RGlhbG9nT3BlbihmYWxzZSk7IHNldERpYWxvZ0RhdGEobnVsbCk7IH19XG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogJyMxZTFlMWUnLCBib3JkZXJSYWRpdXM6ICc4cHgnLCBwYWRkaW5nOiAnMTZweCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF4V2lkdGg6ICc2MDBweCcsIG1heEhlaWdodDogJzcwdmgnLCB3aWR0aDogJzg1JScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYm94U2hhZG93OiAnMCA4cHggMzJweCByZ2JhKDAsIDAsIDAsIDAuNSknLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlcjogJzFweCBzb2xpZCByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMSknLCBvdmVyZmxvdzogJ2hpZGRlbicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogJ2ZsZXgnLCBmbGV4RGlyZWN0aW9uOiAnY29sdW1uJ1xuICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eyhlKSA9PiBlLnN0b3BQcm9wYWdhdGlvbigpfVxuICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICB7LyogSGVhZGVyICovfVxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6ICdmbGV4JywganVzdGlmeUNvbnRlbnQ6ICdzcGFjZS1iZXR3ZWVuJywgYWxpZ25JdGVtczogJ2NlbnRlcicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFyZ2luQm90dG9tOiAnMTJweCcsIHBhZGRpbmdCb3R0b206ICcxMHB4JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBib3JkZXJCb3R0b206ICcxcHggc29saWQgcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjIpJ1xuICAgICAgICAgICAgICAgICAgICAgICAgfX0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgyIHN0eWxlPXt7IGNvbG9yOiAnI2ZmZicsIG1hcmdpbjogMCwgZm9udFNpemU6ICcxNnB4JywgZm9udFdlaWdodDogJzYwMCcgfX0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZGlhbG9nRGF0YS5jYXRlZ29yeSA9PT0gJ2ludGVyc2VjdGlvbicgPyAn8J+apicgOiAn8J+TjSd9IHtkaWFsb2dEYXRhLm5hbWV9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvaDI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIHN0eWxlPXt7IGNvbG9yOiAnI2JkYzNjNycsIG1hcmdpbjogJzJweCAwIDAgMCcsIGZvbnRTaXplOiAnMTFweCcsIHRleHRUcmFuc2Zvcm06ICdjYXBpdGFsaXplJyB9fT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtnZXRDYXRlZ29yeURpc3BsYXlOYW1lKGRpYWxvZ0RhdGEuY2F0ZWdvcnkpfSBJbmZvcm1hdGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7IHNldERpYWxvZ09wZW4oZmFsc2UpOyBzZXREaWFsb2dEYXRhKG51bGwpOyB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZDogJ3JnYmEoMjU1LCAyNTUsIDI1NSwgMC4xKScsIGJvcmRlcjogJzFweCBzb2xpZCByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMiknLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiAnNHB4JywgY29sb3I6ICcjZmZmJywgY3Vyc29yOiAncG9pbnRlcicsIHBhZGRpbmc6ICc2cHggMTJweCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb250U2l6ZTogJzEycHgnLCBmb250V2VpZ2h0OiAnNTAwJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg4pyVXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICAgICAgICAgICAgey8qIENvbnRlbnQgKi99XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IG92ZXJmbG93WTogJ2F1dG8nLCBmbGV4OiAxLCBwYWRkaW5nUmlnaHQ6ICc2cHgnIH19PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsvKiBTaG93IFZpZXcgUHJvZmlsZSBidXR0b24gZm9yIHJvYWQgc2VnbWVudHMgKi99XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2RpYWxvZ0RhdGEuY2F0ZWdvcnkgPT09ICdkaXNwYXRjaF9zZWdtZW50JyAmJiBkaWFsb2dEYXRhLmFsbFByb3BlcnRpZXMucm9hZF9pZCAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgbWFyZ2luQm90dG9tOiAnMTZweCcsIHBhZGRpbmc6ICcxMnB4JywgYmFja2dyb3VuZENvbG9yOiAncmdiYSg1MiwgMTUyLCAyMTksIDAuMSknLCBib3JkZXJSYWRpdXM6ICc2cHgnLCBib3JkZXI6ICcxcHggc29saWQgcmdiYSg1MiwgMTUyLCAyMTksIDAuMyknIH19PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0RGlhbG9nT3BlbihmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFNlbGVjdGVkUm9hZElkKGRpYWxvZ0RhdGEuYWxsUHJvcGVydGllcy5yb2FkX2lkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0U2hvd1Byb2ZpbGVWaWV3ZXIodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogJzEwMCUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiAnIzRFQ0RDNCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiAnd2hpdGUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib3JkZXI6ICdub25lJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFkZGluZzogJzEycHgnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib3JkZXJSYWRpdXM6ICc2cHgnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJzb3I6ICdwb2ludGVyJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9udFdlaWdodDogJ2JvbGQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb250U2l6ZTogJzE0cHgnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiAnZmxleCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsaWduSXRlbXM6ICdjZW50ZXInLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBqdXN0aWZ5Q29udGVudDogJ2NlbnRlcicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdhcDogJzhweCdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIPCfk4ogVmlldyBQcm9maWxlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IGRpc3BsYXk6ICdncmlkJywgZ3JpZFRlbXBsYXRlQ29sdW1uczogJ3JlcGVhdChhdXRvLWZpdCwgbWlubWF4KDIwMHB4LCAxZnIpKScsIGdhcDogJzhweCcgfX0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtPYmplY3QuZW50cmllcyhkaWFsb2dEYXRhLmFsbFByb3BlcnRpZXMpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuZmlsdGVyKChba2V5XSkgPT4gIVsnbGluZXN0cmluZycsICdwb2x5Z29uJywgJ2dlb21ldHJ5JywgJ2dlb21ldHJ5XzNkJywgJ3Byb3BlcnR5TmFtZXMnLCAnZGVmaW5pdGlvbkNoYW5nZWQnLCAnX2xpc3RlbmVycycsICdjb2xvcicsICdzdHlsZV9yb2xlJ10uaW5jbHVkZXMoa2V5KSAmJiAha2V5LnN0YXJ0c1dpdGgoJ18nKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5tYXAoKFtrZXksIHZhbHVlXSkgPT4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYga2V5PXtrZXl9IHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogJ3JnYmEoMjU1LCAyNTUsIDI1NSwgMC4wNSknLCBwYWRkaW5nOiAnOHB4JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiAnNnB4JywgYm9yZGVyOiAnMXB4IHNvbGlkIHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4xKSdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBjb2xvcjogJyNiZGMzYzcnLCBmb250U2l6ZTogJzEwcHgnLCBmb250V2VpZ2h0OiAnNjAwJywgdGV4dFRyYW5zZm9ybTogJ3VwcGVyY2FzZScsIG1hcmdpbkJvdHRvbTogJzRweCcgfX0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7a2V5LnJlcGxhY2UoL18vZywgJyAnKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgY29sb3I6ICcjZmZmJywgZm9udFNpemU6ICcxMnB4Jywgd29yZEJyZWFrOiAnYnJlYWstd29yZCcsIGZvbnRGYW1pbHk6ICdtb25vc3BhY2UnLCB3aGl0ZVNwYWNlOiAncHJlLXdyYXAnIH19PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1N0cmluZyh2YWx1ZSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICApfVxuICAgICAgICAgICAge3Nob3dQcm9maWxlVmlld2VyICYmIHNlbGVjdGVkUm9hZElkICYmIChcbiAgICAgICAgICAgICAgICA8Um9hZFByb2ZpbGVWaWV3ZXJcbiAgICAgICAgICAgICAgICAgICAgcm9hZElkPXtzZWxlY3RlZFJvYWRJZH1cbiAgICAgICAgICAgICAgICAgICAgb25DbG9zZT17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0U2hvd1Byb2ZpbGVWaWV3ZXIoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0U2VsZWN0ZWRSb2FkSWQobnVsbCk7XG4gICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgICA8c3R5bGUgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw9e3tcbiAgICAgICAgICAgICAgICBfX2h0bWw6IGBcbiAgICAgICAgICAgICAgICAuY2VzaXVtLXZpZXdlci1ib3R0b20sIC5jZXNpdW0tdmlld2VyLWNlc2l1bVdpZGdldENvbnRhaW5lciAuY2VzaXVtLXdpZGdldC1jcmVkaXRzLFxuICAgICAgICAgICAgICAgIC5jZXNpdW0tdmlld2VyLWNlc2l1bUxvZ29Db250YWluZXIsIC5jZXNpdW0tY3JlZGl0LWxvZ29Db250YWluZXIsIC5jZXNpdW0tY3JlZGl0LWV4cGFuZC1saW5rLFxuICAgICAgICAgICAgICAgIC5jZXNpdW0tdmlld2VyLWNyZWRpdFRleHRDb250YWluZXIgeyBkaXNwbGF5OiBub25lICFpbXBvcnRhbnQ7IH1cbiAgICAgICAgICAgICAgICBhW2hyZWYqPVwiY2VzaXVtLmNvbVwiXSwgYVtocmVmKj1cImNlc2l1bWlvbi5jb21cIl0geyBkaXNwbGF5OiBub25lICFpbXBvcnRhbnQ7IH1cbiAgICAgICAgICAgICAgICAuY2VzaXVtLXdpZGdldC1jcmVkaXRzIHsgZGlzcGxheTogbm9uZSAhaW1wb3J0YW50OyB9XG4gICAgICAgICAgICBgfX0gLz5cbiAgICAgICAgPC8+XG4gICAgKTtcbn1cblxuIl0sIm5hbWVzIjpbIlJlYWN0IiwidXNlU3RhdGUiLCJ1c2VFZmZlY3QiLCJ1c2VSZWYiLCJ1c2VNZW1vIiwiU2NyaXB0IiwicmFuZG9tVVVJRCIsInV1aWR2NCIsIlRvcE1lbnVCYXIiLCJUdXJuUGF0aERpYWxvZyIsIlR1cm5QYXRoU3RhdHVzQmFubmVyIiwidXNlVHVyblBhdGhNYW5hZ2VyIiwidXNlTWVhc3VyZW1lbnRUb29sIiwiUm9hZFByb2ZpbGVWaWV3ZXIiLCJESVNQQVRDSF9MT0NBVElPTl9DT0xPUl9NQVAiLCJTUVVBUkVfVFlQRVMiLCJTZXQiLCJERUZBVUxUX0hJRERFTl9MT0NBVElPTl9UWVBFUyIsInJlc29sdmVEaXNwYXRjaExvY2F0aW9uVHlwZSIsImxvY2F0aW9uIiwicmF3VmFsdWUiLCJ1bml0X3R5cGUiLCJsb2NhdGlvbl9jYXRlZ29yeSIsInVuaXRfdHlwZV9pZCIsImNhdGVnb3J5Iiwic291cmNlIiwidHJpbW1lZCIsInRyaW0iLCJsZW5ndGgiLCJnZXREaXNwYXRjaExvY2F0aW9uQ29sb3IiLCJsb2NhdGlvblR5cGUiLCJkZWZhdWx0IiwidG9Mb3dlckNhc2UiLCJyaW5nQXJlYTJEIiwiY29vcmRzIiwiQXJyYXkiLCJpc0FycmF5IiwiYXJlYSIsIm4iLCJpIiwieDEiLCJ5MSIsIngyIiwieTIiLCJNYXRoIiwiYWJzIiwicGFyc2VQb2x5Z29uSGllcmFyY2h5IiwiZ2VvanNvbiIsIndpbmRvdyIsIkNlc2l1bSIsImdqIiwiSlNPTiIsInBhcnNlIiwiY29vcmRpbmF0ZXMiLCJyaW5ncyIsInR5cGUiLCJvdXRlciIsImZpbHRlciIsImMiLCJOdW1iZXIiLCJpc0Zpbml0ZSIsImZ4IiwiZnkiLCJseCIsImx5Iiwic2xpY2UiLCJjbGVhbmVkIiwiY3VyIiwicHVzaCIsImFyZWEyRCIsInBvc2l0aW9ucyIsIkNhcnRlc2lhbjMiLCJmcm9tRGVncmVlc0FycmF5IiwiZmxhdCIsIm1pblgiLCJJbmZpbml0eSIsIm1heFgiLCJtaW5ZIiwibWF4WSIsIm1pbloiLCJtYXhaIiwicCIsIngiLCJ5IiwieiIsInNwYW4iLCJtYXgiLCJQb2x5Z29uSGllcmFyY2h5IiwiYXJlUG9zaXRpb25zVmFsaWQiLCJpc0Rpc3BhdGNoU2VnbWVudENsb3NlZCIsInNlZ21lbnQiLCJ2YWx1ZSIsImlzX2Nsb3NlZCIsInJlbmRlclRvb2x0aXBJdGVtcyIsIml0ZW1zIiwiY29tcGFjdCIsIkJvb2xlYW4iLCJtYXAiLCJyYXciLCJpdGVtIiwiU3RyaW5nIiwiaW5jbHVkZXMiLCJsYWJlbCIsInJlcGxhY2UiLCJyYXdMYWJlbCIsInJlc3QiLCJzcGxpdCIsImpvaW4iLCJmb3JtYXRUb29sdGlwQ29udGVudCIsImVudGl0eSIsInByb3BlcnRpZXMiLCJnZXRQcm9wIiwia2V5IiwicHJvcCIsInVuZGVmaW5lZCIsImdldFZhbHVlIiwiSnVsaWFuRGF0ZSIsIm5vdyIsInJvdW5kIiwiY2xvc2VkIiwicm9hZHMiLCJEaXNwYXRjaENlc2l1bU1hcCIsIm1hcENvbnRhaW5lciIsImNlc2l1bVZpZXdlclJlZiIsIm1lYXN1cmVtZW50SGFuZGxlclJlZiIsIm1hcExvYWRlZCIsInNldE1hcExvYWRlZCIsIm1hcEVycm9yIiwic2V0TWFwRXJyb3IiLCJjZXNpdW1Mb2FkZWQiLCJzZXRDZXNpdW1Mb2FkZWQiLCJkaWFsb2dPcGVuIiwic2V0RGlhbG9nT3BlbiIsImRpYWxvZ0RhdGEiLCJzZXREaWFsb2dEYXRhIiwic2hvd1Byb2ZpbGVWaWV3ZXIiLCJzZXRTaG93UHJvZmlsZVZpZXdlciIsInNlbGVjdGVkUm9hZElkIiwic2V0U2VsZWN0ZWRSb2FkSWQiLCJsb2NhdGlvbnMiLCJzZXRMb2NhdGlvbnMiLCJzZWdtZW50cyIsInNldFNlZ21lbnRzIiwidHJvbGxleVNlZ21lbnRzIiwic2V0VHJvbGxleVNlZ21lbnRzIiwid2F0ZXJpbmdTdGF0aW9ucyIsInNldFdhdGVyaW5nU3RhdGlvbnMiLCJzcGVlZE1vbml0b3JpbmciLCJzZXRTcGVlZE1vbml0b3JpbmciLCJpbnRlcnNlY3Rpb25zIiwic2V0SW50ZXJzZWN0aW9ucyIsImNlbnRlclBvaW50cyIsInNldENlbnRlclBvaW50cyIsImNlbnRlclBvaW50RW50aXRpZXNSZWYiLCJpc0RpYWxvZ09wZW4iLCJ0dXJuRGlhbG9nT3BlbiIsImN1cnJlbnRTdGVwIiwidHVybkN1cnJlbnRTdGVwIiwiZ2V0Q3VycmVudFN0ZXAiLCJnZXRUdXJuQ3VycmVudFN0ZXAiLCJzZWxlY3RlZFNvdXJjZVJvYWQiLCJ0dXJuU291cmNlUm9hZCIsInNlbGVjdGVkRGVzdGluYXRpb25Sb2FkIiwidHVybkRlc3RSb2FkIiwib3BlbkRpYWxvZyIsIm9wZW5UdXJuRGlhbG9nIiwiY2xvc2VEaWFsb2ciLCJjbG9zZVR1cm5EaWFsb2ciLCJzdGFydFNlbGVjdGlvbiIsInN0YXJ0VHVyblNlbGVjdGlvbiIsImhhbmRsZU1hcENsaWNrIiwiaGFuZGxlVHVyblBhdGhDbGljayIsInJvYWROZXR3b3Jrc0V4cGFuZGVkIiwic2V0Um9hZE5ldHdvcmtzRXhwYW5kZWQiLCJsb2NhdGlvblR5cGVzRXhwYW5kZWQiLCJzZXRMb2NhdGlvblR5cGVzRXhwYW5kZWQiLCJiYXNlTGF5ZXIiLCJzZXRCYXNlTGF5ZXIiLCJtZWFzdXJlbWVudE1vZGUiLCJzZXRNZWFzdXJlbWVudE1vZGUiLCJzaG93T3BlblJvYWRzIiwic2V0U2hvd09wZW5Sb2FkcyIsInNob3dDbG9zZWRSb2FkcyIsInNldFNob3dDbG9zZWRSb2FkcyIsInNob3dJbnRlcnNlY3Rpb25zIiwic2V0U2hvd0ludGVyc2VjdGlvbnMiLCJzaG93Q2VudGVyUG9pbnRzIiwic2V0U2hvd0NlbnRlclBvaW50cyIsInNob3dUcm9sbGV5Iiwic2V0U2hvd1Ryb2xsZXkiLCJzaG93V2F0ZXJpbmciLCJzZXRTaG93V2F0ZXJpbmciLCJzaG93U3BlZWQiLCJzZXRTaG93U3BlZWQiLCJ2aXNpYmxlTG9jYXRpb25UeXBlcyIsInNldFZpc2libGVMb2NhdGlvblR5cGVzIiwiZnJNZWFzdXJlbWVudE1vZGUiLCJzdGFydE1lYXN1cmVtZW50IiwiZnJTdGFydE1lYXN1cmVtZW50IiwiY2FuY2VsTWVhc3VyZW1lbnQiLCJmckNhbmNlbE1lYXN1cmVtZW50IiwiYWRkTWVhc3VyZW1lbnRQb2ludCIsImZyQWRkUG9pbnQiLCJjbGVhck1lYXN1cmVtZW50cyIsImZyQ2xlYXJNZWFzdXJlbWVudHMiLCJ1cGRhdGVQcmV2aWV3TGluZSIsImZyVXBkYXRlUHJldmlldyIsImZpbmFsaXplQXJlYU1lYXN1cmVtZW50IiwiZnJGaW5hbGl6ZUFyZWEiLCJnZXRNZWFzdXJlbWVudE1vZGUiLCJmckdldE1vZGUiLCJyZWNlbnRlclZpZXciLCJ2aWV3ZXIiLCJjdXJyZW50IiwiY2FtZXJhIiwiZmx5VG8iLCJkZXN0aW5hdGlvbiIsImZyb21EZWdyZWVzIiwib3JpZW50YXRpb24iLCJoZWFkaW5nIiwicGl0Y2giLCJ0b1JhZGlhbnMiLCJyb2xsIiwiZHVyYXRpb24iLCJzZWxlY3RpbmciLCJ0b29sdGlwIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsInN0eWxlIiwiZGlzcGxheSIsImxvY2F0aW9uQ291bnRzIiwiY291bnRzIiwiZm9yRWFjaCIsImwiLCJyb2FkQ291bnRzIiwib3BlbiIsInMiLCJjZW50ZXJQb2ludENvdW50IiwidG9nZ2xlTG9jYXRpb25UeXBlIiwiY2hlY2tlZCIsIm5ld1NldCIsImFkZCIsImRlbGV0ZSIsIklvbiIsImRlZmF1bHRBY2Nlc3NUb2tlbiIsIlZpZXdlciIsImJhc2VMYXllclBpY2tlciIsImdlb2NvZGVyIiwiaG9tZUJ1dHRvbiIsInNjZW5lTW9kZVBpY2tlciIsIm5hdmlnYXRpb25IZWxwQnV0dG9uIiwiYW5pbWF0aW9uIiwidGltZWxpbmUiLCJmdWxsc2NyZWVuQnV0dG9uIiwidnJCdXR0b24iLCJpbWFnZXJ5UHJvdmlkZXIiLCJ0ZXJyYWluUHJvdmlkZXIiLCJFbGxpcHNvaWRUZXJyYWluUHJvdmlkZXIiLCJzZWxlY3Rpb25JbmRpY2F0b3IiLCJpbmZvQm94IiwiY2VzaXVtV2lkZ2V0IiwiY3JlZGl0Q29udGFpbmVyIiwic2V0VmlldyIsImNlc2l1bVZpZXdlciIsImZldGNoIiwidGhlbiIsInJlcyIsImpzb24iLCJkYXRhIiwiY2F0Y2giLCJlcnIiLCJjb25zb2xlIiwid2FybiIsIm1lc3NhZ2UiLCJoYW5kbGVyIiwiU2NyZWVuU3BhY2VFdmVudEhhbmRsZXIiLCJzY2VuZSIsImNhbnZhcyIsInNldElucHV0QWN0aW9uIiwibW92ZW1lbnQiLCJzdGVwIiwiZHJpbGwiLCJkcmlsbFBpY2siLCJwb3NpdGlvbiIsInBpY2tlZCIsInBpY2siLCJpZCIsIm1vZGUiLCJlbGxpcHNvaWQiLCJnbG9iZSIsImNhcnRlc2lhbiIsInBpY2tFbGxpcHNvaWQiLCJwaWNrUG9zaXRpb24iLCJyYXkiLCJnZXRQaWNrUmF5IiwiY2FydG8iLCJjYXJ0ZXNpYW5Ub0NhcnRvZ3JhcGhpYyIsImNsYW1wZWQiLCJmcm9tUmFkaWFucyIsImxvbmdpdHVkZSIsImxhdGl0dWRlIiwiU2NyZWVuU3BhY2VFdmVudFR5cGUiLCJMRUZUX0NMSUNLIiwiZW5kUG9zaXRpb24iLCJNT1VTRV9NT1ZFIiwiUklHSFRfQ0xJQ0siLCJjb29yZERpc3BsYXkiLCJjcmVhdGVFbGVtZW50IiwiY3NzVGV4dCIsImJvZHkiLCJhcHBlbmRDaGlsZCIsImNvb3JkSGFuZGxlciIsImRlZmluZWQiLCJjYXJ0IiwiQ2FydG9ncmFwaGljIiwiZnJvbUNhcnRlc2lhbiIsImxuZyIsInRvRGVncmVlcyIsInRvRml4ZWQiLCJsYXQiLCJpbm5lckhUTUwiLCJlIiwiZGVzdHJveSIsImlzRGVzdHJveWVkIiwicGFyZW50Tm9kZSIsInJlbW92ZSIsImNvbnRhaW5lciIsImN1cnNvciIsInBpY2tlZE9iamVjdCIsImNvbnRlbnQiLCJsZWZ0IiwidG9wIiwiY29udGFpbmVyUmVjdCIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsIm9mZnNldFdpZHRoIiwid2lkdGgiLCJvZmZzZXRIZWlnaHQiLCJoZWlnaHQiLCJyZW1vdmVDaGlsZCIsImNsaWNrIiwiZmluZCIsIm8iLCJjYXRQcm9wIiwiY2F0IiwiYWxsUHJvcGVydGllcyIsInByb3BlcnR5TmFtZXMiLCJPYmplY3QiLCJrZXlzIiwicHJvcE5hbWUiLCJzdGFydHNXaXRoIiwidmFsIiwibmFtZSIsImVudGl0aWVzIiwidmFsdWVzIiwicHJldkVudGl0eSIsIl9vcmlnaW5hbE1hdGVyaWFsIiwiY29ycmlkb3IiLCJtYXRlcmlhbCIsIm91dGxpbmUiLCJwb2x5Z29uIiwiQ29sb3IiLCJDWUFOIiwid2l0aEFscGhhIiwib3V0bGluZUNvbG9yIiwiWUVMTE9XIiwib3V0bGluZVdpZHRoIiwiXyIsInJlcXVlc3RSZW5kZXIiLCJjcCIsImxvbiIsInBvcyIsImVudCIsInBvaW50IiwicGl4ZWxTaXplIiwiY29sb3IiLCJNQUdFTlRBIiwiV0hJVEUiLCJoZWlnaHRSZWZlcmVuY2UiLCJIZWlnaHRSZWZlcmVuY2UiLCJSRUxBVElWRV9UT19HUk9VTkQiLCJkaXNhYmxlRGVwdGhUZXN0RGlzdGFuY2UiLCJQT1NJVElWRV9JTkZJTklUWSIsInNjYWxlQnlEaXN0YW5jZSIsIk5lYXJGYXJTY2FsYXIiLCJjeWxpbmRlciIsInRvcFJhZGl1cyIsImJvdHRvbVJhZGl1cyIsInJvYWRfaWQiLCJpbnRlcnNlY3Rpb25faWQiLCJpbnRlcnNlY3Rpb25fbmFtZSIsImNhbmNlbGxlZCIsInVwZGF0ZUJhc2VMYXllciIsImltYWdlcnlMYXllcnMiLCJyZW1vdmVBbGwiLCJwcm92aWRlciIsIlVybFRlbXBsYXRlSW1hZ2VyeVByb3ZpZGVyIiwidXJsIiwiY3JlZGl0Iiwic3ViZG9tYWlucyIsImFkZEltYWdlcnlQcm92aWRlciIsImJhc2VDb2xvciIsImZyb21Dc3NDb2xvclN0cmluZyIsImxvYWQiLCJpbmZyYXN0cnVjdHVyZSIsImFwaVNlZ21lbnRzIiwibWFwcGVkU2VnbWVudHMiLCJsYW5lX2lkIiwiZ2VvbWV0cnkiLCJnZW9tZXRyeV9nZW9qc29uIiwiY2VudGVybGluZV9nZW9qc29uIiwiZGlyZWN0aW9uIiwibGVuZ3RoX20iLCJtYXBwZWRMb2NhdGlvbnMiLCJwb2ludF9nZW9qc29uIiwibG9jYXRpb25faWQiLCJsb2NhdGlvbl9uYW1lIiwiZ2VvbV9nZW9qc29uIiwidW5pdF9pZCIsIm1hcHBlZEludGVyc2VjdGlvbnMiLCJ0eXBlQ291bnRzIiwibG9jIiwidCIsImxvZyIsInNhbXBsZXMiLCJyZXNvbHZlZF90eXBlIiwicmVzb2x2ZWRUeXBlcyIsImZyb20iLCJ2aXNpYmxlU2V0IiwiaXNOdW1lcmljIiwidGVzdCIsImhhcyIsImVycm9yIiwiY29tcHV0ZU9mZnNldExpbmUiLCJvZmZzZXRNZXRlcnMiLCJFbGxpcHNvaWQiLCJXR1M4NCIsIm9mZnNldFBvc2l0aW9ucyIsInVwIiwicmlnaHQiLCJzdWJ0cmFjdCIsImQxIiwiZDIiLCJtYWduaXR1ZGVTcXVhcmVkIiwiRVBTSUxPTjEwIiwibm9ybWFsaXplIiwiaXNOYU4iLCJnZW9kZXRpY1N1cmZhY2VOb3JtYWwiLCJjcm9zcyIsIm9mZnNldCIsIm11bHRpcGx5QnlTY2FsYXIiLCJmaW5hbFBvcyIsImZpbHRlclVuaXF1ZVBvc2l0aW9ucyIsImlkeCIsInByZXYiLCJkaXN0YW5jZVNxdWFyZWQiLCJnZXROZWFyZXN0Um9hZEJlYXJpbmciLCJsb2NDYXJ0IiwibWluRGlzdGFuY2UiLCJiZXN0QmVhcmluZyIsImciLCJjMVJhdyIsImMyUmF3IiwicDEiLCJwMiIsIm1pZCIsImRpc3RTcSIsImMxIiwiYzIiLCJkTG9uIiwic2luIiwiY29zIiwiYXRhbjIiLCJjb21wdXRlU3F1YXJlUG9seWdvbiIsImNlbnRlckNhcnRlc2lhbiIsInNpemVNZXRlcnMiLCJhbmdsZUZyb21FYXN0IiwiaGFsZiIsInRyYW5zZm9ybSIsIlRyYW5zZm9ybXMiLCJlYXN0Tm9ydGhVcFRvRml4ZWRGcmFtZSIsImJhc2VDb3JuZXJzIiwicmVzdWx0IiwicngiLCJyeSIsImxvY2FsUG9zIiwiTWF0cml4NCIsIm11bHRpcGx5QnlQb2ludCIsIk5JR0hUX1RIRU1FIiwicm9hZFN1cmZhY2VDb2xvck9wZW4iLCJyb2FkU3VyZmFjZUNvbG9yQ2xvc2VkIiwicm9hZFN1cmZhY2VBbHBoYSIsInJvYWRTaG91bGRlckNvbG9yT3BlbiIsInJvYWRTaG91bGRlckNvbG9yQ2xvc2VkIiwicm9hZFNob3VsZGVyQWxwaGEiLCJwb2x5Z29uT3V0bGluZUNvbG9yIiwicG9seWdvbk91dGxpbmVBbHBoYSIsInBvbHlnb25PdXRsaW5lV2lkdGgiLCJpbnRlcnNlY3Rpb25GaWxsQ29sb3IiLCJpbnRlcnNlY3Rpb25GaWxsQWxwaGEiLCJpbnRlcnNlY3Rpb25PdXRsaW5lQ29sb3IiLCJpbnRlcnNlY3Rpb25PdXRsaW5lQWxwaGEiLCJUT1RBTF9ST0FEX1dJRFRIIiwiQ0VOVEVSTElORV9XSURUSCIsIkxBTkVfVE9UQUxfV0lEVEgiLCJIQUxGX0xBTkVfVE9UQUxfV0lEVEgiLCJMQU5FX1NIT1VMREVSX1BBRERJTkciLCJMQU5FX1NVUkZBQ0VfV0lEVEgiLCJMQU5FX0NFTlRFUl9PRkZTRVRfTUFHIiwic3VyZmFjZUNvbG9yIiwic2hvdWxkZXJDb2xvciIsImVkZ2VDb2xvciIsImNlbnRlcmxpbmVDb2xvciIsInBvbHlzIiwiaGllcmFyY2h5IiwiYWxsTGluZVN0cmluZ3MiLCJ2YWxpZENvb3JkcyIsInJhd1Bvc2l0aW9ucyIsInNwYW5PayIsImV2ZXJ5IiwiYmJveCIsInJlZHVjZSIsImFjYyIsIm1pbiIsImRpciIsInRvU3RyaW5nIiwiZGlyU2lnbiIsImxhbmVDZW50ZXJPZmZzZXQiLCJsYW5lUG9zaXRpb25zIiwiY29ybmVyVHlwZSIsIkNvcm5lclR5cGUiLCJNSVRFUkVEIiwic3R5bGVfcm9sZSIsInBvbHlsaW5lIiwiUG9seWxpbmVEYXNoTWF0ZXJpYWxQcm9wZXJ0eSIsImRhc2hMZW5ndGgiLCJhcmNUeXBlIiwiQXJjVHlwZSIsIkdFT0RFU0lDIiwibGVmdEVkZ2VPZmZzZXQiLCJsZWZ0RWRnZVBvc2l0aW9ucyIsInJpZ2h0RWRnZU9mZnNldCIsInJpZ2h0RWRnZVBvc2l0aW9ucyIsInN0YXJ0X2xvbmdpdHVkZSIsInN0YXJ0X2xhdGl0dWRlIiwiZW5kX2xvbmdpdHVkZSIsImVuZF9sYXRpdHVkZSIsInBhcnRfaW5kZXgiLCJ0eXBlTG93ZXIiLCJzb3VyY2VMb3dlciIsImlzTnVtZXJpY1R5cGUiLCJyYXdHZW9tIiwic3RyaW5naWZ5IiwicGVyUG9zaXRpb25IZWlnaHQiLCJzaG93U3F1YXJlIiwiYmVhcmluZ0Zyb21Ob3J0aCIsInNxdWFyZVBvc2l0aW9ucyIsImdldENhdGVnb3J5RGlzcGxheU5hbWUiLCJjb25zb2xpZGF0ZWRDYXRlZ29yeSIsImRpc3BsYXlOYW1lcyIsImNhdGVnb3J5U3RyIiwid29yZCIsImNoYXJBdCIsInRvVXBwZXJDYXNlIiwicmVtb3ZlUHJldmlld0VudGl0aWVzIiwicmVmcyIsInByZXZpZXdMaW5lRW50aXR5UmVmIiwicHJldmlld0xhYmVsRW50aXR5UmVmIiwicmVmIiwibWVhc3VyZW1lbnRFbnRpdGllc1JlZiIsIm92ZXJsYXlFbnRpdGllc1JlZiIsIm1lYXN1cmVtZW50UG9pbnRzUmVmIiwiYXJlYUxvY2tlZFJlZiIsIm1lYXN1cmVtZW50TW9kZVJlZiIsImRyYXdEaXN0YW5jZSIsInBvaW50cyIsImxpbmUiLCJnZW9kZXNpYyIsIkVsbGlwc29pZEdlb2Rlc2ljIiwiZGlzdGFuY2VNZXRlcnMiLCJzdXJmYWNlRGlzdGFuY2UiLCJkaXN0YW5jZUZlZXQiLCJsYXN0UG9pbnQiLCJwb3AiLCJtZXRlcnNUZXh0IiwiZmVldFRleHQiLCJsZXJwIiwibGFiZWwxIiwidGV4dCIsImZvbnQiLCJmaWxsQ29sb3IiLCJCTEFDSyIsIkxhYmVsU3R5bGUiLCJGSUxMX0FORF9PVVRMSU5FIiwidmVydGljYWxPcmlnaW4iLCJWZXJ0aWNhbE9yaWdpbiIsIkNFTlRFUiIsImhvcml6b250YWxPcmlnaW4iLCJIb3Jpem9udGFsT3JpZ2luIiwicGl4ZWxPZmZzZXQiLCJDYXJ0ZXNpYW4yIiwibGFiZWwyIiwiZHJhd0FyZWFQcmV2aWV3IiwiY29tcHV0ZUFyZWEiLCJvcmlnaW4iLCJlbnUiLCJpbnYiLCJpbnZlcnNlVHJhbnNmb3JtYXRpb24iLCJsb2NhbCIsImRpZmYiLCJtdWx0aXBseUJ5UG9pbnRBc1ZlY3RvciIsImoiLCJwdHMiLCJwb2x5IiwiYXJlYVNxbSIsImFyZWFTcWZ0IiwiY2VudHJvaWQiLCJjdXJzb3JDYXJ0ZXNpYW4iLCJmaXJzdCIsIm5ld1BvaW50IiwibmV3UG9pbnRzIiwicG9pbnRFbnRpdHkiLCJDTEFNUF9UT19HUk9VTkQiLCJoYW5kbGVNZWFzdXJlQ2hhbmdlIiwiZGl2IiwicGFkZGluZyIsInNyYyIsIm9uTG9hZCIsIm9uQ29tcHV0ZVBhdGgiLCJvbk1hbmFnZVByb2ZpbGVzIiwicHJvbXB0Iiwib25NZWFzdXJlRGlzdGFuY2UiLCJvbk1lYXN1cmVBcmVhIiwib25DYW5jZWwiLCJpc09wZW4iLCJvbkNsb3NlIiwib25TdGFydFNlbGVjdGlvbiIsImNvbmZpZyIsInZlaGljbGVQcm9maWxlcyIsImJvdHRvbSIsIm92ZXJmbG93IiwiYmFja2dyb3VuZCIsImluc2V0IiwiYmFja2dyb3VuZENvbG9yIiwiYm9yZGVyIiwiYm9yZGVyUmFkaXVzIiwiYm94U2hhZG93IiwiYmFja2Ryb3BGaWx0ZXIiLCJ6SW5kZXgiLCJmb250RmFtaWx5IiwiYWxpZ25JdGVtcyIsImp1c3RpZnlDb250ZW50IiwiZ2FwIiwiZm9udFdlaWdodCIsImZvbnRTaXplIiwiYnV0dG9uIiwidHJhbnNpdGlvbiIsIm9uQ2xpY2siLCJvbk1vdXNlRW50ZXIiLCJ0YXJnZXQiLCJvbk1vdXNlTGVhdmUiLCJ0aXRsZSIsInN2ZyIsInZpZXdCb3giLCJ2ZXJ0aWNhbEFsaWduIiwiY2lyY2xlIiwiY3giLCJjeSIsInIiLCJmaWxsIiwic3Ryb2tlIiwic3Ryb2tlV2lkdGgiLCJyZWN0IiwiYm9yZGVyQm90dG9tIiwibWFyZ2luQm90dG9tIiwic2VsZWN0Iiwib25DaGFuZ2UiLCJvcHRpb24iLCJtYXhIZWlnaHQiLCJvdmVyZmxvd1kiLCJvdmVyZmxvd1giLCJzY3JvbGxiYXJXaWR0aCIsInNjcm9sbGJhckNvbG9yIiwibWF4V2lkdGgiLCJmbGV4RGlyZWN0aW9uIiwic3RvcFByb3BhZ2F0aW9uIiwicGFkZGluZ0JvdHRvbSIsImgyIiwibWFyZ2luIiwidGV4dFRyYW5zZm9ybSIsImZsZXgiLCJwYWRkaW5nUmlnaHQiLCJncmlkVGVtcGxhdGVDb2x1bW5zIiwiZW50cmllcyIsIndvcmRCcmVhayIsIndoaXRlU3BhY2UiLCJyb2FkSWQiLCJkYW5nZXJvdXNseVNldElubmVySFRNTCIsIl9faHRtbCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./components/CombinedMap.js\n");

/***/ }),

/***/ "./components/RoadProfileViewer.js":
/*!*****************************************!*\
  !*** ./components/RoadProfileViewer.js ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ RoadProfileViewer)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n\n\nconst REFERENCE_ELEVATION = 711; // meters\nfunction RoadProfileViewer({ roadId, onClose }) {\n    const [conditions, setConditions] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [totalRoadLength, setTotalRoadLength] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0);\n    const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const [editingId, setEditingId] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [editValue, setEditValue] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [saving, setSaving] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [splittingId, setSplittingId] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [splitPoint, setSplitPoint] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [addingNew, setAddingNew] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [newSegment, setNewSegment] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        lane_id: \"\",\n        start_measure: \"\",\n        end_measure: \"\",\n        condition_value: \"\"\n    });\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (roadId) {\n            fetchConditions();\n        }\n    }, [\n        roadId\n    ]);\n    const fetchConditions = async ()=>{\n        try {\n            setLoading(true);\n            const response = await fetch(`/api/lane-conditions?roadId=${roadId}`);\n            if (!response.ok) throw new Error(\"Failed to fetch conditions\");\n            const data = await response.json();\n            // Handle both old format (array) and new format (object with conditions and total_road_length)\n            if (Array.isArray(data)) {\n                setConditions(data);\n                setTotalRoadLength(0); // Will calculate from conditions\n            } else {\n                setConditions(data.conditions || []);\n                setTotalRoadLength(data.total_road_length || 0);\n            }\n        } catch (error) {\n            console.error(\"Error fetching conditions:\", error);\n        } finally{\n            setLoading(false);\n        }\n    };\n    // Helper function to calculate elevation at a given cumulative road distance\n    // This properly maps lane segment conditions to cumulative road distance\n    const calculateElevationAtDistance = (cumulativeDistance, allConditions)=>{\n        let elevation = REFERENCE_ELEVATION;\n        let currentDistance = 0;\n        // Group conditions by lane and calculate cumulative positions\n        const laneGroups = {};\n        allConditions.forEach((cond)=>{\n            if (!laneGroups[cond.lane_id]) {\n                laneGroups[cond.lane_id] = [];\n            }\n            laneGroups[cond.lane_id].push(cond);\n        });\n        // Extract segment numbers and sort lanes\n        const laneEntries = Object.entries(laneGroups).map(([laneId, conds])=>{\n            const match = laneId.match(/road_\\d+_(\\d+)_/);\n            const segNum = match ? parseInt(match[1], 10) : 999;\n            // Get lane_length from first condition (all conditions for same lane have same lane_length)\n            const laneLength = conds[0]?.lane_length || 0;\n            return {\n                laneId,\n                conds,\n                segNum,\n                laneLength\n            };\n        }).sort((a, b)=>a.segNum - b.segNum);\n        // Calculate cumulative distance for each lane segment\n        for (const { laneId, conds, laneLength } of laneEntries){\n            const sortedConds = conds.sort((a, b)=>a.start_measure - b.start_measure);\n            const laneStartDistance = currentDistance;\n            for (const cond of sortedConds){\n                const condStartDist = laneStartDistance + cond.start_measure;\n                const condEndDist = laneStartDistance + cond.end_measure;\n                // If this condition affects the target distance\n                if (cumulativeDistance >= condStartDist && cumulativeDistance <= condEndDist) {\n                    const distInCondition = cumulativeDistance - condStartDist;\n                    const slope = parseFloat(cond.condition_value);\n                    elevation = elevation + distInCondition * slope / 100;\n                    return elevation;\n                } else if (cumulativeDistance > condEndDist) {\n                    // We've passed this condition, add its full contribution\n                    const condLength = condEndDist - condStartDist;\n                    const slope = parseFloat(cond.condition_value);\n                    elevation = elevation + condLength * slope / 100;\n                }\n            }\n            // Move to next lane segment using actual lane length\n            currentDistance += laneLength;\n            if (currentDistance >= cumulativeDistance) break;\n        }\n        return elevation;\n    };\n    const generateProfileData = ()=>{\n        if (!conditions.length && totalRoadLength === 0) return [];\n        // Group conditions by lane and calculate cumulative road distances\n        const laneGroups = {};\n        conditions.forEach((cond)=>{\n            if (!laneGroups[cond.lane_id]) {\n                laneGroups[cond.lane_id] = [];\n            }\n            laneGroups[cond.lane_id].push(cond);\n        });\n        // Extract segment numbers and sort lanes\n        const laneEntries = Object.entries(laneGroups).map(([laneId, conds])=>{\n            const match = laneId.match(/road_\\d+_(\\d+)_/);\n            const segNum = match ? parseInt(match[1], 10) : 999;\n            return {\n                laneId,\n                conds,\n                segNum\n            };\n        }).sort((a, b)=>a.segNum - b.segNum);\n        // Calculate cumulative distances for each lane\n        const laneCumulativeDistances = new Map();\n        let cumulativeDist = 0;\n        laneEntries.forEach(({ laneId, conds })=>{\n            laneCumulativeDistances.set(laneId, cumulativeDist);\n            // Use actual lane_length from database, not max end_measure\n            const laneLength = conds[0]?.lane_length || 0;\n            cumulativeDist += laneLength;\n        });\n        // Calculate total road length (use provided total or calculate from conditions)\n        const calculatedTotalLength = totalRoadLength > 0 ? totalRoadLength : cumulativeDist;\n        // Generate profile points with proper cumulative road distances\n        const distancePoints = new Set();\n        // Add start and end points to ensure full road is shown\n        distancePoints.add(0);\n        distancePoints.add(calculatedTotalLength);\n        // Collect all unique cumulative road distance points from conditions\n        laneEntries.forEach(({ laneId, conds })=>{\n            const laneStartDist = laneCumulativeDistances.get(laneId);\n            conds.forEach((cond)=>{\n                distancePoints.add(laneStartDist + cond.start_measure);\n                distancePoints.add(laneStartDist + cond.end_measure);\n            });\n        });\n        // Sort distance points\n        const sortedDistances = Array.from(distancePoints).sort((a, b)=>a - b);\n        // Calculate elevation at each point and fill gaps\n        const resultProfileData = [];\n        for(let i = 0; i < sortedDistances.length; i++){\n            const distance = sortedDistances[i];\n            const elevation = calculateElevationAtDistance(distance, conditions);\n            // Find which condition this point belongs to (if any)\n            let matchingCondition = null;\n            for (const { laneId, conds } of laneEntries){\n                const laneStartDist = laneCumulativeDistances.get(laneId);\n                matchingCondition = conds.find((cond)=>{\n                    const condStart = laneStartDist + cond.start_measure;\n                    const condEnd = laneStartDist + cond.end_measure;\n                    return distance >= condStart && distance <= condEnd;\n                });\n                if (matchingCondition) break;\n            }\n            resultProfileData.push({\n                distance: distance,\n                elevation: elevation,\n                lane_id: matchingCondition?.lane_id || null,\n                condition_id: matchingCondition?.condition_id || null\n            });\n        }\n        // Ensure we have points at the very end of the road\n        if (calculatedTotalLength > 0 && resultProfileData.length > 0) {\n            const lastPoint = resultProfileData[resultProfileData.length - 1];\n            if (lastPoint.distance < calculatedTotalLength) {\n                // Add final point at total road length\n                const finalElevation = calculateElevationAtDistance(calculatedTotalLength, conditions);\n                resultProfileData.push({\n                    distance: calculatedTotalLength,\n                    elevation: finalElevation,\n                    lane_id: null,\n                    condition_id: null\n                });\n            }\n        }\n        return resultProfileData;\n    };\n    const handleEdit = (condition)=>{\n        setEditingId(condition.condition_id);\n        setEditValue(condition.condition_value);\n    };\n    const handleSave = async (conditionId)=>{\n        try {\n            setSaving(true);\n            // Validate the input\n            const value = parseFloat(editValue);\n            if (isNaN(value)) {\n                alert(\"Please enter a valid number for the slope\");\n                return;\n            }\n            const response = await fetch(\"/api/lane-conditions\", {\n                method: \"PUT\",\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                },\n                body: JSON.stringify({\n                    condition_id: conditionId,\n                    condition_value: editValue\n                })\n            });\n            if (!response.ok) {\n                const errorData = await response.json().catch(()=>({}));\n                throw new Error(errorData.error || \"Failed to update\");\n            }\n            const result = await response.json();\n            console.log(\"Successfully updated condition:\", result);\n            // Refresh conditions to get updated data\n            await fetchConditions();\n            setEditingId(null);\n            setEditValue(\"\");\n        } catch (error) {\n            console.error(\"Error saving condition:\", error);\n            alert(`Failed to save slope value: ${error.message}`);\n        } finally{\n            setSaving(false);\n        }\n    };\n    const handleCancel = ()=>{\n        setEditingId(null);\n        setEditValue(\"\");\n        setSplittingId(null);\n        setSplitPoint(\"\");\n        setAddingNew(false);\n        setNewSegment({\n            lane_id: \"\",\n            start_measure: \"\",\n            end_measure: \"\",\n            condition_value: \"\"\n        });\n    };\n    const handleSplit = async (condition)=>{\n        const splitValue = parseFloat(splitPoint);\n        if (isNaN(splitValue) || splitValue <= condition.start_measure || splitValue >= condition.end_measure) {\n            alert(\"Please enter a valid split point between start and end measures\");\n            return;\n        }\n        try {\n            setSaving(true);\n            // Create first segment: start to split point\n            const response1 = await fetch(\"/api/lane-conditions\", {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                },\n                body: JSON.stringify({\n                    lane_id: condition.lane_id,\n                    start_measure: condition.start_measure,\n                    end_measure: splitValue,\n                    condition_value: condition.condition_value\n                })\n            });\n            // Create second segment: split point to end\n            const response2 = await fetch(\"/api/lane-conditions\", {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                },\n                body: JSON.stringify({\n                    lane_id: condition.lane_id,\n                    start_measure: splitValue,\n                    end_measure: condition.end_measure,\n                    condition_value: condition.condition_value\n                })\n            });\n            if (!response1.ok || !response2.ok) {\n                throw new Error(\"Failed to create split segments\");\n            }\n            // Delete original segment\n            await fetch(\"/api/lane-conditions\", {\n                method: \"DELETE\",\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                },\n                body: JSON.stringify({\n                    condition_id: condition.condition_id\n                })\n            });\n            await fetchConditions();\n            setSplittingId(null);\n            setSplitPoint(\"\");\n        } catch (error) {\n            console.error(\"Error splitting condition:\", error);\n            alert(`Failed to split segment: ${error.message}`);\n        } finally{\n            setSaving(false);\n        }\n    };\n    const handleDelete = async (conditionId)=>{\n        if (!confirm(\"Are you sure you want to delete this slope segment?\")) {\n            return;\n        }\n        try {\n            setSaving(true);\n            const response = await fetch(\"/api/lane-conditions\", {\n                method: \"DELETE\",\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                },\n                body: JSON.stringify({\n                    condition_id: conditionId\n                })\n            });\n            if (!response.ok) throw new Error(\"Failed to delete\");\n            await fetchConditions();\n        } catch (error) {\n            console.error(\"Error deleting condition:\", error);\n            alert(`Failed to delete segment: ${error.message}`);\n        } finally{\n            setSaving(false);\n        }\n    };\n    const handleAdd = async ()=>{\n        const { lane_id, start_measure, end_measure, condition_value } = newSegment;\n        if (!lane_id || !start_measure || !end_measure || !condition_value) {\n            alert(\"Please fill in all fields\");\n            return;\n        }\n        const start = parseFloat(start_measure);\n        const end = parseFloat(end_measure);\n        const value = parseFloat(condition_value);\n        if (isNaN(start) || isNaN(end) || isNaN(value)) {\n            alert(\"Please enter valid numbers\");\n            return;\n        }\n        if (start >= end) {\n            alert(\"Start measure must be less than end measure\");\n            return;\n        }\n        try {\n            setSaving(true);\n            const response = await fetch(\"/api/lane-conditions\", {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                },\n                body: JSON.stringify({\n                    lane_id,\n                    start_measure: start,\n                    end_measure: end,\n                    condition_value: value\n                })\n            });\n            if (!response.ok) throw new Error(\"Failed to create\");\n            await fetchConditions();\n            setAddingNew(false);\n            setNewSegment({\n                lane_id: \"\",\n                start_measure: \"\",\n                end_measure: \"\",\n                condition_value: \"\"\n            });\n        } catch (error) {\n            console.error(\"Error adding condition:\", error);\n            alert(`Failed to add segment: ${error.message}`);\n        } finally{\n            setSaving(false);\n        }\n    };\n    const profileData = generateProfileData();\n    // Use total road length (from API or calculated), ensuring we show the full road\n    const maxDistance = totalRoadLength > 0 ? totalRoadLength : profileData.length ? Math.max(...profileData.map((p)=>p.distance)) : 0;\n    // Elevation range based on actual profile, with a fallback band\n    const minElevation = profileData.length ? Math.min(...profileData.map((p)=>p.elevation)) : REFERENCE_ELEVATION - 50;\n    const maxElevation = profileData.length ? Math.max(...profileData.map((p)=>p.elevation)) : REFERENCE_ELEVATION + 50;\n    // Simple SVG chart\n    const chartWidth = 800;\n    const chartHeight = 400;\n    const padding = 60;\n    const plotWidth = chartWidth - 2 * padding;\n    const plotHeight = chartHeight - 2 * padding;\n    const elevationRange = maxElevation - minElevation || 1; // avoid divide by zero\n    const scaleX = (distance)=>padding + (maxDistance === 0 ? 0 : distance / maxDistance * plotWidth);\n    const scaleY = (elevation)=>padding + plotHeight - (elevation - minElevation) / elevationRange * plotHeight;\n    // Generate path data for the profile line\n    const pathData = profileData.length > 0 ? `M ${profileData.map((p)=>`${scaleX(p.distance)},${scaleY(p.elevation)}`).join(\" L \")}` : null;\n    if (loading) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            style: {\n                position: \"fixed\",\n                top: 0,\n                left: 0,\n                right: 0,\n                bottom: 0,\n                backgroundColor: \"rgba(0, 0, 0, 0.8)\",\n                display: \"flex\",\n                justifyContent: \"center\",\n                alignItems: \"center\",\n                zIndex: 10000,\n                color: \"white\"\n            },\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                children: \"Loading road profile...\"\n            }, void 0, false, {\n                fileName: \"/app/components/RoadProfileViewer.js\",\n                lineNumber: 435,\n                columnNumber: 9\n            }, this)\n        }, void 0, false, {\n            fileName: \"/app/components/RoadProfileViewer.js\",\n            lineNumber: 422,\n            columnNumber: 7\n        }, this);\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        style: {\n            position: \"fixed\",\n            top: 0,\n            left: 0,\n            right: 0,\n            bottom: 0,\n            backgroundColor: \"rgba(0, 0, 0, 0.9)\",\n            zIndex: 10000,\n            display: \"flex\",\n            flexDirection: \"column\",\n            padding: \"20px\",\n            overflow: \"auto\",\n            color: \"white\"\n        },\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                style: {\n                    display: \"flex\",\n                    justifyContent: \"space-between\",\n                    alignItems: \"center\",\n                    marginBottom: \"20px\"\n                },\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                        style: {\n                            margin: 0,\n                            color: \"#4ECDC4\"\n                        },\n                        children: [\n                            \"Road Profile - Road ID: \",\n                            roadId\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/app/components/RoadProfileViewer.js\",\n                        lineNumber: 456,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        onClick: onClose,\n                        style: {\n                            background: \"#E74C3C\",\n                            color: \"white\",\n                            border: \"none\",\n                            padding: \"10px 20px\",\n                            borderRadius: \"6px\",\n                            cursor: \"pointer\",\n                            fontWeight: \"bold\",\n                            fontSize: \"14px\"\n                        },\n                        children: \"✕ Close\"\n                    }, void 0, false, {\n                        fileName: \"/app/components/RoadProfileViewer.js\",\n                        lineNumber: 457,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/app/components/RoadProfileViewer.js\",\n                lineNumber: 455,\n                columnNumber: 7\n            }, this),\n            conditions.length === 0 ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                style: {\n                    textAlign: \"center\",\n                    padding: \"40px\",\n                    color: \"#95a5a6\"\n                },\n                children: \"No slope conditions found for this road.\"\n            }, void 0, false, {\n                fileName: \"/app/components/RoadProfileViewer.js\",\n                lineNumber: 475,\n                columnNumber: 9\n            }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        style: {\n                            marginBottom: \"30px\",\n                            backgroundColor: \"rgba(30, 30, 30, 0.8)\",\n                            padding: \"20px\",\n                            borderRadius: \"8px\"\n                        },\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                style: {\n                                    marginTop: 0,\n                                    marginBottom: \"16px\",\n                                    color: \"#4ECDC4\"\n                                },\n                                children: \"Elevation Profile\"\n                            }, void 0, false, {\n                                fileName: \"/app/components/RoadProfileViewer.js\",\n                                lineNumber: 482,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                width: chartWidth,\n                                height: chartHeight,\n                                style: {\n                                    border: \"1px solid rgba(255, 255, 255, 0.2)\",\n                                    borderRadius: \"4px\"\n                                },\n                                children: [\n                                    [\n                                        0,\n                                        0.25,\n                                        0.5,\n                                        0.75,\n                                        1\n                                    ].map((t)=>{\n                                        const elevation = minElevation + t * (maxElevation - minElevation);\n                                        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"line\", {\n                                            x1: padding,\n                                            y1: scaleY(elevation),\n                                            x2: chartWidth - padding,\n                                            y2: scaleY(elevation),\n                                            stroke: \"rgba(255, 255, 255, 0.1)\",\n                                            strokeWidth: \"1\"\n                                        }, `grid-h-${t}`, false, {\n                                            fileName: \"/app/components/RoadProfileViewer.js\",\n                                            lineNumber: 488,\n                                            columnNumber: 19\n                                        }, this);\n                                    }),\n                                    [\n                                        0,\n                                        0.25,\n                                        0.5,\n                                        0.75,\n                                        1\n                                    ].map((t)=>{\n                                        const distance = t * maxDistance;\n                                        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"line\", {\n                                            x1: scaleX(distance),\n                                            y1: padding,\n                                            x2: scaleX(distance),\n                                            y2: chartHeight - padding,\n                                            stroke: \"rgba(255, 255, 255, 0.1)\",\n                                            strokeWidth: \"1\"\n                                        }, `grid-v-${t}`, false, {\n                                            fileName: \"/app/components/RoadProfileViewer.js\",\n                                            lineNumber: 502,\n                                            columnNumber: 19\n                                        }, this);\n                                    }),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"line\", {\n                                        x1: padding,\n                                        y1: padding,\n                                        x2: padding,\n                                        y2: chartHeight - padding,\n                                        stroke: \"white\",\n                                        strokeWidth: \"2\"\n                                    }, void 0, false, {\n                                        fileName: \"/app/components/RoadProfileViewer.js\",\n                                        lineNumber: 515,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"line\", {\n                                        x1: padding,\n                                        y1: chartHeight - padding,\n                                        x2: chartWidth - padding,\n                                        y2: chartHeight - padding,\n                                        stroke: \"white\",\n                                        strokeWidth: \"2\"\n                                    }, void 0, false, {\n                                        fileName: \"/app/components/RoadProfileViewer.js\",\n                                        lineNumber: 523,\n                                        columnNumber: 15\n                                    }, this),\n                                    [\n                                        0,\n                                        0.25,\n                                        0.5,\n                                        0.75,\n                                        1\n                                    ].map((t)=>{\n                                        const elevation = minElevation + t * (maxElevation - minElevation);\n                                        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"text\", {\n                                            x: padding - 10,\n                                            y: scaleY(elevation),\n                                            fill: \"white\",\n                                            textAnchor: \"end\",\n                                            fontSize: \"10\",\n                                            style: {\n                                                dominantBaseline: \"middle\"\n                                            },\n                                            children: elevation.toFixed(0)\n                                        }, `elev-${t}`, false, {\n                                            fileName: \"/app/components/RoadProfileViewer.js\",\n                                            lineNumber: 536,\n                                            columnNumber: 19\n                                        }, this);\n                                    }),\n                                    [\n                                        0,\n                                        0.25,\n                                        0.5,\n                                        0.75,\n                                        1\n                                    ].map((t)=>{\n                                        const distance = t * maxDistance;\n                                        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"text\", {\n                                            x: padding + t * plotWidth,\n                                            y: chartHeight - 20,\n                                            fill: \"white\",\n                                            textAnchor: \"middle\",\n                                            fontSize: \"10\",\n                                            children: distance.toFixed(0)\n                                        }, `dist-${t}`, false, {\n                                            fileName: \"/app/components/RoadProfileViewer.js\",\n                                            lineNumber: 554,\n                                            columnNumber: 19\n                                        }, this);\n                                    }),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"text\", {\n                                        x: 15,\n                                        y: padding + plotHeight / 2,\n                                        fill: \"white\",\n                                        textAnchor: \"middle\",\n                                        fontSize: \"12\",\n                                        transform: `rotate(-90, 15, ${padding + plotHeight / 2})`,\n                                        style: {\n                                            dominantBaseline: \"middle\"\n                                        },\n                                        children: \"Elevation (m)\"\n                                    }, void 0, false, {\n                                        fileName: \"/app/components/RoadProfileViewer.js\",\n                                        lineNumber: 568,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"text\", {\n                                        x: padding + plotWidth / 2,\n                                        y: chartHeight - 10,\n                                        fill: \"white\",\n                                        textAnchor: \"middle\",\n                                        fontSize: \"12\",\n                                        children: \"Distance (m)\"\n                                    }, void 0, false, {\n                                        fileName: \"/app/components/RoadProfileViewer.js\",\n                                        lineNumber: 579,\n                                        columnNumber: 15\n                                    }, this),\n                                    pathData && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                        d: pathData,\n                                        fill: \"none\",\n                                        stroke: \"#4ECDC4\",\n                                        strokeWidth: \"3\"\n                                    }, void 0, false, {\n                                        fileName: \"/app/components/RoadProfileViewer.js\",\n                                        lineNumber: 585,\n                                        columnNumber: 17\n                                    }, this),\n                                    profileData.map((point, idx)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"circle\", {\n                                            cx: scaleX(point.distance),\n                                            cy: scaleY(point.elevation),\n                                            r: \"4\",\n                                            fill: \"#FFD700\",\n                                            stroke: \"#FFA500\",\n                                            strokeWidth: \"2\"\n                                        }, `point-${idx}`, false, {\n                                            fileName: \"/app/components/RoadProfileViewer.js\",\n                                            lineNumber: 595,\n                                            columnNumber: 17\n                                        }, this))\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/app/components/RoadProfileViewer.js\",\n                                lineNumber: 483,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/app/components/RoadProfileViewer.js\",\n                        lineNumber: 481,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                style: {\n                                    display: \"flex\",\n                                    justifyContent: \"space-between\",\n                                    alignItems: \"center\",\n                                    marginBottom: \"16px\"\n                                },\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                        style: {\n                                            margin: 0,\n                                            color: \"#4ECDC4\"\n                                        },\n                                        children: \"Slope Segments\"\n                                    }, void 0, false, {\n                                        fileName: \"/app/components/RoadProfileViewer.js\",\n                                        lineNumber: 611,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        onClick: ()=>{\n                                            // Get first lane_id from conditions for default\n                                            const firstLane = conditions.length > 0 ? conditions[0].lane_id : \"\";\n                                            setNewSegment({\n                                                lane_id: firstLane,\n                                                start_measure: \"\",\n                                                end_measure: \"\",\n                                                condition_value: \"\"\n                                            });\n                                            setAddingNew(true);\n                                        },\n                                        style: {\n                                            padding: \"6px 12px\",\n                                            background: \"#2ECC71\",\n                                            color: \"white\",\n                                            border: \"none\",\n                                            borderRadius: \"4px\",\n                                            cursor: \"pointer\",\n                                            fontSize: \"12px\",\n                                            fontWeight: \"bold\"\n                                        },\n                                        children: \"+ Add Segment\"\n                                    }, void 0, false, {\n                                        fileName: \"/app/components/RoadProfileViewer.js\",\n                                        lineNumber: 612,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/app/components/RoadProfileViewer.js\",\n                                lineNumber: 610,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                style: {\n                                    overflowX: \"auto\"\n                                },\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"table\", {\n                                    style: {\n                                        width: \"100%\",\n                                        borderCollapse: \"collapse\"\n                                    },\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"thead\", {\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"tr\", {\n                                                style: {\n                                                    backgroundColor: \"rgba(52, 152, 219, 0.2)\"\n                                                },\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"th\", {\n                                                        style: {\n                                                            padding: \"8px\",\n                                                            textAlign: \"left\",\n                                                            border: \"1px solid rgba(255, 255, 255, 0.2)\"\n                                                        },\n                                                        children: \"Lane ID\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/app/components/RoadProfileViewer.js\",\n                                                        lineNumber: 642,\n                                                        columnNumber: 21\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"th\", {\n                                                        style: {\n                                                            padding: \"8px\",\n                                                            textAlign: \"left\",\n                                                            border: \"1px solid rgba(255, 255, 255, 0.2)\"\n                                                        },\n                                                        children: \"Road Start (m)\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/app/components/RoadProfileViewer.js\",\n                                                        lineNumber: 643,\n                                                        columnNumber: 21\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"th\", {\n                                                        style: {\n                                                            padding: \"8px\",\n                                                            textAlign: \"left\",\n                                                            border: \"1px solid rgba(255, 255, 255, 0.2)\"\n                                                        },\n                                                        children: \"Road End (m)\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/app/components/RoadProfileViewer.js\",\n                                                        lineNumber: 644,\n                                                        columnNumber: 21\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"th\", {\n                                                        style: {\n                                                            padding: \"8px\",\n                                                            textAlign: \"left\",\n                                                            border: \"1px solid rgba(255, 255, 255, 0.2)\"\n                                                        },\n                                                        children: \"Segment Start (m)\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/app/components/RoadProfileViewer.js\",\n                                                        lineNumber: 645,\n                                                        columnNumber: 21\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"th\", {\n                                                        style: {\n                                                            padding: \"8px\",\n                                                            textAlign: \"left\",\n                                                            border: \"1px solid rgba(255, 255, 255, 0.2)\"\n                                                        },\n                                                        children: \"Segment End (m)\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/app/components/RoadProfileViewer.js\",\n                                                        lineNumber: 646,\n                                                        columnNumber: 21\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"th\", {\n                                                        style: {\n                                                            padding: \"8px\",\n                                                            textAlign: \"left\",\n                                                            border: \"1px solid rgba(255, 255, 255, 0.2)\"\n                                                        },\n                                                        children: \"Slope (%)\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/app/components/RoadProfileViewer.js\",\n                                                        lineNumber: 647,\n                                                        columnNumber: 21\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"th\", {\n                                                        style: {\n                                                            padding: \"8px\",\n                                                            textAlign: \"left\",\n                                                            border: \"1px solid rgba(255, 255, 255, 0.2)\"\n                                                        },\n                                                        children: \"Elevation at Start (m)\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/app/components/RoadProfileViewer.js\",\n                                                        lineNumber: 648,\n                                                        columnNumber: 21\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"th\", {\n                                                        style: {\n                                                            padding: \"8px\",\n                                                            textAlign: \"left\",\n                                                            border: \"1px solid rgba(255, 255, 255, 0.2)\"\n                                                        },\n                                                        children: \"Elevation at End (m)\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/app/components/RoadProfileViewer.js\",\n                                                        lineNumber: 649,\n                                                        columnNumber: 21\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"th\", {\n                                                        style: {\n                                                            padding: \"8px\",\n                                                            textAlign: \"left\",\n                                                            border: \"1px solid rgba(255, 255, 255, 0.2)\"\n                                                        },\n                                                        children: \"Actions\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/app/components/RoadProfileViewer.js\",\n                                                        lineNumber: 650,\n                                                        columnNumber: 21\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/app/components/RoadProfileViewer.js\",\n                                                lineNumber: 641,\n                                                columnNumber: 19\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"/app/components/RoadProfileViewer.js\",\n                                            lineNumber: 640,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"tbody\", {\n                                            children: [\n                                                (()=>{\n                                                    // Sort by lane segment number first, then by start_measure within each lane\n                                                    const sortedConditions = [\n                                                        ...conditions\n                                                    ].sort((a, b)=>{\n                                                        // Extract segment numbers from lane_id\n                                                        const matchA = a.lane_id.match(/road_\\d+_(\\d+)_/);\n                                                        const matchB = b.lane_id.match(/road_\\d+_(\\d+)_/);\n                                                        const segNumA = matchA ? parseInt(matchA[1], 10) : 999;\n                                                        const segNumB = matchB ? parseInt(matchB[1], 10) : 999;\n                                                        if (segNumA !== segNumB) {\n                                                            return segNumA - segNumB;\n                                                        }\n                                                        // Within same lane segment, sort by start_measure\n                                                        if (a.start_measure !== b.start_measure) {\n                                                            return a.start_measure - b.start_measure;\n                                                        }\n                                                        return a.end_measure - b.end_measure;\n                                                    });\n                                                    // Calculate cumulative road distances for each lane segment\n                                                    const laneCumulativeDistances = new Map();\n                                                    let cumulativeDist = 0;\n                                                    const laneGroups = {};\n                                                    sortedConditions.forEach((cond)=>{\n                                                        if (!laneGroups[cond.lane_id]) {\n                                                            laneGroups[cond.lane_id] = [];\n                                                        }\n                                                        laneGroups[cond.lane_id].push(cond);\n                                                    });\n                                                    // Calculate cumulative distance for each lane using actual lane_length\n                                                    Object.keys(laneGroups).sort((a, b)=>{\n                                                        const matchA = a.match(/road_\\d+_(\\d+)_/);\n                                                        const matchB = b.match(/road_\\d+_(\\d+)_/);\n                                                        const segNumA = matchA ? parseInt(matchA[1], 10) : 999;\n                                                        const segNumB = matchB ? parseInt(matchB[1], 10) : 999;\n                                                        return segNumA - segNumB;\n                                                    }).forEach((laneId)=>{\n                                                        if (!laneCumulativeDistances.has(laneId)) {\n                                                            laneCumulativeDistances.set(laneId, cumulativeDist);\n                                                            // Use actual lane_length from database, not max end_measure\n                                                            const laneLength = laneGroups[laneId][0]?.lane_length || 0;\n                                                            cumulativeDist += laneLength;\n                                                        }\n                                                    });\n                                                    return sortedConditions.map((cond)=>{\n                                                        // Get cumulative road distance for this lane segment\n                                                        const laneStartDist = laneCumulativeDistances.get(cond.lane_id) || 0;\n                                                        const roadStartDist = laneStartDist + cond.start_measure;\n                                                        const roadEndDist = laneStartDist + cond.end_measure;\n                                                        // Calculate elevation at these cumulative road distances\n                                                        const startElevation = calculateElevationAtDistance(roadStartDist, conditions);\n                                                        const endElevation = calculateElevationAtDistance(roadEndDist, conditions);\n                                                        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"tr\", {\n                                                            style: {\n                                                                borderBottom: \"1px solid rgba(255, 255, 255, 0.1)\"\n                                                            },\n                                                            children: [\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                                                    style: {\n                                                                        padding: \"8px\",\n                                                                        border: \"1px solid rgba(255, 255, 255, 0.1)\"\n                                                                    },\n                                                                    children: cond.lane_id\n                                                                }, void 0, false, {\n                                                                    fileName: \"/app/components/RoadProfileViewer.js\",\n                                                                    lineNumber: 713,\n                                                                    columnNumber: 25\n                                                                }, this),\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                                                    style: {\n                                                                        padding: \"8px\",\n                                                                        border: \"1px solid rgba(255, 255, 255, 0.1)\"\n                                                                    },\n                                                                    children: roadStartDist.toFixed(2)\n                                                                }, void 0, false, {\n                                                                    fileName: \"/app/components/RoadProfileViewer.js\",\n                                                                    lineNumber: 714,\n                                                                    columnNumber: 25\n                                                                }, this),\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                                                    style: {\n                                                                        padding: \"8px\",\n                                                                        border: \"1px solid rgba(255, 255, 255, 0.1)\"\n                                                                    },\n                                                                    children: roadEndDist.toFixed(2)\n                                                                }, void 0, false, {\n                                                                    fileName: \"/app/components/RoadProfileViewer.js\",\n                                                                    lineNumber: 715,\n                                                                    columnNumber: 25\n                                                                }, this),\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                                                    style: {\n                                                                        padding: \"8px\",\n                                                                        border: \"1px solid rgba(255, 255, 255, 0.1)\"\n                                                                    },\n                                                                    children: cond.start_measure.toFixed(2)\n                                                                }, void 0, false, {\n                                                                    fileName: \"/app/components/RoadProfileViewer.js\",\n                                                                    lineNumber: 716,\n                                                                    columnNumber: 25\n                                                                }, this),\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                                                    style: {\n                                                                        padding: \"8px\",\n                                                                        border: \"1px solid rgba(255, 255, 255, 0.1)\"\n                                                                    },\n                                                                    children: cond.end_measure.toFixed(2)\n                                                                }, void 0, false, {\n                                                                    fileName: \"/app/components/RoadProfileViewer.js\",\n                                                                    lineNumber: 717,\n                                                                    columnNumber: 25\n                                                                }, this),\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                                                    style: {\n                                                                        padding: \"8px\",\n                                                                        border: \"1px solid rgba(255, 255, 255, 0.1)\"\n                                                                    },\n                                                                    children: editingId === cond.condition_id ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                                        type: \"number\",\n                                                                        value: editValue,\n                                                                        onChange: (e)=>setEditValue(e.target.value),\n                                                                        step: \"0.1\",\n                                                                        style: {\n                                                                            width: \"80px\",\n                                                                            padding: \"4px\",\n                                                                            borderRadius: \"4px\",\n                                                                            border: \"1px solid #555\",\n                                                                            backgroundColor: \"#2c2c2c\",\n                                                                            color: \"white\"\n                                                                        }\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/app/components/RoadProfileViewer.js\",\n                                                                        lineNumber: 720,\n                                                                        columnNumber: 29\n                                                                    }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                        style: {\n                                                                            color: parseFloat(cond.condition_value) >= 0 ? \"#2ECC71\" : \"#E74C3C\"\n                                                                        },\n                                                                        children: [\n                                                                            parseFloat(cond.condition_value).toFixed(2),\n                                                                            \"%\"\n                                                                        ]\n                                                                    }, void 0, true, {\n                                                                        fileName: \"/app/components/RoadProfileViewer.js\",\n                                                                        lineNumber: 735,\n                                                                        columnNumber: 29\n                                                                    }, this)\n                                                                }, void 0, false, {\n                                                                    fileName: \"/app/components/RoadProfileViewer.js\",\n                                                                    lineNumber: 718,\n                                                                    columnNumber: 25\n                                                                }, this),\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                                                    style: {\n                                                                        padding: \"8px\",\n                                                                        border: \"1px solid rgba(255, 255, 255, 0.1)\"\n                                                                    },\n                                                                    children: startElevation.toFixed(2)\n                                                                }, void 0, false, {\n                                                                    fileName: \"/app/components/RoadProfileViewer.js\",\n                                                                    lineNumber: 740,\n                                                                    columnNumber: 25\n                                                                }, this),\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                                                    style: {\n                                                                        padding: \"8px\",\n                                                                        border: \"1px solid rgba(255, 255, 255, 0.1)\"\n                                                                    },\n                                                                    children: endElevation.toFixed(2)\n                                                                }, void 0, false, {\n                                                                    fileName: \"/app/components/RoadProfileViewer.js\",\n                                                                    lineNumber: 743,\n                                                                    columnNumber: 25\n                                                                }, this),\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                                                    style: {\n                                                                        padding: \"8px\",\n                                                                        border: \"1px solid rgba(255, 255, 255, 0.1)\"\n                                                                    },\n                                                                    children: editingId === cond.condition_id ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                        style: {\n                                                                            display: \"flex\",\n                                                                            gap: \"4px\"\n                                                                        },\n                                                                        children: [\n                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                                                onClick: ()=>handleSave(cond.condition_id),\n                                                                                disabled: saving,\n                                                                                style: {\n                                                                                    padding: \"4px 8px\",\n                                                                                    background: \"#2ECC71\",\n                                                                                    color: \"white\",\n                                                                                    border: \"none\",\n                                                                                    borderRadius: \"4px\",\n                                                                                    cursor: saving ? \"not-allowed\" : \"pointer\",\n                                                                                    fontSize: \"12px\"\n                                                                                },\n                                                                                children: saving ? \"Saving...\" : \"Save\"\n                                                                            }, void 0, false, {\n                                                                                fileName: \"/app/components/RoadProfileViewer.js\",\n                                                                                lineNumber: 749,\n                                                                                columnNumber: 31\n                                                                            }, this),\n                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                                                onClick: handleCancel,\n                                                                                style: {\n                                                                                    padding: \"4px 8px\",\n                                                                                    background: \"#95a5a6\",\n                                                                                    color: \"white\",\n                                                                                    border: \"none\",\n                                                                                    borderRadius: \"4px\",\n                                                                                    cursor: \"pointer\",\n                                                                                    fontSize: \"12px\"\n                                                                                },\n                                                                                children: \"Cancel\"\n                                                                            }, void 0, false, {\n                                                                                fileName: \"/app/components/RoadProfileViewer.js\",\n                                                                                lineNumber: 764,\n                                                                                columnNumber: 31\n                                                                            }, this)\n                                                                        ]\n                                                                    }, void 0, true, {\n                                                                        fileName: \"/app/components/RoadProfileViewer.js\",\n                                                                        lineNumber: 748,\n                                                                        columnNumber: 29\n                                                                    }, this) : splittingId === cond.condition_id ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                        style: {\n                                                                            display: \"flex\",\n                                                                            flexDirection: \"column\",\n                                                                            gap: \"4px\"\n                                                                        },\n                                                                        children: [\n                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                                                type: \"number\",\n                                                                                value: splitPoint,\n                                                                                onChange: (e)=>setSplitPoint(e.target.value),\n                                                                                placeholder: \"Split point\",\n                                                                                step: \"0.1\",\n                                                                                style: {\n                                                                                    width: \"100px\",\n                                                                                    padding: \"4px\",\n                                                                                    borderRadius: \"4px\",\n                                                                                    border: \"1px solid #555\",\n                                                                                    backgroundColor: \"#2c2c2c\",\n                                                                                    color: \"white\",\n                                                                                    fontSize: \"11px\"\n                                                                                }\n                                                                            }, void 0, false, {\n                                                                                fileName: \"/app/components/RoadProfileViewer.js\",\n                                                                                lineNumber: 781,\n                                                                                columnNumber: 31\n                                                                            }, this),\n                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                style: {\n                                                                                    display: \"flex\",\n                                                                                    gap: \"4px\"\n                                                                                },\n                                                                                children: [\n                                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                                                        onClick: ()=>handleSplit(cond),\n                                                                                        disabled: saving,\n                                                                                        style: {\n                                                                                            padding: \"4px 8px\",\n                                                                                            background: \"#E67E22\",\n                                                                                            color: \"white\",\n                                                                                            border: \"none\",\n                                                                                            borderRadius: \"4px\",\n                                                                                            cursor: saving ? \"not-allowed\" : \"pointer\",\n                                                                                            fontSize: \"11px\"\n                                                                                        },\n                                                                                        children: saving ? \"Splitting...\" : \"Split\"\n                                                                                    }, void 0, false, {\n                                                                                        fileName: \"/app/components/RoadProfileViewer.js\",\n                                                                                        lineNumber: 798,\n                                                                                        columnNumber: 33\n                                                                                    }, this),\n                                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                                                        onClick: handleCancel,\n                                                                                        style: {\n                                                                                            padding: \"4px 8px\",\n                                                                                            background: \"#95a5a6\",\n                                                                                            color: \"white\",\n                                                                                            border: \"none\",\n                                                                                            borderRadius: \"4px\",\n                                                                                            cursor: \"pointer\",\n                                                                                            fontSize: \"11px\"\n                                                                                        },\n                                                                                        children: \"Cancel\"\n                                                                                    }, void 0, false, {\n                                                                                        fileName: \"/app/components/RoadProfileViewer.js\",\n                                                                                        lineNumber: 813,\n                                                                                        columnNumber: 33\n                                                                                    }, this)\n                                                                                ]\n                                                                            }, void 0, true, {\n                                                                                fileName: \"/app/components/RoadProfileViewer.js\",\n                                                                                lineNumber: 797,\n                                                                                columnNumber: 31\n                                                                            }, this)\n                                                                        ]\n                                                                    }, void 0, true, {\n                                                                        fileName: \"/app/components/RoadProfileViewer.js\",\n                                                                        lineNumber: 780,\n                                                                        columnNumber: 29\n                                                                    }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                        style: {\n                                                                            display: \"flex\",\n                                                                            gap: \"4px\",\n                                                                            flexWrap: \"wrap\"\n                                                                        },\n                                                                        children: [\n                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                                                onClick: ()=>handleEdit(cond),\n                                                                                style: {\n                                                                                    padding: \"4px 8px\",\n                                                                                    background: \"#3498db\",\n                                                                                    color: \"white\",\n                                                                                    border: \"none\",\n                                                                                    borderRadius: \"4px\",\n                                                                                    cursor: \"pointer\",\n                                                                                    fontSize: \"11px\"\n                                                                                },\n                                                                                children: \"Edit\"\n                                                                            }, void 0, false, {\n                                                                                fileName: \"/app/components/RoadProfileViewer.js\",\n                                                                                lineNumber: 831,\n                                                                                columnNumber: 31\n                                                                            }, this),\n                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                                                onClick: ()=>setSplittingId(cond.condition_id),\n                                                                                style: {\n                                                                                    padding: \"4px 8px\",\n                                                                                    background: \"#E67E22\",\n                                                                                    color: \"white\",\n                                                                                    border: \"none\",\n                                                                                    borderRadius: \"4px\",\n                                                                                    cursor: \"pointer\",\n                                                                                    fontSize: \"11px\"\n                                                                                },\n                                                                                children: \"Split\"\n                                                                            }, void 0, false, {\n                                                                                fileName: \"/app/components/RoadProfileViewer.js\",\n                                                                                lineNumber: 845,\n                                                                                columnNumber: 31\n                                                                            }, this),\n                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                                                onClick: ()=>handleDelete(cond.condition_id),\n                                                                                disabled: saving,\n                                                                                style: {\n                                                                                    padding: \"4px 8px\",\n                                                                                    background: \"#E74C3C\",\n                                                                                    color: \"white\",\n                                                                                    border: \"none\",\n                                                                                    borderRadius: \"4px\",\n                                                                                    cursor: saving ? \"not-allowed\" : \"pointer\",\n                                                                                    fontSize: \"11px\"\n                                                                                },\n                                                                                children: \"Delete\"\n                                                                            }, void 0, false, {\n                                                                                fileName: \"/app/components/RoadProfileViewer.js\",\n                                                                                lineNumber: 859,\n                                                                                columnNumber: 31\n                                                                            }, this)\n                                                                        ]\n                                                                    }, void 0, true, {\n                                                                        fileName: \"/app/components/RoadProfileViewer.js\",\n                                                                        lineNumber: 830,\n                                                                        columnNumber: 29\n                                                                    }, this)\n                                                                }, void 0, false, {\n                                                                    fileName: \"/app/components/RoadProfileViewer.js\",\n                                                                    lineNumber: 746,\n                                                                    columnNumber: 25\n                                                                }, this)\n                                                            ]\n                                                        }, cond.condition_id, true, {\n                                                            fileName: \"/app/components/RoadProfileViewer.js\",\n                                                            lineNumber: 712,\n                                                            columnNumber: 23\n                                                        }, this);\n                                                    });\n                                                })(),\n                                                addingNew && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"tr\", {\n                                                    style: {\n                                                        borderBottom: \"1px solid rgba(255, 255, 255, 0.1)\",\n                                                        backgroundColor: \"rgba(46, 204, 113, 0.1)\"\n                                                    },\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                                            style: {\n                                                                padding: \"8px\",\n                                                                border: \"1px solid rgba(255, 255, 255, 0.1)\"\n                                                            },\n                                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                                type: \"text\",\n                                                                value: newSegment.lane_id,\n                                                                onChange: (e)=>setNewSegment({\n                                                                        ...newSegment,\n                                                                        lane_id: e.target.value\n                                                                    }),\n                                                                placeholder: \"lane_id\",\n                                                                style: {\n                                                                    width: \"150px\",\n                                                                    padding: \"4px\",\n                                                                    borderRadius: \"4px\",\n                                                                    border: \"1px solid #555\",\n                                                                    backgroundColor: \"#2c2c2c\",\n                                                                    color: \"white\",\n                                                                    fontSize: \"11px\"\n                                                                }\n                                                            }, void 0, false, {\n                                                                fileName: \"/app/components/RoadProfileViewer.js\",\n                                                                lineNumber: 885,\n                                                                columnNumber: 25\n                                                            }, this)\n                                                        }, void 0, false, {\n                                                            fileName: \"/app/components/RoadProfileViewer.js\",\n                                                            lineNumber: 884,\n                                                            columnNumber: 23\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                                            style: {\n                                                                padding: \"8px\",\n                                                                border: \"1px solid rgba(255, 255, 255, 0.1)\"\n                                                            },\n                                                            children: \"-\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/app/components/RoadProfileViewer.js\",\n                                                            lineNumber: 901,\n                                                            columnNumber: 23\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                                            style: {\n                                                                padding: \"8px\",\n                                                                border: \"1px solid rgba(255, 255, 255, 0.1)\"\n                                                            },\n                                                            children: \"-\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/app/components/RoadProfileViewer.js\",\n                                                            lineNumber: 902,\n                                                            columnNumber: 23\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                                            style: {\n                                                                padding: \"8px\",\n                                                                border: \"1px solid rgba(255, 255, 255, 0.1)\"\n                                                            },\n                                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                                type: \"number\",\n                                                                value: newSegment.start_measure,\n                                                                onChange: (e)=>setNewSegment({\n                                                                        ...newSegment,\n                                                                        start_measure: e.target.value\n                                                                    }),\n                                                                placeholder: \"Start\",\n                                                                step: \"0.1\",\n                                                                style: {\n                                                                    width: \"80px\",\n                                                                    padding: \"4px\",\n                                                                    borderRadius: \"4px\",\n                                                                    border: \"1px solid #555\",\n                                                                    backgroundColor: \"#2c2c2c\",\n                                                                    color: \"white\",\n                                                                    fontSize: \"11px\"\n                                                                }\n                                                            }, void 0, false, {\n                                                                fileName: \"/app/components/RoadProfileViewer.js\",\n                                                                lineNumber: 904,\n                                                                columnNumber: 25\n                                                            }, this)\n                                                        }, void 0, false, {\n                                                            fileName: \"/app/components/RoadProfileViewer.js\",\n                                                            lineNumber: 903,\n                                                            columnNumber: 23\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                                            style: {\n                                                                padding: \"8px\",\n                                                                border: \"1px solid rgba(255, 255, 255, 0.1)\"\n                                                            },\n                                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                                type: \"number\",\n                                                                value: newSegment.end_measure,\n                                                                onChange: (e)=>setNewSegment({\n                                                                        ...newSegment,\n                                                                        end_measure: e.target.value\n                                                                    }),\n                                                                placeholder: \"End\",\n                                                                step: \"0.1\",\n                                                                style: {\n                                                                    width: \"80px\",\n                                                                    padding: \"4px\",\n                                                                    borderRadius: \"4px\",\n                                                                    border: \"1px solid #555\",\n                                                                    backgroundColor: \"#2c2c2c\",\n                                                                    color: \"white\",\n                                                                    fontSize: \"11px\"\n                                                                }\n                                                            }, void 0, false, {\n                                                                fileName: \"/app/components/RoadProfileViewer.js\",\n                                                                lineNumber: 922,\n                                                                columnNumber: 25\n                                                            }, this)\n                                                        }, void 0, false, {\n                                                            fileName: \"/app/components/RoadProfileViewer.js\",\n                                                            lineNumber: 921,\n                                                            columnNumber: 23\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                                            style: {\n                                                                padding: \"8px\",\n                                                                border: \"1px solid rgba(255, 255, 255, 0.1)\"\n                                                            },\n                                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                                type: \"number\",\n                                                                value: newSegment.condition_value,\n                                                                onChange: (e)=>setNewSegment({\n                                                                        ...newSegment,\n                                                                        condition_value: e.target.value\n                                                                    }),\n                                                                placeholder: \"Slope %\",\n                                                                step: \"0.1\",\n                                                                style: {\n                                                                    width: \"80px\",\n                                                                    padding: \"4px\",\n                                                                    borderRadius: \"4px\",\n                                                                    border: \"1px solid #555\",\n                                                                    backgroundColor: \"#2c2c2c\",\n                                                                    color: \"white\",\n                                                                    fontSize: \"11px\"\n                                                                }\n                                                            }, void 0, false, {\n                                                                fileName: \"/app/components/RoadProfileViewer.js\",\n                                                                lineNumber: 940,\n                                                                columnNumber: 25\n                                                            }, this)\n                                                        }, void 0, false, {\n                                                            fileName: \"/app/components/RoadProfileViewer.js\",\n                                                            lineNumber: 939,\n                                                            columnNumber: 23\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                                            style: {\n                                                                padding: \"8px\",\n                                                                border: \"1px solid rgba(255, 255, 255, 0.1)\"\n                                                            },\n                                                            children: \"-\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/app/components/RoadProfileViewer.js\",\n                                                            lineNumber: 957,\n                                                            columnNumber: 23\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                                            style: {\n                                                                padding: \"8px\",\n                                                                border: \"1px solid rgba(255, 255, 255, 0.1)\"\n                                                            },\n                                                            children: \"-\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/app/components/RoadProfileViewer.js\",\n                                                            lineNumber: 958,\n                                                            columnNumber: 23\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                                            style: {\n                                                                padding: \"8px\",\n                                                                border: \"1px solid rgba(255, 255, 255, 0.1)\"\n                                                            },\n                                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                style: {\n                                                                    display: \"flex\",\n                                                                    gap: \"4px\"\n                                                                },\n                                                                children: [\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                                        onClick: handleAdd,\n                                                                        disabled: saving,\n                                                                        style: {\n                                                                            padding: \"4px 8px\",\n                                                                            background: \"#2ECC71\",\n                                                                            color: \"white\",\n                                                                            border: \"none\",\n                                                                            borderRadius: \"4px\",\n                                                                            cursor: saving ? \"not-allowed\" : \"pointer\",\n                                                                            fontSize: \"11px\"\n                                                                        },\n                                                                        children: saving ? \"Adding...\" : \"Add\"\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/app/components/RoadProfileViewer.js\",\n                                                                        lineNumber: 961,\n                                                                        columnNumber: 27\n                                                                    }, this),\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                                        onClick: handleCancel,\n                                                                        style: {\n                                                                            padding: \"4px 8px\",\n                                                                            background: \"#95a5a6\",\n                                                                            color: \"white\",\n                                                                            border: \"none\",\n                                                                            borderRadius: \"4px\",\n                                                                            cursor: \"pointer\",\n                                                                            fontSize: \"11px\"\n                                                                        },\n                                                                        children: \"Cancel\"\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/app/components/RoadProfileViewer.js\",\n                                                                        lineNumber: 976,\n                                                                        columnNumber: 27\n                                                                    }, this)\n                                                                ]\n                                                            }, void 0, true, {\n                                                                fileName: \"/app/components/RoadProfileViewer.js\",\n                                                                lineNumber: 960,\n                                                                columnNumber: 25\n                                                            }, this)\n                                                        }, void 0, false, {\n                                                            fileName: \"/app/components/RoadProfileViewer.js\",\n                                                            lineNumber: 959,\n                                                            columnNumber: 23\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/app/components/RoadProfileViewer.js\",\n                                                    lineNumber: 883,\n                                                    columnNumber: 21\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/app/components/RoadProfileViewer.js\",\n                                            lineNumber: 653,\n                                            columnNumber: 17\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/app/components/RoadProfileViewer.js\",\n                                    lineNumber: 639,\n                                    columnNumber: 15\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/app/components/RoadProfileViewer.js\",\n                                lineNumber: 638,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/app/components/RoadProfileViewer.js\",\n                        lineNumber: 609,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true)\n        ]\n    }, void 0, true, {\n        fileName: \"/app/components/RoadProfileViewer.js\",\n        lineNumber: 441,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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OztzRUFDN0UsOERBQUN1RDs0REFBRzNFLE9BQU87Z0VBQUVULFNBQVM7Z0VBQU82QixRQUFROzREQUFxQztzRUFBRzs7Ozs7O3NFQUM3RSw4REFBQ3VEOzREQUFHM0UsT0FBTztnRUFBRVQsU0FBUztnRUFBTzZCLFFBQVE7NERBQXFDO3NFQUN4RSw0RUFBQ3JCO2dFQUFJQyxPQUFPO29FQUFFTyxTQUFTO29FQUFRNEUsS0FBSztnRUFBTTs7a0ZBQ3hDLDhEQUFDbEU7d0VBQ0NDLFNBQVN4Qzt3RUFDVDBHLFVBQVVuTjt3RUFDVitILE9BQU87NEVBQ0xULFNBQVM7NEVBQ1Q0QixZQUFZOzRFQUNaUixPQUFPOzRFQUNQUyxRQUFROzRFQUNSQyxjQUFjOzRFQUNkQyxRQUFRckosU0FBUyxnQkFBZ0I7NEVBQ2pDdUosVUFBVTt3RUFDWjtrRkFFQ3ZKLFNBQVMsY0FBYzs7Ozs7O2tGQUUxQiw4REFBQ2dKO3dFQUNDQyxTQUFTL0M7d0VBQ1Q2QixPQUFPOzRFQUNMVCxTQUFTOzRFQUNUNEIsWUFBWTs0RUFDWlIsT0FBTzs0RUFDUFMsUUFBUTs0RUFDUkMsY0FBYzs0RUFDZEMsUUFBUTs0RUFDUkUsVUFBVTt3RUFDWjtrRkFDRDs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBZTNCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY29tYmluZWQtdWkvLi9jb21wb25lbnRzL1JvYWRQcm9maWxlVmlld2VyLmpzPzU5ZDUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdXNlU3RhdGUsIHVzZUVmZmVjdCB9IGZyb20gJ3JlYWN0JztcclxuXHJcbmNvbnN0IFJFRkVSRU5DRV9FTEVWQVRJT04gPSA3MTE7IC8vIG1ldGVyc1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gUm9hZFByb2ZpbGVWaWV3ZXIoeyByb2FkSWQsIG9uQ2xvc2UgfSkge1xyXG4gIGNvbnN0IFtjb25kaXRpb25zLCBzZXRDb25kaXRpb25zXSA9IHVzZVN0YXRlKFtdKTtcclxuICBjb25zdCBbdG90YWxSb2FkTGVuZ3RoLCBzZXRUb3RhbFJvYWRMZW5ndGhdID0gdXNlU3RhdGUoMCk7XHJcbiAgY29uc3QgW2xvYWRpbmcsIHNldExvYWRpbmddID0gdXNlU3RhdGUodHJ1ZSk7XHJcbiAgY29uc3QgW2VkaXRpbmdJZCwgc2V0RWRpdGluZ0lkXSA9IHVzZVN0YXRlKG51bGwpO1xyXG4gIGNvbnN0IFtlZGl0VmFsdWUsIHNldEVkaXRWYWx1ZV0gPSB1c2VTdGF0ZSgnJyk7XHJcbiAgY29uc3QgW3NhdmluZywgc2V0U2F2aW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcclxuICBjb25zdCBbc3BsaXR0aW5nSWQsIHNldFNwbGl0dGluZ0lkXSA9IHVzZVN0YXRlKG51bGwpO1xyXG4gIGNvbnN0IFtzcGxpdFBvaW50LCBzZXRTcGxpdFBvaW50XSA9IHVzZVN0YXRlKCcnKTtcclxuICBjb25zdCBbYWRkaW5nTmV3LCBzZXRBZGRpbmdOZXddID0gdXNlU3RhdGUoZmFsc2UpO1xyXG4gIGNvbnN0IFtuZXdTZWdtZW50LCBzZXROZXdTZWdtZW50XSA9IHVzZVN0YXRlKHsgbGFuZV9pZDogJycsIHN0YXJ0X21lYXN1cmU6ICcnLCBlbmRfbWVhc3VyZTogJycsIGNvbmRpdGlvbl92YWx1ZTogJycgfSk7XHJcblxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBpZiAocm9hZElkKSB7XHJcbiAgICAgIGZldGNoQ29uZGl0aW9ucygpO1xyXG4gICAgfVxyXG4gIH0sIFtyb2FkSWRdKTtcclxuXHJcbiAgY29uc3QgZmV0Y2hDb25kaXRpb25zID0gYXN5bmMgKCkgPT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgc2V0TG9hZGluZyh0cnVlKTtcclxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgL2FwaS9sYW5lLWNvbmRpdGlvbnM/cm9hZElkPSR7cm9hZElkfWApO1xyXG4gICAgICBpZiAoIXJlc3BvbnNlLm9rKSB0aHJvdyBuZXcgRXJyb3IoJ0ZhaWxlZCB0byBmZXRjaCBjb25kaXRpb25zJyk7XHJcbiAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XHJcbiAgICAgIC8vIEhhbmRsZSBib3RoIG9sZCBmb3JtYXQgKGFycmF5KSBhbmQgbmV3IGZvcm1hdCAob2JqZWN0IHdpdGggY29uZGl0aW9ucyBhbmQgdG90YWxfcm9hZF9sZW5ndGgpXHJcbiAgICAgIGlmIChBcnJheS5pc0FycmF5KGRhdGEpKSB7XHJcbiAgICAgICAgc2V0Q29uZGl0aW9ucyhkYXRhKTtcclxuICAgICAgICBzZXRUb3RhbFJvYWRMZW5ndGgoMCk7IC8vIFdpbGwgY2FsY3VsYXRlIGZyb20gY29uZGl0aW9uc1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHNldENvbmRpdGlvbnMoZGF0YS5jb25kaXRpb25zIHx8IFtdKTtcclxuICAgICAgICBzZXRUb3RhbFJvYWRMZW5ndGgoZGF0YS50b3RhbF9yb2FkX2xlbmd0aCB8fCAwKTtcclxuICAgICAgfVxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgY29uZGl0aW9uczonLCBlcnJvcik7XHJcbiAgICB9IGZpbmFsbHkge1xyXG4gICAgICBzZXRMb2FkaW5nKGZhbHNlKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICAvLyBIZWxwZXIgZnVuY3Rpb24gdG8gY2FsY3VsYXRlIGVsZXZhdGlvbiBhdCBhIGdpdmVuIGN1bXVsYXRpdmUgcm9hZCBkaXN0YW5jZVxyXG4gIC8vIFRoaXMgcHJvcGVybHkgbWFwcyBsYW5lIHNlZ21lbnQgY29uZGl0aW9ucyB0byBjdW11bGF0aXZlIHJvYWQgZGlzdGFuY2VcclxuICBjb25zdCBjYWxjdWxhdGVFbGV2YXRpb25BdERpc3RhbmNlID0gKGN1bXVsYXRpdmVEaXN0YW5jZSwgYWxsQ29uZGl0aW9ucykgPT4ge1xyXG4gICAgbGV0IGVsZXZhdGlvbiA9IFJFRkVSRU5DRV9FTEVWQVRJT047XHJcbiAgICBsZXQgY3VycmVudERpc3RhbmNlID0gMDtcclxuICAgIFxyXG4gICAgLy8gR3JvdXAgY29uZGl0aW9ucyBieSBsYW5lIGFuZCBjYWxjdWxhdGUgY3VtdWxhdGl2ZSBwb3NpdGlvbnNcclxuICAgIGNvbnN0IGxhbmVHcm91cHMgPSB7fTtcclxuICAgIGFsbENvbmRpdGlvbnMuZm9yRWFjaChjb25kID0+IHtcclxuICAgICAgaWYgKCFsYW5lR3JvdXBzW2NvbmQubGFuZV9pZF0pIHtcclxuICAgICAgICBsYW5lR3JvdXBzW2NvbmQubGFuZV9pZF0gPSBbXTtcclxuICAgICAgfVxyXG4gICAgICBsYW5lR3JvdXBzW2NvbmQubGFuZV9pZF0ucHVzaChjb25kKTtcclxuICAgIH0pO1xyXG4gICAgXHJcbiAgICAvLyBFeHRyYWN0IHNlZ21lbnQgbnVtYmVycyBhbmQgc29ydCBsYW5lc1xyXG4gICAgY29uc3QgbGFuZUVudHJpZXMgPSBPYmplY3QuZW50cmllcyhsYW5lR3JvdXBzKS5tYXAoKFtsYW5lSWQsIGNvbmRzXSkgPT4ge1xyXG4gICAgICBjb25zdCBtYXRjaCA9IGxhbmVJZC5tYXRjaCgvcm9hZF9cXGQrXyhcXGQrKV8vKTtcclxuICAgICAgY29uc3Qgc2VnTnVtID0gbWF0Y2ggPyBwYXJzZUludChtYXRjaFsxXSwgMTApIDogOTk5O1xyXG4gICAgICAvLyBHZXQgbGFuZV9sZW5ndGggZnJvbSBmaXJzdCBjb25kaXRpb24gKGFsbCBjb25kaXRpb25zIGZvciBzYW1lIGxhbmUgaGF2ZSBzYW1lIGxhbmVfbGVuZ3RoKVxyXG4gICAgICBjb25zdCBsYW5lTGVuZ3RoID0gY29uZHNbMF0/LmxhbmVfbGVuZ3RoIHx8IDA7XHJcbiAgICAgIHJldHVybiB7IGxhbmVJZCwgY29uZHMsIHNlZ051bSwgbGFuZUxlbmd0aCB9O1xyXG4gICAgfSkuc29ydCgoYSwgYikgPT4gYS5zZWdOdW0gLSBiLnNlZ051bSk7XHJcbiAgICBcclxuICAgIC8vIENhbGN1bGF0ZSBjdW11bGF0aXZlIGRpc3RhbmNlIGZvciBlYWNoIGxhbmUgc2VnbWVudFxyXG4gICAgZm9yIChjb25zdCB7IGxhbmVJZCwgY29uZHMsIGxhbmVMZW5ndGggfSBvZiBsYW5lRW50cmllcykge1xyXG4gICAgICBjb25zdCBzb3J0ZWRDb25kcyA9IGNvbmRzLnNvcnQoKGEsIGIpID0+IGEuc3RhcnRfbWVhc3VyZSAtIGIuc3RhcnRfbWVhc3VyZSk7XHJcbiAgICAgIGNvbnN0IGxhbmVTdGFydERpc3RhbmNlID0gY3VycmVudERpc3RhbmNlO1xyXG4gICAgICBcclxuICAgICAgZm9yIChjb25zdCBjb25kIG9mIHNvcnRlZENvbmRzKSB7XHJcbiAgICAgICAgY29uc3QgY29uZFN0YXJ0RGlzdCA9IGxhbmVTdGFydERpc3RhbmNlICsgY29uZC5zdGFydF9tZWFzdXJlO1xyXG4gICAgICAgIGNvbnN0IGNvbmRFbmREaXN0ID0gbGFuZVN0YXJ0RGlzdGFuY2UgKyBjb25kLmVuZF9tZWFzdXJlO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIElmIHRoaXMgY29uZGl0aW9uIGFmZmVjdHMgdGhlIHRhcmdldCBkaXN0YW5jZVxyXG4gICAgICAgIGlmIChjdW11bGF0aXZlRGlzdGFuY2UgPj0gY29uZFN0YXJ0RGlzdCAmJiBjdW11bGF0aXZlRGlzdGFuY2UgPD0gY29uZEVuZERpc3QpIHtcclxuICAgICAgICAgIGNvbnN0IGRpc3RJbkNvbmRpdGlvbiA9IGN1bXVsYXRpdmVEaXN0YW5jZSAtIGNvbmRTdGFydERpc3Q7XHJcbiAgICAgICAgICBjb25zdCBzbG9wZSA9IHBhcnNlRmxvYXQoY29uZC5jb25kaXRpb25fdmFsdWUpO1xyXG4gICAgICAgICAgZWxldmF0aW9uID0gZWxldmF0aW9uICsgKGRpc3RJbkNvbmRpdGlvbiAqIHNsb3BlIC8gMTAwKTtcclxuICAgICAgICAgIHJldHVybiBlbGV2YXRpb247XHJcbiAgICAgICAgfSBlbHNlIGlmIChjdW11bGF0aXZlRGlzdGFuY2UgPiBjb25kRW5kRGlzdCkge1xyXG4gICAgICAgICAgLy8gV2UndmUgcGFzc2VkIHRoaXMgY29uZGl0aW9uLCBhZGQgaXRzIGZ1bGwgY29udHJpYnV0aW9uXHJcbiAgICAgICAgICBjb25zdCBjb25kTGVuZ3RoID0gY29uZEVuZERpc3QgLSBjb25kU3RhcnREaXN0O1xyXG4gICAgICAgICAgY29uc3Qgc2xvcGUgPSBwYXJzZUZsb2F0KGNvbmQuY29uZGl0aW9uX3ZhbHVlKTtcclxuICAgICAgICAgIGVsZXZhdGlvbiA9IGVsZXZhdGlvbiArIChjb25kTGVuZ3RoICogc2xvcGUgLyAxMDApO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICBcclxuICAgICAgLy8gTW92ZSB0byBuZXh0IGxhbmUgc2VnbWVudCB1c2luZyBhY3R1YWwgbGFuZSBsZW5ndGhcclxuICAgICAgY3VycmVudERpc3RhbmNlICs9IGxhbmVMZW5ndGg7XHJcbiAgICAgIFxyXG4gICAgICBpZiAoY3VycmVudERpc3RhbmNlID49IGN1bXVsYXRpdmVEaXN0YW5jZSkgYnJlYWs7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIHJldHVybiBlbGV2YXRpb247XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgZ2VuZXJhdGVQcm9maWxlRGF0YSA9ICgpID0+IHtcclxuICAgIGlmICghY29uZGl0aW9ucy5sZW5ndGggJiYgdG90YWxSb2FkTGVuZ3RoID09PSAwKSByZXR1cm4gW107XHJcblxyXG4gICAgLy8gR3JvdXAgY29uZGl0aW9ucyBieSBsYW5lIGFuZCBjYWxjdWxhdGUgY3VtdWxhdGl2ZSByb2FkIGRpc3RhbmNlc1xyXG4gICAgY29uc3QgbGFuZUdyb3VwcyA9IHt9O1xyXG4gICAgY29uZGl0aW9ucy5mb3JFYWNoKGNvbmQgPT4ge1xyXG4gICAgICBpZiAoIWxhbmVHcm91cHNbY29uZC5sYW5lX2lkXSkge1xyXG4gICAgICAgIGxhbmVHcm91cHNbY29uZC5sYW5lX2lkXSA9IFtdO1xyXG4gICAgICB9XHJcbiAgICAgIGxhbmVHcm91cHNbY29uZC5sYW5lX2lkXS5wdXNoKGNvbmQpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gRXh0cmFjdCBzZWdtZW50IG51bWJlcnMgYW5kIHNvcnQgbGFuZXNcclxuICAgIGNvbnN0IGxhbmVFbnRyaWVzID0gT2JqZWN0LmVudHJpZXMobGFuZUdyb3VwcykubWFwKChbbGFuZUlkLCBjb25kc10pID0+IHtcclxuICAgICAgY29uc3QgbWF0Y2ggPSBsYW5lSWQubWF0Y2goL3JvYWRfXFxkK18oXFxkKylfLyk7XHJcbiAgICAgIGNvbnN0IHNlZ051bSA9IG1hdGNoID8gcGFyc2VJbnQobWF0Y2hbMV0sIDEwKSA6IDk5OTtcclxuICAgICAgcmV0dXJuIHsgbGFuZUlkLCBjb25kcywgc2VnTnVtIH07XHJcbiAgICB9KS5zb3J0KChhLCBiKSA9PiBhLnNlZ051bSAtIGIuc2VnTnVtKTtcclxuXHJcbiAgICAvLyBDYWxjdWxhdGUgY3VtdWxhdGl2ZSBkaXN0YW5jZXMgZm9yIGVhY2ggbGFuZVxyXG4gICAgY29uc3QgbGFuZUN1bXVsYXRpdmVEaXN0YW5jZXMgPSBuZXcgTWFwKCk7XHJcbiAgICBsZXQgY3VtdWxhdGl2ZURpc3QgPSAwO1xyXG4gICAgXHJcbiAgICBsYW5lRW50cmllcy5mb3JFYWNoKCh7IGxhbmVJZCwgY29uZHMgfSkgPT4ge1xyXG4gICAgICBsYW5lQ3VtdWxhdGl2ZURpc3RhbmNlcy5zZXQobGFuZUlkLCBjdW11bGF0aXZlRGlzdCk7XHJcbiAgICAgIC8vIFVzZSBhY3R1YWwgbGFuZV9sZW5ndGggZnJvbSBkYXRhYmFzZSwgbm90IG1heCBlbmRfbWVhc3VyZVxyXG4gICAgICBjb25zdCBsYW5lTGVuZ3RoID0gY29uZHNbMF0/LmxhbmVfbGVuZ3RoIHx8IDA7XHJcbiAgICAgIGN1bXVsYXRpdmVEaXN0ICs9IGxhbmVMZW5ndGg7XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBDYWxjdWxhdGUgdG90YWwgcm9hZCBsZW5ndGggKHVzZSBwcm92aWRlZCB0b3RhbCBvciBjYWxjdWxhdGUgZnJvbSBjb25kaXRpb25zKVxyXG4gICAgY29uc3QgY2FsY3VsYXRlZFRvdGFsTGVuZ3RoID0gdG90YWxSb2FkTGVuZ3RoID4gMCA/IHRvdGFsUm9hZExlbmd0aCA6IGN1bXVsYXRpdmVEaXN0O1xyXG5cclxuICAgIC8vIEdlbmVyYXRlIHByb2ZpbGUgcG9pbnRzIHdpdGggcHJvcGVyIGN1bXVsYXRpdmUgcm9hZCBkaXN0YW5jZXNcclxuICAgIGNvbnN0IGRpc3RhbmNlUG9pbnRzID0gbmV3IFNldCgpO1xyXG4gICAgXHJcbiAgICAvLyBBZGQgc3RhcnQgYW5kIGVuZCBwb2ludHMgdG8gZW5zdXJlIGZ1bGwgcm9hZCBpcyBzaG93blxyXG4gICAgZGlzdGFuY2VQb2ludHMuYWRkKDApO1xyXG4gICAgZGlzdGFuY2VQb2ludHMuYWRkKGNhbGN1bGF0ZWRUb3RhbExlbmd0aCk7XHJcbiAgICBcclxuICAgIC8vIENvbGxlY3QgYWxsIHVuaXF1ZSBjdW11bGF0aXZlIHJvYWQgZGlzdGFuY2UgcG9pbnRzIGZyb20gY29uZGl0aW9uc1xyXG4gICAgbGFuZUVudHJpZXMuZm9yRWFjaCgoeyBsYW5lSWQsIGNvbmRzIH0pID0+IHtcclxuICAgICAgY29uc3QgbGFuZVN0YXJ0RGlzdCA9IGxhbmVDdW11bGF0aXZlRGlzdGFuY2VzLmdldChsYW5lSWQpO1xyXG4gICAgICBjb25kcy5mb3JFYWNoKGNvbmQgPT4ge1xyXG4gICAgICAgIGRpc3RhbmNlUG9pbnRzLmFkZChsYW5lU3RhcnREaXN0ICsgY29uZC5zdGFydF9tZWFzdXJlKTtcclxuICAgICAgICBkaXN0YW5jZVBvaW50cy5hZGQobGFuZVN0YXJ0RGlzdCArIGNvbmQuZW5kX21lYXN1cmUpO1xyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG5cclxuICAgIC8vIFNvcnQgZGlzdGFuY2UgcG9pbnRzXHJcbiAgICBjb25zdCBzb3J0ZWREaXN0YW5jZXMgPSBBcnJheS5mcm9tKGRpc3RhbmNlUG9pbnRzKS5zb3J0KChhLCBiKSA9PiBhIC0gYik7XHJcblxyXG4gICAgLy8gQ2FsY3VsYXRlIGVsZXZhdGlvbiBhdCBlYWNoIHBvaW50IGFuZCBmaWxsIGdhcHNcclxuICAgIGNvbnN0IHJlc3VsdFByb2ZpbGVEYXRhID0gW107XHJcbiAgICBcclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc29ydGVkRGlzdGFuY2VzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgIGNvbnN0IGRpc3RhbmNlID0gc29ydGVkRGlzdGFuY2VzW2ldO1xyXG4gICAgICBjb25zdCBlbGV2YXRpb24gPSBjYWxjdWxhdGVFbGV2YXRpb25BdERpc3RhbmNlKGRpc3RhbmNlLCBjb25kaXRpb25zKTtcclxuICAgICAgXHJcbiAgICAgIC8vIEZpbmQgd2hpY2ggY29uZGl0aW9uIHRoaXMgcG9pbnQgYmVsb25ncyB0byAoaWYgYW55KVxyXG4gICAgICBsZXQgbWF0Y2hpbmdDb25kaXRpb24gPSBudWxsO1xyXG4gICAgICBmb3IgKGNvbnN0IHsgbGFuZUlkLCBjb25kcyB9IG9mIGxhbmVFbnRyaWVzKSB7XHJcbiAgICAgICAgY29uc3QgbGFuZVN0YXJ0RGlzdCA9IGxhbmVDdW11bGF0aXZlRGlzdGFuY2VzLmdldChsYW5lSWQpO1xyXG4gICAgICAgIG1hdGNoaW5nQ29uZGl0aW9uID0gY29uZHMuZmluZChjb25kID0+IHtcclxuICAgICAgICAgIGNvbnN0IGNvbmRTdGFydCA9IGxhbmVTdGFydERpc3QgKyBjb25kLnN0YXJ0X21lYXN1cmU7XHJcbiAgICAgICAgICBjb25zdCBjb25kRW5kID0gbGFuZVN0YXJ0RGlzdCArIGNvbmQuZW5kX21lYXN1cmU7XHJcbiAgICAgICAgICByZXR1cm4gZGlzdGFuY2UgPj0gY29uZFN0YXJ0ICYmIGRpc3RhbmNlIDw9IGNvbmRFbmQ7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgaWYgKG1hdGNoaW5nQ29uZGl0aW9uKSBicmVhaztcclxuICAgICAgfVxyXG4gICAgICBcclxuICAgICAgcmVzdWx0UHJvZmlsZURhdGEucHVzaCh7XHJcbiAgICAgICAgZGlzdGFuY2U6IGRpc3RhbmNlLFxyXG4gICAgICAgIGVsZXZhdGlvbjogZWxldmF0aW9uLFxyXG4gICAgICAgIGxhbmVfaWQ6IG1hdGNoaW5nQ29uZGl0aW9uPy5sYW5lX2lkIHx8IG51bGwsXHJcbiAgICAgICAgY29uZGl0aW9uX2lkOiBtYXRjaGluZ0NvbmRpdGlvbj8uY29uZGl0aW9uX2lkIHx8IG51bGxcclxuICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gRW5zdXJlIHdlIGhhdmUgcG9pbnRzIGF0IHRoZSB2ZXJ5IGVuZCBvZiB0aGUgcm9hZFxyXG4gICAgaWYgKGNhbGN1bGF0ZWRUb3RhbExlbmd0aCA+IDAgJiYgcmVzdWx0UHJvZmlsZURhdGEubGVuZ3RoID4gMCkge1xyXG4gICAgICBjb25zdCBsYXN0UG9pbnQgPSByZXN1bHRQcm9maWxlRGF0YVtyZXN1bHRQcm9maWxlRGF0YS5sZW5ndGggLSAxXTtcclxuICAgICAgaWYgKGxhc3RQb2ludC5kaXN0YW5jZSA8IGNhbGN1bGF0ZWRUb3RhbExlbmd0aCkge1xyXG4gICAgICAgIC8vIEFkZCBmaW5hbCBwb2ludCBhdCB0b3RhbCByb2FkIGxlbmd0aFxyXG4gICAgICAgIGNvbnN0IGZpbmFsRWxldmF0aW9uID0gY2FsY3VsYXRlRWxldmF0aW9uQXREaXN0YW5jZShjYWxjdWxhdGVkVG90YWxMZW5ndGgsIGNvbmRpdGlvbnMpO1xyXG4gICAgICAgIHJlc3VsdFByb2ZpbGVEYXRhLnB1c2goe1xyXG4gICAgICAgICAgZGlzdGFuY2U6IGNhbGN1bGF0ZWRUb3RhbExlbmd0aCxcclxuICAgICAgICAgIGVsZXZhdGlvbjogZmluYWxFbGV2YXRpb24sXHJcbiAgICAgICAgICBsYW5lX2lkOiBudWxsLFxyXG4gICAgICAgICAgY29uZGl0aW9uX2lkOiBudWxsXHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gcmVzdWx0UHJvZmlsZURhdGE7XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgaGFuZGxlRWRpdCA9IChjb25kaXRpb24pID0+IHtcclxuICAgIHNldEVkaXRpbmdJZChjb25kaXRpb24uY29uZGl0aW9uX2lkKTtcclxuICAgIHNldEVkaXRWYWx1ZShjb25kaXRpb24uY29uZGl0aW9uX3ZhbHVlKTtcclxuICB9O1xyXG5cclxuICBjb25zdCBoYW5kbGVTYXZlID0gYXN5bmMgKGNvbmRpdGlvbklkKSA9PiB7XHJcbiAgICB0cnkge1xyXG4gICAgICBzZXRTYXZpbmcodHJ1ZSk7XHJcbiAgICAgIFxyXG4gICAgICAvLyBWYWxpZGF0ZSB0aGUgaW5wdXRcclxuICAgICAgY29uc3QgdmFsdWUgPSBwYXJzZUZsb2F0KGVkaXRWYWx1ZSk7XHJcbiAgICAgIGlmIChpc05hTih2YWx1ZSkpIHtcclxuICAgICAgICBhbGVydCgnUGxlYXNlIGVudGVyIGEgdmFsaWQgbnVtYmVyIGZvciB0aGUgc2xvcGUnKTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goJy9hcGkvbGFuZS1jb25kaXRpb25zJywge1xyXG4gICAgICAgIG1ldGhvZDogJ1BVVCcsXHJcbiAgICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcclxuICAgICAgICB9LFxyXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICAgIGNvbmRpdGlvbl9pZDogY29uZGl0aW9uSWQsXHJcbiAgICAgICAgICBjb25kaXRpb25fdmFsdWU6IGVkaXRWYWx1ZVxyXG4gICAgICAgIH0pXHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xyXG4gICAgICAgIGNvbnN0IGVycm9yRGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyb3JEYXRhLmVycm9yIHx8ICdGYWlsZWQgdG8gdXBkYXRlJyk7XHJcbiAgICAgIH1cclxuICAgICAgXHJcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcclxuICAgICAgY29uc29sZS5sb2coJ1N1Y2Nlc3NmdWxseSB1cGRhdGVkIGNvbmRpdGlvbjonLCByZXN1bHQpO1xyXG4gICAgICBcclxuICAgICAgLy8gUmVmcmVzaCBjb25kaXRpb25zIHRvIGdldCB1cGRhdGVkIGRhdGFcclxuICAgICAgYXdhaXQgZmV0Y2hDb25kaXRpb25zKCk7XHJcbiAgICAgIHNldEVkaXRpbmdJZChudWxsKTtcclxuICAgICAgc2V0RWRpdFZhbHVlKCcnKTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHNhdmluZyBjb25kaXRpb246JywgZXJyb3IpO1xyXG4gICAgICBhbGVydChgRmFpbGVkIHRvIHNhdmUgc2xvcGUgdmFsdWU6ICR7ZXJyb3IubWVzc2FnZX1gKTtcclxuICAgIH0gZmluYWxseSB7XHJcbiAgICAgIHNldFNhdmluZyhmYWxzZSk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgaGFuZGxlQ2FuY2VsID0gKCkgPT4ge1xyXG4gICAgc2V0RWRpdGluZ0lkKG51bGwpO1xyXG4gICAgc2V0RWRpdFZhbHVlKCcnKTtcclxuICAgIHNldFNwbGl0dGluZ0lkKG51bGwpO1xyXG4gICAgc2V0U3BsaXRQb2ludCgnJyk7XHJcbiAgICBzZXRBZGRpbmdOZXcoZmFsc2UpO1xyXG4gICAgc2V0TmV3U2VnbWVudCh7IGxhbmVfaWQ6ICcnLCBzdGFydF9tZWFzdXJlOiAnJywgZW5kX21lYXN1cmU6ICcnLCBjb25kaXRpb25fdmFsdWU6ICcnIH0pO1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IGhhbmRsZVNwbGl0ID0gYXN5bmMgKGNvbmRpdGlvbikgPT4ge1xyXG4gICAgY29uc3Qgc3BsaXRWYWx1ZSA9IHBhcnNlRmxvYXQoc3BsaXRQb2ludCk7XHJcbiAgICBpZiAoaXNOYU4oc3BsaXRWYWx1ZSkgfHwgc3BsaXRWYWx1ZSA8PSBjb25kaXRpb24uc3RhcnRfbWVhc3VyZSB8fCBzcGxpdFZhbHVlID49IGNvbmRpdGlvbi5lbmRfbWVhc3VyZSkge1xyXG4gICAgICBhbGVydCgnUGxlYXNlIGVudGVyIGEgdmFsaWQgc3BsaXQgcG9pbnQgYmV0d2VlbiBzdGFydCBhbmQgZW5kIG1lYXN1cmVzJyk7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICB0cnkge1xyXG4gICAgICBzZXRTYXZpbmcodHJ1ZSk7XHJcbiAgICAgIFxyXG4gICAgICAvLyBDcmVhdGUgZmlyc3Qgc2VnbWVudDogc3RhcnQgdG8gc3BsaXQgcG9pbnRcclxuICAgICAgY29uc3QgcmVzcG9uc2UxID0gYXdhaXQgZmV0Y2goJy9hcGkvbGFuZS1jb25kaXRpb25zJywge1xyXG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxyXG4gICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxyXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICAgIGxhbmVfaWQ6IGNvbmRpdGlvbi5sYW5lX2lkLFxyXG4gICAgICAgICAgc3RhcnRfbWVhc3VyZTogY29uZGl0aW9uLnN0YXJ0X21lYXN1cmUsXHJcbiAgICAgICAgICBlbmRfbWVhc3VyZTogc3BsaXRWYWx1ZSxcclxuICAgICAgICAgIGNvbmRpdGlvbl92YWx1ZTogY29uZGl0aW9uLmNvbmRpdGlvbl92YWx1ZVxyXG4gICAgICAgIH0pXHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgLy8gQ3JlYXRlIHNlY29uZCBzZWdtZW50OiBzcGxpdCBwb2ludCB0byBlbmRcclxuICAgICAgY29uc3QgcmVzcG9uc2UyID0gYXdhaXQgZmV0Y2goJy9hcGkvbGFuZS1jb25kaXRpb25zJywge1xyXG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxyXG4gICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxyXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICAgIGxhbmVfaWQ6IGNvbmRpdGlvbi5sYW5lX2lkLFxyXG4gICAgICAgICAgc3RhcnRfbWVhc3VyZTogc3BsaXRWYWx1ZSxcclxuICAgICAgICAgIGVuZF9tZWFzdXJlOiBjb25kaXRpb24uZW5kX21lYXN1cmUsXHJcbiAgICAgICAgICBjb25kaXRpb25fdmFsdWU6IGNvbmRpdGlvbi5jb25kaXRpb25fdmFsdWVcclxuICAgICAgICB9KVxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIGlmICghcmVzcG9uc2UxLm9rIHx8ICFyZXNwb25zZTIub2spIHtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ZhaWxlZCB0byBjcmVhdGUgc3BsaXQgc2VnbWVudHMnKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gRGVsZXRlIG9yaWdpbmFsIHNlZ21lbnRcclxuICAgICAgYXdhaXQgZmV0Y2goJy9hcGkvbGFuZS1jb25kaXRpb25zJywge1xyXG4gICAgICAgIG1ldGhvZDogJ0RFTEVURScsXHJcbiAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXHJcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBjb25kaXRpb25faWQ6IGNvbmRpdGlvbi5jb25kaXRpb25faWQgfSlcclxuICAgICAgfSk7XHJcblxyXG4gICAgICBhd2FpdCBmZXRjaENvbmRpdGlvbnMoKTtcclxuICAgICAgc2V0U3BsaXR0aW5nSWQobnVsbCk7XHJcbiAgICAgIHNldFNwbGl0UG9pbnQoJycpO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcignRXJyb3Igc3BsaXR0aW5nIGNvbmRpdGlvbjonLCBlcnJvcik7XHJcbiAgICAgIGFsZXJ0KGBGYWlsZWQgdG8gc3BsaXQgc2VnbWVudDogJHtlcnJvci5tZXNzYWdlfWApO1xyXG4gICAgfSBmaW5hbGx5IHtcclxuICAgICAgc2V0U2F2aW5nKGZhbHNlKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICBjb25zdCBoYW5kbGVEZWxldGUgPSBhc3luYyAoY29uZGl0aW9uSWQpID0+IHtcclxuICAgIGlmICghY29uZmlybSgnQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIGRlbGV0ZSB0aGlzIHNsb3BlIHNlZ21lbnQ/JykpIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIHRyeSB7XHJcbiAgICAgIHNldFNhdmluZyh0cnVlKTtcclxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCgnL2FwaS9sYW5lLWNvbmRpdGlvbnMnLCB7XHJcbiAgICAgICAgbWV0aG9kOiAnREVMRVRFJyxcclxuICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcclxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7IGNvbmRpdGlvbl9pZDogY29uZGl0aW9uSWQgfSlcclxuICAgICAgfSk7XHJcblxyXG4gICAgICBpZiAoIXJlc3BvbnNlLm9rKSB0aHJvdyBuZXcgRXJyb3IoJ0ZhaWxlZCB0byBkZWxldGUnKTtcclxuICAgICAgXHJcbiAgICAgIGF3YWl0IGZldGNoQ29uZGl0aW9ucygpO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZGVsZXRpbmcgY29uZGl0aW9uOicsIGVycm9yKTtcclxuICAgICAgYWxlcnQoYEZhaWxlZCB0byBkZWxldGUgc2VnbWVudDogJHtlcnJvci5tZXNzYWdlfWApO1xyXG4gICAgfSBmaW5hbGx5IHtcclxuICAgICAgc2V0U2F2aW5nKGZhbHNlKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICBjb25zdCBoYW5kbGVBZGQgPSBhc3luYyAoKSA9PiB7XHJcbiAgICBjb25zdCB7IGxhbmVfaWQsIHN0YXJ0X21lYXN1cmUsIGVuZF9tZWFzdXJlLCBjb25kaXRpb25fdmFsdWUgfSA9IG5ld1NlZ21lbnQ7XHJcbiAgICBcclxuICAgIGlmICghbGFuZV9pZCB8fCAhc3RhcnRfbWVhc3VyZSB8fCAhZW5kX21lYXN1cmUgfHwgIWNvbmRpdGlvbl92YWx1ZSkge1xyXG4gICAgICBhbGVydCgnUGxlYXNlIGZpbGwgaW4gYWxsIGZpZWxkcycpO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3Qgc3RhcnQgPSBwYXJzZUZsb2F0KHN0YXJ0X21lYXN1cmUpO1xyXG4gICAgY29uc3QgZW5kID0gcGFyc2VGbG9hdChlbmRfbWVhc3VyZSk7XHJcbiAgICBjb25zdCB2YWx1ZSA9IHBhcnNlRmxvYXQoY29uZGl0aW9uX3ZhbHVlKTtcclxuXHJcbiAgICBpZiAoaXNOYU4oc3RhcnQpIHx8IGlzTmFOKGVuZCkgfHwgaXNOYU4odmFsdWUpKSB7XHJcbiAgICAgIGFsZXJ0KCdQbGVhc2UgZW50ZXIgdmFsaWQgbnVtYmVycycpO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHN0YXJ0ID49IGVuZCkge1xyXG4gICAgICBhbGVydCgnU3RhcnQgbWVhc3VyZSBtdXN0IGJlIGxlc3MgdGhhbiBlbmQgbWVhc3VyZScpO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgdHJ5IHtcclxuICAgICAgc2V0U2F2aW5nKHRydWUpO1xyXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKCcvYXBpL2xhbmUtY29uZGl0aW9ucycsIHtcclxuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcclxuICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcclxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgICBsYW5lX2lkLFxyXG4gICAgICAgICAgc3RhcnRfbWVhc3VyZTogc3RhcnQsXHJcbiAgICAgICAgICBlbmRfbWVhc3VyZTogZW5kLFxyXG4gICAgICAgICAgY29uZGl0aW9uX3ZhbHVlOiB2YWx1ZVxyXG4gICAgICAgIH0pXHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgaWYgKCFyZXNwb25zZS5vaykgdGhyb3cgbmV3IEVycm9yKCdGYWlsZWQgdG8gY3JlYXRlJyk7XHJcbiAgICAgIFxyXG4gICAgICBhd2FpdCBmZXRjaENvbmRpdGlvbnMoKTtcclxuICAgICAgc2V0QWRkaW5nTmV3KGZhbHNlKTtcclxuICAgICAgc2V0TmV3U2VnbWVudCh7IGxhbmVfaWQ6ICcnLCBzdGFydF9tZWFzdXJlOiAnJywgZW5kX21lYXN1cmU6ICcnLCBjb25kaXRpb25fdmFsdWU6ICcnIH0pO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgYWRkaW5nIGNvbmRpdGlvbjonLCBlcnJvcik7XHJcbiAgICAgIGFsZXJ0KGBGYWlsZWQgdG8gYWRkIHNlZ21lbnQ6ICR7ZXJyb3IubWVzc2FnZX1gKTtcclxuICAgIH0gZmluYWxseSB7XHJcbiAgICAgIHNldFNhdmluZyhmYWxzZSk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgcHJvZmlsZURhdGEgPSBnZW5lcmF0ZVByb2ZpbGVEYXRhKCk7XHJcblxyXG4gIC8vIFVzZSB0b3RhbCByb2FkIGxlbmd0aCAoZnJvbSBBUEkgb3IgY2FsY3VsYXRlZCksIGVuc3VyaW5nIHdlIHNob3cgdGhlIGZ1bGwgcm9hZFxyXG4gIGNvbnN0IG1heERpc3RhbmNlID0gdG90YWxSb2FkTGVuZ3RoID4gMCBcclxuICAgID8gdG90YWxSb2FkTGVuZ3RoIFxyXG4gICAgOiAocHJvZmlsZURhdGEubGVuZ3RoID8gTWF0aC5tYXgoLi4ucHJvZmlsZURhdGEubWFwKHAgPT4gcC5kaXN0YW5jZSkpIDogMCk7XHJcblxyXG4gIC8vIEVsZXZhdGlvbiByYW5nZSBiYXNlZCBvbiBhY3R1YWwgcHJvZmlsZSwgd2l0aCBhIGZhbGxiYWNrIGJhbmRcclxuICBjb25zdCBtaW5FbGV2YXRpb24gPSBwcm9maWxlRGF0YS5sZW5ndGhcclxuICAgID8gTWF0aC5taW4oLi4ucHJvZmlsZURhdGEubWFwKHAgPT4gcC5lbGV2YXRpb24pKVxyXG4gICAgOiBSRUZFUkVOQ0VfRUxFVkFUSU9OIC0gNTA7XHJcblxyXG4gIGNvbnN0IG1heEVsZXZhdGlvbiA9IHByb2ZpbGVEYXRhLmxlbmd0aFxyXG4gICAgPyBNYXRoLm1heCguLi5wcm9maWxlRGF0YS5tYXAocCA9PiBwLmVsZXZhdGlvbikpXHJcbiAgICA6IFJFRkVSRU5DRV9FTEVWQVRJT04gKyA1MDtcclxuXHJcbiAgLy8gU2ltcGxlIFNWRyBjaGFydFxyXG4gIGNvbnN0IGNoYXJ0V2lkdGggPSA4MDA7XHJcbiAgY29uc3QgY2hhcnRIZWlnaHQgPSA0MDA7XHJcbiAgY29uc3QgcGFkZGluZyA9IDYwO1xyXG4gIGNvbnN0IHBsb3RXaWR0aCA9IGNoYXJ0V2lkdGggLSAyICogcGFkZGluZztcclxuICBjb25zdCBwbG90SGVpZ2h0ID0gY2hhcnRIZWlnaHQgLSAyICogcGFkZGluZztcclxuXHJcbiAgY29uc3QgZWxldmF0aW9uUmFuZ2UgPSBtYXhFbGV2YXRpb24gLSBtaW5FbGV2YXRpb24gfHwgMTsgLy8gYXZvaWQgZGl2aWRlIGJ5IHplcm9cclxuXHJcbiAgY29uc3Qgc2NhbGVYID0gKGRpc3RhbmNlKSA9PlxyXG4gICAgcGFkZGluZyArXHJcbiAgICAobWF4RGlzdGFuY2UgPT09IDAgPyAwIDogKGRpc3RhbmNlIC8gbWF4RGlzdGFuY2UpICogcGxvdFdpZHRoKTtcclxuXHJcbiAgY29uc3Qgc2NhbGVZID0gKGVsZXZhdGlvbikgPT5cclxuICAgIHBhZGRpbmcgK1xyXG4gICAgcGxvdEhlaWdodCAtXHJcbiAgICAoKGVsZXZhdGlvbiAtIG1pbkVsZXZhdGlvbikgLyBlbGV2YXRpb25SYW5nZSkgKiBwbG90SGVpZ2h0O1xyXG5cclxuICAvLyBHZW5lcmF0ZSBwYXRoIGRhdGEgZm9yIHRoZSBwcm9maWxlIGxpbmVcclxuICBjb25zdCBwYXRoRGF0YSA9IHByb2ZpbGVEYXRhLmxlbmd0aCA+IDBcclxuICAgID8gYE0gJHtwcm9maWxlRGF0YS5tYXAocCA9PiBgJHtzY2FsZVgocC5kaXN0YW5jZSl9LCR7c2NhbGVZKHAuZWxldmF0aW9uKX1gKS5qb2luKCcgTCAnKX1gXHJcbiAgICA6IG51bGw7XHJcblxyXG4gIGlmIChsb2FkaW5nKSB7XHJcbiAgICByZXR1cm4gKFxyXG4gICAgICA8ZGl2IHN0eWxlPXt7XHJcbiAgICAgICAgcG9zaXRpb246ICdmaXhlZCcsXHJcbiAgICAgICAgdG9wOiAwLFxyXG4gICAgICAgIGxlZnQ6IDAsXHJcbiAgICAgICAgcmlnaHQ6IDAsXHJcbiAgICAgICAgYm90dG9tOiAwLFxyXG4gICAgICAgIGJhY2tncm91bmRDb2xvcjogJ3JnYmEoMCwgMCwgMCwgMC44KScsXHJcbiAgICAgICAgZGlzcGxheTogJ2ZsZXgnLFxyXG4gICAgICAgIGp1c3RpZnlDb250ZW50OiAnY2VudGVyJyxcclxuICAgICAgICBhbGlnbkl0ZW1zOiAnY2VudGVyJyxcclxuICAgICAgICB6SW5kZXg6IDEwMDAwLFxyXG4gICAgICAgIGNvbG9yOiAnd2hpdGUnXHJcbiAgICAgIH19PlxyXG4gICAgICAgIDxkaXY+TG9hZGluZyByb2FkIHByb2ZpbGUuLi48L2Rpdj5cclxuICAgICAgPC9kaXY+XHJcbiAgICApO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIChcclxuICAgIDxkaXYgc3R5bGU9e3tcclxuICAgICAgcG9zaXRpb246ICdmaXhlZCcsXHJcbiAgICAgIHRvcDogMCxcclxuICAgICAgbGVmdDogMCxcclxuICAgICAgcmlnaHQ6IDAsXHJcbiAgICAgIGJvdHRvbTogMCxcclxuICAgICAgYmFja2dyb3VuZENvbG9yOiAncmdiYSgwLCAwLCAwLCAwLjkpJyxcclxuICAgICAgekluZGV4OiAxMDAwMCxcclxuICAgICAgZGlzcGxheTogJ2ZsZXgnLFxyXG4gICAgICBmbGV4RGlyZWN0aW9uOiAnY29sdW1uJyxcclxuICAgICAgcGFkZGluZzogJzIwcHgnLFxyXG4gICAgICBvdmVyZmxvdzogJ2F1dG8nLFxyXG4gICAgICBjb2xvcjogJ3doaXRlJ1xyXG4gICAgfX0+XHJcbiAgICAgIDxkaXYgc3R5bGU9e3sgZGlzcGxheTogJ2ZsZXgnLCBqdXN0aWZ5Q29udGVudDogJ3NwYWNlLWJldHdlZW4nLCBhbGlnbkl0ZW1zOiAnY2VudGVyJywgbWFyZ2luQm90dG9tOiAnMjBweCcgfX0+XHJcbiAgICAgICAgPGgyIHN0eWxlPXt7IG1hcmdpbjogMCwgY29sb3I6ICcjNEVDREM0JyB9fT5Sb2FkIFByb2ZpbGUgLSBSb2FkIElEOiB7cm9hZElkfTwvaDI+XHJcbiAgICAgICAgPGJ1dHRvblxyXG4gICAgICAgICAgb25DbGljaz17b25DbG9zZX1cclxuICAgICAgICAgIHN0eWxlPXt7XHJcbiAgICAgICAgICAgIGJhY2tncm91bmQ6ICcjRTc0QzNDJyxcclxuICAgICAgICAgICAgY29sb3I6ICd3aGl0ZScsXHJcbiAgICAgICAgICAgIGJvcmRlcjogJ25vbmUnLFxyXG4gICAgICAgICAgICBwYWRkaW5nOiAnMTBweCAyMHB4JyxcclxuICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiAnNnB4JyxcclxuICAgICAgICAgICAgY3Vyc29yOiAncG9pbnRlcicsXHJcbiAgICAgICAgICAgIGZvbnRXZWlnaHQ6ICdib2xkJyxcclxuICAgICAgICAgICAgZm9udFNpemU6ICcxNHB4J1xyXG4gICAgICAgICAgfX1cclxuICAgICAgICA+XHJcbiAgICAgICAgICDinJUgQ2xvc2VcclxuICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgPC9kaXY+XHJcblxyXG4gICAgICB7Y29uZGl0aW9ucy5sZW5ndGggPT09IDAgPyAoXHJcbiAgICAgICAgPGRpdiBzdHlsZT17eyB0ZXh0QWxpZ246ICdjZW50ZXInLCBwYWRkaW5nOiAnNDBweCcsIGNvbG9yOiAnIzk1YTVhNicgfX0+XHJcbiAgICAgICAgICBObyBzbG9wZSBjb25kaXRpb25zIGZvdW5kIGZvciB0aGlzIHJvYWQuXHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgICkgOiAoXHJcbiAgICAgICAgPD5cclxuICAgICAgICAgIHsvKiBFbGV2YXRpb24gUHJvZmlsZSBDaGFydCAqL31cclxuICAgICAgICAgIDxkaXYgc3R5bGU9e3sgbWFyZ2luQm90dG9tOiAnMzBweCcsIGJhY2tncm91bmRDb2xvcjogJ3JnYmEoMzAsIDMwLCAzMCwgMC44KScsIHBhZGRpbmc6ICcyMHB4JywgYm9yZGVyUmFkaXVzOiAnOHB4JyB9fT5cclxuICAgICAgICAgICAgPGgzIHN0eWxlPXt7IG1hcmdpblRvcDogMCwgbWFyZ2luQm90dG9tOiAnMTZweCcsIGNvbG9yOiAnIzRFQ0RDNCcgfX0+RWxldmF0aW9uIFByb2ZpbGU8L2gzPlxyXG4gICAgICAgICAgICA8c3ZnIHdpZHRoPXtjaGFydFdpZHRofSBoZWlnaHQ9e2NoYXJ0SGVpZ2h0fSBzdHlsZT17eyBib3JkZXI6ICcxcHggc29saWQgcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjIpJywgYm9yZGVyUmFkaXVzOiAnNHB4JyB9fT5cclxuICAgICAgICAgICAgICB7LyogR3JpZCBsaW5lcyAqL31cclxuICAgICAgICAgICAgICB7WzAsIDAuMjUsIDAuNSwgMC43NSwgMV0ubWFwKHQgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZWxldmF0aW9uID0gbWluRWxldmF0aW9uICsgdCAqIChtYXhFbGV2YXRpb24gLSBtaW5FbGV2YXRpb24pO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgICAgICAgPGxpbmVcclxuICAgICAgICAgICAgICAgICAgICBrZXk9e2BncmlkLWgtJHt0fWB9XHJcbiAgICAgICAgICAgICAgICAgICAgeDE9e3BhZGRpbmd9XHJcbiAgICAgICAgICAgICAgICAgICAgeTE9e3NjYWxlWShlbGV2YXRpb24pfVxyXG4gICAgICAgICAgICAgICAgICAgIHgyPXtjaGFydFdpZHRoIC0gcGFkZGluZ31cclxuICAgICAgICAgICAgICAgICAgICB5Mj17c2NhbGVZKGVsZXZhdGlvbil9XHJcbiAgICAgICAgICAgICAgICAgICAgc3Ryb2tlPVwicmdiYSgyNTUsIDI1NSwgMjU1LCAwLjEpXCJcclxuICAgICAgICAgICAgICAgICAgICBzdHJva2VXaWR0aD1cIjFcIlxyXG4gICAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICB9KX1cclxuICAgICAgICAgICAgICB7WzAsIDAuMjUsIDAuNSwgMC43NSwgMV0ubWFwKHQgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZGlzdGFuY2UgPSB0ICogbWF4RGlzdGFuY2U7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICAgICAgICA8bGluZVxyXG4gICAgICAgICAgICAgICAgICAgIGtleT17YGdyaWQtdi0ke3R9YH1cclxuICAgICAgICAgICAgICAgICAgICB4MT17c2NhbGVYKGRpc3RhbmNlKX1cclxuICAgICAgICAgICAgICAgICAgICB5MT17cGFkZGluZ31cclxuICAgICAgICAgICAgICAgICAgICB4Mj17c2NhbGVYKGRpc3RhbmNlKX1cclxuICAgICAgICAgICAgICAgICAgICB5Mj17Y2hhcnRIZWlnaHQgLSBwYWRkaW5nfVxyXG4gICAgICAgICAgICAgICAgICAgIHN0cm9rZT1cInJnYmEoMjU1LCAyNTUsIDI1NSwgMC4xKVwiXHJcbiAgICAgICAgICAgICAgICAgICAgc3Ryb2tlV2lkdGg9XCIxXCJcclxuICAgICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgfSl9XHJcblxyXG4gICAgICAgICAgICAgIHsvKiBBeGVzICovfVxyXG4gICAgICAgICAgICAgIDxsaW5lXHJcbiAgICAgICAgICAgICAgICB4MT17cGFkZGluZ31cclxuICAgICAgICAgICAgICAgIHkxPXtwYWRkaW5nfVxyXG4gICAgICAgICAgICAgICAgeDI9e3BhZGRpbmd9XHJcbiAgICAgICAgICAgICAgICB5Mj17Y2hhcnRIZWlnaHQgLSBwYWRkaW5nfVxyXG4gICAgICAgICAgICAgICAgc3Ryb2tlPVwid2hpdGVcIlxyXG4gICAgICAgICAgICAgICAgc3Ryb2tlV2lkdGg9XCIyXCJcclxuICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgIDxsaW5lXHJcbiAgICAgICAgICAgICAgICB4MT17cGFkZGluZ31cclxuICAgICAgICAgICAgICAgIHkxPXtjaGFydEhlaWdodCAtIHBhZGRpbmd9XHJcbiAgICAgICAgICAgICAgICB4Mj17Y2hhcnRXaWR0aCAtIHBhZGRpbmd9XHJcbiAgICAgICAgICAgICAgICB5Mj17Y2hhcnRIZWlnaHQgLSBwYWRkaW5nfVxyXG4gICAgICAgICAgICAgICAgc3Ryb2tlPVwid2hpdGVcIlxyXG4gICAgICAgICAgICAgICAgc3Ryb2tlV2lkdGg9XCIyXCJcclxuICAgICAgICAgICAgICAvPlxyXG5cclxuICAgICAgICAgICAgICB7LyogRWxldmF0aW9uIGxhYmVscyAqL31cclxuICAgICAgICAgICAgICB7WzAsIDAuMjUsIDAuNSwgMC43NSwgMV0ubWFwKHQgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZWxldmF0aW9uID0gbWluRWxldmF0aW9uICsgdCAqIChtYXhFbGV2YXRpb24gLSBtaW5FbGV2YXRpb24pO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgICAgICAgPHRleHRcclxuICAgICAgICAgICAgICAgICAgICBrZXk9e2BlbGV2LSR7dH1gfVxyXG4gICAgICAgICAgICAgICAgICAgIHg9e3BhZGRpbmcgLSAxMH1cclxuICAgICAgICAgICAgICAgICAgICB5PXtzY2FsZVkoZWxldmF0aW9uKX1cclxuICAgICAgICAgICAgICAgICAgICBmaWxsPVwid2hpdGVcIlxyXG4gICAgICAgICAgICAgICAgICAgIHRleHRBbmNob3I9XCJlbmRcIlxyXG4gICAgICAgICAgICAgICAgICAgIGZvbnRTaXplPVwiMTBcIlxyXG4gICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IGRvbWluYW50QmFzZWxpbmU6ICdtaWRkbGUnIH19XHJcbiAgICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICB7ZWxldmF0aW9uLnRvRml4ZWQoMCl9XHJcbiAgICAgICAgICAgICAgICAgIDwvdGV4dD5cclxuICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgfSl9XHJcblxyXG4gICAgICAgICAgICAgIHsvKiBEaXN0YW5jZSBsYWJlbHMgKi99XHJcbiAgICAgICAgICAgICAge1swLCAwLjI1LCAwLjUsIDAuNzUsIDFdLm1hcCh0ID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGRpc3RhbmNlID0gdCAqIG1heERpc3RhbmNlO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgICAgICAgPHRleHRcclxuICAgICAgICAgICAgICAgICAgICBrZXk9e2BkaXN0LSR7dH1gfVxyXG4gICAgICAgICAgICAgICAgICAgIHg9e3BhZGRpbmcgKyB0ICogcGxvdFdpZHRofVxyXG4gICAgICAgICAgICAgICAgICAgIHk9e2NoYXJ0SGVpZ2h0IC0gMjB9XHJcbiAgICAgICAgICAgICAgICAgICAgZmlsbD1cIndoaXRlXCJcclxuICAgICAgICAgICAgICAgICAgICB0ZXh0QW5jaG9yPVwibWlkZGxlXCJcclxuICAgICAgICAgICAgICAgICAgICBmb250U2l6ZT1cIjEwXCJcclxuICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgIHtkaXN0YW5jZS50b0ZpeGVkKDApfVxyXG4gICAgICAgICAgICAgICAgICA8L3RleHQ+XHJcbiAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgIH0pfVxyXG5cclxuICAgICAgICAgICAgICB7LyogQXhpcyBsYWJlbHMgKi99XHJcbiAgICAgICAgICAgICAgPHRleHQgXHJcbiAgICAgICAgICAgICAgICB4PXsxNX0gXHJcbiAgICAgICAgICAgICAgICB5PXtwYWRkaW5nICsgcGxvdEhlaWdodCAvIDJ9IFxyXG4gICAgICAgICAgICAgICAgZmlsbD1cIndoaXRlXCIgXHJcbiAgICAgICAgICAgICAgICB0ZXh0QW5jaG9yPVwibWlkZGxlXCIgXHJcbiAgICAgICAgICAgICAgICBmb250U2l6ZT1cIjEyXCJcclxuICAgICAgICAgICAgICAgIHRyYW5zZm9ybT17YHJvdGF0ZSgtOTAsIDE1LCAke3BhZGRpbmcgKyBwbG90SGVpZ2h0IC8gMn0pYH1cclxuICAgICAgICAgICAgICAgIHN0eWxlPXt7IGRvbWluYW50QmFzZWxpbmU6ICdtaWRkbGUnIH19XHJcbiAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgRWxldmF0aW9uIChtKVxyXG4gICAgICAgICAgICAgIDwvdGV4dD5cclxuICAgICAgICAgICAgICA8dGV4dCB4PXtwYWRkaW5nICsgcGxvdFdpZHRoIC8gMn0geT17Y2hhcnRIZWlnaHQgLSAxMH0gZmlsbD1cIndoaXRlXCIgdGV4dEFuY2hvcj1cIm1pZGRsZVwiIGZvbnRTaXplPVwiMTJcIj5cclxuICAgICAgICAgICAgICAgIERpc3RhbmNlIChtKVxyXG4gICAgICAgICAgICAgIDwvdGV4dD5cclxuXHJcbiAgICAgICAgICAgICAgey8qIFByb2ZpbGUgbGluZSAqL31cclxuICAgICAgICAgICAgICB7cGF0aERhdGEgJiYgKFxyXG4gICAgICAgICAgICAgICAgPHBhdGhcclxuICAgICAgICAgICAgICAgICAgZD17cGF0aERhdGF9XHJcbiAgICAgICAgICAgICAgICAgIGZpbGw9XCJub25lXCJcclxuICAgICAgICAgICAgICAgICAgc3Ryb2tlPVwiIzRFQ0RDNFwiXHJcbiAgICAgICAgICAgICAgICAgIHN0cm9rZVdpZHRoPVwiM1wiXHJcbiAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgICl9XHJcblxyXG4gICAgICAgICAgICAgIHsvKiBEYXRhIHBvaW50cyAqL31cclxuICAgICAgICAgICAgICB7cHJvZmlsZURhdGEubWFwKChwb2ludCwgaWR4KSA9PiAoXHJcbiAgICAgICAgICAgICAgICA8Y2lyY2xlXHJcbiAgICAgICAgICAgICAgICAgIGtleT17YHBvaW50LSR7aWR4fWB9XHJcbiAgICAgICAgICAgICAgICAgIGN4PXtzY2FsZVgocG9pbnQuZGlzdGFuY2UpfVxyXG4gICAgICAgICAgICAgICAgICBjeT17c2NhbGVZKHBvaW50LmVsZXZhdGlvbil9XHJcbiAgICAgICAgICAgICAgICAgIHI9XCI0XCJcclxuICAgICAgICAgICAgICAgICAgZmlsbD1cIiNGRkQ3MDBcIlxyXG4gICAgICAgICAgICAgICAgICBzdHJva2U9XCIjRkZBNTAwXCJcclxuICAgICAgICAgICAgICAgICAgc3Ryb2tlV2lkdGg9XCIyXCJcclxuICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgKSl9XHJcbiAgICAgICAgICAgIDwvc3ZnPlxyXG4gICAgICAgICAgPC9kaXY+XHJcblxyXG4gICAgICAgICAgey8qIFNsb3BlIFNlZ21lbnRzIFRhYmxlICovfVxyXG4gICAgICAgICAgPGRpdj5cclxuICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBkaXNwbGF5OiAnZmxleCcsIGp1c3RpZnlDb250ZW50OiAnc3BhY2UtYmV0d2VlbicsIGFsaWduSXRlbXM6ICdjZW50ZXInLCBtYXJnaW5Cb3R0b206ICcxNnB4JyB9fT5cclxuICAgICAgICAgICAgICA8aDMgc3R5bGU9e3sgbWFyZ2luOiAwLCBjb2xvcjogJyM0RUNEQzQnIH19PlNsb3BlIFNlZ21lbnRzPC9oMz5cclxuICAgICAgICAgICAgICA8YnV0dG9uXHJcbiAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgIC8vIEdldCBmaXJzdCBsYW5lX2lkIGZyb20gY29uZGl0aW9ucyBmb3IgZGVmYXVsdFxyXG4gICAgICAgICAgICAgICAgICBjb25zdCBmaXJzdExhbmUgPSBjb25kaXRpb25zLmxlbmd0aCA+IDAgPyBjb25kaXRpb25zWzBdLmxhbmVfaWQgOiAnJztcclxuICAgICAgICAgICAgICAgICAgc2V0TmV3U2VnbWVudCh7IFxyXG4gICAgICAgICAgICAgICAgICAgIGxhbmVfaWQ6IGZpcnN0TGFuZSwgXHJcbiAgICAgICAgICAgICAgICAgICAgc3RhcnRfbWVhc3VyZTogJycsIFxyXG4gICAgICAgICAgICAgICAgICAgIGVuZF9tZWFzdXJlOiAnJywgXHJcbiAgICAgICAgICAgICAgICAgICAgY29uZGl0aW9uX3ZhbHVlOiAnJyBcclxuICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgIHNldEFkZGluZ05ldyh0cnVlKTtcclxuICAgICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgICAgICBzdHlsZT17e1xyXG4gICAgICAgICAgICAgICAgICBwYWRkaW5nOiAnNnB4IDEycHgnLFxyXG4gICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiAnIzJFQ0M3MScsXHJcbiAgICAgICAgICAgICAgICAgIGNvbG9yOiAnd2hpdGUnLFxyXG4gICAgICAgICAgICAgICAgICBib3JkZXI6ICdub25lJyxcclxuICAgICAgICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiAnNHB4JyxcclxuICAgICAgICAgICAgICAgICAgY3Vyc29yOiAncG9pbnRlcicsXHJcbiAgICAgICAgICAgICAgICAgIGZvbnRTaXplOiAnMTJweCcsXHJcbiAgICAgICAgICAgICAgICAgIGZvbnRXZWlnaHQ6ICdib2xkJ1xyXG4gICAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICArIEFkZCBTZWdtZW50XHJcbiAgICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IG92ZXJmbG93WDogJ2F1dG8nIH19PlxyXG4gICAgICAgICAgICAgIDx0YWJsZSBzdHlsZT17eyB3aWR0aDogJzEwMCUnLCBib3JkZXJDb2xsYXBzZTogJ2NvbGxhcHNlJyB9fT5cclxuICAgICAgICAgICAgICAgIDx0aGVhZD5cclxuICAgICAgICAgICAgICAgICAgPHRyIHN0eWxlPXt7IGJhY2tncm91bmRDb2xvcjogJ3JnYmEoNTIsIDE1MiwgMjE5LCAwLjIpJyB9fT5cclxuICAgICAgICAgICAgICAgICAgICA8dGggc3R5bGU9e3sgcGFkZGluZzogJzhweCcsIHRleHRBbGlnbjogJ2xlZnQnLCBib3JkZXI6ICcxcHggc29saWQgcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjIpJyB9fT5MYW5lIElEPC90aD5cclxuICAgICAgICAgICAgICAgICAgICA8dGggc3R5bGU9e3sgcGFkZGluZzogJzhweCcsIHRleHRBbGlnbjogJ2xlZnQnLCBib3JkZXI6ICcxcHggc29saWQgcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjIpJyB9fT5Sb2FkIFN0YXJ0IChtKTwvdGg+XHJcbiAgICAgICAgICAgICAgICAgICAgPHRoIHN0eWxlPXt7IHBhZGRpbmc6ICc4cHgnLCB0ZXh0QWxpZ246ICdsZWZ0JywgYm9yZGVyOiAnMXB4IHNvbGlkIHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4yKScgfX0+Um9hZCBFbmQgKG0pPC90aD5cclxuICAgICAgICAgICAgICAgICAgICA8dGggc3R5bGU9e3sgcGFkZGluZzogJzhweCcsIHRleHRBbGlnbjogJ2xlZnQnLCBib3JkZXI6ICcxcHggc29saWQgcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjIpJyB9fT5TZWdtZW50IFN0YXJ0IChtKTwvdGg+XHJcbiAgICAgICAgICAgICAgICAgICAgPHRoIHN0eWxlPXt7IHBhZGRpbmc6ICc4cHgnLCB0ZXh0QWxpZ246ICdsZWZ0JywgYm9yZGVyOiAnMXB4IHNvbGlkIHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4yKScgfX0+U2VnbWVudCBFbmQgKG0pPC90aD5cclxuICAgICAgICAgICAgICAgICAgICA8dGggc3R5bGU9e3sgcGFkZGluZzogJzhweCcsIHRleHRBbGlnbjogJ2xlZnQnLCBib3JkZXI6ICcxcHggc29saWQgcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjIpJyB9fT5TbG9wZSAoJSk8L3RoPlxyXG4gICAgICAgICAgICAgICAgICAgIDx0aCBzdHlsZT17eyBwYWRkaW5nOiAnOHB4JywgdGV4dEFsaWduOiAnbGVmdCcsIGJvcmRlcjogJzFweCBzb2xpZCByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMiknIH19PkVsZXZhdGlvbiBhdCBTdGFydCAobSk8L3RoPlxyXG4gICAgICAgICAgICAgICAgICAgIDx0aCBzdHlsZT17eyBwYWRkaW5nOiAnOHB4JywgdGV4dEFsaWduOiAnbGVmdCcsIGJvcmRlcjogJzFweCBzb2xpZCByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMiknIH19PkVsZXZhdGlvbiBhdCBFbmQgKG0pPC90aD5cclxuICAgICAgICAgICAgICAgICAgICA8dGggc3R5bGU9e3sgcGFkZGluZzogJzhweCcsIHRleHRBbGlnbjogJ2xlZnQnLCBib3JkZXI6ICcxcHggc29saWQgcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjIpJyB9fT5BY3Rpb25zPC90aD5cclxuICAgICAgICAgICAgICAgICAgPC90cj5cclxuICAgICAgICAgICAgICAgIDwvdGhlYWQ+XHJcbiAgICAgICAgICAgICAgICA8dGJvZHk+XHJcbiAgICAgICAgICAgICAgICAgIHsoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIFNvcnQgYnkgbGFuZSBzZWdtZW50IG51bWJlciBmaXJzdCwgdGhlbiBieSBzdGFydF9tZWFzdXJlIHdpdGhpbiBlYWNoIGxhbmVcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBzb3J0ZWRDb25kaXRpb25zID0gWy4uLmNvbmRpdGlvbnNdLnNvcnQoKGEsIGIpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgIC8vIEV4dHJhY3Qgc2VnbWVudCBudW1iZXJzIGZyb20gbGFuZV9pZFxyXG4gICAgICAgICAgICAgICAgICAgICAgY29uc3QgbWF0Y2hBID0gYS5sYW5lX2lkLm1hdGNoKC9yb2FkX1xcZCtfKFxcZCspXy8pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgY29uc3QgbWF0Y2hCID0gYi5sYW5lX2lkLm1hdGNoKC9yb2FkX1xcZCtfKFxcZCspXy8pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2VnTnVtQSA9IG1hdGNoQSA/IHBhcnNlSW50KG1hdGNoQVsxXSwgMTApIDogOTk5O1xyXG4gICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2VnTnVtQiA9IG1hdGNoQiA/IHBhcnNlSW50KG1hdGNoQlsxXSwgMTApIDogOTk5O1xyXG4gICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICBpZiAoc2VnTnVtQSAhPT0gc2VnTnVtQikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gc2VnTnVtQSAtIHNlZ051bUI7XHJcbiAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAvLyBXaXRoaW4gc2FtZSBsYW5lIHNlZ21lbnQsIHNvcnQgYnkgc3RhcnRfbWVhc3VyZVxyXG4gICAgICAgICAgICAgICAgICAgICAgaWYgKGEuc3RhcnRfbWVhc3VyZSAhPT0gYi5zdGFydF9tZWFzdXJlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBhLnN0YXJ0X21lYXN1cmUgLSBiLnN0YXJ0X21lYXN1cmU7XHJcbiAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYS5lbmRfbWVhc3VyZSAtIGIuZW5kX21lYXN1cmU7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gQ2FsY3VsYXRlIGN1bXVsYXRpdmUgcm9hZCBkaXN0YW5jZXMgZm9yIGVhY2ggbGFuZSBzZWdtZW50XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbGFuZUN1bXVsYXRpdmVEaXN0YW5jZXMgPSBuZXcgTWFwKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGN1bXVsYXRpdmVEaXN0ID0gMDtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBsYW5lR3JvdXBzID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgc29ydGVkQ29uZGl0aW9ucy5mb3JFYWNoKGNvbmQgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgaWYgKCFsYW5lR3JvdXBzW2NvbmQubGFuZV9pZF0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGFuZUdyb3Vwc1tjb25kLmxhbmVfaWRdID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICBsYW5lR3JvdXBzW2NvbmQubGFuZV9pZF0ucHVzaChjb25kKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAvLyBDYWxjdWxhdGUgY3VtdWxhdGl2ZSBkaXN0YW5jZSBmb3IgZWFjaCBsYW5lIHVzaW5nIGFjdHVhbCBsYW5lX2xlbmd0aFxyXG4gICAgICAgICAgICAgICAgICAgIE9iamVjdC5rZXlzKGxhbmVHcm91cHMpLnNvcnQoKGEsIGIpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG1hdGNoQSA9IGEubWF0Y2goL3JvYWRfXFxkK18oXFxkKylfLyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICBjb25zdCBtYXRjaEIgPSBiLm1hdGNoKC9yb2FkX1xcZCtfKFxcZCspXy8pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2VnTnVtQSA9IG1hdGNoQSA/IHBhcnNlSW50KG1hdGNoQVsxXSwgMTApIDogOTk5O1xyXG4gICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2VnTnVtQiA9IG1hdGNoQiA/IHBhcnNlSW50KG1hdGNoQlsxXSwgMTApIDogOTk5O1xyXG4gICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNlZ051bUEgLSBzZWdOdW1CO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pLmZvckVhY2gobGFuZUlkID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgIGlmICghbGFuZUN1bXVsYXRpdmVEaXN0YW5jZXMuaGFzKGxhbmVJZCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGFuZUN1bXVsYXRpdmVEaXN0YW5jZXMuc2V0KGxhbmVJZCwgY3VtdWxhdGl2ZURpc3QpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBVc2UgYWN0dWFsIGxhbmVfbGVuZ3RoIGZyb20gZGF0YWJhc2UsIG5vdCBtYXggZW5kX21lYXN1cmVcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbGFuZUxlbmd0aCA9IGxhbmVHcm91cHNbbGFuZUlkXVswXT8ubGFuZV9sZW5ndGggfHwgMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY3VtdWxhdGl2ZURpc3QgKz0gbGFuZUxlbmd0aDtcclxuICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gc29ydGVkQ29uZGl0aW9ucy5tYXAoKGNvbmQpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgIC8vIEdldCBjdW11bGF0aXZlIHJvYWQgZGlzdGFuY2UgZm9yIHRoaXMgbGFuZSBzZWdtZW50XHJcbiAgICAgICAgICAgICAgICAgICAgICBjb25zdCBsYW5lU3RhcnREaXN0ID0gbGFuZUN1bXVsYXRpdmVEaXN0YW5jZXMuZ2V0KGNvbmQubGFuZV9pZCkgfHwgMDtcclxuICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJvYWRTdGFydERpc3QgPSBsYW5lU3RhcnREaXN0ICsgY29uZC5zdGFydF9tZWFzdXJlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgY29uc3Qgcm9hZEVuZERpc3QgPSBsYW5lU3RhcnREaXN0ICsgY29uZC5lbmRfbWVhc3VyZTtcclxuICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgLy8gQ2FsY3VsYXRlIGVsZXZhdGlvbiBhdCB0aGVzZSBjdW11bGF0aXZlIHJvYWQgZGlzdGFuY2VzXHJcbiAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzdGFydEVsZXZhdGlvbiA9IGNhbGN1bGF0ZUVsZXZhdGlvbkF0RGlzdGFuY2Uocm9hZFN0YXJ0RGlzdCwgY29uZGl0aW9ucyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICBjb25zdCBlbmRFbGV2YXRpb24gPSBjYWxjdWxhdGVFbGV2YXRpb25BdERpc3RhbmNlKHJvYWRFbmREaXN0LCBjb25kaXRpb25zKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgICAgICAgICAgIDx0ciBrZXk9e2NvbmQuY29uZGl0aW9uX2lkfSBzdHlsZT17eyBib3JkZXJCb3R0b206ICcxcHggc29saWQgcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjEpJyB9fT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPHRkIHN0eWxlPXt7IHBhZGRpbmc6ICc4cHgnLCBib3JkZXI6ICcxcHggc29saWQgcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjEpJyB9fT57Y29uZC5sYW5lX2lkfTwvdGQ+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDx0ZCBzdHlsZT17eyBwYWRkaW5nOiAnOHB4JywgYm9yZGVyOiAnMXB4IHNvbGlkIHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4xKScgfX0+e3JvYWRTdGFydERpc3QudG9GaXhlZCgyKX08L3RkPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8dGQgc3R5bGU9e3sgcGFkZGluZzogJzhweCcsIGJvcmRlcjogJzFweCBzb2xpZCByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMSknIH19Pntyb2FkRW5kRGlzdC50b0ZpeGVkKDIpfTwvdGQ+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDx0ZCBzdHlsZT17eyBwYWRkaW5nOiAnOHB4JywgYm9yZGVyOiAnMXB4IHNvbGlkIHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4xKScgfX0+e2NvbmQuc3RhcnRfbWVhc3VyZS50b0ZpeGVkKDIpfTwvdGQ+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDx0ZCBzdHlsZT17eyBwYWRkaW5nOiAnOHB4JywgYm9yZGVyOiAnMXB4IHNvbGlkIHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4xKScgfX0+e2NvbmQuZW5kX21lYXN1cmUudG9GaXhlZCgyKX08L3RkPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8dGQgc3R5bGU9e3sgcGFkZGluZzogJzhweCcsIGJvcmRlcjogJzFweCBzb2xpZCByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMSknIH19PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtlZGl0aW5nSWQgPT09IGNvbmQuY29uZGl0aW9uX2lkID8gKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJudW1iZXJcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17ZWRpdFZhbHVlfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHNldEVkaXRWYWx1ZShlLnRhcmdldC52YWx1ZSl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0ZXA9XCIwLjFcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiAnODBweCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFkZGluZzogJzRweCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiAnNHB4JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib3JkZXI6ICcxcHggc29saWQgIzU1NScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiAnIzJjMmMyYycsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6ICd3aGl0ZSdcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgKSA6IChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIHN0eWxlPXt7IGNvbG9yOiBwYXJzZUZsb2F0KGNvbmQuY29uZGl0aW9uX3ZhbHVlKSA+PSAwID8gJyMyRUNDNzEnIDogJyNFNzRDM0MnIH19PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7cGFyc2VGbG9hdChjb25kLmNvbmRpdGlvbl92YWx1ZSkudG9GaXhlZCgyKX0lXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC90ZD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPHRkIHN0eWxlPXt7IHBhZGRpbmc6ICc4cHgnLCBib3JkZXI6ICcxcHggc29saWQgcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjEpJyB9fT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICB7c3RhcnRFbGV2YXRpb24udG9GaXhlZCgyKX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC90ZD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPHRkIHN0eWxlPXt7IHBhZGRpbmc6ICc4cHgnLCBib3JkZXI6ICcxcHggc29saWQgcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjEpJyB9fT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICB7ZW5kRWxldmF0aW9uLnRvRml4ZWQoMil9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvdGQ+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDx0ZCBzdHlsZT17eyBwYWRkaW5nOiAnOHB4JywgYm9yZGVyOiAnMXB4IHNvbGlkIHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4xKScgfX0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAge2VkaXRpbmdJZCA9PT0gY29uZC5jb25kaXRpb25faWQgPyAoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IGRpc3BsYXk6ICdmbGV4JywgZ2FwOiAnNHB4JyB9fT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IGhhbmRsZVNhdmUoY29uZC5jb25kaXRpb25faWQpfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXtzYXZpbmd9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6ICc0cHggOHB4JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6ICcjMkVDQzcxJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiAnd2hpdGUnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9yZGVyOiAnbm9uZScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib3JkZXJSYWRpdXM6ICc0cHgnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3Vyc29yOiBzYXZpbmcgPyAnbm90LWFsbG93ZWQnIDogJ3BvaW50ZXInLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9udFNpemU6ICcxMnB4J1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7c2F2aW5nID8gJ1NhdmluZy4uLicgOiAnU2F2ZSd9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17aGFuZGxlQ2FuY2VsfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOiAnNHB4IDhweCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiAnIzk1YTVhNicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogJ3doaXRlJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlcjogJ25vbmUnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiAnNHB4JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnNvcjogJ3BvaW50ZXInLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9udFNpemU6ICcxMnB4J1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBDYW5jZWxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICApIDogc3BsaXR0aW5nSWQgPT09IGNvbmQuY29uZGl0aW9uX2lkID8gKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBkaXNwbGF5OiAnZmxleCcsIGZsZXhEaXJlY3Rpb246ICdjb2x1bW4nLCBnYXA6ICc0cHgnIH19PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwibnVtYmVyXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17c3BsaXRQb2ludH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHNldFNwbGl0UG9pbnQoZS50YXJnZXQudmFsdWUpfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiU3BsaXQgcG9pbnRcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0ZXA9XCIwLjFcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogJzEwMHB4JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6ICc0cHgnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiAnNHB4JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlcjogJzFweCBzb2xpZCAjNTU1JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogJyMyYzJjMmMnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6ICd3aGl0ZScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb250U2l6ZTogJzExcHgnXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBkaXNwbGF5OiAnZmxleCcsIGdhcDogJzRweCcgfX0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gaGFuZGxlU3BsaXQoY29uZCl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17c2F2aW5nfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFkZGluZzogJzRweCA4cHgnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiAnI0U2N0UyMicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiAnd2hpdGUnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib3JkZXI6ICdub25lJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiAnNHB4JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3Vyc29yOiBzYXZpbmcgPyAnbm90LWFsbG93ZWQnIDogJ3BvaW50ZXInLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb250U2l6ZTogJzExcHgnXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtzYXZpbmcgPyAnU3BsaXR0aW5nLi4uJyA6ICdTcGxpdCd9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17aGFuZGxlQ2FuY2VsfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFkZGluZzogJzRweCA4cHgnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiAnIzk1YTVhNicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiAnd2hpdGUnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib3JkZXI6ICdub25lJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiAnNHB4JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3Vyc29yOiAncG9pbnRlcicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvbnRTaXplOiAnMTFweCdcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQ2FuY2VsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgKSA6IChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgZGlzcGxheTogJ2ZsZXgnLCBnYXA6ICc0cHgnLCBmbGV4V3JhcDogJ3dyYXAnIH19PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gaGFuZGxlRWRpdChjb25kKX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFkZGluZzogJzRweCA4cHgnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZDogJyMzNDk4ZGInLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6ICd3aGl0ZScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib3JkZXI6ICdub25lJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlclJhZGl1czogJzRweCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJzb3I6ICdwb2ludGVyJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvbnRTaXplOiAnMTFweCdcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRWRpdFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldFNwbGl0dGluZ0lkKGNvbmQuY29uZGl0aW9uX2lkKX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFkZGluZzogJzRweCA4cHgnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZDogJyNFNjdFMjInLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6ICd3aGl0ZScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib3JkZXI6ICdub25lJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlclJhZGl1czogJzRweCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJzb3I6ICdwb2ludGVyJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvbnRTaXplOiAnMTFweCdcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgU3BsaXRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBoYW5kbGVEZWxldGUoY29uZC5jb25kaXRpb25faWQpfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXtzYXZpbmd9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6ICc0cHggOHB4JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6ICcjRTc0QzNDJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiAnd2hpdGUnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9yZGVyOiAnbm9uZScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib3JkZXJSYWRpdXM6ICc0cHgnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3Vyc29yOiBzYXZpbmcgPyAnbm90LWFsbG93ZWQnIDogJ3BvaW50ZXInLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9udFNpemU6ICcxMXB4J1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWxldGVcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICApfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L3RkPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPC90cj5cclxuICAgICAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgfSkoKX1cclxuICAgICAgICAgICAgICAgICAgey8qIEFkZCBuZXcgc2VnbWVudCByb3cgKi99XHJcbiAgICAgICAgICAgICAgICAgIHthZGRpbmdOZXcgJiYgKFxyXG4gICAgICAgICAgICAgICAgICAgIDx0ciBzdHlsZT17eyBib3JkZXJCb3R0b206ICcxcHggc29saWQgcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjEpJywgYmFja2dyb3VuZENvbG9yOiAncmdiYSg0NiwgMjA0LCAxMTMsIDAuMSknIH19PlxyXG4gICAgICAgICAgICAgICAgICAgICAgPHRkIHN0eWxlPXt7IHBhZGRpbmc6ICc4cHgnLCBib3JkZXI6ICcxcHggc29saWQgcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjEpJyB9fT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1cInRleHRcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXtuZXdTZWdtZW50LmxhbmVfaWR9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXROZXdTZWdtZW50KHsgLi4ubmV3U2VnbWVudCwgbGFuZV9pZDogZS50YXJnZXQudmFsdWUgfSl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJsYW5lX2lkXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6ICcxNTBweCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOiAnNHB4JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlclJhZGl1czogJzRweCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBib3JkZXI6ICcxcHggc29saWQgIzU1NScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICcjMmMyYzJjJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiAnd2hpdGUnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9udFNpemU6ICcxMXB4J1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8L3RkPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPHRkIHN0eWxlPXt7IHBhZGRpbmc6ICc4cHgnLCBib3JkZXI6ICcxcHggc29saWQgcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjEpJyB9fT4tPC90ZD5cclxuICAgICAgICAgICAgICAgICAgICAgIDx0ZCBzdHlsZT17eyBwYWRkaW5nOiAnOHB4JywgYm9yZGVyOiAnMXB4IHNvbGlkIHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4xKScgfX0+LTwvdGQ+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8dGQgc3R5bGU9e3sgcGFkZGluZzogJzhweCcsIGJvcmRlcjogJzFweCBzb2xpZCByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMSknIH19PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwibnVtYmVyXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17bmV3U2VnbWVudC5zdGFydF9tZWFzdXJlfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0TmV3U2VnbWVudCh7IC4uLm5ld1NlZ21lbnQsIHN0YXJ0X21lYXN1cmU6IGUudGFyZ2V0LnZhbHVlIH0pfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiU3RhcnRcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHN0ZXA9XCIwLjFcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogJzgwcHgnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFkZGluZzogJzRweCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBib3JkZXJSYWRpdXM6ICc0cHgnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9yZGVyOiAnMXB4IHNvbGlkICM1NTUnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiAnIzJjMmMyYycsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogJ3doaXRlJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvbnRTaXplOiAnMTFweCdcclxuICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPC90ZD5cclxuICAgICAgICAgICAgICAgICAgICAgIDx0ZCBzdHlsZT17eyBwYWRkaW5nOiAnOHB4JywgYm9yZGVyOiAnMXB4IHNvbGlkIHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4xKScgfX0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJudW1iZXJcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXtuZXdTZWdtZW50LmVuZF9tZWFzdXJlfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0TmV3U2VnbWVudCh7IC4uLm5ld1NlZ21lbnQsIGVuZF9tZWFzdXJlOiBlLnRhcmdldC52YWx1ZSB9KX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIkVuZFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc3RlcD1cIjAuMVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiAnODBweCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOiAnNHB4JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlclJhZGl1czogJzRweCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBib3JkZXI6ICcxcHggc29saWQgIzU1NScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICcjMmMyYzJjJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiAnd2hpdGUnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9udFNpemU6ICcxMXB4J1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8L3RkPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPHRkIHN0eWxlPXt7IHBhZGRpbmc6ICc4cHgnLCBib3JkZXI6ICcxcHggc29saWQgcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjEpJyB9fT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1cIm51bWJlclwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e25ld1NlZ21lbnQuY29uZGl0aW9uX3ZhbHVlfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0TmV3U2VnbWVudCh7IC4uLm5ld1NlZ21lbnQsIGNvbmRpdGlvbl92YWx1ZTogZS50YXJnZXQudmFsdWUgfSl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJTbG9wZSAlXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBzdGVwPVwiMC4xXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6ICc4MHB4JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6ICc0cHgnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiAnNHB4JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlcjogJzFweCBzb2xpZCAjNTU1JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogJyMyYzJjMmMnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6ICd3aGl0ZScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb250U2l6ZTogJzExcHgnXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgICAgICAgIDwvdGQ+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8dGQgc3R5bGU9e3sgcGFkZGluZzogJzhweCcsIGJvcmRlcjogJzFweCBzb2xpZCByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMSknIH19Pi08L3RkPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPHRkIHN0eWxlPXt7IHBhZGRpbmc6ICc4cHgnLCBib3JkZXI6ICcxcHggc29saWQgcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjEpJyB9fT4tPC90ZD5cclxuICAgICAgICAgICAgICAgICAgICAgIDx0ZCBzdHlsZT17eyBwYWRkaW5nOiAnOHB4JywgYm9yZGVyOiAnMXB4IHNvbGlkIHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4xKScgfX0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgZGlzcGxheTogJ2ZsZXgnLCBnYXA6ICc0cHgnIH19PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZUFkZH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXtzYXZpbmd9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOiAnNHB4IDhweCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6ICcjMkVDQzcxJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6ICd3aGl0ZScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlcjogJ25vbmUnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib3JkZXJSYWRpdXM6ICc0cHgnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJzb3I6IHNhdmluZyA/ICdub3QtYWxsb3dlZCcgOiAncG9pbnRlcicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvbnRTaXplOiAnMTFweCdcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge3NhdmluZyA/ICdBZGRpbmcuLi4nIDogJ0FkZCd9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17aGFuZGxlQ2FuY2VsfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFkZGluZzogJzRweCA4cHgnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiAnIzk1YTVhNicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiAnd2hpdGUnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib3JkZXI6ICdub25lJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiAnNHB4JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3Vyc29yOiAncG9pbnRlcicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvbnRTaXplOiAnMTFweCdcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgQ2FuY2VsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgPC90ZD5cclxuICAgICAgICAgICAgICAgICAgICA8L3RyPlxyXG4gICAgICAgICAgICAgICAgICApfVxyXG4gICAgICAgICAgICAgICAgPC90Ym9keT5cclxuICAgICAgICAgICAgICA8L3RhYmxlPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDwvPlxyXG4gICAgICApfVxyXG4gICAgPC9kaXY+XHJcbiAgKTtcclxufVxyXG5cclxuXHJcblxyXG5cclxuXHJcbiJdLCJuYW1lcyI6WyJ1c2VTdGF0ZSIsInVzZUVmZmVjdCIsIlJFRkVSRU5DRV9FTEVWQVRJT04iLCJSb2FkUHJvZmlsZVZpZXdlciIsInJvYWRJZCIsIm9uQ2xvc2UiLCJjb25kaXRpb25zIiwic2V0Q29uZGl0aW9ucyIsInRvdGFsUm9hZExlbmd0aCIsInNldFRvdGFsUm9hZExlbmd0aCIsImxvYWRpbmciLCJzZXRMb2FkaW5nIiwiZWRpdGluZ0lkIiwic2V0RWRpdGluZ0lkIiwiZWRpdFZhbHVlIiwic2V0RWRpdFZhbHVlIiwic2F2aW5nIiwic2V0U2F2aW5nIiwic3BsaXR0aW5nSWQiLCJzZXRTcGxpdHRpbmdJZCIsInNwbGl0UG9pbnQiLCJzZXRTcGxpdFBvaW50IiwiYWRkaW5nTmV3Iiwic2V0QWRkaW5nTmV3IiwibmV3U2VnbWVudCIsInNldE5ld1NlZ21lbnQiLCJsYW5lX2lkIiwic3RhcnRfbWVhc3VyZSIsImVuZF9tZWFzdXJlIiwiY29uZGl0aW9uX3ZhbHVlIiwiZmV0Y2hDb25kaXRpb25zIiwicmVzcG9uc2UiLCJmZXRjaCIsIm9rIiwiRXJyb3IiLCJkYXRhIiwianNvbiIsIkFycmF5IiwiaXNBcnJheSIsInRvdGFsX3JvYWRfbGVuZ3RoIiwiZXJyb3IiLCJjb25zb2xlIiwiY2FsY3VsYXRlRWxldmF0aW9uQXREaXN0YW5jZSIsImN1bXVsYXRpdmVEaXN0YW5jZSIsImFsbENvbmRpdGlvbnMiLCJlbGV2YXRpb24iLCJjdXJyZW50RGlzdGFuY2UiLCJsYW5lR3JvdXBzIiwiZm9yRWFjaCIsImNvbmQiLCJwdXNoIiwibGFuZUVudHJpZXMiLCJPYmplY3QiLCJlbnRyaWVzIiwibWFwIiwibGFuZUlkIiwiY29uZHMiLCJtYXRjaCIsInNlZ051bSIsInBhcnNlSW50IiwibGFuZUxlbmd0aCIsImxhbmVfbGVuZ3RoIiwic29ydCIsImEiLCJiIiwic29ydGVkQ29uZHMiLCJsYW5lU3RhcnREaXN0YW5jZSIsImNvbmRTdGFydERpc3QiLCJjb25kRW5kRGlzdCIsImRpc3RJbkNvbmRpdGlvbiIsInNsb3BlIiwicGFyc2VGbG9hdCIsImNvbmRMZW5ndGgiLCJnZW5lcmF0ZVByb2ZpbGVEYXRhIiwibGVuZ3RoIiwibGFuZUN1bXVsYXRpdmVEaXN0YW5jZXMiLCJNYXAiLCJjdW11bGF0aXZlRGlzdCIsInNldCIsImNhbGN1bGF0ZWRUb3RhbExlbmd0aCIsImRpc3RhbmNlUG9pbnRzIiwiU2V0IiwiYWRkIiwibGFuZVN0YXJ0RGlzdCIsImdldCIsInNvcnRlZERpc3RhbmNlcyIsImZyb20iLCJyZXN1bHRQcm9maWxlRGF0YSIsImkiLCJkaXN0YW5jZSIsIm1hdGNoaW5nQ29uZGl0aW9uIiwiZmluZCIsImNvbmRTdGFydCIsImNvbmRFbmQiLCJjb25kaXRpb25faWQiLCJsYXN0UG9pbnQiLCJmaW5hbEVsZXZhdGlvbiIsImhhbmRsZUVkaXQiLCJjb25kaXRpb24iLCJoYW5kbGVTYXZlIiwiY29uZGl0aW9uSWQiLCJ2YWx1ZSIsImlzTmFOIiwiYWxlcnQiLCJtZXRob2QiLCJoZWFkZXJzIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJlcnJvckRhdGEiLCJjYXRjaCIsInJlc3VsdCIsImxvZyIsIm1lc3NhZ2UiLCJoYW5kbGVDYW5jZWwiLCJoYW5kbGVTcGxpdCIsInNwbGl0VmFsdWUiLCJyZXNwb25zZTEiLCJyZXNwb25zZTIiLCJoYW5kbGVEZWxldGUiLCJjb25maXJtIiwiaGFuZGxlQWRkIiwic3RhcnQiLCJlbmQiLCJwcm9maWxlRGF0YSIsIm1heERpc3RhbmNlIiwiTWF0aCIsIm1heCIsInAiLCJtaW5FbGV2YXRpb24iLCJtaW4iLCJtYXhFbGV2YXRpb24iLCJjaGFydFdpZHRoIiwiY2hhcnRIZWlnaHQiLCJwYWRkaW5nIiwicGxvdFdpZHRoIiwicGxvdEhlaWdodCIsImVsZXZhdGlvblJhbmdlIiwic2NhbGVYIiwic2NhbGVZIiwicGF0aERhdGEiLCJqb2luIiwiZGl2Iiwic3R5bGUiLCJwb3NpdGlvbiIsInRvcCIsImxlZnQiLCJyaWdodCIsImJvdHRvbSIsImJhY2tncm91bmRDb2xvciIsImRpc3BsYXkiLCJqdXN0aWZ5Q29udGVudCIsImFsaWduSXRlbXMiLCJ6SW5kZXgiLCJjb2xvciIsImZsZXhEaXJlY3Rpb24iLCJvdmVyZmxvdyIsIm1hcmdpbkJvdHRvbSIsImgyIiwibWFyZ2luIiwiYnV0dG9uIiwib25DbGljayIsImJhY2tncm91bmQiLCJib3JkZXIiLCJib3JkZXJSYWRpdXMiLCJjdXJzb3IiLCJmb250V2VpZ2h0IiwiZm9udFNpemUiLCJ0ZXh0QWxpZ24iLCJoMyIsIm1hcmdpblRvcCIsInN2ZyIsIndpZHRoIiwiaGVpZ2h0IiwidCIsImxpbmUiLCJ4MSIsInkxIiwieDIiLCJ5MiIsInN0cm9rZSIsInN0cm9rZVdpZHRoIiwidGV4dCIsIngiLCJ5IiwiZmlsbCIsInRleHRBbmNob3IiLCJkb21pbmFudEJhc2VsaW5lIiwidG9GaXhlZCIsInRyYW5zZm9ybSIsInBhdGgiLCJkIiwicG9pbnQiLCJpZHgiLCJjaXJjbGUiLCJjeCIsImN5IiwiciIsImZpcnN0TGFuZSIsIm92ZXJmbG93WCIsInRhYmxlIiwiYm9yZGVyQ29sbGFwc2UiLCJ0aGVhZCIsInRyIiwidGgiLCJ0Ym9keSIsInNvcnRlZENvbmRpdGlvbnMiLCJtYXRjaEEiLCJtYXRjaEIiLCJzZWdOdW1BIiwic2VnTnVtQiIsImtleXMiLCJoYXMiLCJyb2FkU3RhcnREaXN0Iiwicm9hZEVuZERpc3QiLCJzdGFydEVsZXZhdGlvbiIsImVuZEVsZXZhdGlvbiIsImJvcmRlckJvdHRvbSIsInRkIiwiaW5wdXQiLCJ0eXBlIiwib25DaGFuZ2UiLCJlIiwidGFyZ2V0Iiwic3RlcCIsInNwYW4iLCJnYXAiLCJkaXNhYmxlZCIsInBsYWNlaG9sZGVyIiwiZmxleFdyYXAiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./components/RoadProfileViewer.js\n");

/***/ }),

/***/ "./components/TopMenuBar.js":
/*!**********************************!*\
  !*** ./components/TopMenuBar.js ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ TopMenuBar)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n\n\n/**\r\n * Top menu bar (copied from Frontrunner) with Tools dropdown.\r\n */ function TopMenuBar({ onComputePath, onShowIntersectionCurves, onManageProfiles, onToggleCornerPoints, onToggleCenterPoints, showCornerPoints, showCenterPoints, onMeasureDistance, onMeasureArea }) {\n    const [openMenu, setOpenMenu] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const handleMenuClick = (menuName)=>{\n        setOpenMenu(openMenu === menuName ? null : menuName);\n    };\n    const closeMenu = ()=>{\n        setOpenMenu(null);\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n        children: [\n            openMenu && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                onClick: closeMenu,\n                style: {\n                    position: \"fixed\",\n                    top: 0,\n                    left: 0,\n                    right: 0,\n                    bottom: 0,\n                    zIndex: 998\n                }\n            }, void 0, false, {\n                fileName: \"/app/components/TopMenuBar.js\",\n                lineNumber: 30,\n                columnNumber: 9\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                style: {\n                    position: \"fixed\",\n                    top: 0,\n                    left: 0,\n                    right: 0,\n                    height: \"40px\",\n                    backgroundColor: \"#1a252f\",\n                    borderBottom: \"1px solid #2c3e50\",\n                    display: \"flex\",\n                    alignItems: \"stretch\",\n                    zIndex: 999,\n                    boxShadow: \"0 2px 8px rgba(0, 0, 0, 0.3)\",\n                    fontFamily: `'Inter', 'Segoe UI', Arial, sans-serif`,\n                    fontSize: \"14px\"\n                },\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    style: {\n                        display: \"flex\",\n                        alignItems: \"stretch\"\n                    },\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(MenuButton, {\n                        label: \"Tools\",\n                        isOpen: openMenu === \"tools\",\n                        onClick: ()=>handleMenuClick(\"tools\"),\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(MenuItem, {\n                                label: \"View Profile\",\n                                onSelect: ()=>{\n                                    onManageProfiles?.();\n                                    closeMenu();\n                                }\n                            }, void 0, false, {\n                                fileName: \"/app/components/TopMenuBar.js\",\n                                lineNumber: 64,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(MenuItem, {\n                                label: \"Compute Turn Path\",\n                                onSelect: ()=>{\n                                    onComputePath?.();\n                                    closeMenu();\n                                }\n                            }, void 0, false, {\n                                fileName: \"/app/components/TopMenuBar.js\",\n                                lineNumber: 71,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(MenuItem, {\n                                label: \"Measure Distance\",\n                                onSelect: ()=>{\n                                    onMeasureDistance?.();\n                                    closeMenu();\n                                }\n                            }, void 0, false, {\n                                fileName: \"/app/components/TopMenuBar.js\",\n                                lineNumber: 78,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(MenuItem, {\n                                label: \"Measure Area\",\n                                onSelect: ()=>{\n                                    onMeasureArea?.();\n                                    closeMenu();\n                                }\n                            }, void 0, false, {\n                                fileName: \"/app/components/TopMenuBar.js\",\n                                lineNumber: 85,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/app/components/TopMenuBar.js\",\n                        lineNumber: 59,\n                        columnNumber: 11\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"/app/components/TopMenuBar.js\",\n                    lineNumber: 58,\n                    columnNumber: 9\n                }, this)\n            }, void 0, false, {\n                fileName: \"/app/components/TopMenuBar.js\",\n                lineNumber: 43,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                style: {\n                    height: \"40px\"\n                }\n            }, void 0, false, {\n                fileName: \"/app/components/TopMenuBar.js\",\n                lineNumber: 96,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true);\n}\nfunction MenuButton({ label, isOpen, onClick, children }) {\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        style: {\n            position: \"relative\"\n        },\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                onClick: onClick,\n                style: {\n                    height: \"40px\",\n                    padding: \"0 16px\",\n                    backgroundColor: isOpen ? \"#2c3e50\" : \"transparent\",\n                    color: \"white\",\n                    border: \"none\",\n                    cursor: \"pointer\",\n                    fontSize: \"14px\",\n                    fontWeight: \"500\",\n                    fontFamily: `'Inter', 'Segoe UI', Arial, sans-serif`,\n                    transition: \"background-color 0.15s\",\n                    borderRight: \"1px solid rgba(255, 255, 255, 0.1)\"\n                },\n                onMouseEnter: (e)=>{\n                    if (!isOpen) e.currentTarget.style.backgroundColor = \"rgba(255, 255, 255, 0.05)\";\n                },\n                onMouseLeave: (e)=>{\n                    if (!isOpen) e.currentTarget.style.backgroundColor = \"transparent\";\n                },\n                children: label\n            }, void 0, false, {\n                fileName: \"/app/components/TopMenuBar.js\",\n                lineNumber: 104,\n                columnNumber: 7\n            }, this),\n            isOpen && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                style: {\n                    position: \"absolute\",\n                    top: \"100%\",\n                    left: 0,\n                    minWidth: \"280px\",\n                    backgroundColor: \"#2c3e50\",\n                    border: \"1px solid #34495e\",\n                    borderTop: \"none\",\n                    boxShadow: \"0 4px 12px rgba(0, 0, 0, 0.3)\",\n                    zIndex: 1000,\n                    fontFamily: `'Inter', 'Segoe UI', Arial, sans-serif`,\n                    fontSize: \"14px\"\n                },\n                children: children\n            }, void 0, false, {\n                fileName: \"/app/components/TopMenuBar.js\",\n                lineNumber: 130,\n                columnNumber: 9\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/app/components/TopMenuBar.js\",\n        lineNumber: 103,\n        columnNumber: 5\n    }, this);\n}\nfunction MenuItem({ icon, label, description, checked, onSelect }) {\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        onClick: onSelect,\n        style: {\n            padding: \"12px 16px\",\n            cursor: \"pointer\",\n            transition: \"background-color 0.15s\",\n            display: \"flex\",\n            alignItems: \"flex-start\",\n            gap: \"12px\",\n            fontFamily: `'Inter', 'Segoe UI', Arial, sans-serif`\n        },\n        onMouseEnter: (e)=>{\n            e.currentTarget.style.backgroundColor = \"#34495e\";\n        },\n        onMouseLeave: (e)=>{\n            e.currentTarget.style.backgroundColor = \"transparent\";\n        },\n        children: [\n            checked !== undefined && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                style: {\n                    width: \"16px\",\n                    height: \"16px\",\n                    border: \"2px solid #3498db\",\n                    borderRadius: \"3px\",\n                    display: \"flex\",\n                    alignItems: \"center\",\n                    justifyContent: \"center\",\n                    backgroundColor: checked ? \"#3498db\" : \"transparent\",\n                    flexShrink: 0,\n                    marginTop: \"2px\"\n                },\n                children: checked && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                    style: {\n                        color: \"white\",\n                        fontSize: \"12px\"\n                    },\n                    children: \"✓\"\n                }, void 0, false, {\n                    fileName: \"/app/components/TopMenuBar.js\",\n                    lineNumber: 183,\n                    columnNumber: 23\n                }, this)\n            }, void 0, false, {\n                fileName: \"/app/components/TopMenuBar.js\",\n                lineNumber: 171,\n                columnNumber: 9\n            }, this),\n            icon && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                style: {\n                    fontSize: \"16px\",\n                    flexShrink: 0\n                },\n                children: icon\n            }, void 0, false, {\n                fileName: \"/app/components/TopMenuBar.js\",\n                lineNumber: 188,\n                columnNumber: 9\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                style: {\n                    flex: 1\n                },\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        style: {\n                            color: \"white\",\n                            fontSize: \"14px\",\n                            fontWeight: \"500\",\n                            marginBottom: description ? \"4px\" : 0\n                        },\n                        children: label\n                    }, void 0, false, {\n                        fileName: \"/app/components/TopMenuBar.js\",\n                        lineNumber: 194,\n                        columnNumber: 9\n                    }, this),\n                    description && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        style: {\n                            color: \"#95a5a6\",\n                            fontSize: \"12px\",\n                            lineHeight: \"1.3\"\n                        },\n                        children: description\n                    }, void 0, false, {\n                        fileName: \"/app/components/TopMenuBar.js\",\n                        lineNumber: 203,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/app/components/TopMenuBar.js\",\n                lineNumber: 193,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/app/components/TopMenuBar.js\",\n        lineNumber: 152,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LE9BQU87NEJBQ1BULFVBQVU7NEJBQ1ZZLFlBQVk7NEJBQ1pxQixjQUFjWCxjQUFjLFFBQVE7d0JBQ3RDO2tDQUNHcEI7Ozs7OztvQkFFRm9CLDZCQUNDLDhEQUFDdEM7d0JBQUlFLE9BQU87NEJBQ1Z1QixPQUFPOzRCQUNQVCxVQUFVOzRCQUNWa0MsWUFBWTt3QkFDZDtrQ0FDR1o7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQU1iIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY29tYmluZWQtdWkvLi9jb21wb25lbnRzL1RvcE1lbnVCYXIuanM/ZGRhMyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QsIHsgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCc7XHJcblxyXG4vKipcclxuICogVG9wIG1lbnUgYmFyIChjb3BpZWQgZnJvbSBGcm9udHJ1bm5lcikgd2l0aCBUb29scyBkcm9wZG93bi5cclxuICovXHJcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIFRvcE1lbnVCYXIoe1xyXG4gIG9uQ29tcHV0ZVBhdGgsXHJcbiAgb25TaG93SW50ZXJzZWN0aW9uQ3VydmVzLFxyXG4gIG9uTWFuYWdlUHJvZmlsZXMsXHJcbiAgb25Ub2dnbGVDb3JuZXJQb2ludHMsXHJcbiAgb25Ub2dnbGVDZW50ZXJQb2ludHMsXHJcbiAgc2hvd0Nvcm5lclBvaW50cyxcclxuICBzaG93Q2VudGVyUG9pbnRzLFxyXG4gIG9uTWVhc3VyZURpc3RhbmNlLFxyXG4gIG9uTWVhc3VyZUFyZWFcclxufSkge1xyXG4gIGNvbnN0IFtvcGVuTWVudSwgc2V0T3Blbk1lbnVdID0gdXNlU3RhdGUobnVsbCk7XHJcblxyXG4gIGNvbnN0IGhhbmRsZU1lbnVDbGljayA9IChtZW51TmFtZSkgPT4ge1xyXG4gICAgc2V0T3Blbk1lbnUob3Blbk1lbnUgPT09IG1lbnVOYW1lID8gbnVsbCA6IG1lbnVOYW1lKTtcclxuICB9O1xyXG5cclxuICBjb25zdCBjbG9zZU1lbnUgPSAoKSA9PiB7XHJcbiAgICBzZXRPcGVuTWVudShudWxsKTtcclxuICB9O1xyXG5cclxuICByZXR1cm4gKFxyXG4gICAgPD5cclxuICAgICAge29wZW5NZW51ICYmIChcclxuICAgICAgICA8ZGl2XHJcbiAgICAgICAgICBvbkNsaWNrPXtjbG9zZU1lbnV9XHJcbiAgICAgICAgICBzdHlsZT17e1xyXG4gICAgICAgICAgICBwb3NpdGlvbjogJ2ZpeGVkJyxcclxuICAgICAgICAgICAgdG9wOiAwLFxyXG4gICAgICAgICAgICBsZWZ0OiAwLFxyXG4gICAgICAgICAgICByaWdodDogMCxcclxuICAgICAgICAgICAgYm90dG9tOiAwLFxyXG4gICAgICAgICAgICB6SW5kZXg6IDk5OFxyXG4gICAgICAgICAgfX1cclxuICAgICAgICAvPlxyXG4gICAgICApfVxyXG5cclxuICAgICAgPGRpdiBzdHlsZT17e1xyXG4gICAgICAgIHBvc2l0aW9uOiAnZml4ZWQnLFxyXG4gICAgICAgIHRvcDogMCxcclxuICAgICAgICBsZWZ0OiAwLFxyXG4gICAgICAgIHJpZ2h0OiAwLFxyXG4gICAgICAgIGhlaWdodDogJzQwcHgnLFxyXG4gICAgICAgIGJhY2tncm91bmRDb2xvcjogJyMxYTI1MmYnLFxyXG4gICAgICAgIGJvcmRlckJvdHRvbTogJzFweCBzb2xpZCAjMmMzZTUwJyxcclxuICAgICAgICBkaXNwbGF5OiAnZmxleCcsXHJcbiAgICAgICAgYWxpZ25JdGVtczogJ3N0cmV0Y2gnLFxyXG4gICAgICAgIHpJbmRleDogOTk5LFxyXG4gICAgICAgIGJveFNoYWRvdzogJzAgMnB4IDhweCByZ2JhKDAsIDAsIDAsIDAuMyknLFxyXG4gICAgICAgIGZvbnRGYW1pbHk6IGAnSW50ZXInLCAnU2Vnb2UgVUknLCBBcmlhbCwgc2Fucy1zZXJpZmAsXHJcbiAgICAgICAgZm9udFNpemU6ICcxNHB4J1xyXG4gICAgICB9fT5cclxuICAgICAgICA8ZGl2IHN0eWxlPXt7IGRpc3BsYXk6ICdmbGV4JywgYWxpZ25JdGVtczogJ3N0cmV0Y2gnIH19PlxyXG4gICAgICAgICAgPE1lbnVCdXR0b25cclxuICAgICAgICAgICAgbGFiZWw9XCJUb29sc1wiXHJcbiAgICAgICAgICAgIGlzT3Blbj17b3Blbk1lbnUgPT09ICd0b29scyd9XHJcbiAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IGhhbmRsZU1lbnVDbGljaygndG9vbHMnKX1cclxuICAgICAgICAgID5cclxuICAgICAgICAgICAgPE1lbnVJdGVtXHJcbiAgICAgICAgICAgICAgbGFiZWw9XCJWaWV3IFByb2ZpbGVcIlxyXG4gICAgICAgICAgICAgIG9uU2VsZWN0PXsoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBvbk1hbmFnZVByb2ZpbGVzPy4oKTtcclxuICAgICAgICAgICAgICAgIGNsb3NlTWVudSgpO1xyXG4gICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgIDxNZW51SXRlbVxyXG4gICAgICAgICAgICAgIGxhYmVsPVwiQ29tcHV0ZSBUdXJuIFBhdGhcIlxyXG4gICAgICAgICAgICAgIG9uU2VsZWN0PXsoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBvbkNvbXB1dGVQYXRoPy4oKTtcclxuICAgICAgICAgICAgICAgIGNsb3NlTWVudSgpO1xyXG4gICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgIDxNZW51SXRlbVxyXG4gICAgICAgICAgICAgIGxhYmVsPVwiTWVhc3VyZSBEaXN0YW5jZVwiXHJcbiAgICAgICAgICAgICAgb25TZWxlY3Q9eygpID0+IHtcclxuICAgICAgICAgICAgICAgIG9uTWVhc3VyZURpc3RhbmNlPy4oKTtcclxuICAgICAgICAgICAgICAgIGNsb3NlTWVudSgpO1xyXG4gICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgIDxNZW51SXRlbVxyXG4gICAgICAgICAgICAgIGxhYmVsPVwiTWVhc3VyZSBBcmVhXCJcclxuICAgICAgICAgICAgICBvblNlbGVjdD17KCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgb25NZWFzdXJlQXJlYT8uKCk7XHJcbiAgICAgICAgICAgICAgICBjbG9zZU1lbnUoKTtcclxuICAgICAgICAgICAgICB9fVxyXG4gICAgICAgICAgICAvPlxyXG4gICAgICAgICAgPC9NZW51QnV0dG9uPlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICA8L2Rpdj5cclxuXHJcbiAgICAgIDxkaXYgc3R5bGU9e3sgaGVpZ2h0OiAnNDBweCcgfX0gLz5cclxuICAgIDwvPlxyXG4gICk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIE1lbnVCdXR0b24oeyBsYWJlbCwgaXNPcGVuLCBvbkNsaWNrLCBjaGlsZHJlbiB9KSB7XHJcbiAgcmV0dXJuIChcclxuICAgIDxkaXYgc3R5bGU9e3sgcG9zaXRpb246ICdyZWxhdGl2ZScgfX0+XHJcbiAgICAgIDxidXR0b25cclxuICAgICAgICBvbkNsaWNrPXtvbkNsaWNrfVxyXG4gICAgICAgIHN0eWxlPXt7XHJcbiAgICAgICAgICBoZWlnaHQ6ICc0MHB4JyxcclxuICAgICAgICAgIHBhZGRpbmc6ICcwIDE2cHgnLFxyXG4gICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBpc09wZW4gPyAnIzJjM2U1MCcgOiAndHJhbnNwYXJlbnQnLFxyXG4gICAgICAgICAgY29sb3I6ICd3aGl0ZScsXHJcbiAgICAgICAgICBib3JkZXI6ICdub25lJyxcclxuICAgICAgICAgIGN1cnNvcjogJ3BvaW50ZXInLFxyXG4gICAgICAgICAgZm9udFNpemU6ICcxNHB4JyxcclxuICAgICAgICAgIGZvbnRXZWlnaHQ6ICc1MDAnLFxyXG4gICAgICAgICAgZm9udEZhbWlseTogYCdJbnRlcicsICdTZWdvZSBVSScsIEFyaWFsLCBzYW5zLXNlcmlmYCxcclxuICAgICAgICAgIHRyYW5zaXRpb246ICdiYWNrZ3JvdW5kLWNvbG9yIDAuMTVzJyxcclxuICAgICAgICAgIGJvcmRlclJpZ2h0OiAnMXB4IHNvbGlkIHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4xKSdcclxuICAgICAgICB9fVxyXG4gICAgICAgIG9uTW91c2VFbnRlcj17KGUpID0+IHtcclxuICAgICAgICAgIGlmICghaXNPcGVuKSBlLmN1cnJlbnRUYXJnZXQuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gJ3JnYmEoMjU1LCAyNTUsIDI1NSwgMC4wNSknO1xyXG4gICAgICAgIH19XHJcbiAgICAgICAgb25Nb3VzZUxlYXZlPXsoZSkgPT4ge1xyXG4gICAgICAgICAgaWYgKCFpc09wZW4pIGUuY3VycmVudFRhcmdldC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAndHJhbnNwYXJlbnQnO1xyXG4gICAgICAgIH19XHJcbiAgICAgID5cclxuICAgICAgICB7bGFiZWx9XHJcbiAgICAgIDwvYnV0dG9uPlxyXG5cclxuICAgICAge2lzT3BlbiAmJiAoXHJcbiAgICAgICAgPGRpdiBzdHlsZT17e1xyXG4gICAgICAgICAgcG9zaXRpb246ICdhYnNvbHV0ZScsXHJcbiAgICAgICAgICB0b3A6ICcxMDAlJyxcclxuICAgICAgICAgIGxlZnQ6IDAsXHJcbiAgICAgICAgICBtaW5XaWR0aDogJzI4MHB4JyxcclxuICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogJyMyYzNlNTAnLFxyXG4gICAgICAgICAgYm9yZGVyOiAnMXB4IHNvbGlkICMzNDQ5NWUnLFxyXG4gICAgICAgICAgYm9yZGVyVG9wOiAnbm9uZScsXHJcbiAgICAgICAgICBib3hTaGFkb3c6ICcwIDRweCAxMnB4IHJnYmEoMCwgMCwgMCwgMC4zKScsXHJcbiAgICAgICAgICB6SW5kZXg6IDEwMDAsXHJcbiAgICAgICAgICBmb250RmFtaWx5OiBgJ0ludGVyJywgJ1NlZ29lIFVJJywgQXJpYWwsIHNhbnMtc2VyaWZgLFxyXG4gICAgICAgICAgZm9udFNpemU6ICcxNHB4J1xyXG4gICAgICAgIH19PlxyXG4gICAgICAgICAge2NoaWxkcmVufVxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICApfVxyXG4gICAgPC9kaXY+XHJcbiAgKTtcclxufVxyXG5cclxuZnVuY3Rpb24gTWVudUl0ZW0oeyBpY29uLCBsYWJlbCwgZGVzY3JpcHRpb24sIGNoZWNrZWQsIG9uU2VsZWN0IH0pIHtcclxuICByZXR1cm4gKFxyXG4gICAgPGRpdlxyXG4gICAgICBvbkNsaWNrPXtvblNlbGVjdH1cclxuICAgICAgc3R5bGU9e3tcclxuICAgICAgICBwYWRkaW5nOiAnMTJweCAxNnB4JyxcclxuICAgICAgICBjdXJzb3I6ICdwb2ludGVyJyxcclxuICAgICAgICB0cmFuc2l0aW9uOiAnYmFja2dyb3VuZC1jb2xvciAwLjE1cycsXHJcbiAgICAgICAgZGlzcGxheTogJ2ZsZXgnLFxyXG4gICAgICAgIGFsaWduSXRlbXM6ICdmbGV4LXN0YXJ0JyxcclxuICAgICAgICBnYXA6ICcxMnB4JyxcclxuICAgICAgICBmb250RmFtaWx5OiBgJ0ludGVyJywgJ1NlZ29lIFVJJywgQXJpYWwsIHNhbnMtc2VyaWZgXHJcbiAgICAgIH19XHJcbiAgICAgIG9uTW91c2VFbnRlcj17KGUpID0+IHtcclxuICAgICAgICBlLmN1cnJlbnRUYXJnZXQuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gJyMzNDQ5NWUnO1xyXG4gICAgICB9fVxyXG4gICAgICBvbk1vdXNlTGVhdmU9eyhlKSA9PiB7XHJcbiAgICAgICAgZS5jdXJyZW50VGFyZ2V0LnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICd0cmFuc3BhcmVudCc7XHJcbiAgICAgIH19XHJcbiAgICA+XHJcbiAgICAgIHtjaGVja2VkICE9PSB1bmRlZmluZWQgJiYgKFxyXG4gICAgICAgIDxkaXYgc3R5bGU9e3tcclxuICAgICAgICAgIHdpZHRoOiAnMTZweCcsXHJcbiAgICAgICAgICBoZWlnaHQ6ICcxNnB4JyxcclxuICAgICAgICAgIGJvcmRlcjogJzJweCBzb2xpZCAjMzQ5OGRiJyxcclxuICAgICAgICAgIGJvcmRlclJhZGl1czogJzNweCcsXHJcbiAgICAgICAgICBkaXNwbGF5OiAnZmxleCcsXHJcbiAgICAgICAgICBhbGlnbkl0ZW1zOiAnY2VudGVyJyxcclxuICAgICAgICAgIGp1c3RpZnlDb250ZW50OiAnY2VudGVyJyxcclxuICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogY2hlY2tlZCA/ICcjMzQ5OGRiJyA6ICd0cmFuc3BhcmVudCcsXHJcbiAgICAgICAgICBmbGV4U2hyaW5rOiAwLFxyXG4gICAgICAgICAgbWFyZ2luVG9wOiAnMnB4J1xyXG4gICAgICAgIH19PlxyXG4gICAgICAgICAge2NoZWNrZWQgJiYgPHNwYW4gc3R5bGU9e3sgY29sb3I6ICd3aGl0ZScsIGZvbnRTaXplOiAnMTJweCcgfX0+4pyTPC9zcGFuPn1cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgKX1cclxuXHJcbiAgICAgIHtpY29uICYmIChcclxuICAgICAgICA8c3BhbiBzdHlsZT17eyBmb250U2l6ZTogJzE2cHgnLCBmbGV4U2hyaW5rOiAwIH19PlxyXG4gICAgICAgICAge2ljb259XHJcbiAgICAgICAgPC9zcGFuPlxyXG4gICAgICApfVxyXG5cclxuICAgICAgPGRpdiBzdHlsZT17eyBmbGV4OiAxIH19PlxyXG4gICAgICAgIDxkaXYgc3R5bGU9e3tcclxuICAgICAgICAgIGNvbG9yOiAnd2hpdGUnLFxyXG4gICAgICAgICAgZm9udFNpemU6ICcxNHB4JyxcclxuICAgICAgICAgIGZvbnRXZWlnaHQ6ICc1MDAnLFxyXG4gICAgICAgICAgbWFyZ2luQm90dG9tOiBkZXNjcmlwdGlvbiA/ICc0cHgnIDogMFxyXG4gICAgICAgIH19PlxyXG4gICAgICAgICAge2xhYmVsfVxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICAgIHtkZXNjcmlwdGlvbiAmJiAoXHJcbiAgICAgICAgICA8ZGl2IHN0eWxlPXt7XHJcbiAgICAgICAgICAgIGNvbG9yOiAnIzk1YTVhNicsXHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMTJweCcsXHJcbiAgICAgICAgICAgIGxpbmVIZWlnaHQ6ICcxLjMnXHJcbiAgICAgICAgICB9fT5cclxuICAgICAgICAgICAge2Rlc2NyaXB0aW9ufVxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgKX1cclxuICAgICAgPC9kaXY+XHJcbiAgICA8L2Rpdj5cclxuICApO1xyXG59XHJcblxyXG5cclxuIl0sIm5hbWVzIjpbIlJlYWN0IiwidXNlU3RhdGUiLCJUb3BNZW51QmFyIiwib25Db21wdXRlUGF0aCIsIm9uU2hvd0ludGVyc2VjdGlvbkN1cnZlcyIsIm9uTWFuYWdlUHJvZmlsZXMiLCJvblRvZ2dsZUNvcm5lclBvaW50cyIsIm9uVG9nZ2xlQ2VudGVyUG9pbnRzIiwic2hvd0Nvcm5lclBvaW50cyIsInNob3dDZW50ZXJQb2ludHMiLCJvbk1lYXN1cmVEaXN0YW5jZSIsIm9uTWVhc3VyZUFyZWEiLCJvcGVuTWVudSIsInNldE9wZW5NZW51IiwiaGFuZGxlTWVudUNsaWNrIiwibWVudU5hbWUiLCJjbG9zZU1lbnUiLCJkaXYiLCJvbkNsaWNrIiwic3R5bGUiLCJwb3NpdGlvbiIsInRvcCIsImxlZnQiLCJyaWdodCIsImJvdHRvbSIsInpJbmRleCIsImhlaWdodCIsImJhY2tncm91bmRDb2xvciIsImJvcmRlckJvdHRvbSIsImRpc3BsYXkiLCJhbGlnbkl0ZW1zIiwiYm94U2hhZG93IiwiZm9udEZhbWlseSIsImZvbnRTaXplIiwiTWVudUJ1dHRvbiIsImxhYmVsIiwiaXNPcGVuIiwiTWVudUl0ZW0iLCJvblNlbGVjdCIsImNoaWxkcmVuIiwiYnV0dG9uIiwicGFkZGluZyIsImNvbG9yIiwiYm9yZGVyIiwiY3Vyc29yIiwiZm9udFdlaWdodCIsInRyYW5zaXRpb24iLCJib3JkZXJSaWdodCIsIm9uTW91c2VFbnRlciIsImUiLCJjdXJyZW50VGFyZ2V0Iiwib25Nb3VzZUxlYXZlIiwibWluV2lkdGgiLCJib3JkZXJUb3AiLCJpY29uIiwiZGVzY3JpcHRpb24iLCJjaGVja2VkIiwiZ2FwIiwidW5kZWZpbmVkIiwid2lkdGgiLCJib3JkZXJSYWRpdXMiLCJqdXN0aWZ5Q29udGVudCIsImZsZXhTaHJpbmsiLCJtYXJnaW5Ub3AiLCJzcGFuIiwiZmxleCIsIm1hcmdpbkJvdHRvbSIsImxpbmVIZWlnaHQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./components/TopMenuBar.js\n");

/***/ }),

/***/ "./components/TurnPathDialog.js":
/*!**************************************!*\
  !*** ./components/TurnPathDialog.js ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ TurnPathDialog)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n\n\nfunction TurnPathDialog({ isOpen, onClose, onStartSelection, vehicleProfiles = {}, currentStep = \"profile\" }) {\n    const defaultVehicleProfiles = {\n        komatsu_830e: {\n            name: \"Komatsu 830E\",\n            vehicle_width_m: 7.3,\n            wheelbase_m: 6.35,\n            min_turn_radius_m: 10.2,\n            max_steering_angle_deg: 32\n        }\n    };\n    const [selectedProfile, setSelectedProfile] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"komatsu_830e\");\n    const [useCustom, setUseCustom] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [customValues, setCustomValues] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        name: \"Custom Vehicle\",\n        vehicle_width_m: 7.3,\n        wheelbase_m: 6.35,\n        max_steering_angle_deg: 32.0,\n        side_buffer_m: 0.5,\n        front_buffer_m: 1.0,\n        rear_buffer_m: 1.0\n    });\n    const [samplingStep, setSamplingStep] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(1.0);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (!isOpen) return;\n        const profiles = Object.keys(vehicleProfiles).length > 0 ? vehicleProfiles : defaultVehicleProfiles;\n        if (!profiles[selectedProfile]) {\n            const first = Object.keys(profiles)[0];\n            setSelectedProfile(first);\n        }\n    }, [\n        isOpen,\n        vehicleProfiles,\n        selectedProfile\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const onEsc = (e)=>{\n            if (e.key === \"Escape\" && isOpen) onClose?.();\n        };\n        window.addEventListener(\"keydown\", onEsc);\n        return ()=>window.removeEventListener(\"keydown\", onEsc);\n    }, [\n        isOpen,\n        onClose\n    ]);\n    const shouldShow = currentStep === \"profile\" || currentStep === \"computing\";\n    if (!isOpen || !shouldShow) return null;\n    const profilesToShow = Object.keys(vehicleProfiles).length > 0 ? vehicleProfiles : defaultVehicleProfiles;\n    const handleStartSelection = ()=>{\n        const config = {\n            vehicle_profile_id: useCustom ? null : selectedProfile,\n            custom_vehicle_profile: useCustom ? customValues : null,\n            sampling_step_m: samplingStep\n        };\n        onStartSelection?.(config);\n    };\n    const renderProfileStep = ()=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    style: {\n                        padding: \"20px\",\n                        borderBottom: \"1px solid #34495e\",\n                        backgroundColor: \"#2c3e50\"\n                    },\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                            style: {\n                                margin: 0,\n                                color: \"white\",\n                                fontSize: \"20px\",\n                                fontWeight: \"600\",\n                                display: \"flex\",\n                                alignItems: \"center\",\n                                gap: \"12px\"\n                            },\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                    children: \"\\uD83D\\uDEE3️\"\n                                }, void 0, false, {\n                                    fileName: \"/app/components/TurnPathDialog.js\",\n                                    lineNumber: 82,\n                                    columnNumber: 11\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                    children: \"Compute Turn Path\"\n                                }, void 0, false, {\n                                    fileName: \"/app/components/TurnPathDialog.js\",\n                                    lineNumber: 83,\n                                    columnNumber: 11\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/app/components/TurnPathDialog.js\",\n                            lineNumber: 73,\n                            columnNumber: 9\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                            style: {\n                                margin: \"8px 0 0 0\",\n                                color: \"#95a5a6\",\n                                fontSize: \"14px\"\n                            },\n                            children: \"Configure vehicle parameters and select roads on the map\"\n                        }, void 0, false, {\n                            fileName: \"/app/components/TurnPathDialog.js\",\n                            lineNumber: 85,\n                            columnNumber: 9\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/app/components/TurnPathDialog.js\",\n                    lineNumber: 68,\n                    columnNumber: 7\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    style: {\n                        padding: \"24px\",\n                        maxHeight: \"60vh\",\n                        overflowY: \"auto\"\n                    },\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            style: {\n                                marginBottom: \"24px\"\n                            },\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                    style: {\n                                        display: \"block\",\n                                        color: \"white\",\n                                        fontSize: \"14px\",\n                                        fontWeight: \"500\",\n                                        marginBottom: \"12px\"\n                                    },\n                                    children: \"Vehicle Profile\"\n                                }, void 0, false, {\n                                    fileName: \"/app/components/TurnPathDialog.js\",\n                                    lineNumber: 96,\n                                    columnNumber: 11\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    style: {\n                                        display: \"flex\",\n                                        gap: \"12px\",\n                                        marginBottom: \"16px\"\n                                    },\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                            onClick: ()=>setUseCustom(false),\n                                            style: {\n                                                flex: 1,\n                                                padding: \"12px\",\n                                                backgroundColor: !useCustom ? \"#3498db\" : \"#34495e\",\n                                                color: \"white\",\n                                                border: \"none\",\n                                                borderRadius: \"6px\",\n                                                cursor: \"pointer\",\n                                                fontSize: \"14px\",\n                                                fontWeight: \"500\",\n                                                transition: \"all 0.2s\"\n                                            },\n                                            children: \"Predefined Profile\"\n                                        }, void 0, false, {\n                                            fileName: \"/app/components/TurnPathDialog.js\",\n                                            lineNumber: 109,\n                                            columnNumber: 13\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                            onClick: ()=>setUseCustom(true),\n                                            style: {\n                                                flex: 1,\n                                                padding: \"12px\",\n                                                backgroundColor: useCustom ? \"#3498db\" : \"#34495e\",\n                                                color: \"white\",\n                                                border: \"none\",\n                                                borderRadius: \"6px\",\n                                                cursor: \"pointer\",\n                                                fontSize: \"14px\",\n                                                fontWeight: \"500\",\n                                                transition: \"all 0.2s\"\n                                            },\n                                            children: \"Custom Values\"\n                                        }, void 0, false, {\n                                            fileName: \"/app/components/TurnPathDialog.js\",\n                                            lineNumber: 126,\n                                            columnNumber: 13\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/app/components/TurnPathDialog.js\",\n                                    lineNumber: 108,\n                                    columnNumber: 11\n                                }, this),\n                                !useCustom && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    children: Object.entries(profilesToShow).map(([key, profile])=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            onClick: ()=>setSelectedProfile(key),\n                                            style: {\n                                                padding: \"16px\",\n                                                marginBottom: \"8px\",\n                                                backgroundColor: selectedProfile === key ? \"#2c3e50\" : \"#34495e\",\n                                                border: selectedProfile === key ? \"2px solid #3498db\" : \"2px solid transparent\",\n                                                borderRadius: \"8px\",\n                                                cursor: \"pointer\",\n                                                transition: \"all 0.2s\"\n                                            },\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    style: {\n                                                        display: \"flex\",\n                                                        justifyContent: \"space-between\",\n                                                        alignItems: \"center\",\n                                                        marginBottom: \"8px\"\n                                                    },\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                            style: {\n                                                                color: \"white\",\n                                                                fontSize: \"16px\",\n                                                                fontWeight: \"600\"\n                                                            },\n                                                            children: profile.name\n                                                        }, void 0, false, {\n                                                            fileName: \"/app/components/TurnPathDialog.js\",\n                                                            lineNumber: 170,\n                                                            columnNumber: 21\n                                                        }, this),\n                                                        selectedProfile === key && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                            style: {\n                                                                color: \"#3498db\",\n                                                                fontSize: \"18px\"\n                                                            },\n                                                            children: \"✓\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/app/components/TurnPathDialog.js\",\n                                                            lineNumber: 174,\n                                                            columnNumber: 23\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/app/components/TurnPathDialog.js\",\n                                                    lineNumber: 162,\n                                                    columnNumber: 19\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    style: {\n                                                        display: \"grid\",\n                                                        gridTemplateColumns: \"1fr 1fr\",\n                                                        gap: \"8px\",\n                                                        fontSize: \"13px\",\n                                                        color: \"#95a5a6\"\n                                                    },\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            children: [\n                                                                \"Width: \",\n                                                                profile.vehicle_width_m,\n                                                                \"m\"\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"/app/components/TurnPathDialog.js\",\n                                                            lineNumber: 186,\n                                                            columnNumber: 21\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            children: [\n                                                                \"Wheelbase: \",\n                                                                profile.wheelbase_m,\n                                                                \"m\"\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"/app/components/TurnPathDialog.js\",\n                                                            lineNumber: 187,\n                                                            columnNumber: 21\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            children: [\n                                                                \"Turn Radius: \",\n                                                                profile.min_turn_radius_m.toFixed(1),\n                                                                \"m\"\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"/app/components/TurnPathDialog.js\",\n                                                            lineNumber: 188,\n                                                            columnNumber: 21\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            children: [\n                                                                \"Max Steer: \",\n                                                                profile.max_steering_angle_deg,\n                                                                \"\\xb0\"\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"/app/components/TurnPathDialog.js\",\n                                                            lineNumber: 189,\n                                                            columnNumber: 21\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/app/components/TurnPathDialog.js\",\n                                                    lineNumber: 177,\n                                                    columnNumber: 19\n                                                }, this)\n                                            ]\n                                        }, key, true, {\n                                            fileName: \"/app/components/TurnPathDialog.js\",\n                                            lineNumber: 148,\n                                            columnNumber: 17\n                                        }, this))\n                                }, void 0, false, {\n                                    fileName: \"/app/components/TurnPathDialog.js\",\n                                    lineNumber: 146,\n                                    columnNumber: 13\n                                }, this),\n                                useCustom && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    style: {\n                                        display: \"grid\",\n                                        gap: \"16px\"\n                                    },\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                    style: {\n                                                        display: \"block\",\n                                                        color: \"#95a5a6\",\n                                                        fontSize: \"13px\"\n                                                    },\n                                                    children: \"Vehicle Name\"\n                                                }, void 0, false, {\n                                                    fileName: \"/app/components/TurnPathDialog.js\",\n                                                    lineNumber: 199,\n                                                    columnNumber: 17\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                    type: \"text\",\n                                                    value: customValues.name,\n                                                    onChange: (e)=>setCustomValues({\n                                                            ...customValues,\n                                                            name: e.target.value\n                                                        }),\n                                                    style: {\n                                                        width: \"100%\",\n                                                        padding: \"10px\",\n                                                        backgroundColor: \"#34495e\",\n                                                        border: \"1px solid #2c3e50\",\n                                                        borderRadius: \"4px\",\n                                                        color: \"white\",\n                                                        fontSize: \"14px\"\n                                                    }\n                                                }, void 0, false, {\n                                                    fileName: \"/app/components/TurnPathDialog.js\",\n                                                    lineNumber: 202,\n                                                    columnNumber: 17\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/app/components/TurnPathDialog.js\",\n                                            lineNumber: 198,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                    style: {\n                                                        display: \"block\",\n                                                        color: \"#95a5a6\",\n                                                        fontSize: \"13px\"\n                                                    },\n                                                    children: \"Vehicle Width (m)\"\n                                                }, void 0, false, {\n                                                    fileName: \"/app/components/TurnPathDialog.js\",\n                                                    lineNumber: 219,\n                                                    columnNumber: 17\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                    type: \"number\",\n                                                    step: \"0.1\",\n                                                    value: customValues.vehicle_width_m,\n                                                    onChange: (e)=>setCustomValues({\n                                                            ...customValues,\n                                                            vehicle_width_m: parseFloat(e.target.value)\n                                                        }),\n                                                    style: {\n                                                        width: \"100%\",\n                                                        padding: \"10px\",\n                                                        backgroundColor: \"#34495e\",\n                                                        border: \"1px solid #2c3e50\",\n                                                        borderRadius: \"4px\",\n                                                        color: \"white\",\n                                                        fontSize: \"14px\"\n                                                    }\n                                                }, void 0, false, {\n                                                    fileName: \"/app/components/TurnPathDialog.js\",\n                                                    lineNumber: 222,\n                                                    columnNumber: 17\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/app/components/TurnPathDialog.js\",\n                                            lineNumber: 218,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                    style: {\n                                                        display: \"block\",\n                                                        color: \"#95a5a6\",\n                                                        fontSize: \"13px\"\n                                                    },\n                                                    children: \"Wheelbase (m)\"\n                                                }, void 0, false, {\n                                                    fileName: \"/app/components/TurnPathDialog.js\",\n                                                    lineNumber: 242,\n                                                    columnNumber: 17\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                    type: \"number\",\n                                                    step: \"0.1\",\n                                                    value: customValues.wheelbase_m,\n                                                    onChange: (e)=>setCustomValues({\n                                                            ...customValues,\n                                                            wheelbase_m: parseFloat(e.target.value)\n                                                        }),\n                                                    style: {\n                                                        width: \"100%\",\n                                                        padding: \"10px\",\n                                                        backgroundColor: \"#34495e\",\n                                                        border: \"1px solid #2c3e50\",\n                                                        borderRadius: \"4px\",\n                                                        color: \"white\",\n                                                        fontSize: \"14px\"\n                                                    }\n                                                }, void 0, false, {\n                                                    fileName: \"/app/components/TurnPathDialog.js\",\n                                                    lineNumber: 245,\n                                                    columnNumber: 17\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/app/components/TurnPathDialog.js\",\n                                            lineNumber: 241,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                    style: {\n                                                        display: \"block\",\n                                                        color: \"#95a5a6\",\n                                                        fontSize: \"13px\"\n                                                    },\n                                                    children: \"Max Steering Angle (degrees)\"\n                                                }, void 0, false, {\n                                                    fileName: \"/app/components/TurnPathDialog.js\",\n                                                    lineNumber: 265,\n                                                    columnNumber: 17\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                    type: \"number\",\n                                                    step: \"1\",\n                                                    value: customValues.max_steering_angle_deg,\n                                                    onChange: (e)=>setCustomValues({\n                                                            ...customValues,\n                                                            max_steering_angle_deg: parseFloat(e.target.value)\n                                                        }),\n                                                    style: {\n                                                        width: \"100%\",\n                                                        padding: \"10px\",\n                                                        backgroundColor: \"#34495e\",\n                                                        border: \"1px solid #2c3e50\",\n                                                        borderRadius: \"4px\",\n                                                        color: \"white\",\n                                                        fontSize: \"14px\"\n                                                    }\n                                                }, void 0, false, {\n                                                    fileName: \"/app/components/TurnPathDialog.js\",\n                                                    lineNumber: 268,\n                                                    columnNumber: 17\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/app/components/TurnPathDialog.js\",\n                                            lineNumber: 264,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                    style: {\n                                                        display: \"block\",\n                                                        color: \"#95a5a6\",\n                                                        fontSize: \"13px\"\n                                                    },\n                                                    children: \"Side Safety Buffer (m)\"\n                                                }, void 0, false, {\n                                                    fileName: \"/app/components/TurnPathDialog.js\",\n                                                    lineNumber: 291,\n                                                    columnNumber: 17\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                    type: \"number\",\n                                                    step: \"0.1\",\n                                                    value: customValues.side_buffer_m,\n                                                    onChange: (e)=>setCustomValues({\n                                                            ...customValues,\n                                                            side_buffer_m: parseFloat(e.target.value)\n                                                        }),\n                                                    style: {\n                                                        width: \"100%\",\n                                                        padding: \"10px\",\n                                                        backgroundColor: \"#34495e\",\n                                                        border: \"1px solid #2c3e50\",\n                                                        borderRadius: \"4px\",\n                                                        color: \"white\",\n                                                        fontSize: \"14px\"\n                                                    }\n                                                }, void 0, false, {\n                                                    fileName: \"/app/components/TurnPathDialog.js\",\n                                                    lineNumber: 294,\n                                                    columnNumber: 17\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/app/components/TurnPathDialog.js\",\n                                            lineNumber: 290,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            style: {\n                                                padding: \"12px\",\n                                                backgroundColor: \"#2c3e50\",\n                                                borderRadius: \"6px\",\n                                                border: \"1px solid #3498db\"\n                                            },\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    style: {\n                                                        color: \"#95a5a6\",\n                                                        fontSize: \"13px\",\n                                                        marginBottom: \"4px\"\n                                                    },\n                                                    children: \"Calculated Min Turn Radius\"\n                                                }, void 0, false, {\n                                                    fileName: \"/app/components/TurnPathDialog.js\",\n                                                    lineNumber: 321,\n                                                    columnNumber: 17\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    style: {\n                                                        color: \"#3498db\",\n                                                        fontSize: \"18px\",\n                                                        fontWeight: \"600\"\n                                                    },\n                                                    children: [\n                                                        (customValues.wheelbase_m / Math.tan(customValues.max_steering_angle_deg * Math.PI / 180)).toFixed(2),\n                                                        \" \",\n                                                        \"m\"\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/app/components/TurnPathDialog.js\",\n                                                    lineNumber: 324,\n                                                    columnNumber: 17\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/app/components/TurnPathDialog.js\",\n                                            lineNumber: 313,\n                                            columnNumber: 15\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/app/components/TurnPathDialog.js\",\n                                    lineNumber: 197,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/app/components/TurnPathDialog.js\",\n                            lineNumber: 95,\n                            columnNumber: 9\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                    style: {\n                                        display: \"block\",\n                                        color: \"white\",\n                                        fontSize: \"14px\",\n                                        fontWeight: \"500\",\n                                        marginBottom: \"12px\"\n                                    },\n                                    children: \"Path Resolution\"\n                                }, void 0, false, {\n                                    fileName: \"/app/components/TurnPathDialog.js\",\n                                    lineNumber: 337,\n                                    columnNumber: 11\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    style: {\n                                        display: \"flex\",\n                                        alignItems: \"center\",\n                                        gap: \"12px\"\n                                    },\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                            type: \"range\",\n                                            min: \"0.5\",\n                                            max: \"5\",\n                                            step: \"0.1\",\n                                            value: samplingStep,\n                                            onChange: (e)=>setSamplingStep(parseFloat(e.target.value)),\n                                            style: {\n                                                flex: 1\n                                            }\n                                        }, void 0, false, {\n                                            fileName: \"/app/components/TurnPathDialog.js\",\n                                            lineNumber: 349,\n                                            columnNumber: 13\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            style: {\n                                                color: \"white\",\n                                                fontSize: \"14px\",\n                                                fontWeight: \"600\"\n                                            },\n                                            children: [\n                                                samplingStep.toFixed(1),\n                                                \" m\"\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/app/components/TurnPathDialog.js\",\n                                            lineNumber: 358,\n                                            columnNumber: 13\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/app/components/TurnPathDialog.js\",\n                                    lineNumber: 348,\n                                    columnNumber: 11\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    style: {\n                                        color: \"#95a5a6\",\n                                        fontSize: \"12px\",\n                                        marginTop: \"6px\"\n                                    },\n                                    children: \"Distance between path points (lower = more detailed)\"\n                                }, void 0, false, {\n                                    fileName: \"/app/components/TurnPathDialog.js\",\n                                    lineNumber: 362,\n                                    columnNumber: 11\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/app/components/TurnPathDialog.js\",\n                            lineNumber: 336,\n                            columnNumber: 9\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/app/components/TurnPathDialog.js\",\n                    lineNumber: 94,\n                    columnNumber: 7\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    style: {\n                        padding: \"16px 20px\",\n                        borderTop: \"1px solid #34495e\",\n                        display: \"flex\",\n                        justifyContent: \"space-between\",\n                        alignItems: \"center\",\n                        backgroundColor: \"#1f2b38\"\n                    },\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            onClick: onClose,\n                            style: {\n                                padding: \"10px 16px\",\n                                backgroundColor: \"#34495e\",\n                                color: \"white\",\n                                border: \"1px solid #2c3e50\",\n                                borderRadius: \"6px\",\n                                cursor: \"pointer\",\n                                fontSize: \"14px\",\n                                fontWeight: \"500\"\n                            },\n                            children: \"Cancel\"\n                        }, void 0, false, {\n                            fileName: \"/app/components/TurnPathDialog.js\",\n                            lineNumber: 378,\n                            columnNumber: 9\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            onClick: handleStartSelection,\n                            style: {\n                                padding: \"10px 16px\",\n                                backgroundColor: \"#1abc9c\",\n                                color: \"white\",\n                                border: \"none\",\n                                borderRadius: \"6px\",\n                                cursor: \"pointer\",\n                                fontSize: \"14px\",\n                                fontWeight: \"600\",\n                                minWidth: \"200px\",\n                                display: \"flex\",\n                                alignItems: \"center\",\n                                justifyContent: \"center\",\n                                gap: \"8px\"\n                            },\n                            children: \"Select Roads on Map →\"\n                        }, void 0, false, {\n                            fileName: \"/app/components/TurnPathDialog.js\",\n                            lineNumber: 393,\n                            columnNumber: 9\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/app/components/TurnPathDialog.js\",\n                    lineNumber: 368,\n                    columnNumber: 7\n                }, this)\n            ]\n        }, void 0, true);\n    const renderComputingStep = ()=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            style: {\n                padding: \"32px\",\n                textAlign: \"center\"\n            },\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    style: {\n                        marginBottom: \"12px\",\n                        fontSize: \"18px\",\n                        color: \"white\",\n                        fontWeight: \"600\"\n                    },\n                    children: \"Computing turn path...\"\n                }, void 0, false, {\n                    fileName: \"/app/components/TurnPathDialog.js\",\n                    lineNumber: 419,\n                    columnNumber: 7\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    style: {\n                        color: \"#95a5a6\",\n                        fontSize: \"14px\"\n                    },\n                    children: \"This usually takes a few seconds. Please wait.\"\n                }, void 0, false, {\n                    fileName: \"/app/components/TurnPathDialog.js\",\n                    lineNumber: 429,\n                    columnNumber: 7\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"/app/components/TurnPathDialog.js\",\n            lineNumber: 418,\n            columnNumber: 5\n        }, this);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        style: {\n            position: \"fixed\",\n            top: 0,\n            left: 0,\n            right: 0,\n            bottom: 0,\n            zIndex: 1000,\n            backgroundColor: \"rgba(0, 0, 0, 0.4)\",\n            display: \"flex\",\n            alignItems: \"center\",\n            justifyContent: \"center\",\n            backdropFilter: \"blur(2px)\"\n        },\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            style: {\n                width: \"640px\",\n                backgroundColor: \"#1f2b38\",\n                borderRadius: \"10px\",\n                boxShadow: \"0 10px 32px rgba(0, 0, 0, 0.45)\",\n                overflow: \"hidden\",\n                border: \"1px solid #2c3e50\"\n            },\n            children: currentStep === \"computing\" ? renderComputingStep() : renderProfileStep()\n        }, void 0, false, {\n            fileName: \"/app/components/TurnPathDialog.js\",\n            lineNumber: 451,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"/app/components/TurnPathDialog.js\",\n        lineNumber: 436,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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V0FBVztnQkFDWEMsVUFBVTtnQkFDVnBDLFFBQVE7WUFDVjtzQkFFQzVELGdCQUFnQixjQUFjc0Ysd0JBQXdCakQ7Ozs7Ozs7Ozs7O0FBSS9EIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY29tYmluZWQtdWkvLi9jb21wb25lbnRzL1R1cm5QYXRoRGlhbG9nLmpzPzUwY2EiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0LCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QgfSBmcm9tICdyZWFjdCc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIFR1cm5QYXRoRGlhbG9nKHtcbiAgaXNPcGVuLFxuICBvbkNsb3NlLFxuICBvblN0YXJ0U2VsZWN0aW9uLFxuICB2ZWhpY2xlUHJvZmlsZXMgPSB7fSxcbiAgY3VycmVudFN0ZXAgPSAncHJvZmlsZScsXG59KSB7XG4gIGNvbnN0IGRlZmF1bHRWZWhpY2xlUHJvZmlsZXMgPSB7XG4gICAga29tYXRzdV84MzBlOiB7XG4gICAgICBuYW1lOiAnS29tYXRzdSA4MzBFJyxcbiAgICAgIHZlaGljbGVfd2lkdGhfbTogNy4zLFxuICAgICAgd2hlZWxiYXNlX206IDYuMzUsXG4gICAgICBtaW5fdHVybl9yYWRpdXNfbTogMTAuMixcbiAgICAgIG1heF9zdGVlcmluZ19hbmdsZV9kZWc6IDMyLFxuICAgIH0sXG4gIH07XG5cbiAgY29uc3QgW3NlbGVjdGVkUHJvZmlsZSwgc2V0U2VsZWN0ZWRQcm9maWxlXSA9IHVzZVN0YXRlKCdrb21hdHN1XzgzMGUnKTtcbiAgY29uc3QgW3VzZUN1c3RvbSwgc2V0VXNlQ3VzdG9tXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2N1c3RvbVZhbHVlcywgc2V0Q3VzdG9tVmFsdWVzXSA9IHVzZVN0YXRlKHtcbiAgICBuYW1lOiAnQ3VzdG9tIFZlaGljbGUnLFxuICAgIHZlaGljbGVfd2lkdGhfbTogNy4zLFxuICAgIHdoZWVsYmFzZV9tOiA2LjM1LFxuICAgIG1heF9zdGVlcmluZ19hbmdsZV9kZWc6IDMyLjAsXG4gICAgc2lkZV9idWZmZXJfbTogMC41LFxuICAgIGZyb250X2J1ZmZlcl9tOiAxLjAsXG4gICAgcmVhcl9idWZmZXJfbTogMS4wLFxuICB9KTtcbiAgY29uc3QgW3NhbXBsaW5nU3RlcCwgc2V0U2FtcGxpbmdTdGVwXSA9IHVzZVN0YXRlKDEuMCk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoIWlzT3BlbikgcmV0dXJuO1xuICAgIGNvbnN0IHByb2ZpbGVzID1cbiAgICAgIE9iamVjdC5rZXlzKHZlaGljbGVQcm9maWxlcykubGVuZ3RoID4gMCA/IHZlaGljbGVQcm9maWxlcyA6IGRlZmF1bHRWZWhpY2xlUHJvZmlsZXM7XG4gICAgaWYgKCFwcm9maWxlc1tzZWxlY3RlZFByb2ZpbGVdKSB7XG4gICAgICBjb25zdCBmaXJzdCA9IE9iamVjdC5rZXlzKHByb2ZpbGVzKVswXTtcbiAgICAgIHNldFNlbGVjdGVkUHJvZmlsZShmaXJzdCk7XG4gICAgfVxuICB9LCBbaXNPcGVuLCB2ZWhpY2xlUHJvZmlsZXMsIHNlbGVjdGVkUHJvZmlsZV0pO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3Qgb25Fc2MgPSAoZSkgPT4ge1xuICAgICAgaWYgKGUua2V5ID09PSAnRXNjYXBlJyAmJiBpc09wZW4pIG9uQ2xvc2U/LigpO1xuICAgIH07XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBvbkVzYyk7XG4gICAgcmV0dXJuICgpID0+IHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgb25Fc2MpO1xuICB9LCBbaXNPcGVuLCBvbkNsb3NlXSk7XG5cbiAgY29uc3Qgc2hvdWxkU2hvdyA9IGN1cnJlbnRTdGVwID09PSAncHJvZmlsZScgfHwgY3VycmVudFN0ZXAgPT09ICdjb21wdXRpbmcnO1xuICBpZiAoIWlzT3BlbiB8fCAhc2hvdWxkU2hvdykgcmV0dXJuIG51bGw7XG5cbiAgY29uc3QgcHJvZmlsZXNUb1Nob3cgPVxuICAgIE9iamVjdC5rZXlzKHZlaGljbGVQcm9maWxlcykubGVuZ3RoID4gMCA/IHZlaGljbGVQcm9maWxlcyA6IGRlZmF1bHRWZWhpY2xlUHJvZmlsZXM7XG5cbiAgY29uc3QgaGFuZGxlU3RhcnRTZWxlY3Rpb24gPSAoKSA9PiB7XG4gICAgY29uc3QgY29uZmlnID0ge1xuICAgICAgdmVoaWNsZV9wcm9maWxlX2lkOiB1c2VDdXN0b20gPyBudWxsIDogc2VsZWN0ZWRQcm9maWxlLFxuICAgICAgY3VzdG9tX3ZlaGljbGVfcHJvZmlsZTogdXNlQ3VzdG9tID8gY3VzdG9tVmFsdWVzIDogbnVsbCxcbiAgICAgIHNhbXBsaW5nX3N0ZXBfbTogc2FtcGxpbmdTdGVwLFxuICAgIH07XG4gICAgb25TdGFydFNlbGVjdGlvbj8uKGNvbmZpZyk7XG4gIH07XG5cbiAgY29uc3QgcmVuZGVyUHJvZmlsZVN0ZXAgPSAoKSA9PiAoXG4gICAgPD5cbiAgICAgIDxkaXYgc3R5bGU9e3tcbiAgICAgICAgcGFkZGluZzogJzIwcHgnLFxuICAgICAgICBib3JkZXJCb3R0b206ICcxcHggc29saWQgIzM0NDk1ZScsXG4gICAgICAgIGJhY2tncm91bmRDb2xvcjogJyMyYzNlNTAnXG4gICAgICB9fT5cbiAgICAgICAgPGgyIHN0eWxlPXt7XG4gICAgICAgICAgbWFyZ2luOiAwLFxuICAgICAgICAgIGNvbG9yOiAnd2hpdGUnLFxuICAgICAgICAgIGZvbnRTaXplOiAnMjBweCcsXG4gICAgICAgICAgZm9udFdlaWdodDogJzYwMCcsXG4gICAgICAgICAgZGlzcGxheTogJ2ZsZXgnLFxuICAgICAgICAgIGFsaWduSXRlbXM6ICdjZW50ZXInLFxuICAgICAgICAgIGdhcDogJzEycHgnXG4gICAgICAgIH19PlxuICAgICAgICAgIDxzcGFuPvCfm6PvuI88L3NwYW4+XG4gICAgICAgICAgPHNwYW4+Q29tcHV0ZSBUdXJuIFBhdGg8L3NwYW4+XG4gICAgICAgIDwvaDI+XG4gICAgICAgIDxwIHN0eWxlPXt7XG4gICAgICAgICAgbWFyZ2luOiAnOHB4IDAgMCAwJyxcbiAgICAgICAgICBjb2xvcjogJyM5NWE1YTYnLFxuICAgICAgICAgIGZvbnRTaXplOiAnMTRweCdcbiAgICAgICAgfX0+XG4gICAgICAgICAgQ29uZmlndXJlIHZlaGljbGUgcGFyYW1ldGVycyBhbmQgc2VsZWN0IHJvYWRzIG9uIHRoZSBtYXBcbiAgICAgICAgPC9wPlxuICAgICAgPC9kaXY+XG5cbiAgICAgIDxkaXYgc3R5bGU9e3sgcGFkZGluZzogJzI0cHgnLCBtYXhIZWlnaHQ6ICc2MHZoJywgb3ZlcmZsb3dZOiAnYXV0bycgfX0+XG4gICAgICAgIDxkaXYgc3R5bGU9e3sgbWFyZ2luQm90dG9tOiAnMjRweCcgfX0+XG4gICAgICAgICAgPGxhYmVsXG4gICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICBkaXNwbGF5OiAnYmxvY2snLFxuICAgICAgICAgICAgICBjb2xvcjogJ3doaXRlJyxcbiAgICAgICAgICAgICAgZm9udFNpemU6ICcxNHB4JyxcbiAgICAgICAgICAgICAgZm9udFdlaWdodDogJzUwMCcsXG4gICAgICAgICAgICAgIG1hcmdpbkJvdHRvbTogJzEycHgnLFxuICAgICAgICAgICAgfX1cbiAgICAgICAgICA+XG4gICAgICAgICAgICBWZWhpY2xlIFByb2ZpbGVcbiAgICAgICAgICA8L2xhYmVsPlxuXG4gICAgICAgICAgPGRpdiBzdHlsZT17eyBkaXNwbGF5OiAnZmxleCcsIGdhcDogJzEycHgnLCBtYXJnaW5Cb3R0b206ICcxNnB4JyB9fT5cbiAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gc2V0VXNlQ3VzdG9tKGZhbHNlKX1cbiAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICBmbGV4OiAxLFxuICAgICAgICAgICAgICAgIHBhZGRpbmc6ICcxMnB4JyxcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICF1c2VDdXN0b20gPyAnIzM0OThkYicgOiAnIzM0NDk1ZScsXG4gICAgICAgICAgICAgICAgY29sb3I6ICd3aGl0ZScsXG4gICAgICAgICAgICAgICAgYm9yZGVyOiAnbm9uZScsXG4gICAgICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiAnNnB4JyxcbiAgICAgICAgICAgICAgICBjdXJzb3I6ICdwb2ludGVyJyxcbiAgICAgICAgICAgICAgICBmb250U2l6ZTogJzE0cHgnLFxuICAgICAgICAgICAgICAgIGZvbnRXZWlnaHQ6ICc1MDAnLFxuICAgICAgICAgICAgICAgIHRyYW5zaXRpb246ICdhbGwgMC4ycycsXG4gICAgICAgICAgICAgIH19XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIFByZWRlZmluZWQgUHJvZmlsZVxuICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldFVzZUN1c3RvbSh0cnVlKX1cbiAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICBmbGV4OiAxLFxuICAgICAgICAgICAgICAgIHBhZGRpbmc6ICcxMnB4JyxcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IHVzZUN1c3RvbSA/ICcjMzQ5OGRiJyA6ICcjMzQ0OTVlJyxcbiAgICAgICAgICAgICAgICBjb2xvcjogJ3doaXRlJyxcbiAgICAgICAgICAgICAgICBib3JkZXI6ICdub25lJyxcbiAgICAgICAgICAgICAgICBib3JkZXJSYWRpdXM6ICc2cHgnLFxuICAgICAgICAgICAgICAgIGN1cnNvcjogJ3BvaW50ZXInLFxuICAgICAgICAgICAgICAgIGZvbnRTaXplOiAnMTRweCcsXG4gICAgICAgICAgICAgICAgZm9udFdlaWdodDogJzUwMCcsXG4gICAgICAgICAgICAgICAgdHJhbnNpdGlvbjogJ2FsbCAwLjJzJyxcbiAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgQ3VzdG9tIFZhbHVlc1xuICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICB7IXVzZUN1c3RvbSAmJiAoXG4gICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICB7T2JqZWN0LmVudHJpZXMocHJvZmlsZXNUb1Nob3cpLm1hcCgoW2tleSwgcHJvZmlsZV0pID0+IChcbiAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICBrZXk9e2tleX1cbiAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldFNlbGVjdGVkUHJvZmlsZShrZXkpfVxuICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgcGFkZGluZzogJzE2cHgnLFxuICAgICAgICAgICAgICAgICAgICBtYXJnaW5Cb3R0b206ICc4cHgnLFxuICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IHNlbGVjdGVkUHJvZmlsZSA9PT0ga2V5ID8gJyMyYzNlNTAnIDogJyMzNDQ5NWUnLFxuICAgICAgICAgICAgICAgICAgICBib3JkZXI6XG4gICAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRQcm9maWxlID09PSBrZXkgPyAnMnB4IHNvbGlkICMzNDk4ZGInIDogJzJweCBzb2xpZCB0cmFuc3BhcmVudCcsXG4gICAgICAgICAgICAgICAgICAgIGJvcmRlclJhZGl1czogJzhweCcsXG4gICAgICAgICAgICAgICAgICAgIGN1cnNvcjogJ3BvaW50ZXInLFxuICAgICAgICAgICAgICAgICAgICB0cmFuc2l0aW9uOiAnYWxsIDAuMnMnLFxuICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogJ2ZsZXgnLFxuICAgICAgICAgICAgICAgICAgICAgIGp1c3RpZnlDb250ZW50OiAnc3BhY2UtYmV0d2VlbicsXG4gICAgICAgICAgICAgICAgICAgICAgYWxpZ25JdGVtczogJ2NlbnRlcicsXG4gICAgICAgICAgICAgICAgICAgICAgbWFyZ2luQm90dG9tOiAnOHB4JyxcbiAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gc3R5bGU9e3sgY29sb3I6ICd3aGl0ZScsIGZvbnRTaXplOiAnMTZweCcsIGZvbnRXZWlnaHQ6ICc2MDAnIH19PlxuICAgICAgICAgICAgICAgICAgICAgIHtwcm9maWxlLm5hbWV9XG4gICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAge3NlbGVjdGVkUHJvZmlsZSA9PT0ga2V5ICYmIChcbiAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBzdHlsZT17eyBjb2xvcjogJyMzNDk4ZGInLCBmb250U2l6ZTogJzE4cHgnIH19PuKckzwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6ICdncmlkJyxcbiAgICAgICAgICAgICAgICAgICAgICBncmlkVGVtcGxhdGVDb2x1bW5zOiAnMWZyIDFmcicsXG4gICAgICAgICAgICAgICAgICAgICAgZ2FwOiAnOHB4JyxcbiAgICAgICAgICAgICAgICAgICAgICBmb250U2l6ZTogJzEzcHgnLFxuICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiAnIzk1YTVhNicsXG4gICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIDxkaXY+V2lkdGg6IHtwcm9maWxlLnZlaGljbGVfd2lkdGhfbX1tPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXY+V2hlZWxiYXNlOiB7cHJvZmlsZS53aGVlbGJhc2VfbX1tPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXY+VHVybiBSYWRpdXM6IHtwcm9maWxlLm1pbl90dXJuX3JhZGl1c19tLnRvRml4ZWQoMSl9bTwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2Pk1heCBTdGVlcjoge3Byb2ZpbGUubWF4X3N0ZWVyaW5nX2FuZ2xlX2RlZ33CsDwvZGl2PlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgKX1cblxuICAgICAgICAgIHt1c2VDdXN0b20gJiYgKFxuICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBkaXNwbGF5OiAnZ3JpZCcsIGdhcDogJzE2cHgnIH19PlxuICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgIDxsYWJlbCBzdHlsZT17eyBkaXNwbGF5OiAnYmxvY2snLCBjb2xvcjogJyM5NWE1YTYnLCBmb250U2l6ZTogJzEzcHgnIH19PlxuICAgICAgICAgICAgICAgICAgVmVoaWNsZSBOYW1lXG4gICAgICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcbiAgICAgICAgICAgICAgICAgIHZhbHVlPXtjdXN0b21WYWx1ZXMubmFtZX1cbiAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0Q3VzdG9tVmFsdWVzKHsgLi4uY3VzdG9tVmFsdWVzLCBuYW1lOiBlLnRhcmdldC52YWx1ZSB9KX1cbiAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgIHdpZHRoOiAnMTAwJScsXG4gICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6ICcxMHB4JyxcbiAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiAnIzM0NDk1ZScsXG4gICAgICAgICAgICAgICAgICAgIGJvcmRlcjogJzFweCBzb2xpZCAjMmMzZTUwJyxcbiAgICAgICAgICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiAnNHB4JyxcbiAgICAgICAgICAgICAgICAgICAgY29sb3I6ICd3aGl0ZScsXG4gICAgICAgICAgICAgICAgICAgIGZvbnRTaXplOiAnMTRweCcsXG4gICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgPGxhYmVsIHN0eWxlPXt7IGRpc3BsYXk6ICdibG9jaycsIGNvbG9yOiAnIzk1YTVhNicsIGZvbnRTaXplOiAnMTNweCcgfX0+XG4gICAgICAgICAgICAgICAgICBWZWhpY2xlIFdpZHRoIChtKVxuICAgICAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgICB0eXBlPVwibnVtYmVyXCJcbiAgICAgICAgICAgICAgICAgIHN0ZXA9XCIwLjFcIlxuICAgICAgICAgICAgICAgICAgdmFsdWU9e2N1c3RvbVZhbHVlcy52ZWhpY2xlX3dpZHRoX219XG4gICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+XG4gICAgICAgICAgICAgICAgICAgIHNldEN1c3RvbVZhbHVlcyh7IC4uLmN1c3RvbVZhbHVlcywgdmVoaWNsZV93aWR0aF9tOiBwYXJzZUZsb2F0KGUudGFyZ2V0LnZhbHVlKSB9KVxuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgd2lkdGg6ICcxMDAlJyxcbiAgICAgICAgICAgICAgICAgICAgcGFkZGluZzogJzEwcHgnLFxuICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICcjMzQ0OTVlJyxcbiAgICAgICAgICAgICAgICAgICAgYm9yZGVyOiAnMXB4IHNvbGlkICMyYzNlNTAnLFxuICAgICAgICAgICAgICAgICAgICBib3JkZXJSYWRpdXM6ICc0cHgnLFxuICAgICAgICAgICAgICAgICAgICBjb2xvcjogJ3doaXRlJyxcbiAgICAgICAgICAgICAgICAgICAgZm9udFNpemU6ICcxNHB4JyxcbiAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICA8bGFiZWwgc3R5bGU9e3sgZGlzcGxheTogJ2Jsb2NrJywgY29sb3I6ICcjOTVhNWE2JywgZm9udFNpemU6ICcxM3B4JyB9fT5cbiAgICAgICAgICAgICAgICAgIFdoZWVsYmFzZSAobSlcbiAgICAgICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgdHlwZT1cIm51bWJlclwiXG4gICAgICAgICAgICAgICAgICBzdGVwPVwiMC4xXCJcbiAgICAgICAgICAgICAgICAgIHZhbHVlPXtjdXN0b21WYWx1ZXMud2hlZWxiYXNlX219XG4gICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+XG4gICAgICAgICAgICAgICAgICAgIHNldEN1c3RvbVZhbHVlcyh7IC4uLmN1c3RvbVZhbHVlcywgd2hlZWxiYXNlX206IHBhcnNlRmxvYXQoZS50YXJnZXQudmFsdWUpIH0pXG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICB3aWR0aDogJzEwMCUnLFxuICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOiAnMTBweCcsXG4gICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogJyMzNDQ5NWUnLFxuICAgICAgICAgICAgICAgICAgICBib3JkZXI6ICcxcHggc29saWQgIzJjM2U1MCcsXG4gICAgICAgICAgICAgICAgICAgIGJvcmRlclJhZGl1czogJzRweCcsXG4gICAgICAgICAgICAgICAgICAgIGNvbG9yOiAnd2hpdGUnLFxuICAgICAgICAgICAgICAgICAgICBmb250U2l6ZTogJzE0cHgnLFxuICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgIDxsYWJlbCBzdHlsZT17eyBkaXNwbGF5OiAnYmxvY2snLCBjb2xvcjogJyM5NWE1YTYnLCBmb250U2l6ZTogJzEzcHgnIH19PlxuICAgICAgICAgICAgICAgICAgTWF4IFN0ZWVyaW5nIEFuZ2xlIChkZWdyZWVzKVxuICAgICAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgICB0eXBlPVwibnVtYmVyXCJcbiAgICAgICAgICAgICAgICAgIHN0ZXA9XCIxXCJcbiAgICAgICAgICAgICAgICAgIHZhbHVlPXtjdXN0b21WYWx1ZXMubWF4X3N0ZWVyaW5nX2FuZ2xlX2RlZ31cbiAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT5cbiAgICAgICAgICAgICAgICAgICAgc2V0Q3VzdG9tVmFsdWVzKHtcbiAgICAgICAgICAgICAgICAgICAgICAuLi5jdXN0b21WYWx1ZXMsXG4gICAgICAgICAgICAgICAgICAgICAgbWF4X3N0ZWVyaW5nX2FuZ2xlX2RlZzogcGFyc2VGbG9hdChlLnRhcmdldC52YWx1ZSksXG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICB3aWR0aDogJzEwMCUnLFxuICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOiAnMTBweCcsXG4gICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogJyMzNDQ5NWUnLFxuICAgICAgICAgICAgICAgICAgICBib3JkZXI6ICcxcHggc29saWQgIzJjM2U1MCcsXG4gICAgICAgICAgICAgICAgICAgIGJvcmRlclJhZGl1czogJzRweCcsXG4gICAgICAgICAgICAgICAgICAgIGNvbG9yOiAnd2hpdGUnLFxuICAgICAgICAgICAgICAgICAgICBmb250U2l6ZTogJzE0cHgnLFxuICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgIDxsYWJlbCBzdHlsZT17eyBkaXNwbGF5OiAnYmxvY2snLCBjb2xvcjogJyM5NWE1YTYnLCBmb250U2l6ZTogJzEzcHgnIH19PlxuICAgICAgICAgICAgICAgICAgU2lkZSBTYWZldHkgQnVmZmVyIChtKVxuICAgICAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgICB0eXBlPVwibnVtYmVyXCJcbiAgICAgICAgICAgICAgICAgIHN0ZXA9XCIwLjFcIlxuICAgICAgICAgICAgICAgICAgdmFsdWU9e2N1c3RvbVZhbHVlcy5zaWRlX2J1ZmZlcl9tfVxuICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PlxuICAgICAgICAgICAgICAgICAgICBzZXRDdXN0b21WYWx1ZXMoeyAuLi5jdXN0b21WYWx1ZXMsIHNpZGVfYnVmZmVyX206IHBhcnNlRmxvYXQoZS50YXJnZXQudmFsdWUpIH0pXG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICB3aWR0aDogJzEwMCUnLFxuICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOiAnMTBweCcsXG4gICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogJyMzNDQ5NWUnLFxuICAgICAgICAgICAgICAgICAgICBib3JkZXI6ICcxcHggc29saWQgIzJjM2U1MCcsXG4gICAgICAgICAgICAgICAgICAgIGJvcmRlclJhZGl1czogJzRweCcsXG4gICAgICAgICAgICAgICAgICAgIGNvbG9yOiAnd2hpdGUnLFxuICAgICAgICAgICAgICAgICAgICBmb250U2l6ZTogJzE0cHgnLFxuICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgIHBhZGRpbmc6ICcxMnB4JyxcbiAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogJyMyYzNlNTAnLFxuICAgICAgICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiAnNnB4JyxcbiAgICAgICAgICAgICAgICAgIGJvcmRlcjogJzFweCBzb2xpZCAjMzQ5OGRiJyxcbiAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBjb2xvcjogJyM5NWE1YTYnLCBmb250U2l6ZTogJzEzcHgnLCBtYXJnaW5Cb3R0b206ICc0cHgnIH19PlxuICAgICAgICAgICAgICAgICAgQ2FsY3VsYXRlZCBNaW4gVHVybiBSYWRpdXNcbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IGNvbG9yOiAnIzM0OThkYicsIGZvbnRTaXplOiAnMThweCcsIGZvbnRXZWlnaHQ6ICc2MDAnIH19PlxuICAgICAgICAgICAgICAgICAgeyhcbiAgICAgICAgICAgICAgICAgICAgY3VzdG9tVmFsdWVzLndoZWVsYmFzZV9tIC9cbiAgICAgICAgICAgICAgICAgICAgTWF0aC50YW4oKGN1c3RvbVZhbHVlcy5tYXhfc3RlZXJpbmdfYW5nbGVfZGVnICogTWF0aC5QSSkgLyAxODApXG4gICAgICAgICAgICAgICAgICApLnRvRml4ZWQoMil9eycgJ31cbiAgICAgICAgICAgICAgICAgIG1cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICApfVxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICA8ZGl2PlxuICAgICAgICAgIDxsYWJlbFxuICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgZGlzcGxheTogJ2Jsb2NrJyxcbiAgICAgICAgICAgICAgY29sb3I6ICd3aGl0ZScsXG4gICAgICAgICAgICAgIGZvbnRTaXplOiAnMTRweCcsXG4gICAgICAgICAgICAgIGZvbnRXZWlnaHQ6ICc1MDAnLFxuICAgICAgICAgICAgICBtYXJnaW5Cb3R0b206ICcxMnB4JyxcbiAgICAgICAgICAgIH19XG4gICAgICAgICAgPlxuICAgICAgICAgICAgUGF0aCBSZXNvbHV0aW9uXG4gICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICA8ZGl2IHN0eWxlPXt7IGRpc3BsYXk6ICdmbGV4JywgYWxpZ25JdGVtczogJ2NlbnRlcicsIGdhcDogJzEycHgnIH19PlxuICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgIHR5cGU9XCJyYW5nZVwiXG4gICAgICAgICAgICAgIG1pbj1cIjAuNVwiXG4gICAgICAgICAgICAgIG1heD1cIjVcIlxuICAgICAgICAgICAgICBzdGVwPVwiMC4xXCJcbiAgICAgICAgICAgICAgdmFsdWU9e3NhbXBsaW5nU3RlcH1cbiAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXRTYW1wbGluZ1N0ZXAocGFyc2VGbG9hdChlLnRhcmdldC52YWx1ZSkpfVxuICAgICAgICAgICAgICBzdHlsZT17eyBmbGV4OiAxIH19XG4gICAgICAgICAgICAvPlxuICAgICAgICAgICAgPHNwYW4gc3R5bGU9e3sgY29sb3I6ICd3aGl0ZScsIGZvbnRTaXplOiAnMTRweCcsIGZvbnRXZWlnaHQ6ICc2MDAnIH19PlxuICAgICAgICAgICAgICB7c2FtcGxpbmdTdGVwLnRvRml4ZWQoMSl9IG1cbiAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IHN0eWxlPXt7IGNvbG9yOiAnIzk1YTVhNicsIGZvbnRTaXplOiAnMTJweCcsIG1hcmdpblRvcDogJzZweCcgfX0+XG4gICAgICAgICAgICBEaXN0YW5jZSBiZXR3ZWVuIHBhdGggcG9pbnRzIChsb3dlciA9IG1vcmUgZGV0YWlsZWQpXG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG5cbiAgICAgIDxkaXZcbiAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICBwYWRkaW5nOiAnMTZweCAyMHB4JyxcbiAgICAgICAgICBib3JkZXJUb3A6ICcxcHggc29saWQgIzM0NDk1ZScsXG4gICAgICAgICAgZGlzcGxheTogJ2ZsZXgnLFxuICAgICAgICAgIGp1c3RpZnlDb250ZW50OiAnc3BhY2UtYmV0d2VlbicsXG4gICAgICAgICAgYWxpZ25JdGVtczogJ2NlbnRlcicsXG4gICAgICAgICAgYmFja2dyb3VuZENvbG9yOiAnIzFmMmIzOCcsXG4gICAgICAgIH19XG4gICAgICA+XG4gICAgICAgIDxidXR0b25cbiAgICAgICAgICBvbkNsaWNrPXtvbkNsb3NlfVxuICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICBwYWRkaW5nOiAnMTBweCAxNnB4JyxcbiAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogJyMzNDQ5NWUnLFxuICAgICAgICAgICAgY29sb3I6ICd3aGl0ZScsXG4gICAgICAgICAgICBib3JkZXI6ICcxcHggc29saWQgIzJjM2U1MCcsXG4gICAgICAgICAgICBib3JkZXJSYWRpdXM6ICc2cHgnLFxuICAgICAgICAgICAgY3Vyc29yOiAncG9pbnRlcicsXG4gICAgICAgICAgICBmb250U2l6ZTogJzE0cHgnLFxuICAgICAgICAgICAgZm9udFdlaWdodDogJzUwMCcsXG4gICAgICAgICAgfX1cbiAgICAgICAgPlxuICAgICAgICAgIENhbmNlbFxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPGJ1dHRvblxuICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZVN0YXJ0U2VsZWN0aW9ufVxuICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICBwYWRkaW5nOiAnMTBweCAxNnB4JyxcbiAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogJyMxYWJjOWMnLFxuICAgICAgICAgICAgY29sb3I6ICd3aGl0ZScsXG4gICAgICAgICAgICBib3JkZXI6ICdub25lJyxcbiAgICAgICAgICAgIGJvcmRlclJhZGl1czogJzZweCcsXG4gICAgICAgICAgICBjdXJzb3I6ICdwb2ludGVyJyxcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMTRweCcsXG4gICAgICAgICAgICBmb250V2VpZ2h0OiAnNjAwJyxcbiAgICAgICAgICAgIG1pbldpZHRoOiAnMjAwcHgnLFxuICAgICAgICAgICAgZGlzcGxheTogJ2ZsZXgnLFxuICAgICAgICAgICAgYWxpZ25JdGVtczogJ2NlbnRlcicsXG4gICAgICAgICAgICBqdXN0aWZ5Q29udGVudDogJ2NlbnRlcicsXG4gICAgICAgICAgICBnYXA6ICc4cHgnLFxuICAgICAgICAgIH19XG4gICAgICAgID5cbiAgICAgICAgICBTZWxlY3QgUm9hZHMgb24gTWFwIOKGklxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvZGl2PlxuICAgIDwvPlxuICApO1xuXG4gIGNvbnN0IHJlbmRlckNvbXB1dGluZ1N0ZXAgPSAoKSA9PiAoXG4gICAgPGRpdiBzdHlsZT17eyBwYWRkaW5nOiAnMzJweCcsIHRleHRBbGlnbjogJ2NlbnRlcicgfX0+XG4gICAgICA8ZGl2XG4gICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgbWFyZ2luQm90dG9tOiAnMTJweCcsXG4gICAgICAgICAgZm9udFNpemU6ICcxOHB4JyxcbiAgICAgICAgICBjb2xvcjogJ3doaXRlJyxcbiAgICAgICAgICBmb250V2VpZ2h0OiAnNjAwJyxcbiAgICAgICAgfX1cbiAgICAgID5cbiAgICAgICAgQ29tcHV0aW5nIHR1cm4gcGF0aC4uLlxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IHN0eWxlPXt7IGNvbG9yOiAnIzk1YTVhNicsIGZvbnRTaXplOiAnMTRweCcgfX0+XG4gICAgICAgIFRoaXMgdXN1YWxseSB0YWtlcyBhIGZldyBzZWNvbmRzLiBQbGVhc2Ugd2FpdC5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApO1xuXG4gIHJldHVybiAoXG4gICAgPGRpdlxuICAgICAgc3R5bGU9e3tcbiAgICAgICAgcG9zaXRpb246ICdmaXhlZCcsXG4gICAgICAgIHRvcDogMCxcbiAgICAgICAgbGVmdDogMCxcbiAgICAgICAgcmlnaHQ6IDAsXG4gICAgICAgIGJvdHRvbTogMCxcbiAgICAgICAgekluZGV4OiAxMDAwLFxuICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICdyZ2JhKDAsIDAsIDAsIDAuNCknLFxuICAgICAgICBkaXNwbGF5OiAnZmxleCcsXG4gICAgICAgIGFsaWduSXRlbXM6ICdjZW50ZXInLFxuICAgICAgICBqdXN0aWZ5Q29udGVudDogJ2NlbnRlcicsXG4gICAgICAgIGJhY2tkcm9wRmlsdGVyOiAnYmx1cigycHgpJyxcbiAgICAgIH19XG4gICAgPlxuICAgICAgPGRpdlxuICAgICAgICBzdHlsZT17e1xuICAgICAgICAgIHdpZHRoOiAnNjQwcHgnLFxuICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogJyMxZjJiMzgnLFxuICAgICAgICAgIGJvcmRlclJhZGl1czogJzEwcHgnLFxuICAgICAgICAgIGJveFNoYWRvdzogJzAgMTBweCAzMnB4IHJnYmEoMCwgMCwgMCwgMC40NSknLFxuICAgICAgICAgIG92ZXJmbG93OiAnaGlkZGVuJyxcbiAgICAgICAgICBib3JkZXI6ICcxcHggc29saWQgIzJjM2U1MCcsXG4gICAgICAgIH19XG4gICAgICA+XG4gICAgICAgIHtjdXJyZW50U3RlcCA9PT0gJ2NvbXB1dGluZycgPyByZW5kZXJDb21wdXRpbmdTdGVwKCkgOiByZW5kZXJQcm9maWxlU3RlcCgpfVxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gICk7XG59XG5cbiJdLCJuYW1lcyI6WyJSZWFjdCIsInVzZVN0YXRlIiwidXNlRWZmZWN0IiwiVHVyblBhdGhEaWFsb2ciLCJpc09wZW4iLCJvbkNsb3NlIiwib25TdGFydFNlbGVjdGlvbiIsInZlaGljbGVQcm9maWxlcyIsImN1cnJlbnRTdGVwIiwiZGVmYXVsdFZlaGljbGVQcm9maWxlcyIsImtvbWF0c3VfODMwZSIsIm5hbWUiLCJ2ZWhpY2xlX3dpZHRoX20iLCJ3aGVlbGJhc2VfbSIsIm1pbl90dXJuX3JhZGl1c19tIiwibWF4X3N0ZWVyaW5nX2FuZ2xlX2RlZyIsInNlbGVjdGVkUHJvZmlsZSIsInNldFNlbGVjdGVkUHJvZmlsZSIsInVzZUN1c3RvbSIsInNldFVzZUN1c3RvbSIsImN1c3RvbVZhbHVlcyIsInNldEN1c3RvbVZhbHVlcyIsInNpZGVfYnVmZmVyX20iLCJmcm9udF9idWZmZXJfbSIsInJlYXJfYnVmZmVyX20iLCJzYW1wbGluZ1N0ZXAiLCJzZXRTYW1wbGluZ1N0ZXAiLCJwcm9maWxlcyIsIk9iamVjdCIsImtleXMiLCJsZW5ndGgiLCJmaXJzdCIsIm9uRXNjIiwiZSIsImtleSIsIndpbmRvdyIsImFkZEV2ZW50TGlzdGVuZXIiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwic2hvdWxkU2hvdyIsInByb2ZpbGVzVG9TaG93IiwiaGFuZGxlU3RhcnRTZWxlY3Rpb24iLCJjb25maWciLCJ2ZWhpY2xlX3Byb2ZpbGVfaWQiLCJjdXN0b21fdmVoaWNsZV9wcm9maWxlIiwic2FtcGxpbmdfc3RlcF9tIiwicmVuZGVyUHJvZmlsZVN0ZXAiLCJkaXYiLCJzdHlsZSIsInBhZGRpbmciLCJib3JkZXJCb3R0b20iLCJiYWNrZ3JvdW5kQ29sb3IiLCJoMiIsIm1hcmdpbiIsImNvbG9yIiwiZm9udFNpemUiLCJmb250V2VpZ2h0IiwiZGlzcGxheSIsImFsaWduSXRlbXMiLCJnYXAiLCJzcGFuIiwicCIsIm1heEhlaWdodCIsIm92ZXJmbG93WSIsIm1hcmdpbkJvdHRvbSIsImxhYmVsIiwiYnV0dG9uIiwib25DbGljayIsImZsZXgiLCJib3JkZXIiLCJib3JkZXJSYWRpdXMiLCJjdXJzb3IiLCJ0cmFuc2l0aW9uIiwiZW50cmllcyIsIm1hcCIsInByb2ZpbGUiLCJqdXN0aWZ5Q29udGVudCIsImdyaWRUZW1wbGF0ZUNvbHVtbnMiLCJ0b0ZpeGVkIiwiaW5wdXQiLCJ0eXBlIiwidmFsdWUiLCJvbkNoYW5nZSIsInRhcmdldCIsIndpZHRoIiwic3RlcCIsInBhcnNlRmxvYXQiLCJNYXRoIiwidGFuIiwiUEkiLCJtaW4iLCJtYXgiLCJtYXJnaW5Ub3AiLCJib3JkZXJUb3AiLCJtaW5XaWR0aCIsInJlbmRlckNvbXB1dGluZ1N0ZXAiLCJ0ZXh0QWxpZ24iLCJwb3NpdGlvbiIsInRvcCIsImxlZnQiLCJyaWdodCIsImJvdHRvbSIsInpJbmRleCIsImJhY2tkcm9wRmlsdGVyIiwiYm94U2hhZG93Iiwib3ZlcmZsb3ciXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./components/TurnPathDialog.js\n");

/***/ }),

/***/ "./components/TurnPathStatusBanner.js":
/*!********************************************!*\
  !*** ./components/TurnPathStatusBanner.js ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ TurnPathStatusBanner)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n\n\n/**\r\n * Status banner shown on map during road selection\r\n */ function TurnPathStatusBanner({ currentStep, selectedSourceRoad, selectedDestinationRoad, onCancel }) {\n    if (currentStep !== \"selecting_source\" && currentStep !== \"selecting_destination\") {\n        return null;\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        style: {\n            position: \"fixed\",\n            top: \"60px\",\n            left: \"50%\",\n            transform: \"translateX(-50%)\",\n            zIndex: 1001,\n            backgroundColor: \"#2c3e50\",\n            border: \"2px solid #3498db\",\n            borderRadius: \"8px\",\n            padding: \"16px 24px\",\n            boxShadow: \"0 4px 12px rgba(0, 0, 0, 0.5)\",\n            minWidth: \"400px\",\n            display: \"flex\",\n            alignItems: \"center\",\n            gap: \"16px\"\n        },\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                style: {\n                    fontSize: \"32px\"\n                },\n                children: currentStep === \"selecting_source\" ? \"\\uD83D\\uDFE2\" : \"\\uD83D\\uDD34\"\n            }, void 0, false, {\n                fileName: \"/app/components/TurnPathStatusBanner.js\",\n                lineNumber: 34,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                style: {\n                    flex: 1\n                },\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        style: {\n                            color: \"white\",\n                            fontSize: \"16px\",\n                            fontWeight: \"600\",\n                            marginBottom: \"4px\"\n                        },\n                        children: currentStep === \"selecting_source\" ? \"Step 1: Select Source Road\" : \"Step 2: Select Destination Road\"\n                    }, void 0, false, {\n                        fileName: \"/app/components/TurnPathStatusBanner.js\",\n                        lineNumber: 40,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        style: {\n                            color: \"#95a5a6\",\n                            fontSize: \"13px\"\n                        },\n                        children: currentStep === \"selecting_source\" ? \"Click on the road where the vehicle starts\" : `From: ${selectedSourceRoad?.name || \"Unknown\"} → Click destination road`\n                    }, void 0, false, {\n                        fileName: \"/app/components/TurnPathStatusBanner.js\",\n                        lineNumber: 51,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/app/components/TurnPathStatusBanner.js\",\n                lineNumber: 39,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                onClick: onCancel,\n                style: {\n                    padding: \"8px 16px\",\n                    backgroundColor: \"#e74c3c\",\n                    color: \"white\",\n                    border: \"none\",\n                    borderRadius: \"6px\",\n                    cursor: \"pointer\",\n                    fontSize: \"13px\",\n                    fontWeight: \"500\",\n                    whiteSpace: \"nowrap\"\n                },\n                children: \"Cancel (ESC)\"\n            }, void 0, false, {\n                fileName: \"/app/components/TurnPathStatusBanner.js\",\n                lineNumber: 63,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/app/components/TurnPathStatusBanner.js\",\n        lineNumber: 17,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9jb21wb25lbnRzL1R1cm5QYXRoU3RhdHVzQmFubmVyLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUEwQjtBQUUxQjs7Q0FFQyxHQUNjLFNBQVNDLHFCQUFxQixFQUMzQ0MsV0FBVyxFQUNYQyxrQkFBa0IsRUFDbEJDLHVCQUF1QixFQUN2QkMsUUFBUSxFQUNUO0lBQ0MsSUFBSUgsZ0JBQWdCLHNCQUFzQkEsZ0JBQWdCLHlCQUF5QjtRQUNqRixPQUFPO0lBQ1Q7SUFFQSxxQkFDRSw4REFBQ0k7UUFBSUMsT0FBTztZQUNWQyxVQUFVO1lBQ1ZDLEtBQUs7WUFDTEMsTUFBTTtZQUNOQyxXQUFXO1lBQ1hDLFFBQVE7WUFDUkMsaUJBQWlCO1lBQ2pCQyxRQUFRO1lBQ1JDLGNBQWM7WUFDZEMsU0FBUztZQUNUQyxXQUFXO1lBQ1hDLFVBQVU7WUFDVkMsU0FBUztZQUNUQyxZQUFZO1lBQ1pDLEtBQUs7UUFDUDs7MEJBRUUsOERBQUNmO2dCQUFJQyxPQUFPO29CQUFFZSxVQUFVO2dCQUFPOzBCQUM1QnBCLGdCQUFnQixxQkFBcUIsaUJBQU87Ozs7OzswQkFJL0MsOERBQUNJO2dCQUFJQyxPQUFPO29CQUFFZ0IsTUFBTTtnQkFBRTs7a0NBQ3BCLDhEQUFDakI7d0JBQUlDLE9BQU87NEJBQ1ZpQixPQUFPOzRCQUNQRixVQUFVOzRCQUNWRyxZQUFZOzRCQUNaQyxjQUFjO3dCQUNoQjtrQ0FDR3hCLGdCQUFnQixxQkFDYiwrQkFDQTs7Ozs7O2tDQUdOLDhEQUFDSTt3QkFBSUMsT0FBTzs0QkFDVmlCLE9BQU87NEJBQ1BGLFVBQVU7d0JBQ1o7a0NBQ0dwQixnQkFBZ0IscUJBQ2IsK0NBQ0EsQ0FBQyxNQUFNLEVBQUVDLG9CQUFvQndCLFFBQVEsVUFBVSx5QkFBeUIsQ0FBQzs7Ozs7Ozs7Ozs7OzBCQU1qRiw4REFBQ0M7Z0JBQ0NDLFNBQVN4QjtnQkFDVEUsT0FBTztvQkFDTFMsU0FBUztvQkFDVEgsaUJBQWlCO29CQUNqQlcsT0FBTztvQkFDUFYsUUFBUTtvQkFDUkMsY0FBYztvQkFDZGUsUUFBUTtvQkFDUlIsVUFBVTtvQkFDVkcsWUFBWTtvQkFDWk0sWUFBWTtnQkFDZDswQkFDRDs7Ozs7Ozs7Ozs7O0FBS1AiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jb21iaW5lZC11aS8uL2NvbXBvbmVudHMvVHVyblBhdGhTdGF0dXNCYW5uZXIuanM/OTkwNCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xyXG5cclxuLyoqXHJcbiAqIFN0YXR1cyBiYW5uZXIgc2hvd24gb24gbWFwIGR1cmluZyByb2FkIHNlbGVjdGlvblxyXG4gKi9cclxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gVHVyblBhdGhTdGF0dXNCYW5uZXIoeyBcclxuICBjdXJyZW50U3RlcCxcclxuICBzZWxlY3RlZFNvdXJjZVJvYWQsXHJcbiAgc2VsZWN0ZWREZXN0aW5hdGlvblJvYWQsXHJcbiAgb25DYW5jZWwgXHJcbn0pIHtcclxuICBpZiAoY3VycmVudFN0ZXAgIT09ICdzZWxlY3Rpbmdfc291cmNlJyAmJiBjdXJyZW50U3RlcCAhPT0gJ3NlbGVjdGluZ19kZXN0aW5hdGlvbicpIHtcclxuICAgIHJldHVybiBudWxsO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIChcclxuICAgIDxkaXYgc3R5bGU9e3tcclxuICAgICAgcG9zaXRpb246ICdmaXhlZCcsXHJcbiAgICAgIHRvcDogJzYwcHgnLFxyXG4gICAgICBsZWZ0OiAnNTAlJyxcclxuICAgICAgdHJhbnNmb3JtOiAndHJhbnNsYXRlWCgtNTAlKScsXHJcbiAgICAgIHpJbmRleDogMTAwMSxcclxuICAgICAgYmFja2dyb3VuZENvbG9yOiAnIzJjM2U1MCcsXHJcbiAgICAgIGJvcmRlcjogJzJweCBzb2xpZCAjMzQ5OGRiJyxcclxuICAgICAgYm9yZGVyUmFkaXVzOiAnOHB4JyxcclxuICAgICAgcGFkZGluZzogJzE2cHggMjRweCcsXHJcbiAgICAgIGJveFNoYWRvdzogJzAgNHB4IDEycHggcmdiYSgwLCAwLCAwLCAwLjUpJyxcclxuICAgICAgbWluV2lkdGg6ICc0MDBweCcsXHJcbiAgICAgIGRpc3BsYXk6ICdmbGV4JyxcclxuICAgICAgYWxpZ25JdGVtczogJ2NlbnRlcicsXHJcbiAgICAgIGdhcDogJzE2cHgnXHJcbiAgICB9fT5cclxuICAgICAgey8qIEljb24gKi99XHJcbiAgICAgIDxkaXYgc3R5bGU9e3sgZm9udFNpemU6ICczMnB4JyB9fT5cclxuICAgICAgICB7Y3VycmVudFN0ZXAgPT09ICdzZWxlY3Rpbmdfc291cmNlJyA/ICfwn5+iJyA6ICfwn5S0J31cclxuICAgICAgPC9kaXY+XHJcblxyXG4gICAgICB7LyogQ29udGVudCAqL31cclxuICAgICAgPGRpdiBzdHlsZT17eyBmbGV4OiAxIH19PlxyXG4gICAgICAgIDxkaXYgc3R5bGU9e3sgXHJcbiAgICAgICAgICBjb2xvcjogJ3doaXRlJyxcclxuICAgICAgICAgIGZvbnRTaXplOiAnMTZweCcsXHJcbiAgICAgICAgICBmb250V2VpZ2h0OiAnNjAwJyxcclxuICAgICAgICAgIG1hcmdpbkJvdHRvbTogJzRweCdcclxuICAgICAgICB9fT5cclxuICAgICAgICAgIHtjdXJyZW50U3RlcCA9PT0gJ3NlbGVjdGluZ19zb3VyY2UnIFxyXG4gICAgICAgICAgICA/ICdTdGVwIDE6IFNlbGVjdCBTb3VyY2UgUm9hZCcgXHJcbiAgICAgICAgICAgIDogJ1N0ZXAgMjogU2VsZWN0IERlc3RpbmF0aW9uIFJvYWQnXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPGRpdiBzdHlsZT17eyBcclxuICAgICAgICAgIGNvbG9yOiAnIzk1YTVhNicsXHJcbiAgICAgICAgICBmb250U2l6ZTogJzEzcHgnXHJcbiAgICAgICAgfX0+XHJcbiAgICAgICAgICB7Y3VycmVudFN0ZXAgPT09ICdzZWxlY3Rpbmdfc291cmNlJ1xyXG4gICAgICAgICAgICA/ICdDbGljayBvbiB0aGUgcm9hZCB3aGVyZSB0aGUgdmVoaWNsZSBzdGFydHMnXHJcbiAgICAgICAgICAgIDogYEZyb206ICR7c2VsZWN0ZWRTb3VyY2VSb2FkPy5uYW1lIHx8ICdVbmtub3duJ30g4oaSIENsaWNrIGRlc3RpbmF0aW9uIHJvYWRgXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgey8qIENhbmNlbCBCdXR0b24gKi99XHJcbiAgICAgIDxidXR0b25cclxuICAgICAgICBvbkNsaWNrPXtvbkNhbmNlbH1cclxuICAgICAgICBzdHlsZT17e1xyXG4gICAgICAgICAgcGFkZGluZzogJzhweCAxNnB4JyxcclxuICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogJyNlNzRjM2MnLFxyXG4gICAgICAgICAgY29sb3I6ICd3aGl0ZScsXHJcbiAgICAgICAgICBib3JkZXI6ICdub25lJyxcclxuICAgICAgICAgIGJvcmRlclJhZGl1czogJzZweCcsXHJcbiAgICAgICAgICBjdXJzb3I6ICdwb2ludGVyJyxcclxuICAgICAgICAgIGZvbnRTaXplOiAnMTNweCcsXHJcbiAgICAgICAgICBmb250V2VpZ2h0OiAnNTAwJyxcclxuICAgICAgICAgIHdoaXRlU3BhY2U6ICdub3dyYXAnXHJcbiAgICAgICAgfX1cclxuICAgICAgPlxyXG4gICAgICAgIENhbmNlbCAoRVNDKVxyXG4gICAgICA8L2J1dHRvbj5cclxuICAgIDwvZGl2PlxyXG4gICk7XHJcbn1cclxuXHJcblxyXG4iXSwibmFtZXMiOlsiUmVhY3QiLCJUdXJuUGF0aFN0YXR1c0Jhbm5lciIsImN1cnJlbnRTdGVwIiwic2VsZWN0ZWRTb3VyY2VSb2FkIiwic2VsZWN0ZWREZXN0aW5hdGlvblJvYWQiLCJvbkNhbmNlbCIsImRpdiIsInN0eWxlIiwicG9zaXRpb24iLCJ0b3AiLCJsZWZ0IiwidHJhbnNmb3JtIiwiekluZGV4IiwiYmFja2dyb3VuZENvbG9yIiwiYm9yZGVyIiwiYm9yZGVyUmFkaXVzIiwicGFkZGluZyIsImJveFNoYWRvdyIsIm1pbldpZHRoIiwiZGlzcGxheSIsImFsaWduSXRlbXMiLCJnYXAiLCJmb250U2l6ZSIsImZsZXgiLCJjb2xvciIsImZvbnRXZWlnaHQiLCJtYXJnaW5Cb3R0b20iLCJuYW1lIiwiYnV0dG9uIiwib25DbGljayIsImN1cnNvciIsIndoaXRlU3BhY2UiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./components/TurnPathStatusBanner.js\n");

/***/ }),

/***/ "./components/useMeasurementTool.js":
/*!******************************************!*\
  !*** ./components/useMeasurementTool.js ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n\n// Copied from Frontrunner to keep measurement behavior identical\nfunction useMeasurementTool(cesiumViewerRef) {\n    const [measurementMode, setMeasurementMode] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [measurementPoints, setMeasurementPoints] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)([]);\n    const measurementEntitiesRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)([]);\n    const overlayEntitiesRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)([]);\n    const previewLineEntityRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\n    const previewLabelEntityRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\n    const measurementModeRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(measurementMode);\n    const measurementPointsRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(measurementPoints);\n    const areaLockedRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(false);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        measurementModeRef.current = measurementMode;\n    }, [\n        measurementMode\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        measurementPointsRef.current = measurementPoints;\n    }, [\n        measurementPoints\n    ]);\n    const setCanvasTooltip = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((text)=>{\n        const viewer = cesiumViewerRef.current;\n        if (!viewer || !viewer.cesiumWidget) return;\n        viewer.cesiumWidget.container.title = text || \"\";\n    }, [\n        cesiumViewerRef\n    ]);\n    const removePreviewEntities = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((viewer)=>{\n        if (!viewer) return;\n        const refs = [\n            previewLineEntityRef,\n            previewLabelEntityRef\n        ];\n        refs.forEach((ref)=>{\n            if (ref.current) {\n                try {\n                    viewer.entities.remove(ref.current);\n                } catch (err) {\n                    console.warn(\"[Measurement] Failed to remove preview entity\", err);\n                }\n                ref.current = null;\n            }\n        });\n        setCanvasTooltip(\"\");\n        if (viewer.scene) viewer.scene.requestRender();\n    }, [\n        setCanvasTooltip\n    ]);\n    const clearMeasurements = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(()=>{\n        const viewer = cesiumViewerRef.current;\n        if (viewer) {\n            removePreviewEntities(viewer);\n            overlayEntitiesRef.current.forEach((e)=>{\n                try {\n                    viewer.entities.remove(e);\n                } catch (err) {\n                    console.warn(\"[Measurement] Failed to remove overlay entity\", err);\n                }\n            });\n            overlayEntitiesRef.current = [];\n            measurementEntitiesRef.current.forEach((e)=>{\n                try {\n                    viewer.entities.remove(e);\n                } catch (err) {\n                    console.warn(\"[Measurement] Failed to remove entity\", err);\n                }\n            });\n            measurementEntitiesRef.current = [];\n            setCanvasTooltip(\"\");\n            if (viewer.scene) viewer.scene.requestRender();\n        }\n        measurementPointsRef.current = [];\n        setMeasurementPoints([]);\n        areaLockedRef.current = false;\n    }, [\n        cesiumViewerRef,\n        removePreviewEntities,\n        setCanvasTooltip\n    ]);\n    const startMeasurement = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((mode)=>{\n        clearMeasurements();\n        areaLockedRef.current = false;\n        measurementModeRef.current = mode;\n        setMeasurementMode(mode);\n        measurementPointsRef.current = [];\n        setMeasurementPoints([]);\n    }, [\n        clearMeasurements\n    ]);\n    const cancelMeasurement = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(()=>{\n        const viewer = cesiumViewerRef.current;\n        if (viewer) {\n            removePreviewEntities(viewer);\n            setCanvasTooltip(\"\");\n        }\n        clearMeasurements();\n        measurementModeRef.current = null;\n        setMeasurementMode(null);\n        areaLockedRef.current = false;\n        if (viewer && viewer.scene) {\n            viewer.scene.requestRender();\n            setTimeout(()=>{\n                if (viewer && viewer.scene) viewer.scene.requestRender();\n            }, 50);\n        }\n    }, [\n        clearMeasurements,\n        removePreviewEntities,\n        setCanvasTooltip\n    ]);\n    const addMeasurementPoint = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((cartesian)=>{\n        const viewer = cesiumViewerRef.current;\n        if (!viewer || !window?.Cesium || !cartesian) return;\n        if (areaLockedRef.current) return;\n        const currentMode = measurementModeRef.current;\n        if (!currentMode) return;\n        const cartographic = window.Cesium.Cartographic.fromCartesian(cartesian);\n        const longitude = window.Cesium.Math.toDegrees(cartographic.longitude);\n        const latitude = window.Cesium.Math.toDegrees(cartographic.latitude);\n        const newPoint = {\n            cartesian,\n            longitude,\n            latitude\n        };\n        setMeasurementPoints((prev)=>{\n            const newPoints = [\n                ...prev,\n                newPoint\n            ];\n            if (currentMode === \"distance\" && newPoints.length > 2) return prev;\n            measurementPointsRef.current = newPoints;\n            const pointEntity = viewer.entities.add({\n                position: cartesian,\n                point: {\n                    pixelSize: 14,\n                    color: window.Cesium.Color.WHITE,\n                    outlineColor: window.Cesium.Color.CYAN,\n                    outlineWidth: 4,\n                    heightReference: window.Cesium.HeightReference.NONE,\n                    disableDepthTestDistance: Number.POSITIVE_INFINITY,\n                    scaleByDistance: new window.Cesium.NearFarScalar(1.5e2, 1.2, 8.0e6, 0.6)\n                }\n            });\n            measurementEntitiesRef.current.push(pointEntity);\n            if (viewer.scene) viewer.scene.requestRender();\n            if (newPoints.length > 1) {\n                overlayEntitiesRef.current.forEach((e)=>{\n                    try {\n                        viewer.entities.remove(e);\n                    } catch (err) {\n                        console.warn(\"[Measurement] Failed to remove overlay entity\", err);\n                    }\n                });\n                overlayEntitiesRef.current = [];\n                const positions = newPoints.map((p)=>p.cartesian);\n                if (currentMode === \"distance\" && newPoints.length === 2) {\n                    removePreviewEntities(viewer);\n                    const lineEntity = viewer.entities.add({\n                        polyline: {\n                            positions,\n                            width: 4,\n                            material: window.Cesium.Color.WHITE,\n                            clampToGround: true\n                        }\n                    });\n                    measurementEntitiesRef.current.push(lineEntity);\n                    overlayEntitiesRef.current.push(lineEntity);\n                    const ellipsoid = viewer.scene.globe.ellipsoid;\n                    const c1 = ellipsoid.cartesianToCartographic(positions[0]);\n                    const c2 = ellipsoid.cartesianToCartographic(positions[1]);\n                    const geodesic = new window.Cesium.EllipsoidGeodesic(c1, c2);\n                    const distanceMeters = geodesic.surfaceDistance;\n                    const distanceFeet = distanceMeters * 3.28084;\n                    if (!Number.isFinite(distanceMeters) || distanceMeters < 0.01) {\n                        try {\n                            viewer.entities.remove(lineEntity);\n                        } catch (_) {}\n                        measurementEntitiesRef.current.pop();\n                        overlayEntitiesRef.current.pop();\n                        const dupPoint = measurementEntitiesRef.current.pop();\n                        if (dupPoint) {\n                            try {\n                                viewer.entities.remove(dupPoint);\n                            } catch (_) {}\n                        }\n                        measurementPointsRef.current = [\n                            newPoints[0]\n                        ];\n                        setMeasurementPoints([\n                            newPoints[0]\n                        ]);\n                        setCanvasTooltip(\"Pick a different point\");\n                        if (viewer.scene) viewer.scene.requestRender();\n                        return [\n                            newPoints[0]\n                        ];\n                    }\n                    const metersText = `${distanceMeters.toFixed(2)} m`;\n                    const feetText = `${distanceFeet.toFixed(2)} ft`;\n                    const tooltipText = `📏 ${metersText} (${feetText})`;\n                    const bearing = window.Cesium.Math.toDegrees(geodesic.startHeading);\n                    const normalizedBearing = bearing < 0 ? bearing + 360 : bearing;\n                    const rotationAngle = normalizedBearing > 90 && normalizedBearing < 270 ? normalizedBearing - 180 : normalizedBearing;\n                    const rotationRadians = window.Cesium.Math.toRadians(rotationAngle);\n                    const mid = window.Cesium.Cartesian3.lerp(positions[0], positions[1], 0.5, new window.Cesium.Cartesian3());\n                    const metersLabelEntity = viewer.entities.add({\n                        position: mid,\n                        label: {\n                            text: metersText,\n                            font: '22px bold \"Arial\", sans-serif',\n                            fillColor: window.Cesium.Color.YELLOW,\n                            outlineColor: window.Cesium.Color.BLACK,\n                            outlineWidth: 5,\n                            style: window.Cesium.LabelStyle.FILL_AND_OUTLINE,\n                            verticalOrigin: window.Cesium.VerticalOrigin.CENTER,\n                            horizontalOrigin: window.Cesium.HorizontalOrigin.CENTER,\n                            pixelOffset: new window.Cesium.Cartesian2(0, -30),\n                            rotation: rotationRadians,\n                            disableDepthTestDistance: Number.POSITIVE_INFINITY\n                        }\n                    });\n                    const feetLabelEntity = viewer.entities.add({\n                        position: mid,\n                        label: {\n                            text: feetText,\n                            font: '22px bold \"Arial\", sans-serif',\n                            fillColor: window.Cesium.Color.WHITE,\n                            outlineColor: window.Cesium.Color.BLACK,\n                            outlineWidth: 5,\n                            style: window.Cesium.LabelStyle.FILL_AND_OUTLINE,\n                            verticalOrigin: window.Cesium.VerticalOrigin.CENTER,\n                            horizontalOrigin: window.Cesium.HorizontalOrigin.CENTER,\n                            pixelOffset: new window.Cesium.Cartesian2(0, 30),\n                            rotation: rotationRadians,\n                            disableDepthTestDistance: Number.POSITIVE_INFINITY\n                        }\n                    });\n                    measurementEntitiesRef.current.push(metersLabelEntity, feetLabelEntity);\n                    overlayEntitiesRef.current.push(metersLabelEntity, feetLabelEntity);\n                    setCanvasTooltip(tooltipText);\n                    areaLockedRef.current = true;\n                    measurementModeRef.current = null;\n                    setMeasurementMode(null);\n                    if (viewer.scene) {\n                        viewer.scene.requestRender();\n                        setTimeout(()=>{\n                            if (viewer.scene) viewer.scene.requestRender();\n                        }, 50);\n                    }\n                } else if (currentMode === \"area\" && newPoints.length >= 2) {\n                    const polygonEntity = viewer.entities.add({\n                        polygon: {\n                            hierarchy: new window.Cesium.PolygonHierarchy(positions),\n                            material: window.Cesium.Color.YELLOW.withAlpha(0.3),\n                            outline: true,\n                            outlineColor: window.Cesium.Color.YELLOW,\n                            outlineWidth: 3\n                        }\n                    });\n                    measurementEntitiesRef.current.push(polygonEntity);\n                    overlayEntitiesRef.current.push(polygonEntity);\n                    if (viewer.scene) viewer.scene.requestRender();\n                }\n            }\n            viewer.scene?.requestRender();\n            return newPoints;\n        });\n    }, [\n        cesiumViewerRef,\n        removePreviewEntities,\n        setCanvasTooltip\n    ]);\n    const updatePreviewLine = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((cursorCartesian)=>{\n        const viewer = cesiumViewerRef.current;\n        if (!viewer || !window?.Cesium) {\n            if (viewer) removePreviewEntities(viewer);\n            return;\n        }\n        if (areaLockedRef.current) {\n            removePreviewEntities(viewer);\n            return;\n        }\n        if (!cursorCartesian) {\n            removePreviewEntities(viewer);\n            return;\n        }\n        const currentMode = measurementModeRef.current;\n        const points = measurementPointsRef.current;\n        if (currentMode !== \"distance\" || points.length !== 1) {\n            removePreviewEntities(viewer);\n            return;\n        }\n        const firstPoint = points[0].cartesian;\n        removePreviewEntities(viewer);\n        previewLineEntityRef.current = viewer.entities.add({\n            polyline: {\n                positions: [\n                    firstPoint,\n                    cursorCartesian\n                ],\n                width: 3,\n                material: window.Cesium.Color.YELLOW.withAlpha(0.8),\n                clampToGround: true\n            }\n        });\n        const ellipsoid = viewer.scene.globe.ellipsoid;\n        const c1 = ellipsoid.cartesianToCartographic(firstPoint);\n        const c2 = ellipsoid.cartesianToCartographic(cursorCartesian);\n        const geodesic = new window.Cesium.EllipsoidGeodesic(c1, c2);\n        const distanceMeters = geodesic.surfaceDistance;\n        const distanceFeet = distanceMeters * 3.28084;\n        const text = `${distanceMeters.toFixed(2)} m (${distanceFeet.toFixed(2)} ft)`;\n        const mid = window.Cesium.Cartesian3.lerp(firstPoint, cursorCartesian, 0.5, new window.Cesium.Cartesian3());\n        previewLabelEntityRef.current = viewer.entities.add({\n            position: mid,\n            label: {\n                text,\n                font: '20px bold \"Arial\", sans-serif',\n                fillColor: window.Cesium.Color.YELLOW,\n                outlineColor: window.Cesium.Color.BLACK,\n                outlineWidth: 4,\n                style: window.Cesium.LabelStyle.FILL_AND_OUTLINE,\n                verticalOrigin: window.Cesium.VerticalOrigin.CENTER,\n                horizontalOrigin: window.Cesium.HorizontalOrigin.CENTER,\n                pixelOffset: new window.Cesium.Cartesian2(0, -25),\n                backgroundColor: window.Cesium.Color.BLACK.withAlpha(0.9),\n                backgroundPadding: new window.Cesium.Cartesian2(10, 6),\n                showBackground: true,\n                disableDepthTestDistance: Number.POSITIVE_INFINITY\n            }\n        });\n        setCanvasTooltip(`Distance: ${text}`);\n        viewer.scene?.requestRender();\n    }, [\n        cesiumViewerRef,\n        removePreviewEntities,\n        setCanvasTooltip\n    ]);\n    const finalizeAreaMeasurement = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(()=>{\n        const viewer = cesiumViewerRef.current;\n        if (!viewer || !window?.Cesium) return;\n        const currentMode = measurementModeRef.current;\n        if (currentMode !== \"area\") return;\n        const points = measurementPointsRef.current;\n        if (!points || points.length < 3) return;\n        removePreviewEntities(viewer);\n        const positions = points.map((p)=>p.cartesian);\n        const coords = points.map((p)=>[\n                p.longitude,\n                p.latitude\n            ]);\n        let area = 0;\n        for(let i = 0; i < coords.length; i++){\n            const j = (i + 1) % coords.length;\n            area += coords[i][0] * coords[j][1];\n            area -= coords[j][0] * coords[i][1];\n        }\n        area = Math.abs(area / 2);\n        const metersPerDegree = 111320;\n        const areaM2 = area * metersPerDegree * metersPerDegree;\n        const areaFt2 = areaM2 * 10.7639;\n        const centroid = window.Cesium.BoundingSphere.fromPoints(positions).center;\n        const areaLabel = viewer.entities.add({\n            position: centroid,\n            label: {\n                text: `${areaM2.toFixed(2)} m²\\n${areaFt2.toFixed(2)} ft²`,\n                font: '22px bold \"Arial\", sans-serif',\n                fillColor: window.Cesium.Color.YELLOW,\n                outlineColor: window.Cesium.Color.BLACK,\n                outlineWidth: 5,\n                style: window.Cesium.LabelStyle.FILL_AND_OUTLINE,\n                verticalOrigin: window.Cesium.VerticalOrigin.CENTER,\n                horizontalOrigin: window.Cesium.HorizontalOrigin.CENTER,\n                disableDepthTestDistance: Number.POSITIVE_INFINITY\n            }\n        });\n        measurementEntitiesRef.current.push(areaLabel);\n        overlayEntitiesRef.current.push(areaLabel);\n        setCanvasTooltip(`Area: ${areaM2.toFixed(2)} m² (${areaFt2.toFixed(2)} ft²)`);\n        areaLockedRef.current = true;\n        measurementModeRef.current = null;\n        setMeasurementMode(null);\n        if (viewer.scene) {\n            viewer.scene.requestRender();\n            setTimeout(()=>{\n                if (viewer.scene) viewer.scene.requestRender();\n            }, 50);\n        }\n    }, [\n        cesiumViewerRef,\n        removePreviewEntities,\n        setCanvasTooltip\n    ]);\n    return {\n        measurementMode,\n        measurementPoints,\n        startMeasurement,\n        cancelMeasurement,\n        addMeasurementPoint,\n        clearMeasurements,\n        updatePreviewLine,\n        finalizeAreaMeasurement,\n        getMeasurementMode: ()=>measurementModeRef.current\n    };\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (useMeasurementTool);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LEdBQUc7UUFBQzdCO1FBQWlCbUI7UUFBdUJOO0tBQWlCO0lBRTdELE9BQU87UUFDTFo7UUFDQUU7UUFDQTZCO1FBQ0FFO1FBQ0FFO1FBQ0FOO1FBQ0FxRztRQUNBTztRQUNBYyxvQkFBb0IsSUFBTS9JLG1CQUFtQkcsT0FBTztJQUN0RDtBQUNGO0FBRUEsaUVBQWViLGtCQUFrQkEsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL2NvbWJpbmVkLXVpLy4vY29tcG9uZW50cy91c2VNZWFzdXJlbWVudFRvb2wuanM/Y2JkOSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB1c2VTdGF0ZSwgdXNlUmVmLCB1c2VDYWxsYmFjaywgdXNlRWZmZWN0IH0gZnJvbSAncmVhY3QnO1xyXG5cclxuLy8gQ29waWVkIGZyb20gRnJvbnRydW5uZXIgdG8ga2VlcCBtZWFzdXJlbWVudCBiZWhhdmlvciBpZGVudGljYWxcclxuZnVuY3Rpb24gdXNlTWVhc3VyZW1lbnRUb29sKGNlc2l1bVZpZXdlclJlZikge1xyXG4gIGNvbnN0IFttZWFzdXJlbWVudE1vZGUsIHNldE1lYXN1cmVtZW50TW9kZV0gPSB1c2VTdGF0ZShudWxsKTtcclxuICBjb25zdCBbbWVhc3VyZW1lbnRQb2ludHMsIHNldE1lYXN1cmVtZW50UG9pbnRzXSA9IHVzZVN0YXRlKFtdKTtcclxuXHJcbiAgY29uc3QgbWVhc3VyZW1lbnRFbnRpdGllc1JlZiA9IHVzZVJlZihbXSk7XHJcbiAgY29uc3Qgb3ZlcmxheUVudGl0aWVzUmVmID0gdXNlUmVmKFtdKTtcclxuXHJcbiAgY29uc3QgcHJldmlld0xpbmVFbnRpdHlSZWYgPSB1c2VSZWYobnVsbCk7XHJcbiAgY29uc3QgcHJldmlld0xhYmVsRW50aXR5UmVmID0gdXNlUmVmKG51bGwpO1xyXG5cclxuICBjb25zdCBtZWFzdXJlbWVudE1vZGVSZWYgPSB1c2VSZWYobWVhc3VyZW1lbnRNb2RlKTtcclxuICBjb25zdCBtZWFzdXJlbWVudFBvaW50c1JlZiA9IHVzZVJlZihtZWFzdXJlbWVudFBvaW50cyk7XHJcblxyXG4gIGNvbnN0IGFyZWFMb2NrZWRSZWYgPSB1c2VSZWYoZmFsc2UpO1xyXG5cclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgbWVhc3VyZW1lbnRNb2RlUmVmLmN1cnJlbnQgPSBtZWFzdXJlbWVudE1vZGU7XHJcbiAgfSwgW21lYXN1cmVtZW50TW9kZV0pO1xyXG5cclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgbWVhc3VyZW1lbnRQb2ludHNSZWYuY3VycmVudCA9IG1lYXN1cmVtZW50UG9pbnRzO1xyXG4gIH0sIFttZWFzdXJlbWVudFBvaW50c10pO1xyXG5cclxuICBjb25zdCBzZXRDYW52YXNUb29sdGlwID0gdXNlQ2FsbGJhY2soKHRleHQpID0+IHtcclxuICAgIGNvbnN0IHZpZXdlciA9IGNlc2l1bVZpZXdlclJlZi5jdXJyZW50O1xyXG4gICAgaWYgKCF2aWV3ZXIgfHwgIXZpZXdlci5jZXNpdW1XaWRnZXQpIHJldHVybjtcclxuICAgIHZpZXdlci5jZXNpdW1XaWRnZXQuY29udGFpbmVyLnRpdGxlID0gdGV4dCB8fCAnJztcclxuICB9LCBbY2VzaXVtVmlld2VyUmVmXSk7XHJcblxyXG4gIGNvbnN0IHJlbW92ZVByZXZpZXdFbnRpdGllcyA9IHVzZUNhbGxiYWNrKCh2aWV3ZXIpID0+IHtcclxuICAgIGlmICghdmlld2VyKSByZXR1cm47XHJcbiAgICBjb25zdCByZWZzID0gW3ByZXZpZXdMaW5lRW50aXR5UmVmLCBwcmV2aWV3TGFiZWxFbnRpdHlSZWZdO1xyXG4gICAgcmVmcy5mb3JFYWNoKHJlZiA9PiB7XHJcbiAgICAgIGlmIChyZWYuY3VycmVudCkge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICB2aWV3ZXIuZW50aXRpZXMucmVtb3ZlKHJlZi5jdXJyZW50KTtcclxuICAgICAgICB9IGNhdGNoIChlcnIpIHtcclxuICAgICAgICAgIGNvbnNvbGUud2FybignW01lYXN1cmVtZW50XSBGYWlsZWQgdG8gcmVtb3ZlIHByZXZpZXcgZW50aXR5JywgZXJyKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmVmLmN1cnJlbnQgPSBudWxsO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICAgIHNldENhbnZhc1Rvb2x0aXAoJycpO1xyXG4gICAgaWYgKHZpZXdlci5zY2VuZSkgdmlld2VyLnNjZW5lLnJlcXVlc3RSZW5kZXIoKTtcclxuICB9LCBbc2V0Q2FudmFzVG9vbHRpcF0pO1xyXG5cclxuICBjb25zdCBjbGVhck1lYXN1cmVtZW50cyA9IHVzZUNhbGxiYWNrKCgpID0+IHtcclxuICAgIGNvbnN0IHZpZXdlciA9IGNlc2l1bVZpZXdlclJlZi5jdXJyZW50O1xyXG4gICAgaWYgKHZpZXdlcikge1xyXG4gICAgICByZW1vdmVQcmV2aWV3RW50aXRpZXModmlld2VyKTtcclxuXHJcbiAgICAgIG92ZXJsYXlFbnRpdGllc1JlZi5jdXJyZW50LmZvckVhY2goZSA9PiB7XHJcbiAgICAgICAgdHJ5IHsgdmlld2VyLmVudGl0aWVzLnJlbW92ZShlKTsgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICAgICAgICBjb25zb2xlLndhcm4oJ1tNZWFzdXJlbWVudF0gRmFpbGVkIHRvIHJlbW92ZSBvdmVybGF5IGVudGl0eScsIGVycik7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgICAgb3ZlcmxheUVudGl0aWVzUmVmLmN1cnJlbnQgPSBbXTtcclxuXHJcbiAgICAgIG1lYXN1cmVtZW50RW50aXRpZXNSZWYuY3VycmVudC5mb3JFYWNoKGUgPT4ge1xyXG4gICAgICAgIHRyeSB7IHZpZXdlci5lbnRpdGllcy5yZW1vdmUoZSk7IH0gY2F0Y2ggKGVycikge1xyXG4gICAgICAgICAgY29uc29sZS53YXJuKCdbTWVhc3VyZW1lbnRdIEZhaWxlZCB0byByZW1vdmUgZW50aXR5JywgZXJyKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgICBtZWFzdXJlbWVudEVudGl0aWVzUmVmLmN1cnJlbnQgPSBbXTtcclxuXHJcbiAgICAgIHNldENhbnZhc1Rvb2x0aXAoJycpO1xyXG4gICAgICBpZiAodmlld2VyLnNjZW5lKSB2aWV3ZXIuc2NlbmUucmVxdWVzdFJlbmRlcigpO1xyXG4gICAgfVxyXG4gICAgbWVhc3VyZW1lbnRQb2ludHNSZWYuY3VycmVudCA9IFtdO1xyXG4gICAgc2V0TWVhc3VyZW1lbnRQb2ludHMoW10pO1xyXG4gICAgYXJlYUxvY2tlZFJlZi5jdXJyZW50ID0gZmFsc2U7XHJcbiAgfSwgW2Nlc2l1bVZpZXdlclJlZiwgcmVtb3ZlUHJldmlld0VudGl0aWVzLCBzZXRDYW52YXNUb29sdGlwXSk7XHJcblxyXG4gIGNvbnN0IHN0YXJ0TWVhc3VyZW1lbnQgPSB1c2VDYWxsYmFjaygobW9kZSkgPT4ge1xyXG4gICAgY2xlYXJNZWFzdXJlbWVudHMoKTtcclxuICAgIGFyZWFMb2NrZWRSZWYuY3VycmVudCA9IGZhbHNlO1xyXG4gICAgbWVhc3VyZW1lbnRNb2RlUmVmLmN1cnJlbnQgPSBtb2RlO1xyXG4gICAgc2V0TWVhc3VyZW1lbnRNb2RlKG1vZGUpO1xyXG4gICAgbWVhc3VyZW1lbnRQb2ludHNSZWYuY3VycmVudCA9IFtdO1xyXG4gICAgc2V0TWVhc3VyZW1lbnRQb2ludHMoW10pO1xyXG4gIH0sIFtjbGVhck1lYXN1cmVtZW50c10pO1xyXG5cclxuICBjb25zdCBjYW5jZWxNZWFzdXJlbWVudCA9IHVzZUNhbGxiYWNrKCgpID0+IHtcclxuICAgIGNvbnN0IHZpZXdlciA9IGNlc2l1bVZpZXdlclJlZi5jdXJyZW50O1xyXG4gICAgaWYgKHZpZXdlcikge1xyXG4gICAgICByZW1vdmVQcmV2aWV3RW50aXRpZXModmlld2VyKTtcclxuICAgICAgc2V0Q2FudmFzVG9vbHRpcCgnJyk7XHJcbiAgICB9XHJcbiAgICBjbGVhck1lYXN1cmVtZW50cygpO1xyXG4gICAgbWVhc3VyZW1lbnRNb2RlUmVmLmN1cnJlbnQgPSBudWxsO1xyXG4gICAgc2V0TWVhc3VyZW1lbnRNb2RlKG51bGwpO1xyXG4gICAgYXJlYUxvY2tlZFJlZi5jdXJyZW50ID0gZmFsc2U7XHJcblxyXG4gICAgaWYgKHZpZXdlciAmJiB2aWV3ZXIuc2NlbmUpIHtcclxuICAgICAgdmlld2VyLnNjZW5lLnJlcXVlc3RSZW5kZXIoKTtcclxuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgaWYgKHZpZXdlciAmJiB2aWV3ZXIuc2NlbmUpIHZpZXdlci5zY2VuZS5yZXF1ZXN0UmVuZGVyKCk7XHJcbiAgICAgIH0sIDUwKTtcclxuICAgIH1cclxuICB9LCBbY2xlYXJNZWFzdXJlbWVudHMsIHJlbW92ZVByZXZpZXdFbnRpdGllcywgc2V0Q2FudmFzVG9vbHRpcF0pO1xyXG5cclxuICBjb25zdCBhZGRNZWFzdXJlbWVudFBvaW50ID0gdXNlQ2FsbGJhY2soKGNhcnRlc2lhbikgPT4ge1xyXG4gICAgY29uc3Qgdmlld2VyID0gY2VzaXVtVmlld2VyUmVmLmN1cnJlbnQ7XHJcbiAgICBpZiAoIXZpZXdlciB8fCAhd2luZG93Py5DZXNpdW0gfHwgIWNhcnRlc2lhbikgcmV0dXJuO1xyXG5cclxuICAgIGlmIChhcmVhTG9ja2VkUmVmLmN1cnJlbnQpIHJldHVybjtcclxuXHJcbiAgICBjb25zdCBjdXJyZW50TW9kZSA9IG1lYXN1cmVtZW50TW9kZVJlZi5jdXJyZW50O1xyXG4gICAgaWYgKCFjdXJyZW50TW9kZSkgcmV0dXJuO1xyXG5cclxuICAgIGNvbnN0IGNhcnRvZ3JhcGhpYyA9IHdpbmRvdy5DZXNpdW0uQ2FydG9ncmFwaGljLmZyb21DYXJ0ZXNpYW4oY2FydGVzaWFuKTtcclxuICAgIGNvbnN0IGxvbmdpdHVkZSA9IHdpbmRvdy5DZXNpdW0uTWF0aC50b0RlZ3JlZXMoY2FydG9ncmFwaGljLmxvbmdpdHVkZSk7XHJcbiAgICBjb25zdCBsYXRpdHVkZSA9IHdpbmRvdy5DZXNpdW0uTWF0aC50b0RlZ3JlZXMoY2FydG9ncmFwaGljLmxhdGl0dWRlKTtcclxuXHJcbiAgICBjb25zdCBuZXdQb2ludCA9IHsgY2FydGVzaWFuLCBsb25naXR1ZGUsIGxhdGl0dWRlIH07XHJcblxyXG4gICAgc2V0TWVhc3VyZW1lbnRQb2ludHMocHJldiA9PiB7XHJcbiAgICAgIGNvbnN0IG5ld1BvaW50cyA9IFsuLi5wcmV2LCBuZXdQb2ludF07XHJcblxyXG4gICAgICBpZiAoY3VycmVudE1vZGUgPT09ICdkaXN0YW5jZScgJiYgbmV3UG9pbnRzLmxlbmd0aCA+IDIpIHJldHVybiBwcmV2O1xyXG5cclxuICAgICAgbWVhc3VyZW1lbnRQb2ludHNSZWYuY3VycmVudCA9IG5ld1BvaW50cztcclxuXHJcbiAgICAgIGNvbnN0IHBvaW50RW50aXR5ID0gdmlld2VyLmVudGl0aWVzLmFkZCh7XHJcbiAgICAgICAgcG9zaXRpb246IGNhcnRlc2lhbixcclxuICAgICAgICBwb2ludDoge1xyXG4gICAgICAgICAgcGl4ZWxTaXplOiAxNCxcclxuICAgICAgICAgIGNvbG9yOiB3aW5kb3cuQ2VzaXVtLkNvbG9yLldISVRFLFxyXG4gICAgICAgICAgb3V0bGluZUNvbG9yOiB3aW5kb3cuQ2VzaXVtLkNvbG9yLkNZQU4sXHJcbiAgICAgICAgICBvdXRsaW5lV2lkdGg6IDQsXHJcbiAgICAgICAgICBoZWlnaHRSZWZlcmVuY2U6IHdpbmRvdy5DZXNpdW0uSGVpZ2h0UmVmZXJlbmNlLk5PTkUsXHJcbiAgICAgICAgICBkaXNhYmxlRGVwdGhUZXN0RGlzdGFuY2U6IE51bWJlci5QT1NJVElWRV9JTkZJTklUWSxcclxuICAgICAgICAgIHNjYWxlQnlEaXN0YW5jZTogbmV3IHdpbmRvdy5DZXNpdW0uTmVhckZhclNjYWxhcigxLjVlMiwgMS4yLCA4LjBlNiwgMC42KSxcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgICBtZWFzdXJlbWVudEVudGl0aWVzUmVmLmN1cnJlbnQucHVzaChwb2ludEVudGl0eSk7XHJcblxyXG4gICAgICBpZiAodmlld2VyLnNjZW5lKSB2aWV3ZXIuc2NlbmUucmVxdWVzdFJlbmRlcigpO1xyXG5cclxuICAgICAgaWYgKG5ld1BvaW50cy5sZW5ndGggPiAxKSB7XHJcbiAgICAgICAgb3ZlcmxheUVudGl0aWVzUmVmLmN1cnJlbnQuZm9yRWFjaChlID0+IHtcclxuICAgICAgICAgIHRyeSB7IHZpZXdlci5lbnRpdGllcy5yZW1vdmUoZSk7IH0gY2F0Y2ggKGVycikge1xyXG4gICAgICAgICAgICBjb25zb2xlLndhcm4oJ1tNZWFzdXJlbWVudF0gRmFpbGVkIHRvIHJlbW92ZSBvdmVybGF5IGVudGl0eScsIGVycik7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgb3ZlcmxheUVudGl0aWVzUmVmLmN1cnJlbnQgPSBbXTtcclxuXHJcbiAgICAgICAgY29uc3QgcG9zaXRpb25zID0gbmV3UG9pbnRzLm1hcChwID0+IHAuY2FydGVzaWFuKTtcclxuXHJcbiAgICAgICAgaWYgKGN1cnJlbnRNb2RlID09PSAnZGlzdGFuY2UnICYmIG5ld1BvaW50cy5sZW5ndGggPT09IDIpIHtcclxuICAgICAgICAgIHJlbW92ZVByZXZpZXdFbnRpdGllcyh2aWV3ZXIpO1xyXG5cclxuICAgICAgICAgIGNvbnN0IGxpbmVFbnRpdHkgPSB2aWV3ZXIuZW50aXRpZXMuYWRkKHtcclxuICAgICAgICAgICAgcG9seWxpbmU6IHtcclxuICAgICAgICAgICAgICBwb3NpdGlvbnMsXHJcbiAgICAgICAgICAgICAgd2lkdGg6IDQsXHJcbiAgICAgICAgICAgICAgbWF0ZXJpYWw6IHdpbmRvdy5DZXNpdW0uQ29sb3IuV0hJVEUsXHJcbiAgICAgICAgICAgICAgY2xhbXBUb0dyb3VuZDogdHJ1ZSxcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgICBtZWFzdXJlbWVudEVudGl0aWVzUmVmLmN1cnJlbnQucHVzaChsaW5lRW50aXR5KTtcclxuICAgICAgICAgIG92ZXJsYXlFbnRpdGllc1JlZi5jdXJyZW50LnB1c2gobGluZUVudGl0eSk7XHJcblxyXG4gICAgICAgICAgY29uc3QgZWxsaXBzb2lkID0gdmlld2VyLnNjZW5lLmdsb2JlLmVsbGlwc29pZDtcclxuICAgICAgICAgIGNvbnN0IGMxID0gZWxsaXBzb2lkLmNhcnRlc2lhblRvQ2FydG9ncmFwaGljKHBvc2l0aW9uc1swXSk7XHJcbiAgICAgICAgICBjb25zdCBjMiA9IGVsbGlwc29pZC5jYXJ0ZXNpYW5Ub0NhcnRvZ3JhcGhpYyhwb3NpdGlvbnNbMV0pO1xyXG4gICAgICAgICAgY29uc3QgZ2VvZGVzaWMgPSBuZXcgd2luZG93LkNlc2l1bS5FbGxpcHNvaWRHZW9kZXNpYyhjMSwgYzIpO1xyXG4gICAgICAgICAgY29uc3QgZGlzdGFuY2VNZXRlcnMgPSBnZW9kZXNpYy5zdXJmYWNlRGlzdGFuY2U7XHJcbiAgICAgICAgICBjb25zdCBkaXN0YW5jZUZlZXQgPSBkaXN0YW5jZU1ldGVycyAqIDMuMjgwODQ7XHJcblxyXG4gICAgICAgICAgaWYgKCFOdW1iZXIuaXNGaW5pdGUoZGlzdGFuY2VNZXRlcnMpIHx8IGRpc3RhbmNlTWV0ZXJzIDwgMC4wMSkge1xyXG4gICAgICAgICAgICB0cnkgeyB2aWV3ZXIuZW50aXRpZXMucmVtb3ZlKGxpbmVFbnRpdHkpOyB9IGNhdGNoIChfKSB7fVxyXG4gICAgICAgICAgICBtZWFzdXJlbWVudEVudGl0aWVzUmVmLmN1cnJlbnQucG9wKCk7XHJcbiAgICAgICAgICAgIG92ZXJsYXlFbnRpdGllc1JlZi5jdXJyZW50LnBvcCgpO1xyXG4gICAgICAgICAgICBjb25zdCBkdXBQb2ludCA9IG1lYXN1cmVtZW50RW50aXRpZXNSZWYuY3VycmVudC5wb3AoKTtcclxuICAgICAgICAgICAgaWYgKGR1cFBvaW50KSB7XHJcbiAgICAgICAgICAgICAgdHJ5IHsgdmlld2VyLmVudGl0aWVzLnJlbW92ZShkdXBQb2ludCk7IH0gY2F0Y2ggKF8pIHt9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbWVhc3VyZW1lbnRQb2ludHNSZWYuY3VycmVudCA9IFtuZXdQb2ludHNbMF1dO1xyXG4gICAgICAgICAgICBzZXRNZWFzdXJlbWVudFBvaW50cyhbbmV3UG9pbnRzWzBdXSk7XHJcbiAgICAgICAgICAgIHNldENhbnZhc1Rvb2x0aXAoJ1BpY2sgYSBkaWZmZXJlbnQgcG9pbnQnKTtcclxuICAgICAgICAgICAgaWYgKHZpZXdlci5zY2VuZSkgdmlld2VyLnNjZW5lLnJlcXVlc3RSZW5kZXIoKTtcclxuICAgICAgICAgICAgcmV0dXJuIFtuZXdQb2ludHNbMF1dO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIGNvbnN0IG1ldGVyc1RleHQgPSBgJHtkaXN0YW5jZU1ldGVycy50b0ZpeGVkKDIpfSBtYDtcclxuICAgICAgICAgIGNvbnN0IGZlZXRUZXh0ID0gYCR7ZGlzdGFuY2VGZWV0LnRvRml4ZWQoMil9IGZ0YDtcclxuICAgICAgICAgIGNvbnN0IHRvb2x0aXBUZXh0ID0gYPCfk48gJHttZXRlcnNUZXh0fSAoJHtmZWV0VGV4dH0pYDtcclxuXHJcbiAgICAgICAgICBjb25zdCBiZWFyaW5nID0gd2luZG93LkNlc2l1bS5NYXRoLnRvRGVncmVlcyhnZW9kZXNpYy5zdGFydEhlYWRpbmcpO1xyXG4gICAgICAgICAgY29uc3Qgbm9ybWFsaXplZEJlYXJpbmcgPSBiZWFyaW5nIDwgMCA/IGJlYXJpbmcgKyAzNjAgOiBiZWFyaW5nO1xyXG4gICAgICAgICAgY29uc3Qgcm90YXRpb25BbmdsZSA9XHJcbiAgICAgICAgICAgIG5vcm1hbGl6ZWRCZWFyaW5nID4gOTAgJiYgbm9ybWFsaXplZEJlYXJpbmcgPCAyNzBcclxuICAgICAgICAgICAgICA/IG5vcm1hbGl6ZWRCZWFyaW5nIC0gMTgwXHJcbiAgICAgICAgICAgICAgOiBub3JtYWxpemVkQmVhcmluZztcclxuICAgICAgICAgIGNvbnN0IHJvdGF0aW9uUmFkaWFucyA9IHdpbmRvdy5DZXNpdW0uTWF0aC50b1JhZGlhbnMocm90YXRpb25BbmdsZSk7XHJcblxyXG4gICAgICAgICAgY29uc3QgbWlkID0gd2luZG93LkNlc2l1bS5DYXJ0ZXNpYW4zLmxlcnAoXHJcbiAgICAgICAgICAgIHBvc2l0aW9uc1swXSxcclxuICAgICAgICAgICAgcG9zaXRpb25zWzFdLFxyXG4gICAgICAgICAgICAwLjUsXHJcbiAgICAgICAgICAgIG5ldyB3aW5kb3cuQ2VzaXVtLkNhcnRlc2lhbjMoKVxyXG4gICAgICAgICAgKTtcclxuXHJcbiAgICAgICAgICBjb25zdCBtZXRlcnNMYWJlbEVudGl0eSA9IHZpZXdlci5lbnRpdGllcy5hZGQoe1xyXG4gICAgICAgICAgICBwb3NpdGlvbjogbWlkLFxyXG4gICAgICAgICAgICBsYWJlbDoge1xyXG4gICAgICAgICAgICAgIHRleHQ6IG1ldGVyc1RleHQsXHJcbiAgICAgICAgICAgICAgZm9udDogJzIycHggYm9sZCBcIkFyaWFsXCIsIHNhbnMtc2VyaWYnLFxyXG4gICAgICAgICAgICAgIGZpbGxDb2xvcjogd2luZG93LkNlc2l1bS5Db2xvci5ZRUxMT1csXHJcbiAgICAgICAgICAgICAgb3V0bGluZUNvbG9yOiB3aW5kb3cuQ2VzaXVtLkNvbG9yLkJMQUNLLFxyXG4gICAgICAgICAgICAgIG91dGxpbmVXaWR0aDogNSxcclxuICAgICAgICAgICAgICBzdHlsZTogd2luZG93LkNlc2l1bS5MYWJlbFN0eWxlLkZJTExfQU5EX09VVExJTkUsXHJcbiAgICAgICAgICAgICAgdmVydGljYWxPcmlnaW46IHdpbmRvdy5DZXNpdW0uVmVydGljYWxPcmlnaW4uQ0VOVEVSLFxyXG4gICAgICAgICAgICAgIGhvcml6b250YWxPcmlnaW46IHdpbmRvdy5DZXNpdW0uSG9yaXpvbnRhbE9yaWdpbi5DRU5URVIsXHJcbiAgICAgICAgICAgICAgcGl4ZWxPZmZzZXQ6IG5ldyB3aW5kb3cuQ2VzaXVtLkNhcnRlc2lhbjIoMCwgLTMwKSxcclxuICAgICAgICAgICAgICByb3RhdGlvbjogcm90YXRpb25SYWRpYW5zLFxyXG4gICAgICAgICAgICAgIGRpc2FibGVEZXB0aFRlc3REaXN0YW5jZTogTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZLFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICBjb25zdCBmZWV0TGFiZWxFbnRpdHkgPSB2aWV3ZXIuZW50aXRpZXMuYWRkKHtcclxuICAgICAgICAgICAgcG9zaXRpb246IG1pZCxcclxuICAgICAgICAgICAgbGFiZWw6IHtcclxuICAgICAgICAgICAgICB0ZXh0OiBmZWV0VGV4dCxcclxuICAgICAgICAgICAgICBmb250OiAnMjJweCBib2xkIFwiQXJpYWxcIiwgc2Fucy1zZXJpZicsXHJcbiAgICAgICAgICAgICAgZmlsbENvbG9yOiB3aW5kb3cuQ2VzaXVtLkNvbG9yLldISVRFLFxyXG4gICAgICAgICAgICAgIG91dGxpbmVDb2xvcjogd2luZG93LkNlc2l1bS5Db2xvci5CTEFDSyxcclxuICAgICAgICAgICAgICBvdXRsaW5lV2lkdGg6IDUsXHJcbiAgICAgICAgICAgICAgc3R5bGU6IHdpbmRvdy5DZXNpdW0uTGFiZWxTdHlsZS5GSUxMX0FORF9PVVRMSU5FLFxyXG4gICAgICAgICAgICAgIHZlcnRpY2FsT3JpZ2luOiB3aW5kb3cuQ2VzaXVtLlZlcnRpY2FsT3JpZ2luLkNFTlRFUixcclxuICAgICAgICAgICAgICBob3Jpem9udGFsT3JpZ2luOiB3aW5kb3cuQ2VzaXVtLkhvcml6b250YWxPcmlnaW4uQ0VOVEVSLFxyXG4gICAgICAgICAgICAgIHBpeGVsT2Zmc2V0OiBuZXcgd2luZG93LkNlc2l1bS5DYXJ0ZXNpYW4yKDAsIDMwKSxcclxuICAgICAgICAgICAgICByb3RhdGlvbjogcm90YXRpb25SYWRpYW5zLFxyXG4gICAgICAgICAgICAgIGRpc2FibGVEZXB0aFRlc3REaXN0YW5jZTogTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZLFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICBtZWFzdXJlbWVudEVudGl0aWVzUmVmLmN1cnJlbnQucHVzaChtZXRlcnNMYWJlbEVudGl0eSwgZmVldExhYmVsRW50aXR5KTtcclxuICAgICAgICAgIG92ZXJsYXlFbnRpdGllc1JlZi5jdXJyZW50LnB1c2gobWV0ZXJzTGFiZWxFbnRpdHksIGZlZXRMYWJlbEVudGl0eSk7XHJcblxyXG4gICAgICAgICAgc2V0Q2FudmFzVG9vbHRpcCh0b29sdGlwVGV4dCk7XHJcblxyXG4gICAgICAgICAgYXJlYUxvY2tlZFJlZi5jdXJyZW50ID0gdHJ1ZTtcclxuICAgICAgICAgIG1lYXN1cmVtZW50TW9kZVJlZi5jdXJyZW50ID0gbnVsbDtcclxuICAgICAgICAgIHNldE1lYXN1cmVtZW50TW9kZShudWxsKTtcclxuXHJcbiAgICAgICAgICBpZiAodmlld2VyLnNjZW5lKSB7XHJcbiAgICAgICAgICAgIHZpZXdlci5zY2VuZS5yZXF1ZXN0UmVuZGVyKCk7XHJcbiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgIGlmICh2aWV3ZXIuc2NlbmUpIHZpZXdlci5zY2VuZS5yZXF1ZXN0UmVuZGVyKCk7XHJcbiAgICAgICAgICAgIH0sIDUwKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGVsc2UgaWYgKGN1cnJlbnRNb2RlID09PSAnYXJlYScgJiYgbmV3UG9pbnRzLmxlbmd0aCA+PSAyKSB7XHJcbiAgICAgICAgICBjb25zdCBwb2x5Z29uRW50aXR5ID0gdmlld2VyLmVudGl0aWVzLmFkZCh7XHJcbiAgICAgICAgICAgIHBvbHlnb246IHtcclxuICAgICAgICAgICAgICBoaWVyYXJjaHk6IG5ldyB3aW5kb3cuQ2VzaXVtLlBvbHlnb25IaWVyYXJjaHkocG9zaXRpb25zKSxcclxuICAgICAgICAgICAgICBtYXRlcmlhbDogd2luZG93LkNlc2l1bS5Db2xvci5ZRUxMT1cud2l0aEFscGhhKDAuMyksXHJcbiAgICAgICAgICAgICAgb3V0bGluZTogdHJ1ZSxcclxuICAgICAgICAgICAgICBvdXRsaW5lQ29sb3I6IHdpbmRvdy5DZXNpdW0uQ29sb3IuWUVMTE9XLFxyXG4gICAgICAgICAgICAgIG91dGxpbmVXaWR0aDogMyxcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgICBtZWFzdXJlbWVudEVudGl0aWVzUmVmLmN1cnJlbnQucHVzaChwb2x5Z29uRW50aXR5KTtcclxuICAgICAgICAgIG92ZXJsYXlFbnRpdGllc1JlZi5jdXJyZW50LnB1c2gocG9seWdvbkVudGl0eSk7XHJcblxyXG4gICAgICAgICAgaWYgKHZpZXdlci5zY2VuZSkgdmlld2VyLnNjZW5lLnJlcXVlc3RSZW5kZXIoKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHZpZXdlci5zY2VuZT8ucmVxdWVzdFJlbmRlcigpO1xyXG4gICAgICByZXR1cm4gbmV3UG9pbnRzO1xyXG4gICAgfSk7XHJcbiAgfSwgW2Nlc2l1bVZpZXdlclJlZiwgcmVtb3ZlUHJldmlld0VudGl0aWVzLCBzZXRDYW52YXNUb29sdGlwXSk7XHJcblxyXG4gIGNvbnN0IHVwZGF0ZVByZXZpZXdMaW5lID0gdXNlQ2FsbGJhY2soKGN1cnNvckNhcnRlc2lhbikgPT4ge1xyXG4gICAgY29uc3Qgdmlld2VyID0gY2VzaXVtVmlld2VyUmVmLmN1cnJlbnQ7XHJcbiAgICBpZiAoIXZpZXdlciB8fCAhd2luZG93Py5DZXNpdW0pIHtcclxuICAgICAgaWYgKHZpZXdlcikgcmVtb3ZlUHJldmlld0VudGl0aWVzKHZpZXdlcik7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoYXJlYUxvY2tlZFJlZi5jdXJyZW50KSB7XHJcbiAgICAgIHJlbW92ZVByZXZpZXdFbnRpdGllcyh2aWV3ZXIpO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKCFjdXJzb3JDYXJ0ZXNpYW4pIHtcclxuICAgICAgcmVtb3ZlUHJldmlld0VudGl0aWVzKHZpZXdlcik7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBjdXJyZW50TW9kZSA9IG1lYXN1cmVtZW50TW9kZVJlZi5jdXJyZW50O1xyXG4gICAgY29uc3QgcG9pbnRzID0gbWVhc3VyZW1lbnRQb2ludHNSZWYuY3VycmVudDtcclxuXHJcbiAgICBpZiAoY3VycmVudE1vZGUgIT09ICdkaXN0YW5jZScgfHwgcG9pbnRzLmxlbmd0aCAhPT0gMSkge1xyXG4gICAgICByZW1vdmVQcmV2aWV3RW50aXRpZXModmlld2VyKTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGZpcnN0UG9pbnQgPSBwb2ludHNbMF0uY2FydGVzaWFuO1xyXG5cclxuICAgIHJlbW92ZVByZXZpZXdFbnRpdGllcyh2aWV3ZXIpO1xyXG5cclxuICAgIHByZXZpZXdMaW5lRW50aXR5UmVmLmN1cnJlbnQgPSB2aWV3ZXIuZW50aXRpZXMuYWRkKHtcclxuICAgICAgcG9seWxpbmU6IHtcclxuICAgICAgICBwb3NpdGlvbnM6IFtmaXJzdFBvaW50LCBjdXJzb3JDYXJ0ZXNpYW5dLFxyXG4gICAgICAgIHdpZHRoOiAzLFxyXG4gICAgICAgIG1hdGVyaWFsOiB3aW5kb3cuQ2VzaXVtLkNvbG9yLllFTExPVy53aXRoQWxwaGEoMC44KSxcclxuICAgICAgICBjbGFtcFRvR3JvdW5kOiB0cnVlLFxyXG4gICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICBjb25zdCBlbGxpcHNvaWQgPSB2aWV3ZXIuc2NlbmUuZ2xvYmUuZWxsaXBzb2lkO1xyXG4gICAgY29uc3QgYzEgPSBlbGxpcHNvaWQuY2FydGVzaWFuVG9DYXJ0b2dyYXBoaWMoZmlyc3RQb2ludCk7XHJcbiAgICBjb25zdCBjMiA9IGVsbGlwc29pZC5jYXJ0ZXNpYW5Ub0NhcnRvZ3JhcGhpYyhjdXJzb3JDYXJ0ZXNpYW4pO1xyXG4gICAgY29uc3QgZ2VvZGVzaWMgPSBuZXcgd2luZG93LkNlc2l1bS5FbGxpcHNvaWRHZW9kZXNpYyhjMSwgYzIpO1xyXG4gICAgY29uc3QgZGlzdGFuY2VNZXRlcnMgPSBnZW9kZXNpYy5zdXJmYWNlRGlzdGFuY2U7XHJcbiAgICBjb25zdCBkaXN0YW5jZUZlZXQgPSBkaXN0YW5jZU1ldGVycyAqIDMuMjgwODQ7XHJcblxyXG4gICAgY29uc3QgdGV4dCA9IGAke2Rpc3RhbmNlTWV0ZXJzLnRvRml4ZWQoMil9IG0gKCR7ZGlzdGFuY2VGZWV0LnRvRml4ZWQoMil9IGZ0KWA7XHJcblxyXG4gICAgY29uc3QgbWlkID0gd2luZG93LkNlc2l1bS5DYXJ0ZXNpYW4zLmxlcnAoXHJcbiAgICAgIGZpcnN0UG9pbnQsXHJcbiAgICAgIGN1cnNvckNhcnRlc2lhbixcclxuICAgICAgMC41LFxyXG4gICAgICBuZXcgd2luZG93LkNlc2l1bS5DYXJ0ZXNpYW4zKClcclxuICAgICk7XHJcblxyXG4gICAgcHJldmlld0xhYmVsRW50aXR5UmVmLmN1cnJlbnQgPSB2aWV3ZXIuZW50aXRpZXMuYWRkKHtcclxuICAgICAgcG9zaXRpb246IG1pZCxcclxuICAgICAgbGFiZWw6IHtcclxuICAgICAgICB0ZXh0LFxyXG4gICAgICAgIGZvbnQ6ICcyMHB4IGJvbGQgXCJBcmlhbFwiLCBzYW5zLXNlcmlmJyxcclxuICAgICAgICBmaWxsQ29sb3I6IHdpbmRvdy5DZXNpdW0uQ29sb3IuWUVMTE9XLFxyXG4gICAgICAgIG91dGxpbmVDb2xvcjogd2luZG93LkNlc2l1bS5Db2xvci5CTEFDSyxcclxuICAgICAgICBvdXRsaW5lV2lkdGg6IDQsXHJcbiAgICAgICAgc3R5bGU6IHdpbmRvdy5DZXNpdW0uTGFiZWxTdHlsZS5GSUxMX0FORF9PVVRMSU5FLFxyXG4gICAgICAgIHZlcnRpY2FsT3JpZ2luOiB3aW5kb3cuQ2VzaXVtLlZlcnRpY2FsT3JpZ2luLkNFTlRFUixcclxuICAgICAgICBob3Jpem9udGFsT3JpZ2luOiB3aW5kb3cuQ2VzaXVtLkhvcml6b250YWxPcmlnaW4uQ0VOVEVSLFxyXG4gICAgICAgIHBpeGVsT2Zmc2V0OiBuZXcgd2luZG93LkNlc2l1bS5DYXJ0ZXNpYW4yKDAsIC0yNSksXHJcbiAgICAgICAgYmFja2dyb3VuZENvbG9yOiB3aW5kb3cuQ2VzaXVtLkNvbG9yLkJMQUNLLndpdGhBbHBoYSgwLjkpLFxyXG4gICAgICAgIGJhY2tncm91bmRQYWRkaW5nOiBuZXcgd2luZG93LkNlc2l1bS5DYXJ0ZXNpYW4yKDEwLCA2KSxcclxuICAgICAgICBzaG93QmFja2dyb3VuZDogdHJ1ZSxcclxuICAgICAgICBkaXNhYmxlRGVwdGhUZXN0RGlzdGFuY2U6IE51bWJlci5QT1NJVElWRV9JTkZJTklUWSxcclxuICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgc2V0Q2FudmFzVG9vbHRpcChgRGlzdGFuY2U6ICR7dGV4dH1gKTtcclxuICAgIHZpZXdlci5zY2VuZT8ucmVxdWVzdFJlbmRlcigpO1xyXG4gIH0sIFtjZXNpdW1WaWV3ZXJSZWYsIHJlbW92ZVByZXZpZXdFbnRpdGllcywgc2V0Q2FudmFzVG9vbHRpcF0pO1xyXG5cclxuICBjb25zdCBmaW5hbGl6ZUFyZWFNZWFzdXJlbWVudCA9IHVzZUNhbGxiYWNrKCgpID0+IHtcclxuICAgIGNvbnN0IHZpZXdlciA9IGNlc2l1bVZpZXdlclJlZi5jdXJyZW50O1xyXG4gICAgaWYgKCF2aWV3ZXIgfHwgIXdpbmRvdz8uQ2VzaXVtKSByZXR1cm47XHJcblxyXG4gICAgY29uc3QgY3VycmVudE1vZGUgPSBtZWFzdXJlbWVudE1vZGVSZWYuY3VycmVudDtcclxuICAgIGlmIChjdXJyZW50TW9kZSAhPT0gJ2FyZWEnKSByZXR1cm47XHJcblxyXG4gICAgY29uc3QgcG9pbnRzID0gbWVhc3VyZW1lbnRQb2ludHNSZWYuY3VycmVudDtcclxuICAgIGlmICghcG9pbnRzIHx8IHBvaW50cy5sZW5ndGggPCAzKSByZXR1cm47XHJcblxyXG4gICAgcmVtb3ZlUHJldmlld0VudGl0aWVzKHZpZXdlcik7XHJcblxyXG4gICAgY29uc3QgcG9zaXRpb25zID0gcG9pbnRzLm1hcChwID0+IHAuY2FydGVzaWFuKTtcclxuXHJcbiAgICBjb25zdCBjb29yZHMgPSBwb2ludHMubWFwKHAgPT4gW3AubG9uZ2l0dWRlLCBwLmxhdGl0dWRlXSk7XHJcbiAgICBsZXQgYXJlYSA9IDA7XHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNvb3Jkcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICBjb25zdCBqID0gKGkgKyAxKSAlIGNvb3Jkcy5sZW5ndGg7XHJcbiAgICAgIGFyZWEgKz0gY29vcmRzW2ldWzBdICogY29vcmRzW2pdWzFdO1xyXG4gICAgICBhcmVhIC09IGNvb3Jkc1tqXVswXSAqIGNvb3Jkc1tpXVsxXTtcclxuICAgIH1cclxuICAgIGFyZWEgPSBNYXRoLmFicyhhcmVhIC8gMik7XHJcbiAgICBjb25zdCBtZXRlcnNQZXJEZWdyZWUgPSAxMTEzMjA7XHJcbiAgICBjb25zdCBhcmVhTTIgPSBhcmVhICogbWV0ZXJzUGVyRGVncmVlICogbWV0ZXJzUGVyRGVncmVlO1xyXG4gICAgY29uc3QgYXJlYUZ0MiA9IGFyZWFNMiAqIDEwLjc2Mzk7XHJcblxyXG4gICAgY29uc3QgY2VudHJvaWQgPSB3aW5kb3cuQ2VzaXVtLkJvdW5kaW5nU3BoZXJlLmZyb21Qb2ludHMocG9zaXRpb25zKS5jZW50ZXI7XHJcblxyXG4gICAgY29uc3QgYXJlYUxhYmVsID0gdmlld2VyLmVudGl0aWVzLmFkZCh7XHJcbiAgICAgIHBvc2l0aW9uOiBjZW50cm9pZCxcclxuICAgICAgbGFiZWw6IHtcclxuICAgICAgICB0ZXh0OiBgJHthcmVhTTIudG9GaXhlZCgyKX0gbcKyXFxuJHthcmVhRnQyLnRvRml4ZWQoMil9IGZ0wrJgLFxyXG4gICAgICAgIGZvbnQ6ICcyMnB4IGJvbGQgXCJBcmlhbFwiLCBzYW5zLXNlcmlmJyxcclxuICAgICAgICBmaWxsQ29sb3I6IHdpbmRvdy5DZXNpdW0uQ29sb3IuWUVMTE9XLFxyXG4gICAgICAgIG91dGxpbmVDb2xvcjogd2luZG93LkNlc2l1bS5Db2xvci5CTEFDSyxcclxuICAgICAgICBvdXRsaW5lV2lkdGg6IDUsXHJcbiAgICAgICAgc3R5bGU6IHdpbmRvdy5DZXNpdW0uTGFiZWxTdHlsZS5GSUxMX0FORF9PVVRMSU5FLFxyXG4gICAgICAgIHZlcnRpY2FsT3JpZ2luOiB3aW5kb3cuQ2VzaXVtLlZlcnRpY2FsT3JpZ2luLkNFTlRFUixcclxuICAgICAgICBob3Jpem9udGFsT3JpZ2luOiB3aW5kb3cuQ2VzaXVtLkhvcml6b250YWxPcmlnaW4uQ0VOVEVSLFxyXG4gICAgICAgIGRpc2FibGVEZXB0aFRlc3REaXN0YW5jZTogTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZLFxyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICAgIG1lYXN1cmVtZW50RW50aXRpZXNSZWYuY3VycmVudC5wdXNoKGFyZWFMYWJlbCk7XHJcbiAgICBvdmVybGF5RW50aXRpZXNSZWYuY3VycmVudC5wdXNoKGFyZWFMYWJlbCk7XHJcblxyXG4gICAgc2V0Q2FudmFzVG9vbHRpcChgQXJlYTogJHthcmVhTTIudG9GaXhlZCgyKX0gbcKyICgke2FyZWFGdDIudG9GaXhlZCgyKX0gZnTCsilgKTtcclxuXHJcbiAgICBhcmVhTG9ja2VkUmVmLmN1cnJlbnQgPSB0cnVlO1xyXG4gICAgbWVhc3VyZW1lbnRNb2RlUmVmLmN1cnJlbnQgPSBudWxsO1xyXG4gICAgc2V0TWVhc3VyZW1lbnRNb2RlKG51bGwpO1xyXG5cclxuICAgIGlmICh2aWV3ZXIuc2NlbmUpIHtcclxuICAgICAgdmlld2VyLnNjZW5lLnJlcXVlc3RSZW5kZXIoKTtcclxuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgaWYgKHZpZXdlci5zY2VuZSkgdmlld2VyLnNjZW5lLnJlcXVlc3RSZW5kZXIoKTtcclxuICAgICAgfSwgNTApO1xyXG4gICAgfVxyXG4gIH0sIFtjZXNpdW1WaWV3ZXJSZWYsIHJlbW92ZVByZXZpZXdFbnRpdGllcywgc2V0Q2FudmFzVG9vbHRpcF0pO1xyXG5cclxuICByZXR1cm4ge1xyXG4gICAgbWVhc3VyZW1lbnRNb2RlLFxyXG4gICAgbWVhc3VyZW1lbnRQb2ludHMsXHJcbiAgICBzdGFydE1lYXN1cmVtZW50LFxyXG4gICAgY2FuY2VsTWVhc3VyZW1lbnQsXHJcbiAgICBhZGRNZWFzdXJlbWVudFBvaW50LFxyXG4gICAgY2xlYXJNZWFzdXJlbWVudHMsXHJcbiAgICB1cGRhdGVQcmV2aWV3TGluZSxcclxuICAgIGZpbmFsaXplQXJlYU1lYXN1cmVtZW50LFxyXG4gICAgZ2V0TWVhc3VyZW1lbnRNb2RlOiAoKSA9PiBtZWFzdXJlbWVudE1vZGVSZWYuY3VycmVudCxcclxuICB9O1xyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCB1c2VNZWFzdXJlbWVudFRvb2w7XHJcblxyXG5cclxuIl0sIm5hbWVzIjpbInVzZVN0YXRlIiwidXNlUmVmIiwidXNlQ2FsbGJhY2siLCJ1c2VFZmZlY3QiLCJ1c2VNZWFzdXJlbWVudFRvb2wiLCJjZXNpdW1WaWV3ZXJSZWYiLCJtZWFzdXJlbWVudE1vZGUiLCJzZXRNZWFzdXJlbWVudE1vZGUiLCJtZWFzdXJlbWVudFBvaW50cyIsInNldE1lYXN1cmVtZW50UG9pbnRzIiwibWVhc3VyZW1lbnRFbnRpdGllc1JlZiIsIm92ZXJsYXlFbnRpdGllc1JlZiIsInByZXZpZXdMaW5lRW50aXR5UmVmIiwicHJldmlld0xhYmVsRW50aXR5UmVmIiwibWVhc3VyZW1lbnRNb2RlUmVmIiwibWVhc3VyZW1lbnRQb2ludHNSZWYiLCJhcmVhTG9ja2VkUmVmIiwiY3VycmVudCIsInNldENhbnZhc1Rvb2x0aXAiLCJ0ZXh0Iiwidmlld2VyIiwiY2VzaXVtV2lkZ2V0IiwiY29udGFpbmVyIiwidGl0bGUiLCJyZW1vdmVQcmV2aWV3RW50aXRpZXMiLCJyZWZzIiwiZm9yRWFjaCIsInJlZiIsImVudGl0aWVzIiwicmVtb3ZlIiwiZXJyIiwiY29uc29sZSIsIndhcm4iLCJzY2VuZSIsInJlcXVlc3RSZW5kZXIiLCJjbGVhck1lYXN1cmVtZW50cyIsImUiLCJzdGFydE1lYXN1cmVtZW50IiwibW9kZSIsImNhbmNlbE1lYXN1cmVtZW50Iiwic2V0VGltZW91dCIsImFkZE1lYXN1cmVtZW50UG9pbnQiLCJjYXJ0ZXNpYW4iLCJ3aW5kb3ciLCJDZXNpdW0iLCJjdXJyZW50TW9kZSIsImNhcnRvZ3JhcGhpYyIsIkNhcnRvZ3JhcGhpYyIsImZyb21DYXJ0ZXNpYW4iLCJsb25naXR1ZGUiLCJNYXRoIiwidG9EZWdyZWVzIiwibGF0aXR1ZGUiLCJuZXdQb2ludCIsInByZXYiLCJuZXdQb2ludHMiLCJsZW5ndGgiLCJwb2ludEVudGl0eSIsImFkZCIsInBvc2l0aW9uIiwicG9pbnQiLCJwaXhlbFNpemUiLCJjb2xvciIsIkNvbG9yIiwiV0hJVEUiLCJvdXRsaW5lQ29sb3IiLCJDWUFOIiwib3V0bGluZVdpZHRoIiwiaGVpZ2h0UmVmZXJlbmNlIiwiSGVpZ2h0UmVmZXJlbmNlIiwiTk9ORSIsImRpc2FibGVEZXB0aFRlc3REaXN0YW5jZSIsIk51bWJlciIsIlBPU0lUSVZFX0lORklOSVRZIiwic2NhbGVCeURpc3RhbmNlIiwiTmVhckZhclNjYWxhciIsInB1c2giLCJwb3NpdGlvbnMiLCJtYXAiLCJwIiwibGluZUVudGl0eSIsInBvbHlsaW5lIiwid2lkdGgiLCJtYXRlcmlhbCIsImNsYW1wVG9Hcm91bmQiLCJlbGxpcHNvaWQiLCJnbG9iZSIsImMxIiwiY2FydGVzaWFuVG9DYXJ0b2dyYXBoaWMiLCJjMiIsImdlb2Rlc2ljIiwiRWxsaXBzb2lkR2VvZGVzaWMiLCJkaXN0YW5jZU1ldGVycyIsInN1cmZhY2VEaXN0YW5jZSIsImRpc3RhbmNlRmVldCIsImlzRmluaXRlIiwiXyIsInBvcCIsImR1cFBvaW50IiwibWV0ZXJzVGV4dCIsInRvRml4ZWQiLCJmZWV0VGV4dCIsInRvb2x0aXBUZXh0IiwiYmVhcmluZyIsInN0YXJ0SGVhZGluZyIsIm5vcm1hbGl6ZWRCZWFyaW5nIiwicm90YXRpb25BbmdsZSIsInJvdGF0aW9uUmFkaWFucyIsInRvUmFkaWFucyIsIm1pZCIsIkNhcnRlc2lhbjMiLCJsZXJwIiwibWV0ZXJzTGFiZWxFbnRpdHkiLCJsYWJlbCIsImZvbnQiLCJmaWxsQ29sb3IiLCJZRUxMT1ciLCJCTEFDSyIsInN0eWxlIiwiTGFiZWxTdHlsZSIsIkZJTExfQU5EX09VVExJTkUiLCJ2ZXJ0aWNhbE9yaWdpbiIsIlZlcnRpY2FsT3JpZ2luIiwiQ0VOVEVSIiwiaG9yaXpvbnRhbE9yaWdpbiIsIkhvcml6b250YWxPcmlnaW4iLCJwaXhlbE9mZnNldCIsIkNhcnRlc2lhbjIiLCJyb3RhdGlvbiIsImZlZXRMYWJlbEVudGl0eSIsInBvbHlnb25FbnRpdHkiLCJwb2x5Z29uIiwiaGllcmFyY2h5IiwiUG9seWdvbkhpZXJhcmNoeSIsIndpdGhBbHBoYSIsIm91dGxpbmUiLCJ1cGRhdGVQcmV2aWV3TGluZSIsImN1cnNvckNhcnRlc2lhbiIsInBvaW50cyIsImZpcnN0UG9pbnQiLCJiYWNrZ3JvdW5kQ29sb3IiLCJiYWNrZ3JvdW5kUGFkZGluZyIsInNob3dCYWNrZ3JvdW5kIiwiZmluYWxpemVBcmVhTWVhc3VyZW1lbnQiLCJjb29yZHMiLCJhcmVhIiwiaSIsImoiLCJhYnMiLCJtZXRlcnNQZXJEZWdyZWUiLCJhcmVhTTIiLCJhcmVhRnQyIiwiY2VudHJvaWQiLCJCb3VuZGluZ1NwaGVyZSIsImZyb21Qb2ludHMiLCJjZW50ZXIiLCJhcmVhTGFiZWwiLCJnZXRNZWFzdXJlbWVudE1vZGUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./components/useMeasurementTool.js\n");

/***/ }),

/***/ "./components/useTurnPathManager.js":
/*!******************************************!*\
  !*** ./components/useTurnPathManager.js ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ useTurnPathManager)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n\n/**\r\n * Hook for managing turn path computation workflow\r\n * Handles state, road selection, API calls, and path rendering\r\n */ function useTurnPathManager(cesiumViewerRef, centerPoints = []) {\n    const [isDialogOpen, setIsDialogOpen] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    const [currentStep, setCurrentStep] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(\"profile\"); // profile, selecting_source, selecting_destination, computing, showing_path\n    const [vehicleProfiles, setVehicleProfiles] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)({});\n    const [pathConfig, setPathConfig] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [selectedSourceRoad, setSelectedSourceRoad] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [selectedDestinationRoad, setSelectedDestinationRoad] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [computedPath, setComputedPath] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [warning, setWarning] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    // Refs to expose latest state to Cesium event handlers\n    const currentStepRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(currentStep);\n    const selectedSourceRoadRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(selectedSourceRoad);\n    const selectedDestinationRoadRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(selectedDestinationRoad);\n    const pathConfigRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(pathConfig);\n    const getEntityProperty = (entity, key)=>{\n        if (!entity?.properties) return null;\n        const prop = entity.properties[key];\n        if (prop === undefined || prop === null) return null;\n        return typeof prop.getValue === \"function\" ? prop.getValue() : prop;\n    };\n    const extractRoadConnections = (entity)=>{\n        if (!entity?.properties) return [];\n        const possibleKeys = [\n            \"from_location_name\",\n            \"to_location_name\",\n            \"from_location\",\n            \"to_location\",\n            \"from_intersection\",\n            \"to_intersection\",\n            \"start_location_name\",\n            \"end_location_name\"\n        ];\n        const values = possibleKeys.map((key)=>getEntityProperty(entity, key)).filter((val)=>typeof val === \"string\" && val.trim().length > 0);\n        return Array.from(new Set(values.map((v)=>v.trim())));\n    };\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        currentStepRef.current = currentStep;\n    }, [\n        currentStep\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        selectedSourceRoadRef.current = selectedSourceRoad;\n    }, [\n        selectedSourceRoad\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        selectedDestinationRoadRef.current = selectedDestinationRoad;\n    }, [\n        selectedDestinationRoad\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        pathConfigRef.current = pathConfig;\n    }, [\n        pathConfig\n    ]);\n    const getCurrentStep = ()=>currentStepRef.current;\n    const getSelectedSourceRoad = ()=>selectedSourceRoadRef.current;\n    const getSelectedDestinationRoad = ()=>selectedDestinationRoadRef.current;\n    // Reset selection state (use refs so Cesium handlers always see latest selection)\n    const resetSelection = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(()=>{\n        const restoreEntityMaterial = (entity)=>{\n            if (!entity) return;\n            if (entity.polygon) {\n                if (entity._originalMaterial) {\n                    entity.polygon.material = entity._originalMaterial;\n                    delete entity._originalMaterial;\n                }\n            } else if (entity.polyline) {\n                if (entity._originalMaterial) {\n                    entity.polyline.material = entity._originalMaterial;\n                    delete entity._originalMaterial;\n                }\n                if (entity._originalWidth) {\n                    entity.polyline.width = entity._originalWidth;\n                    delete entity._originalWidth;\n                }\n            } else if (entity.corridor) {\n                if (entity._originalMaterial) {\n                    entity.corridor.material = entity._originalMaterial;\n                    delete entity._originalMaterial;\n                }\n            }\n        };\n        const restoreAll = (selection)=>{\n            if (!selection) return;\n            if (Array.isArray(selection.entities)) {\n                selection.entities.forEach(restoreEntityMaterial);\n            } else if (selection.entity) {\n                restoreEntityMaterial(selection.entity);\n            }\n        };\n        restoreAll(selectedSourceRoadRef.current);\n        restoreAll(selectedDestinationRoadRef.current);\n        selectedSourceRoadRef.current = null;\n        setSelectedSourceRoad(null);\n        setSelectedDestinationRoad(null);\n        setComputedPath(null);\n        setWarning(null);\n        setCurrentStep(\"profile\");\n    }, []);\n    // Load vehicle profiles on mount\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        fetch(\"/api/vehicle-profiles\").then((res)=>res.json()).then((data)=>{\n            if (data.status === \"ok\") {\n                setVehicleProfiles(data.profiles);\n            }\n        }).catch((err)=>console.error(\"Failed to load vehicle profiles:\", err));\n    }, []);\n    // Handle ESC key globally during turn path workflow\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        const handleKeyDown = (e)=>{\n            if (e.key === \"Escape\") {\n                if (isDialogOpen) {\n                    closeDialog();\n                } else if (computedPath) {\n                    resetSelection();\n                }\n            }\n        };\n        if (isDialogOpen || computedPath) {\n            window.addEventListener(\"keydown\", handleKeyDown);\n            return ()=>window.removeEventListener(\"keydown\", handleKeyDown);\n        }\n    }, [\n        isDialogOpen,\n        computedPath\n    ]); // resetSelection closed over safely\n    // Find shared intersection between two roads (using side-center markers)\n    const findSharedIntersection = async (roadId1, roadId2, segId1, segId2)=>{\n        const idsEqual = (a, b)=>String(a) === String(b);\n        const r1 = String(roadId1);\n        const r2 = String(roadId2);\n        // Use intersection_center_points only (map_locations table missing)\n        const tryCenterPoints = async ()=>{\n            const res = await fetch(\"/api/intersection_center_points\");\n            if (!res.ok) return null;\n            const rows = await res.json();\n            const byRoad = rows.reduce((acc, row)=>{\n                const key = String(row.road_id);\n                acc[key] = acc[key] || [];\n                acc[key].push(row);\n                return acc;\n            }, {});\n            const list1 = byRoad[r1] || [];\n            const list2 = byRoad[r2] || [];\n            // Prefer exact shared intersection_id, bias to matching segment_id\n            let best = null;\n            let bestScore = -1;\n            const score = (row, selSeg)=>row.segment_id && selSeg && idsEqual(row.segment_id, selSeg) ? 2 : 1;\n            for (const a of list1){\n                for (const b of list2){\n                    if (a.intersection_id !== b.intersection_id) continue;\n                    const s = score(a, segId1) + score(b, segId2);\n                    if (s > bestScore) {\n                        bestScore = s;\n                        best = {\n                            name: a.intersection_name || `intersection_${a.intersection_id}`,\n                            intersection_id: a.intersection_id\n                        };\n                    }\n                }\n            }\n            if (best) return best;\n            // Fallback: most common intersection from either list\n            const pickFallback = (list)=>{\n                if (!list.length) return null;\n                const counts = list.reduce((acc, row)=>{\n                    acc[row.intersection_id] = (acc[row.intersection_id] || 0) + 1;\n                    return acc;\n                }, {});\n                const topId = Object.keys(counts).sort((a, b)=>counts[b] - counts[a])[0];\n                const row = list.find((r)=>String(r.intersection_id) === String(topId));\n                return row ? {\n                    name: row.intersection_name || `intersection_${row.intersection_id}`,\n                    intersection_id: row.intersection_id\n                } : null;\n            };\n            return pickFallback(list1) || pickFallback(list2) || null;\n        };\n        try {\n            return await tryCenterPoints();\n        } catch (error) {\n            console.error(\"[Turn Path] Error finding intersection:\", error);\n            return null;\n        }\n    };\n    const findSharedEndpointFromSelections = (source, destination)=>{\n        const sourceConnections = source?.connections?.length ? source.connections : extractRoadConnections(source?.entity);\n        const destinationConnections = destination?.connections?.length ? destination.connections : extractRoadConnections(destination?.entity);\n        if (!sourceConnections || !destinationConnections) return null;\n        return sourceConnections.find((conn)=>destinationConnections.includes(conn)) || null;\n    };\n    // Helper: find nearest center point for a given road_id\n    const getNearestCenterPoint = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((roadId)=>{\n        if (!centerPoints || centerPoints.length === 0) return null;\n        if (roadId != null) {\n            const matches = centerPoints.filter((p)=>String(p.road_id) === String(roadId));\n            if (matches.length > 0) return matches[0];\n        }\n        // Fallback: return first available center point to avoid nulls\n        return centerPoints[0];\n    }, [\n        centerPoints\n    ]);\n    // Helper: simple haversine distance in meters\n    const haversineMeters = (lon1, lat1, lon2, lat2)=>{\n        const R = 6371000;\n        const toRad = (d)=>d * Math.PI / 180;\n        const dLat = toRad(lat2 - lat1);\n        const dLon = toRad(lon2 - lon1);\n        const a = Math.sin(dLat / 2) * Math.sin(dLat / 2) + Math.cos(toRad(lat1)) * Math.cos(toRad(lat2)) * Math.sin(dLon / 2) * Math.sin(dLon / 2);\n        const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\n        return R * c;\n    };\n    // Compute turn path via API\n    const computeTurnPath = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(async (source, destination)=>{\n        const config = pathConfigRef.current;\n        if (!config || !source || !destination) {\n            console.error(\"[Turn Path] Missing required data for computation\", {\n                config,\n                source,\n                destination\n            });\n            if (!source) {\n                alert(\"Please select the starting road first.\");\n                setCurrentStep(\"selecting_source\");\n            } else if (!destination) {\n                alert(\"Please select the destination road.\");\n                setCurrentStep(\"selecting_destination\");\n            } else if (!config) {\n                alert(\"Vehicle settings not ready yet. Please wait a moment and try again.\");\n                setCurrentStep(\"profile\");\n                setIsDialogOpen(true);\n            }\n            return;\n        }\n        setCurrentStep(\"computing\");\n        try {\n            // Find shared intersection\n            let intersection = await findSharedIntersection(source.road_id, destination.road_id, source.segment_id, destination.segment_id);\n            if (!intersection) {\n                const sharedEndpoint = findSharedEndpointFromSelections(source, destination);\n                if (sharedEndpoint) {\n                    intersection = {\n                        name: sharedEndpoint\n                    };\n                }\n            }\n            if (!intersection) {\n                console.warn(\"[Turn Path] No shared intersection; proceeding without intersection name\");\n                intersection = {\n                    name: null\n                };\n            }\n            console.log(\"[Turn Path] Computing path:\", {\n                from: source.road_id,\n                to: destination.road_id,\n                intersection: intersection.name\n            });\n            const payload = {\n                from_road_id: source.road_id,\n                to_road_id: destination.road_id,\n                intersection_name: intersection.name || \"unknown_intersection\",\n                ...config\n            };\n            if (intersection.from_marker_oid && intersection.to_marker_oid) {\n                payload.from_marker_oid = intersection.from_marker_oid;\n                payload.to_marker_oid = intersection.to_marker_oid;\n            }\n            const response = await fetch(\"/api/turn-path\", {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                },\n                body: JSON.stringify(payload)\n            });\n            const result = await response.json();\n            if (result.status === \"ok\") {\n                console.log(\"[Turn Path] Path computed successfully:\", result);\n                setComputedPath(result);\n                setWarning(null);\n                const clearanceMsg = result.clearance.vehicle_envelope_ok ? \"✅ Vehicle clearance OK\" : `⚠️ Vehicle extends ${result.clearance.outside_area_sqm.toFixed(1)} m² outside intersection`;\n                console.log(`[Turn Path] length=${result.path.length_m.toFixed(1)}m, type=${result.path.path_type}, ${clearanceMsg}`);\n                setCurrentStep(\"showing_path\");\n                setIsDialogOpen(false);\n            } else if (result.status === \"envelope_outside_intersection\") {\n                console.warn(\"[Turn Path] Envelope leaks outside intersection:\", result.clearance);\n                const leak = result.clearance?.outside_area_sqm;\n                const msg = leak != null ? `No valid turn path can be drawn: vehicle envelope would leave the intersection (outside area ≈ ${leak.toFixed(1)} m²).` : \"No valid turn path can be drawn: vehicle envelope would leave the intersection.\";\n                alert(msg);\n                // HARD FAIL: clear any path and selection so nothing is rendered\n                resetSelection();\n                setIsDialogOpen(false);\n            } else {\n                console.error(\"[Turn Path] Path computation failed:\", result.error);\n                alert(`Failed to compute path: ${result.error || result.status}`);\n                resetSelection();\n                setIsDialogOpen(false);\n            }\n        } catch (error) {\n            console.error(\"[Turn Path] Error computing path:\", error);\n            alert(`Error: ${error.message}`);\n            resetSelection();\n            setIsDialogOpen(false);\n        }\n    }, [\n        resetSelection,\n        centerPoints,\n        getNearestCenterPoint\n    ]);\n    // Handle road click during selection\n    const handleMapClick = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((clickedEntity)=>{\n        const step = currentStepRef.current;\n        console.log(\"[Turn Path] handleMapClick called:\", {\n            currentStep: step,\n            hasEntity: !!clickedEntity,\n            hasViewer: !!cesiumViewerRef.current\n        });\n        if (!cesiumViewerRef.current || !clickedEntity) {\n            console.log(\"[Turn Path] Missing viewer or entity\");\n            return;\n        }\n        // If we already have a source and we're still in selecting_source, block double-click\n        if (step === \"selecting_source\" && selectedSourceRoadRef.current) {\n            console.log(\"[Turn Path] Source already selected\");\n            return;\n        }\n        const Cesium = window.Cesium;\n        // Extract road/segment IDs\n        const roadId = getEntityProperty(clickedEntity, \"road_oid\") || getEntityProperty(clickedEntity, \"road_id\") || getEntityProperty(clickedEntity, \"roadId\") || getEntityProperty(clickedEntity, \"road_oid_int\") || getEntityProperty(clickedEntity, \"roadOid\");\n        const segmentId = getEntityProperty(clickedEntity, \"segment_id\") || getEntityProperty(clickedEntity, \"lane_id\") || getEntityProperty(clickedEntity, \"parent_lane_id\");\n        const name = getEntityProperty(clickedEntity, \"road_name\") || getEntityProperty(clickedEntity, \"name\") || `road_${roadId}`;\n        if (!roadId) {\n            console.log(\"[Turn Path] Clicked entity has no road_id\");\n            return;\n        }\n        // If selecting source\n        if (step === \"selecting_source\") {\n            highlightEntities(clickedEntity, Cesium.Color.GREEN);\n            selectedSourceRoadRef.current = {\n                road_id: roadId,\n                segment_id: segmentId,\n                name,\n                entity: clickedEntity,\n                connections: extractRoadConnections(clickedEntity)\n            };\n            setSelectedSourceRoad(selectedSourceRoadRef.current);\n            setCurrentStep(\"selecting_destination\");\n            return;\n        }\n        // If selecting destination\n        if (step === \"selecting_destination\") {\n            // prevent same road\n            if (String(roadId) === String(selectedSourceRoadRef.current?.road_id)) {\n                alert(\"Please pick a different road as destination.\");\n                return;\n            }\n            highlightEntities(clickedEntity, Cesium.Color.RED);\n            selectedDestinationRoadRef.current = {\n                road_id: roadId,\n                segment_id: segmentId,\n                name,\n                entity: clickedEntity,\n                connections: extractRoadConnections(clickedEntity)\n            };\n            setSelectedDestinationRoad(selectedDestinationRoadRef.current);\n            // Compute\n            computeTurnPath(selectedSourceRoadRef.current, selectedDestinationRoadRef.current);\n        }\n    }, [\n        computeTurnPath\n    ]);\n    const highlightEntities = (entity, color)=>{\n        const Cesium = window.Cesium;\n        const apply = (ent)=>{\n            if (ent.polygon) {\n                if (!ent._originalMaterial) ent._originalMaterial = ent.polygon.material;\n                ent.polygon.material = color.withAlpha(0.25);\n                ent.polygon.outline = true;\n                ent.polygon.outlineColor = Cesium.Color.WHITE.withAlpha(0.9);\n            }\n            if (ent.polyline) {\n                if (!ent._originalMaterial) ent._originalMaterial = ent.polyline.material;\n                if (!ent._originalWidth) ent._originalWidth = ent.polyline.width;\n                ent.polyline.material = color.withAlpha(0.9);\n                ent.polyline.width = (ent.polyline.width || 2) * 1.6;\n            }\n            if (ent.corridor) {\n                if (!ent._originalMaterial) ent._originalMaterial = ent.corridor.material;\n                ent.corridor.material = color.withAlpha(0.35);\n                ent.corridor.outlineColor = Cesium.Color.WHITE.withAlpha(0.8);\n            }\n        };\n        if (entity._sourceForTurnPath) {\n            // already processed\n            apply(entity);\n            return;\n        }\n        apply(entity);\n        entity._sourceForTurnPath = true;\n    };\n    const openDialog = ()=>{\n        setIsDialogOpen(true);\n        setCurrentStep(\"profile\");\n    };\n    const closeDialog = ()=>{\n        setIsDialogOpen(false);\n        if (currentStep !== \"showing_path\") {\n            resetSelection();\n        }\n    };\n    const startSelection = (config)=>{\n        console.log(\"[Turn Path] startSelection called with config:\", config);\n        setPathConfig(config);\n        setIsDialogOpen(false);\n        setCurrentStep(\"selecting_source\");\n    };\n    return {\n        // dialog\n        isDialogOpen,\n        openDialog,\n        closeDialog,\n        startSelection,\n        currentStep,\n        getCurrentStep,\n        // selection\n        selectedSourceRoad,\n        selectedDestinationRoad,\n        getSelectedSourceRoad,\n        getSelectedDestinationRoad,\n        handleMapClick,\n        // data\n        vehicleProfiles,\n        // path\n        computedPath,\n        warning,\n        resetSelection\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RUFBRTtZQUM3QixvQkFBb0I7WUFDcEJOLE1BQU1ySztZQUNOO1FBQ0Y7UUFFQXFLLE1BQU1ySztRQUNOQSxPQUFPMkssa0JBQWtCLEdBQUc7SUFDOUI7SUFFQSxNQUFNQyxhQUFhO1FBQ2pCaE0sZ0JBQWdCO1FBQ2hCRSxlQUFlO0lBQ2pCO0lBRUEsTUFBTW1FLGNBQWM7UUFDbEJyRSxnQkFBZ0I7UUFDaEIsSUFBSUMsZ0JBQWdCLGdCQUFnQjtZQUNsQ3lDO1FBQ0Y7SUFDRjtJQUVBLE1BQU11SixpQkFBaUIsQ0FBQ2xEO1FBQ3RCOUUsUUFBUW1GLEdBQUcsQ0FBQyxrREFBa0RMO1FBQzlEekksY0FBY3lJO1FBQ2QvSSxnQkFBZ0I7UUFDaEJFLGVBQWU7SUFDakI7SUFFQSxPQUFPO1FBQ0wsU0FBUztRQUNUSDtRQUNBaU07UUFDQTNIO1FBQ0E0SDtRQUNBaE07UUFDQXNDO1FBQ0EsWUFBWTtRQUNaaEM7UUFDQUU7UUFDQStCO1FBQ0FDO1FBQ0FvSTtRQUNBLE9BQU87UUFDUDFLO1FBQ0EsT0FBTztRQUNQUTtRQUNBRTtRQUNBNkI7SUFDRjtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY29tYmluZWQtdWkvLi9jb21wb25lbnRzL3VzZVR1cm5QYXRoTWFuYWdlci5qcz8yMDA5Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QsIHVzZUNhbGxiYWNrLCB1c2VSZWYgfSBmcm9tICdyZWFjdCc7XHJcblxyXG4vKipcclxuICogSG9vayBmb3IgbWFuYWdpbmcgdHVybiBwYXRoIGNvbXB1dGF0aW9uIHdvcmtmbG93XHJcbiAqIEhhbmRsZXMgc3RhdGUsIHJvYWQgc2VsZWN0aW9uLCBBUEkgY2FsbHMsIGFuZCBwYXRoIHJlbmRlcmluZ1xyXG4gKi9cclxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gdXNlVHVyblBhdGhNYW5hZ2VyKGNlc2l1bVZpZXdlclJlZiwgY2VudGVyUG9pbnRzID0gW10pIHtcclxuICBjb25zdCBbaXNEaWFsb2dPcGVuLCBzZXRJc0RpYWxvZ09wZW5dID0gdXNlU3RhdGUoZmFsc2UpO1xyXG4gIGNvbnN0IFtjdXJyZW50U3RlcCwgc2V0Q3VycmVudFN0ZXBdID0gdXNlU3RhdGUoJ3Byb2ZpbGUnKTsgLy8gcHJvZmlsZSwgc2VsZWN0aW5nX3NvdXJjZSwgc2VsZWN0aW5nX2Rlc3RpbmF0aW9uLCBjb21wdXRpbmcsIHNob3dpbmdfcGF0aFxyXG4gIGNvbnN0IFt2ZWhpY2xlUHJvZmlsZXMsIHNldFZlaGljbGVQcm9maWxlc10gPSB1c2VTdGF0ZSh7fSk7XHJcbiAgY29uc3QgW3BhdGhDb25maWcsIHNldFBhdGhDb25maWddID0gdXNlU3RhdGUobnVsbCk7XHJcbiAgY29uc3QgW3NlbGVjdGVkU291cmNlUm9hZCwgc2V0U2VsZWN0ZWRTb3VyY2VSb2FkXSA9IHVzZVN0YXRlKG51bGwpO1xyXG4gIGNvbnN0IFtzZWxlY3RlZERlc3RpbmF0aW9uUm9hZCwgc2V0U2VsZWN0ZWREZXN0aW5hdGlvblJvYWRdID0gdXNlU3RhdGUobnVsbCk7XHJcbiAgY29uc3QgW2NvbXB1dGVkUGF0aCwgc2V0Q29tcHV0ZWRQYXRoXSA9IHVzZVN0YXRlKG51bGwpO1xyXG4gIGNvbnN0IFt3YXJuaW5nLCBzZXRXYXJuaW5nXSA9IHVzZVN0YXRlKG51bGwpO1xyXG5cclxuICAvLyBSZWZzIHRvIGV4cG9zZSBsYXRlc3Qgc3RhdGUgdG8gQ2VzaXVtIGV2ZW50IGhhbmRsZXJzXHJcbiAgY29uc3QgY3VycmVudFN0ZXBSZWYgPSB1c2VSZWYoY3VycmVudFN0ZXApO1xyXG4gIGNvbnN0IHNlbGVjdGVkU291cmNlUm9hZFJlZiA9IHVzZVJlZihzZWxlY3RlZFNvdXJjZVJvYWQpO1xyXG4gIGNvbnN0IHNlbGVjdGVkRGVzdGluYXRpb25Sb2FkUmVmID0gdXNlUmVmKHNlbGVjdGVkRGVzdGluYXRpb25Sb2FkKTtcclxuICBjb25zdCBwYXRoQ29uZmlnUmVmID0gdXNlUmVmKHBhdGhDb25maWcpO1xyXG5cclxuICBjb25zdCBnZXRFbnRpdHlQcm9wZXJ0eSA9IChlbnRpdHksIGtleSkgPT4ge1xyXG4gICAgaWYgKCFlbnRpdHk/LnByb3BlcnRpZXMpIHJldHVybiBudWxsO1xyXG4gICAgY29uc3QgcHJvcCA9IGVudGl0eS5wcm9wZXJ0aWVzW2tleV07XHJcbiAgICBpZiAocHJvcCA9PT0gdW5kZWZpbmVkIHx8IHByb3AgPT09IG51bGwpIHJldHVybiBudWxsO1xyXG4gICAgcmV0dXJuIHR5cGVvZiBwcm9wLmdldFZhbHVlID09PSAnZnVuY3Rpb24nID8gcHJvcC5nZXRWYWx1ZSgpIDogcHJvcDtcclxuICB9O1xyXG5cclxuICBjb25zdCBleHRyYWN0Um9hZENvbm5lY3Rpb25zID0gKGVudGl0eSkgPT4ge1xyXG4gICAgaWYgKCFlbnRpdHk/LnByb3BlcnRpZXMpIHJldHVybiBbXTtcclxuXHJcbiAgICBjb25zdCBwb3NzaWJsZUtleXMgPSBbXHJcbiAgICAgICdmcm9tX2xvY2F0aW9uX25hbWUnLFxyXG4gICAgICAndG9fbG9jYXRpb25fbmFtZScsXHJcbiAgICAgICdmcm9tX2xvY2F0aW9uJyxcclxuICAgICAgJ3RvX2xvY2F0aW9uJyxcclxuICAgICAgJ2Zyb21faW50ZXJzZWN0aW9uJyxcclxuICAgICAgJ3RvX2ludGVyc2VjdGlvbicsXHJcbiAgICAgICdzdGFydF9sb2NhdGlvbl9uYW1lJyxcclxuICAgICAgJ2VuZF9sb2NhdGlvbl9uYW1lJyxcclxuICAgIF07XHJcblxyXG4gICAgY29uc3QgdmFsdWVzID0gcG9zc2libGVLZXlzXHJcbiAgICAgIC5tYXAoKGtleSkgPT4gZ2V0RW50aXR5UHJvcGVydHkoZW50aXR5LCBrZXkpKVxyXG4gICAgICAuZmlsdGVyKCh2YWwpID0+IHR5cGVvZiB2YWwgPT09ICdzdHJpbmcnICYmIHZhbC50cmltKCkubGVuZ3RoID4gMCk7XHJcblxyXG4gICAgcmV0dXJuIEFycmF5LmZyb20obmV3IFNldCh2YWx1ZXMubWFwKCh2KSA9PiB2LnRyaW0oKSkpKTtcclxuICB9O1xyXG5cclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgY3VycmVudFN0ZXBSZWYuY3VycmVudCA9IGN1cnJlbnRTdGVwO1xyXG4gIH0sIFtjdXJyZW50U3RlcF0pO1xyXG5cclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgc2VsZWN0ZWRTb3VyY2VSb2FkUmVmLmN1cnJlbnQgPSBzZWxlY3RlZFNvdXJjZVJvYWQ7XHJcbiAgfSwgW3NlbGVjdGVkU291cmNlUm9hZF0pO1xyXG5cclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgc2VsZWN0ZWREZXN0aW5hdGlvblJvYWRSZWYuY3VycmVudCA9IHNlbGVjdGVkRGVzdGluYXRpb25Sb2FkO1xyXG4gIH0sIFtzZWxlY3RlZERlc3RpbmF0aW9uUm9hZF0pO1xyXG5cclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgcGF0aENvbmZpZ1JlZi5jdXJyZW50ID0gcGF0aENvbmZpZztcclxuICB9LCBbcGF0aENvbmZpZ10pO1xyXG5cclxuICBjb25zdCBnZXRDdXJyZW50U3RlcCA9ICgpID0+IGN1cnJlbnRTdGVwUmVmLmN1cnJlbnQ7XHJcbiAgY29uc3QgZ2V0U2VsZWN0ZWRTb3VyY2VSb2FkID0gKCkgPT4gc2VsZWN0ZWRTb3VyY2VSb2FkUmVmLmN1cnJlbnQ7XHJcbiAgY29uc3QgZ2V0U2VsZWN0ZWREZXN0aW5hdGlvblJvYWQgPSAoKSA9PiBzZWxlY3RlZERlc3RpbmF0aW9uUm9hZFJlZi5jdXJyZW50O1xyXG5cclxuICAvLyBSZXNldCBzZWxlY3Rpb24gc3RhdGUgKHVzZSByZWZzIHNvIENlc2l1bSBoYW5kbGVycyBhbHdheXMgc2VlIGxhdGVzdCBzZWxlY3Rpb24pXHJcbiAgY29uc3QgcmVzZXRTZWxlY3Rpb24gPSB1c2VDYWxsYmFjaygoKSA9PiB7XHJcbiAgICBjb25zdCByZXN0b3JlRW50aXR5TWF0ZXJpYWwgPSAoZW50aXR5KSA9PiB7XHJcbiAgICAgIGlmICghZW50aXR5KSByZXR1cm47XHJcbiAgICAgIGlmIChlbnRpdHkucG9seWdvbikge1xyXG4gICAgICAgIGlmIChlbnRpdHkuX29yaWdpbmFsTWF0ZXJpYWwpIHtcclxuICAgICAgICAgIGVudGl0eS5wb2x5Z29uLm1hdGVyaWFsID0gZW50aXR5Ll9vcmlnaW5hbE1hdGVyaWFsO1xyXG4gICAgICAgICAgZGVsZXRlIGVudGl0eS5fb3JpZ2luYWxNYXRlcmlhbDtcclxuICAgICAgICB9XHJcbiAgICAgIH0gZWxzZSBpZiAoZW50aXR5LnBvbHlsaW5lKSB7XHJcbiAgICAgICAgaWYgKGVudGl0eS5fb3JpZ2luYWxNYXRlcmlhbCkge1xyXG4gICAgICAgICAgZW50aXR5LnBvbHlsaW5lLm1hdGVyaWFsID0gZW50aXR5Ll9vcmlnaW5hbE1hdGVyaWFsO1xyXG4gICAgICAgICAgZGVsZXRlIGVudGl0eS5fb3JpZ2luYWxNYXRlcmlhbDtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGVudGl0eS5fb3JpZ2luYWxXaWR0aCkge1xyXG4gICAgICAgICAgZW50aXR5LnBvbHlsaW5lLndpZHRoID0gZW50aXR5Ll9vcmlnaW5hbFdpZHRoO1xyXG4gICAgICAgICAgZGVsZXRlIGVudGl0eS5fb3JpZ2luYWxXaWR0aDtcclxuICAgICAgICB9XHJcbiAgICAgIH0gZWxzZSBpZiAoZW50aXR5LmNvcnJpZG9yKSB7XHJcbiAgICAgICAgaWYgKGVudGl0eS5fb3JpZ2luYWxNYXRlcmlhbCkge1xyXG4gICAgICAgICAgZW50aXR5LmNvcnJpZG9yLm1hdGVyaWFsID0gZW50aXR5Ll9vcmlnaW5hbE1hdGVyaWFsO1xyXG4gICAgICAgICAgZGVsZXRlIGVudGl0eS5fb3JpZ2luYWxNYXRlcmlhbDtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgY29uc3QgcmVzdG9yZUFsbCA9IChzZWxlY3Rpb24pID0+IHtcclxuICAgICAgaWYgKCFzZWxlY3Rpb24pIHJldHVybjtcclxuICAgICAgaWYgKEFycmF5LmlzQXJyYXkoc2VsZWN0aW9uLmVudGl0aWVzKSkge1xyXG4gICAgICAgIHNlbGVjdGlvbi5lbnRpdGllcy5mb3JFYWNoKHJlc3RvcmVFbnRpdHlNYXRlcmlhbCk7XHJcbiAgICAgIH0gZWxzZSBpZiAoc2VsZWN0aW9uLmVudGl0eSkge1xyXG4gICAgICAgIHJlc3RvcmVFbnRpdHlNYXRlcmlhbChzZWxlY3Rpb24uZW50aXR5KTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICByZXN0b3JlQWxsKHNlbGVjdGVkU291cmNlUm9hZFJlZi5jdXJyZW50KTtcclxuICAgIHJlc3RvcmVBbGwoc2VsZWN0ZWREZXN0aW5hdGlvblJvYWRSZWYuY3VycmVudCk7XHJcblxyXG4gICAgc2VsZWN0ZWRTb3VyY2VSb2FkUmVmLmN1cnJlbnQgPSBudWxsO1xyXG4gICAgc2V0U2VsZWN0ZWRTb3VyY2VSb2FkKG51bGwpO1xyXG4gICAgc2V0U2VsZWN0ZWREZXN0aW5hdGlvblJvYWQobnVsbCk7XHJcbiAgICBzZXRDb21wdXRlZFBhdGgobnVsbCk7XHJcbiAgICBzZXRXYXJuaW5nKG51bGwpO1xyXG4gICAgc2V0Q3VycmVudFN0ZXAoJ3Byb2ZpbGUnKTtcclxuICB9LCBbXSk7XHJcblxyXG4gIC8vIExvYWQgdmVoaWNsZSBwcm9maWxlcyBvbiBtb3VudFxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBmZXRjaCgnL2FwaS92ZWhpY2xlLXByb2ZpbGVzJylcclxuICAgICAgLnRoZW4oKHJlcykgPT4gcmVzLmpzb24oKSlcclxuICAgICAgLnRoZW4oKGRhdGEpID0+IHtcclxuICAgICAgICBpZiAoZGF0YS5zdGF0dXMgPT09ICdvaycpIHtcclxuICAgICAgICAgIHNldFZlaGljbGVQcm9maWxlcyhkYXRhLnByb2ZpbGVzKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pXHJcbiAgICAgIC5jYXRjaCgoZXJyKSA9PiBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gbG9hZCB2ZWhpY2xlIHByb2ZpbGVzOicsIGVycikpO1xyXG4gIH0sIFtdKTtcclxuXHJcbiAgLy8gSGFuZGxlIEVTQyBrZXkgZ2xvYmFsbHkgZHVyaW5nIHR1cm4gcGF0aCB3b3JrZmxvd1xyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBjb25zdCBoYW5kbGVLZXlEb3duID0gKGUpID0+IHtcclxuICAgICAgaWYgKGUua2V5ID09PSAnRXNjYXBlJykge1xyXG4gICAgICAgIGlmIChpc0RpYWxvZ09wZW4pIHtcclxuICAgICAgICAgIGNsb3NlRGlhbG9nKCk7XHJcbiAgICAgICAgfSBlbHNlIGlmIChjb21wdXRlZFBhdGgpIHtcclxuICAgICAgICAgIHJlc2V0U2VsZWN0aW9uKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIGlmIChpc0RpYWxvZ09wZW4gfHwgY29tcHV0ZWRQYXRoKSB7XHJcbiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgaGFuZGxlS2V5RG93bik7XHJcbiAgICAgIHJldHVybiAoKSA9PiB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGhhbmRsZUtleURvd24pO1xyXG4gICAgfVxyXG4gIH0sIFtpc0RpYWxvZ09wZW4sIGNvbXB1dGVkUGF0aF0pOyAvLyByZXNldFNlbGVjdGlvbiBjbG9zZWQgb3ZlciBzYWZlbHlcclxuXHJcbiAgLy8gRmluZCBzaGFyZWQgaW50ZXJzZWN0aW9uIGJldHdlZW4gdHdvIHJvYWRzICh1c2luZyBzaWRlLWNlbnRlciBtYXJrZXJzKVxyXG4gIGNvbnN0IGZpbmRTaGFyZWRJbnRlcnNlY3Rpb24gPSBhc3luYyAocm9hZElkMSwgcm9hZElkMiwgc2VnSWQxLCBzZWdJZDIpID0+IHtcclxuICAgIGNvbnN0IGlkc0VxdWFsID0gKGEsIGIpID0+IFN0cmluZyhhKSA9PT0gU3RyaW5nKGIpO1xyXG4gICAgY29uc3QgcjEgPSBTdHJpbmcocm9hZElkMSk7XHJcbiAgICBjb25zdCByMiA9IFN0cmluZyhyb2FkSWQyKTtcclxuXHJcbiAgICAvLyBVc2UgaW50ZXJzZWN0aW9uX2NlbnRlcl9wb2ludHMgb25seSAobWFwX2xvY2F0aW9ucyB0YWJsZSBtaXNzaW5nKVxyXG4gICAgY29uc3QgdHJ5Q2VudGVyUG9pbnRzID0gYXN5bmMgKCkgPT4ge1xyXG4gICAgICBjb25zdCByZXMgPSBhd2FpdCBmZXRjaCgnL2FwaS9pbnRlcnNlY3Rpb25fY2VudGVyX3BvaW50cycpO1xyXG4gICAgICBpZiAoIXJlcy5vaykgcmV0dXJuIG51bGw7XHJcbiAgICAgIGNvbnN0IHJvd3MgPSBhd2FpdCByZXMuanNvbigpO1xyXG4gICAgICBjb25zdCBieVJvYWQgPSByb3dzLnJlZHVjZSgoYWNjLCByb3cpID0+IHtcclxuICAgICAgICBjb25zdCBrZXkgPSBTdHJpbmcocm93LnJvYWRfaWQpO1xyXG4gICAgICAgIGFjY1trZXldID0gYWNjW2tleV0gfHwgW107XHJcbiAgICAgICAgYWNjW2tleV0ucHVzaChyb3cpO1xyXG4gICAgICAgIHJldHVybiBhY2M7XHJcbiAgICAgIH0sIHt9KTtcclxuICAgICAgY29uc3QgbGlzdDEgPSBieVJvYWRbcjFdIHx8IFtdO1xyXG4gICAgICBjb25zdCBsaXN0MiA9IGJ5Um9hZFtyMl0gfHwgW107XHJcblxyXG4gICAgICAvLyBQcmVmZXIgZXhhY3Qgc2hhcmVkIGludGVyc2VjdGlvbl9pZCwgYmlhcyB0byBtYXRjaGluZyBzZWdtZW50X2lkXHJcbiAgICAgIGxldCBiZXN0ID0gbnVsbDtcclxuICAgICAgbGV0IGJlc3RTY29yZSA9IC0xO1xyXG4gICAgICBjb25zdCBzY29yZSA9IChyb3csIHNlbFNlZykgPT5cclxuICAgICAgICByb3cuc2VnbWVudF9pZCAmJiBzZWxTZWcgJiYgaWRzRXF1YWwocm93LnNlZ21lbnRfaWQsIHNlbFNlZykgPyAyIDogMTtcclxuICAgICAgZm9yIChjb25zdCBhIG9mIGxpc3QxKSB7XHJcbiAgICAgICAgZm9yIChjb25zdCBiIG9mIGxpc3QyKSB7XHJcbiAgICAgICAgICBpZiAoYS5pbnRlcnNlY3Rpb25faWQgIT09IGIuaW50ZXJzZWN0aW9uX2lkKSBjb250aW51ZTtcclxuICAgICAgICAgIGNvbnN0IHMgPSBzY29yZShhLCBzZWdJZDEpICsgc2NvcmUoYiwgc2VnSWQyKTtcclxuICAgICAgICAgIGlmIChzID4gYmVzdFNjb3JlKSB7XHJcbiAgICAgICAgICAgIGJlc3RTY29yZSA9IHM7XHJcbiAgICAgICAgICAgIGJlc3QgPSB7XHJcbiAgICAgICAgICAgICAgbmFtZTogYS5pbnRlcnNlY3Rpb25fbmFtZSB8fCBgaW50ZXJzZWN0aW9uXyR7YS5pbnRlcnNlY3Rpb25faWR9YCxcclxuICAgICAgICAgICAgICBpbnRlcnNlY3Rpb25faWQ6IGEuaW50ZXJzZWN0aW9uX2lkLFxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICBpZiAoYmVzdCkgcmV0dXJuIGJlc3Q7XHJcblxyXG4gICAgICAvLyBGYWxsYmFjazogbW9zdCBjb21tb24gaW50ZXJzZWN0aW9uIGZyb20gZWl0aGVyIGxpc3RcclxuICAgICAgY29uc3QgcGlja0ZhbGxiYWNrID0gKGxpc3QpID0+IHtcclxuICAgICAgICBpZiAoIWxpc3QubGVuZ3RoKSByZXR1cm4gbnVsbDtcclxuICAgICAgICBjb25zdCBjb3VudHMgPSBsaXN0LnJlZHVjZSgoYWNjLCByb3cpID0+IHtcclxuICAgICAgICAgIGFjY1tyb3cuaW50ZXJzZWN0aW9uX2lkXSA9IChhY2Nbcm93LmludGVyc2VjdGlvbl9pZF0gfHwgMCkgKyAxO1xyXG4gICAgICAgICAgcmV0dXJuIGFjYztcclxuICAgICAgICB9LCB7fSk7XHJcbiAgICAgICAgY29uc3QgdG9wSWQgPSBPYmplY3Qua2V5cyhjb3VudHMpLnNvcnQoKGEsIGIpID0+IGNvdW50c1tiXSAtIGNvdW50c1thXSlbMF07XHJcbiAgICAgICAgY29uc3Qgcm93ID0gbGlzdC5maW5kKChyKSA9PiBTdHJpbmcoci5pbnRlcnNlY3Rpb25faWQpID09PSBTdHJpbmcodG9wSWQpKTtcclxuICAgICAgICByZXR1cm4gcm93XHJcbiAgICAgICAgICA/IHsgbmFtZTogcm93LmludGVyc2VjdGlvbl9uYW1lIHx8IGBpbnRlcnNlY3Rpb25fJHtyb3cuaW50ZXJzZWN0aW9uX2lkfWAsIGludGVyc2VjdGlvbl9pZDogcm93LmludGVyc2VjdGlvbl9pZCB9XHJcbiAgICAgICAgICA6IG51bGw7XHJcbiAgICAgIH07XHJcbiAgICAgIHJldHVybiBwaWNrRmFsbGJhY2sobGlzdDEpIHx8IHBpY2tGYWxsYmFjayhsaXN0MikgfHwgbnVsbDtcclxuICAgIH07XHJcblxyXG4gICAgdHJ5IHtcclxuICAgICAgcmV0dXJuIGF3YWl0IHRyeUNlbnRlclBvaW50cygpO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcignW1R1cm4gUGF0aF0gRXJyb3IgZmluZGluZyBpbnRlcnNlY3Rpb246JywgZXJyb3IpO1xyXG4gICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICBjb25zdCBmaW5kU2hhcmVkRW5kcG9pbnRGcm9tU2VsZWN0aW9ucyA9IChzb3VyY2UsIGRlc3RpbmF0aW9uKSA9PiB7XHJcbiAgICBjb25zdCBzb3VyY2VDb25uZWN0aW9ucyA9IHNvdXJjZT8uY29ubmVjdGlvbnM/Lmxlbmd0aFxyXG4gICAgICA/IHNvdXJjZS5jb25uZWN0aW9uc1xyXG4gICAgICA6IGV4dHJhY3RSb2FkQ29ubmVjdGlvbnMoc291cmNlPy5lbnRpdHkpO1xyXG5cclxuICAgIGNvbnN0IGRlc3RpbmF0aW9uQ29ubmVjdGlvbnMgPSBkZXN0aW5hdGlvbj8uY29ubmVjdGlvbnM/Lmxlbmd0aFxyXG4gICAgICA/IGRlc3RpbmF0aW9uLmNvbm5lY3Rpb25zXHJcbiAgICAgIDogZXh0cmFjdFJvYWRDb25uZWN0aW9ucyhkZXN0aW5hdGlvbj8uZW50aXR5KTtcclxuXHJcbiAgICBpZiAoIXNvdXJjZUNvbm5lY3Rpb25zIHx8ICFkZXN0aW5hdGlvbkNvbm5lY3Rpb25zKSByZXR1cm4gbnVsbDtcclxuXHJcbiAgICByZXR1cm4gc291cmNlQ29ubmVjdGlvbnMuZmluZCgoY29ubikgPT4gZGVzdGluYXRpb25Db25uZWN0aW9ucy5pbmNsdWRlcyhjb25uKSkgfHwgbnVsbDtcclxuICB9O1xyXG5cclxuICAvLyBIZWxwZXI6IGZpbmQgbmVhcmVzdCBjZW50ZXIgcG9pbnQgZm9yIGEgZ2l2ZW4gcm9hZF9pZFxyXG4gIGNvbnN0IGdldE5lYXJlc3RDZW50ZXJQb2ludCA9IHVzZUNhbGxiYWNrKFxyXG4gICAgKHJvYWRJZCkgPT4ge1xyXG4gICAgICBpZiAoIWNlbnRlclBvaW50cyB8fCBjZW50ZXJQb2ludHMubGVuZ3RoID09PSAwKSByZXR1cm4gbnVsbDtcclxuICAgICAgaWYgKHJvYWRJZCAhPSBudWxsKSB7XHJcbiAgICAgICAgY29uc3QgbWF0Y2hlcyA9IGNlbnRlclBvaW50cy5maWx0ZXIoKHApID0+IFN0cmluZyhwLnJvYWRfaWQpID09PSBTdHJpbmcocm9hZElkKSk7XHJcbiAgICAgICAgaWYgKG1hdGNoZXMubGVuZ3RoID4gMCkgcmV0dXJuIG1hdGNoZXNbMF07XHJcbiAgICAgIH1cclxuICAgICAgLy8gRmFsbGJhY2s6IHJldHVybiBmaXJzdCBhdmFpbGFibGUgY2VudGVyIHBvaW50IHRvIGF2b2lkIG51bGxzXHJcbiAgICAgIHJldHVybiBjZW50ZXJQb2ludHNbMF07XHJcbiAgICB9LFxyXG4gICAgW2NlbnRlclBvaW50c11cclxuICApO1xyXG5cclxuICAvLyBIZWxwZXI6IHNpbXBsZSBoYXZlcnNpbmUgZGlzdGFuY2UgaW4gbWV0ZXJzXHJcbiAgY29uc3QgaGF2ZXJzaW5lTWV0ZXJzID0gKGxvbjEsIGxhdDEsIGxvbjIsIGxhdDIpID0+IHtcclxuICAgIGNvbnN0IFIgPSA2MzcxMDAwO1xyXG4gICAgY29uc3QgdG9SYWQgPSAoZCkgPT4gKGQgKiBNYXRoLlBJKSAvIDE4MDtcclxuICAgIGNvbnN0IGRMYXQgPSB0b1JhZChsYXQyIC0gbGF0MSk7XHJcbiAgICBjb25zdCBkTG9uID0gdG9SYWQobG9uMiAtIGxvbjEpO1xyXG4gICAgY29uc3QgYSA9XHJcbiAgICAgIE1hdGguc2luKGRMYXQgLyAyKSAqIE1hdGguc2luKGRMYXQgLyAyKSArXHJcbiAgICAgIE1hdGguY29zKHRvUmFkKGxhdDEpKSAqIE1hdGguY29zKHRvUmFkKGxhdDIpKSAqIE1hdGguc2luKGRMb24gLyAyKSAqIE1hdGguc2luKGRMb24gLyAyKTtcclxuICAgIGNvbnN0IGMgPSAyICogTWF0aC5hdGFuMihNYXRoLnNxcnQoYSksIE1hdGguc3FydCgxIC0gYSkpO1xyXG4gICAgcmV0dXJuIFIgKiBjO1xyXG4gIH07XHJcblxyXG4gIC8vIENvbXB1dGUgdHVybiBwYXRoIHZpYSBBUElcclxuICBjb25zdCBjb21wdXRlVHVyblBhdGggPSB1c2VDYWxsYmFjayhcclxuICAgIGFzeW5jIChzb3VyY2UsIGRlc3RpbmF0aW9uKSA9PiB7XHJcbiAgICAgIGNvbnN0IGNvbmZpZyA9IHBhdGhDb25maWdSZWYuY3VycmVudDtcclxuXHJcbiAgICAgIGlmICghY29uZmlnIHx8ICFzb3VyY2UgfHwgIWRlc3RpbmF0aW9uKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcignW1R1cm4gUGF0aF0gTWlzc2luZyByZXF1aXJlZCBkYXRhIGZvciBjb21wdXRhdGlvbicsIHtcclxuICAgICAgICAgIGNvbmZpZyxcclxuICAgICAgICAgIHNvdXJjZSxcclxuICAgICAgICAgIGRlc3RpbmF0aW9uLFxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBpZiAoIXNvdXJjZSkge1xyXG4gICAgICAgICAgYWxlcnQoJ1BsZWFzZSBzZWxlY3QgdGhlIHN0YXJ0aW5nIHJvYWQgZmlyc3QuJyk7XHJcbiAgICAgICAgICBzZXRDdXJyZW50U3RlcCgnc2VsZWN0aW5nX3NvdXJjZScpO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoIWRlc3RpbmF0aW9uKSB7XHJcbiAgICAgICAgICBhbGVydCgnUGxlYXNlIHNlbGVjdCB0aGUgZGVzdGluYXRpb24gcm9hZC4nKTtcclxuICAgICAgICAgIHNldEN1cnJlbnRTdGVwKCdzZWxlY3RpbmdfZGVzdGluYXRpb24nKTtcclxuICAgICAgICB9IGVsc2UgaWYgKCFjb25maWcpIHtcclxuICAgICAgICAgIGFsZXJ0KCdWZWhpY2xlIHNldHRpbmdzIG5vdCByZWFkeSB5ZXQuIFBsZWFzZSB3YWl0IGEgbW9tZW50IGFuZCB0cnkgYWdhaW4uJyk7XHJcbiAgICAgICAgICBzZXRDdXJyZW50U3RlcCgncHJvZmlsZScpO1xyXG4gICAgICAgICAgc2V0SXNEaWFsb2dPcGVuKHRydWUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHNldEN1cnJlbnRTdGVwKCdjb21wdXRpbmcnKTtcclxuXHJcbiAgICAgIHRyeSB7XHJcbiAgICAgICAgLy8gRmluZCBzaGFyZWQgaW50ZXJzZWN0aW9uXHJcbiAgICAgICAgbGV0IGludGVyc2VjdGlvbiA9IGF3YWl0IGZpbmRTaGFyZWRJbnRlcnNlY3Rpb24oXHJcbiAgICAgICAgICBzb3VyY2Uucm9hZF9pZCxcclxuICAgICAgICAgIGRlc3RpbmF0aW9uLnJvYWRfaWQsXHJcbiAgICAgICAgICBzb3VyY2Uuc2VnbWVudF9pZCxcclxuICAgICAgICAgIGRlc3RpbmF0aW9uLnNlZ21lbnRfaWRcclxuICAgICAgICApO1xyXG5cclxuICAgICAgICBpZiAoIWludGVyc2VjdGlvbikge1xyXG4gICAgICAgICAgY29uc3Qgc2hhcmVkRW5kcG9pbnQgPSBmaW5kU2hhcmVkRW5kcG9pbnRGcm9tU2VsZWN0aW9ucyhzb3VyY2UsIGRlc3RpbmF0aW9uKTtcclxuICAgICAgICAgIGlmIChzaGFyZWRFbmRwb2ludCkge1xyXG4gICAgICAgICAgICBpbnRlcnNlY3Rpb24gPSB7IG5hbWU6IHNoYXJlZEVuZHBvaW50IH07XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoIWludGVyc2VjdGlvbikge1xyXG4gICAgICAgICAgY29uc29sZS53YXJuKCdbVHVybiBQYXRoXSBObyBzaGFyZWQgaW50ZXJzZWN0aW9uOyBwcm9jZWVkaW5nIHdpdGhvdXQgaW50ZXJzZWN0aW9uIG5hbWUnKTtcclxuICAgICAgICAgIGludGVyc2VjdGlvbiA9IHsgbmFtZTogbnVsbCB9O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc29sZS5sb2coJ1tUdXJuIFBhdGhdIENvbXB1dGluZyBwYXRoOicsIHtcclxuICAgICAgICAgIGZyb206IHNvdXJjZS5yb2FkX2lkLFxyXG4gICAgICAgICAgdG86IGRlc3RpbmF0aW9uLnJvYWRfaWQsXHJcbiAgICAgICAgICBpbnRlcnNlY3Rpb246IGludGVyc2VjdGlvbi5uYW1lLFxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBjb25zdCBwYXlsb2FkID0ge1xyXG4gICAgICAgICAgZnJvbV9yb2FkX2lkOiBzb3VyY2Uucm9hZF9pZCxcclxuICAgICAgICAgIHRvX3JvYWRfaWQ6IGRlc3RpbmF0aW9uLnJvYWRfaWQsXHJcbiAgICAgICAgICBpbnRlcnNlY3Rpb25fbmFtZTogaW50ZXJzZWN0aW9uLm5hbWUgfHwgJ3Vua25vd25faW50ZXJzZWN0aW9uJyxcclxuICAgICAgICAgIC4uLmNvbmZpZyxcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBpZiAoaW50ZXJzZWN0aW9uLmZyb21fbWFya2VyX29pZCAmJiBpbnRlcnNlY3Rpb24udG9fbWFya2VyX29pZCkge1xyXG4gICAgICAgICAgcGF5bG9hZC5mcm9tX21hcmtlcl9vaWQgPSBpbnRlcnNlY3Rpb24uZnJvbV9tYXJrZXJfb2lkO1xyXG4gICAgICAgICAgcGF5bG9hZC50b19tYXJrZXJfb2lkID0gaW50ZXJzZWN0aW9uLnRvX21hcmtlcl9vaWQ7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKCcvYXBpL3R1cm4tcGF0aCcsIHtcclxuICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxyXG4gICAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXHJcbiAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShwYXlsb2FkKSxcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xyXG5cclxuICAgICAgICBpZiAocmVzdWx0LnN0YXR1cyA9PT0gJ29rJykge1xyXG4gICAgICAgICAgY29uc29sZS5sb2coJ1tUdXJuIFBhdGhdIFBhdGggY29tcHV0ZWQgc3VjY2Vzc2Z1bGx5OicsIHJlc3VsdCk7XHJcblxyXG4gICAgICAgICAgc2V0Q29tcHV0ZWRQYXRoKHJlc3VsdCk7XHJcbiAgICAgICAgICBzZXRXYXJuaW5nKG51bGwpO1xyXG5cclxuICAgICAgICAgIGNvbnN0IGNsZWFyYW5jZU1zZyA9IHJlc3VsdC5jbGVhcmFuY2UudmVoaWNsZV9lbnZlbG9wZV9va1xyXG4gICAgICAgICAgICA/ICfinIUgVmVoaWNsZSBjbGVhcmFuY2UgT0snXHJcbiAgICAgICAgICAgIDogYOKaoO+4jyBWZWhpY2xlIGV4dGVuZHMgJHtyZXN1bHQuY2xlYXJhbmNlLm91dHNpZGVfYXJlYV9zcW0udG9GaXhlZChcclxuICAgICAgICAgICAgICAxXHJcbiAgICAgICAgICAgICl9IG3CsiBvdXRzaWRlIGludGVyc2VjdGlvbmA7XHJcblxyXG4gICAgICAgICAgY29uc29sZS5sb2coXHJcbiAgICAgICAgICAgIGBbVHVybiBQYXRoXSBsZW5ndGg9JHtyZXN1bHQucGF0aC5sZW5ndGhfbS50b0ZpeGVkKFxyXG4gICAgICAgICAgICAgIDFcclxuICAgICAgICAgICAgKX1tLCB0eXBlPSR7cmVzdWx0LnBhdGgucGF0aF90eXBlfSwgJHtjbGVhcmFuY2VNc2d9YFxyXG4gICAgICAgICAgKTtcclxuXHJcbiAgICAgICAgICBzZXRDdXJyZW50U3RlcCgnc2hvd2luZ19wYXRoJyk7XHJcbiAgICAgICAgICBzZXRJc0RpYWxvZ09wZW4oZmFsc2UpO1xyXG4gICAgICAgIH0gZWxzZSBpZiAocmVzdWx0LnN0YXR1cyA9PT0gJ2VudmVsb3BlX291dHNpZGVfaW50ZXJzZWN0aW9uJykge1xyXG4gICAgICAgICAgY29uc29sZS53YXJuKCdbVHVybiBQYXRoXSBFbnZlbG9wZSBsZWFrcyBvdXRzaWRlIGludGVyc2VjdGlvbjonLCByZXN1bHQuY2xlYXJhbmNlKTtcclxuICAgICAgICAgIGNvbnN0IGxlYWsgPSByZXN1bHQuY2xlYXJhbmNlPy5vdXRzaWRlX2FyZWFfc3FtO1xyXG5cclxuICAgICAgICAgIGNvbnN0IG1zZyA9XHJcbiAgICAgICAgICAgIGxlYWsgIT0gbnVsbFxyXG4gICAgICAgICAgICAgID8gYE5vIHZhbGlkIHR1cm4gcGF0aCBjYW4gYmUgZHJhd246IHZlaGljbGUgZW52ZWxvcGUgd291bGQgbGVhdmUgdGhlIGludGVyc2VjdGlvbiAob3V0c2lkZSBhcmVhIOKJiCAke2xlYWsudG9GaXhlZChcclxuICAgICAgICAgICAgICAgIDFcclxuICAgICAgICAgICAgICApfSBtwrIpLmBcclxuICAgICAgICAgICAgICA6ICdObyB2YWxpZCB0dXJuIHBhdGggY2FuIGJlIGRyYXduOiB2ZWhpY2xlIGVudmVsb3BlIHdvdWxkIGxlYXZlIHRoZSBpbnRlcnNlY3Rpb24uJztcclxuXHJcbiAgICAgICAgICBhbGVydChtc2cpO1xyXG5cclxuICAgICAgICAgIC8vIEhBUkQgRkFJTDogY2xlYXIgYW55IHBhdGggYW5kIHNlbGVjdGlvbiBzbyBub3RoaW5nIGlzIHJlbmRlcmVkXHJcbiAgICAgICAgICByZXNldFNlbGVjdGlvbigpO1xyXG4gICAgICAgICAgc2V0SXNEaWFsb2dPcGVuKGZhbHNlKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgY29uc29sZS5lcnJvcignW1R1cm4gUGF0aF0gUGF0aCBjb21wdXRhdGlvbiBmYWlsZWQ6JywgcmVzdWx0LmVycm9yKTtcclxuICAgICAgICAgIGFsZXJ0KGBGYWlsZWQgdG8gY29tcHV0ZSBwYXRoOiAke3Jlc3VsdC5lcnJvciB8fCByZXN1bHQuc3RhdHVzfWApO1xyXG4gICAgICAgICAgcmVzZXRTZWxlY3Rpb24oKTtcclxuICAgICAgICAgIHNldElzRGlhbG9nT3BlbihmYWxzZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tUdXJuIFBhdGhdIEVycm9yIGNvbXB1dGluZyBwYXRoOicsIGVycm9yKTtcclxuICAgICAgICBhbGVydChgRXJyb3I6ICR7ZXJyb3IubWVzc2FnZX1gKTtcclxuICAgICAgICByZXNldFNlbGVjdGlvbigpO1xyXG4gICAgICAgIHNldElzRGlhbG9nT3BlbihmYWxzZSk7XHJcbiAgICAgIH1cclxuICAgIH0sXHJcbiAgICBbcmVzZXRTZWxlY3Rpb24sIGNlbnRlclBvaW50cywgZ2V0TmVhcmVzdENlbnRlclBvaW50XVxyXG4gICk7XHJcblxyXG4gIC8vIEhhbmRsZSByb2FkIGNsaWNrIGR1cmluZyBzZWxlY3Rpb25cclxuICBjb25zdCBoYW5kbGVNYXBDbGljayA9IHVzZUNhbGxiYWNrKFxyXG4gICAgKGNsaWNrZWRFbnRpdHkpID0+IHtcclxuICAgICAgY29uc3Qgc3RlcCA9IGN1cnJlbnRTdGVwUmVmLmN1cnJlbnQ7XHJcbiAgICAgIGNvbnNvbGUubG9nKCdbVHVybiBQYXRoXSBoYW5kbGVNYXBDbGljayBjYWxsZWQ6Jywge1xyXG4gICAgICAgIGN1cnJlbnRTdGVwOiBzdGVwLFxyXG4gICAgICAgIGhhc0VudGl0eTogISFjbGlja2VkRW50aXR5LFxyXG4gICAgICAgIGhhc1ZpZXdlcjogISFjZXNpdW1WaWV3ZXJSZWYuY3VycmVudCxcclxuICAgICAgfSk7XHJcblxyXG4gICAgICBpZiAoIWNlc2l1bVZpZXdlclJlZi5jdXJyZW50IHx8ICFjbGlja2VkRW50aXR5KSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ1tUdXJuIFBhdGhdIE1pc3Npbmcgdmlld2VyIG9yIGVudGl0eScpO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gSWYgd2UgYWxyZWFkeSBoYXZlIGEgc291cmNlIGFuZCB3ZSdyZSBzdGlsbCBpbiBzZWxlY3Rpbmdfc291cmNlLCBibG9jayBkb3VibGUtY2xpY2tcclxuICAgICAgaWYgKHN0ZXAgPT09ICdzZWxlY3Rpbmdfc291cmNlJyAmJiBzZWxlY3RlZFNvdXJjZVJvYWRSZWYuY3VycmVudCkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdbVHVybiBQYXRoXSBTb3VyY2UgYWxyZWFkeSBzZWxlY3RlZCcpO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG5cclxuICAgICAgY29uc3QgQ2VzaXVtID0gd2luZG93LkNlc2l1bTtcclxuXHJcbiAgICAgIC8vIEV4dHJhY3Qgcm9hZC9zZWdtZW50IElEc1xyXG4gICAgICBjb25zdCByb2FkSWQgPVxyXG4gICAgICAgIGdldEVudGl0eVByb3BlcnR5KGNsaWNrZWRFbnRpdHksICdyb2FkX29pZCcpIHx8XHJcbiAgICAgICAgZ2V0RW50aXR5UHJvcGVydHkoY2xpY2tlZEVudGl0eSwgJ3JvYWRfaWQnKSB8fFxyXG4gICAgICAgIGdldEVudGl0eVByb3BlcnR5KGNsaWNrZWRFbnRpdHksICdyb2FkSWQnKSB8fFxyXG4gICAgICAgIGdldEVudGl0eVByb3BlcnR5KGNsaWNrZWRFbnRpdHksICdyb2FkX29pZF9pbnQnKSB8fFxyXG4gICAgICAgIGdldEVudGl0eVByb3BlcnR5KGNsaWNrZWRFbnRpdHksICdyb2FkT2lkJyk7XHJcblxyXG4gICAgICBjb25zdCBzZWdtZW50SWQgPVxyXG4gICAgICAgIGdldEVudGl0eVByb3BlcnR5KGNsaWNrZWRFbnRpdHksICdzZWdtZW50X2lkJykgfHxcclxuICAgICAgICBnZXRFbnRpdHlQcm9wZXJ0eShjbGlja2VkRW50aXR5LCAnbGFuZV9pZCcpIHx8XHJcbiAgICAgICAgZ2V0RW50aXR5UHJvcGVydHkoY2xpY2tlZEVudGl0eSwgJ3BhcmVudF9sYW5lX2lkJyk7XHJcblxyXG4gICAgICBjb25zdCBuYW1lID1cclxuICAgICAgICBnZXRFbnRpdHlQcm9wZXJ0eShjbGlja2VkRW50aXR5LCAncm9hZF9uYW1lJykgfHxcclxuICAgICAgICBnZXRFbnRpdHlQcm9wZXJ0eShjbGlja2VkRW50aXR5LCAnbmFtZScpIHx8XHJcbiAgICAgICAgYHJvYWRfJHtyb2FkSWR9YDtcclxuXHJcbiAgICAgIGlmICghcm9hZElkKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ1tUdXJuIFBhdGhdIENsaWNrZWQgZW50aXR5IGhhcyBubyByb2FkX2lkJyk7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBJZiBzZWxlY3Rpbmcgc291cmNlXHJcbiAgICAgIGlmIChzdGVwID09PSAnc2VsZWN0aW5nX3NvdXJjZScpIHtcclxuICAgICAgICBoaWdobGlnaHRFbnRpdGllcyhjbGlja2VkRW50aXR5LCBDZXNpdW0uQ29sb3IuR1JFRU4pO1xyXG4gICAgICAgIHNlbGVjdGVkU291cmNlUm9hZFJlZi5jdXJyZW50ID0ge1xyXG4gICAgICAgICAgcm9hZF9pZDogcm9hZElkLFxyXG4gICAgICAgICAgc2VnbWVudF9pZDogc2VnbWVudElkLFxyXG4gICAgICAgICAgbmFtZSxcclxuICAgICAgICAgIGVudGl0eTogY2xpY2tlZEVudGl0eSxcclxuICAgICAgICAgIGNvbm5lY3Rpb25zOiBleHRyYWN0Um9hZENvbm5lY3Rpb25zKGNsaWNrZWRFbnRpdHkpLFxyXG4gICAgICAgIH07XHJcbiAgICAgICAgc2V0U2VsZWN0ZWRTb3VyY2VSb2FkKHNlbGVjdGVkU291cmNlUm9hZFJlZi5jdXJyZW50KTtcclxuICAgICAgICBzZXRDdXJyZW50U3RlcCgnc2VsZWN0aW5nX2Rlc3RpbmF0aW9uJyk7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBJZiBzZWxlY3RpbmcgZGVzdGluYXRpb25cclxuICAgICAgaWYgKHN0ZXAgPT09ICdzZWxlY3RpbmdfZGVzdGluYXRpb24nKSB7XHJcbiAgICAgICAgLy8gcHJldmVudCBzYW1lIHJvYWRcclxuICAgICAgICBpZiAoU3RyaW5nKHJvYWRJZCkgPT09IFN0cmluZyhzZWxlY3RlZFNvdXJjZVJvYWRSZWYuY3VycmVudD8ucm9hZF9pZCkpIHtcclxuICAgICAgICAgIGFsZXJ0KCdQbGVhc2UgcGljayBhIGRpZmZlcmVudCByb2FkIGFzIGRlc3RpbmF0aW9uLicpO1xyXG4gICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaGlnaGxpZ2h0RW50aXRpZXMoY2xpY2tlZEVudGl0eSwgQ2VzaXVtLkNvbG9yLlJFRCk7XHJcbiAgICAgICAgc2VsZWN0ZWREZXN0aW5hdGlvblJvYWRSZWYuY3VycmVudCA9IHtcclxuICAgICAgICAgIHJvYWRfaWQ6IHJvYWRJZCxcclxuICAgICAgICAgIHNlZ21lbnRfaWQ6IHNlZ21lbnRJZCxcclxuICAgICAgICAgIG5hbWUsXHJcbiAgICAgICAgICBlbnRpdHk6IGNsaWNrZWRFbnRpdHksXHJcbiAgICAgICAgICBjb25uZWN0aW9uczogZXh0cmFjdFJvYWRDb25uZWN0aW9ucyhjbGlja2VkRW50aXR5KSxcclxuICAgICAgICB9O1xyXG4gICAgICAgIHNldFNlbGVjdGVkRGVzdGluYXRpb25Sb2FkKHNlbGVjdGVkRGVzdGluYXRpb25Sb2FkUmVmLmN1cnJlbnQpO1xyXG5cclxuICAgICAgICAvLyBDb21wdXRlXHJcbiAgICAgICAgY29tcHV0ZVR1cm5QYXRoKHNlbGVjdGVkU291cmNlUm9hZFJlZi5jdXJyZW50LCBzZWxlY3RlZERlc3RpbmF0aW9uUm9hZFJlZi5jdXJyZW50KTtcclxuICAgICAgfVxyXG4gICAgfSxcclxuICAgIFtjb21wdXRlVHVyblBhdGhdXHJcbiAgKTtcclxuXHJcbiAgY29uc3QgaGlnaGxpZ2h0RW50aXRpZXMgPSAoZW50aXR5LCBjb2xvcikgPT4ge1xyXG4gICAgY29uc3QgQ2VzaXVtID0gd2luZG93LkNlc2l1bTtcclxuICAgIGNvbnN0IGFwcGx5ID0gKGVudCkgPT4ge1xyXG4gICAgICBpZiAoZW50LnBvbHlnb24pIHtcclxuICAgICAgICBpZiAoIWVudC5fb3JpZ2luYWxNYXRlcmlhbCkgZW50Ll9vcmlnaW5hbE1hdGVyaWFsID0gZW50LnBvbHlnb24ubWF0ZXJpYWw7XHJcbiAgICAgICAgZW50LnBvbHlnb24ubWF0ZXJpYWwgPSBjb2xvci53aXRoQWxwaGEoMC4yNSk7XHJcbiAgICAgICAgZW50LnBvbHlnb24ub3V0bGluZSA9IHRydWU7XHJcbiAgICAgICAgZW50LnBvbHlnb24ub3V0bGluZUNvbG9yID0gQ2VzaXVtLkNvbG9yLldISVRFLndpdGhBbHBoYSgwLjkpO1xyXG4gICAgICB9XHJcbiAgICAgIGlmIChlbnQucG9seWxpbmUpIHtcclxuICAgICAgICBpZiAoIWVudC5fb3JpZ2luYWxNYXRlcmlhbCkgZW50Ll9vcmlnaW5hbE1hdGVyaWFsID0gZW50LnBvbHlsaW5lLm1hdGVyaWFsO1xyXG4gICAgICAgIGlmICghZW50Ll9vcmlnaW5hbFdpZHRoKSBlbnQuX29yaWdpbmFsV2lkdGggPSBlbnQucG9seWxpbmUud2lkdGg7XHJcbiAgICAgICAgZW50LnBvbHlsaW5lLm1hdGVyaWFsID0gY29sb3Iud2l0aEFscGhhKDAuOSk7XHJcbiAgICAgICAgZW50LnBvbHlsaW5lLndpZHRoID0gKGVudC5wb2x5bGluZS53aWR0aCB8fCAyKSAqIDEuNjtcclxuICAgICAgfVxyXG4gICAgICBpZiAoZW50LmNvcnJpZG9yKSB7XHJcbiAgICAgICAgaWYgKCFlbnQuX29yaWdpbmFsTWF0ZXJpYWwpIGVudC5fb3JpZ2luYWxNYXRlcmlhbCA9IGVudC5jb3JyaWRvci5tYXRlcmlhbDtcclxuICAgICAgICBlbnQuY29ycmlkb3IubWF0ZXJpYWwgPSBjb2xvci53aXRoQWxwaGEoMC4zNSk7XHJcbiAgICAgICAgZW50LmNvcnJpZG9yLm91dGxpbmVDb2xvciA9IENlc2l1bS5Db2xvci5XSElURS53aXRoQWxwaGEoMC44KTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICBpZiAoZW50aXR5Ll9zb3VyY2VGb3JUdXJuUGF0aCkge1xyXG4gICAgICAvLyBhbHJlYWR5IHByb2Nlc3NlZFxyXG4gICAgICBhcHBseShlbnRpdHkpO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgYXBwbHkoZW50aXR5KTtcclxuICAgIGVudGl0eS5fc291cmNlRm9yVHVyblBhdGggPSB0cnVlO1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IG9wZW5EaWFsb2cgPSAoKSA9PiB7XHJcbiAgICBzZXRJc0RpYWxvZ09wZW4odHJ1ZSk7XHJcbiAgICBzZXRDdXJyZW50U3RlcCgncHJvZmlsZScpO1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IGNsb3NlRGlhbG9nID0gKCkgPT4ge1xyXG4gICAgc2V0SXNEaWFsb2dPcGVuKGZhbHNlKTtcclxuICAgIGlmIChjdXJyZW50U3RlcCAhPT0gJ3Nob3dpbmdfcGF0aCcpIHtcclxuICAgICAgcmVzZXRTZWxlY3Rpb24oKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICBjb25zdCBzdGFydFNlbGVjdGlvbiA9IChjb25maWcpID0+IHtcclxuICAgIGNvbnNvbGUubG9nKCdbVHVybiBQYXRoXSBzdGFydFNlbGVjdGlvbiBjYWxsZWQgd2l0aCBjb25maWc6JywgY29uZmlnKTtcclxuICAgIHNldFBhdGhDb25maWcoY29uZmlnKTtcclxuICAgIHNldElzRGlhbG9nT3BlbihmYWxzZSk7XHJcbiAgICBzZXRDdXJyZW50U3RlcCgnc2VsZWN0aW5nX3NvdXJjZScpO1xyXG4gIH07XHJcblxyXG4gIHJldHVybiB7XHJcbiAgICAvLyBkaWFsb2dcclxuICAgIGlzRGlhbG9nT3BlbixcclxuICAgIG9wZW5EaWFsb2csXHJcbiAgICBjbG9zZURpYWxvZyxcclxuICAgIHN0YXJ0U2VsZWN0aW9uLFxyXG4gICAgY3VycmVudFN0ZXAsXHJcbiAgICBnZXRDdXJyZW50U3RlcCxcclxuICAgIC8vIHNlbGVjdGlvblxyXG4gICAgc2VsZWN0ZWRTb3VyY2VSb2FkLFxyXG4gICAgc2VsZWN0ZWREZXN0aW5hdGlvblJvYWQsXHJcbiAgICBnZXRTZWxlY3RlZFNvdXJjZVJvYWQsXHJcbiAgICBnZXRTZWxlY3RlZERlc3RpbmF0aW9uUm9hZCxcclxuICAgIGhhbmRsZU1hcENsaWNrLFxyXG4gICAgLy8gZGF0YVxyXG4gICAgdmVoaWNsZVByb2ZpbGVzLFxyXG4gICAgLy8gcGF0aFxyXG4gICAgY29tcHV0ZWRQYXRoLFxyXG4gICAgd2FybmluZyxcclxuICAgIHJlc2V0U2VsZWN0aW9uLFxyXG4gIH07XHJcbn1cclxuXHJcblxyXG4iXSwibmFtZXMiOlsidXNlU3RhdGUiLCJ1c2VFZmZlY3QiLCJ1c2VDYWxsYmFjayIsInVzZVJlZiIsInVzZVR1cm5QYXRoTWFuYWdlciIsImNlc2l1bVZpZXdlclJlZiIsImNlbnRlclBvaW50cyIsImlzRGlhbG9nT3BlbiIsInNldElzRGlhbG9nT3BlbiIsImN1cnJlbnRTdGVwIiwic2V0Q3VycmVudFN0ZXAiLCJ2ZWhpY2xlUHJvZmlsZXMiLCJzZXRWZWhpY2xlUHJvZmlsZXMiLCJwYXRoQ29uZmlnIiwic2V0UGF0aENvbmZpZyIsInNlbGVjdGVkU291cmNlUm9hZCIsInNldFNlbGVjdGVkU291cmNlUm9hZCIsInNlbGVjdGVkRGVzdGluYXRpb25Sb2FkIiwic2V0U2VsZWN0ZWREZXN0aW5hdGlvblJvYWQiLCJjb21wdXRlZFBhdGgiLCJzZXRDb21wdXRlZFBhdGgiLCJ3YXJuaW5nIiwic2V0V2FybmluZyIsImN1cnJlbnRTdGVwUmVmIiwic2VsZWN0ZWRTb3VyY2VSb2FkUmVmIiwic2VsZWN0ZWREZXN0aW5hdGlvblJvYWRSZWYiLCJwYXRoQ29uZmlnUmVmIiwiZ2V0RW50aXR5UHJvcGVydHkiLCJlbnRpdHkiLCJrZXkiLCJwcm9wZXJ0aWVzIiwicHJvcCIsInVuZGVmaW5lZCIsImdldFZhbHVlIiwiZXh0cmFjdFJvYWRDb25uZWN0aW9ucyIsInBvc3NpYmxlS2V5cyIsInZhbHVlcyIsIm1hcCIsImZpbHRlciIsInZhbCIsInRyaW0iLCJsZW5ndGgiLCJBcnJheSIsImZyb20iLCJTZXQiLCJ2IiwiY3VycmVudCIsImdldEN1cnJlbnRTdGVwIiwiZ2V0U2VsZWN0ZWRTb3VyY2VSb2FkIiwiZ2V0U2VsZWN0ZWREZXN0aW5hdGlvblJvYWQiLCJyZXNldFNlbGVjdGlvbiIsInJlc3RvcmVFbnRpdHlNYXRlcmlhbCIsInBvbHlnb24iLCJfb3JpZ2luYWxNYXRlcmlhbCIsIm1hdGVyaWFsIiwicG9seWxpbmUiLCJfb3JpZ2luYWxXaWR0aCIsIndpZHRoIiwiY29ycmlkb3IiLCJyZXN0b3JlQWxsIiwic2VsZWN0aW9uIiwiaXNBcnJheSIsImVudGl0aWVzIiwiZm9yRWFjaCIsImZldGNoIiwidGhlbiIsInJlcyIsImpzb24iLCJkYXRhIiwic3RhdHVzIiwicHJvZmlsZXMiLCJjYXRjaCIsImVyciIsImNvbnNvbGUiLCJlcnJvciIsImhhbmRsZUtleURvd24iLCJlIiwiY2xvc2VEaWFsb2ciLCJ3aW5kb3ciLCJhZGRFdmVudExpc3RlbmVyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImZpbmRTaGFyZWRJbnRlcnNlY3Rpb24iLCJyb2FkSWQxIiwicm9hZElkMiIsInNlZ0lkMSIsInNlZ0lkMiIsImlkc0VxdWFsIiwiYSIsImIiLCJTdHJpbmciLCJyMSIsInIyIiwidHJ5Q2VudGVyUG9pbnRzIiwib2siLCJyb3dzIiwiYnlSb2FkIiwicmVkdWNlIiwiYWNjIiwicm93Iiwicm9hZF9pZCIsInB1c2giLCJsaXN0MSIsImxpc3QyIiwiYmVzdCIsImJlc3RTY29yZSIsInNjb3JlIiwic2VsU2VnIiwic2VnbWVudF9pZCIsImludGVyc2VjdGlvbl9pZCIsInMiLCJuYW1lIiwiaW50ZXJzZWN0aW9uX25hbWUiLCJwaWNrRmFsbGJhY2siLCJsaXN0IiwiY291bnRzIiwidG9wSWQiLCJPYmplY3QiLCJrZXlzIiwic29ydCIsImZpbmQiLCJyIiwiZmluZFNoYXJlZEVuZHBvaW50RnJvbVNlbGVjdGlvbnMiLCJzb3VyY2UiLCJkZXN0aW5hdGlvbiIsInNvdXJjZUNvbm5lY3Rpb25zIiwiY29ubmVjdGlvbnMiLCJkZXN0aW5hdGlvbkNvbm5lY3Rpb25zIiwiY29ubiIsImluY2x1ZGVzIiwiZ2V0TmVhcmVzdENlbnRlclBvaW50Iiwicm9hZElkIiwibWF0Y2hlcyIsInAiLCJoYXZlcnNpbmVNZXRlcnMiLCJsb24xIiwibGF0MSIsImxvbjIiLCJsYXQyIiwiUiIsInRvUmFkIiwiZCIsIk1hdGgiLCJQSSIsImRMYXQiLCJkTG9uIiwic2luIiwiY29zIiwiYyIsImF0YW4yIiwic3FydCIsImNvbXB1dGVUdXJuUGF0aCIsImNvbmZpZyIsImFsZXJ0IiwiaW50ZXJzZWN0aW9uIiwic2hhcmVkRW5kcG9pbnQiLCJ3YXJuIiwibG9nIiwidG8iLCJwYXlsb2FkIiwiZnJvbV9yb2FkX2lkIiwidG9fcm9hZF9pZCIsImZyb21fbWFya2VyX29pZCIsInRvX21hcmtlcl9vaWQiLCJyZXNwb25zZSIsIm1ldGhvZCIsImhlYWRlcnMiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsInJlc3VsdCIsImNsZWFyYW5jZU1zZyIsImNsZWFyYW5jZSIsInZlaGljbGVfZW52ZWxvcGVfb2siLCJvdXRzaWRlX2FyZWFfc3FtIiwidG9GaXhlZCIsInBhdGgiLCJsZW5ndGhfbSIsInBhdGhfdHlwZSIsImxlYWsiLCJtc2ciLCJtZXNzYWdlIiwiaGFuZGxlTWFwQ2xpY2siLCJjbGlja2VkRW50aXR5Iiwic3RlcCIsImhhc0VudGl0eSIsImhhc1ZpZXdlciIsIkNlc2l1bSIsInNlZ21lbnRJZCIsImhpZ2hsaWdodEVudGl0aWVzIiwiQ29sb3IiLCJHUkVFTiIsIlJFRCIsImNvbG9yIiwiYXBwbHkiLCJlbnQiLCJ3aXRoQWxwaGEiLCJvdXRsaW5lIiwib3V0bGluZUNvbG9yIiwiV0hJVEUiLCJfc291cmNlRm9yVHVyblBhdGgiLCJvcGVuRGlhbG9nIiwic3RhcnRTZWxlY3Rpb24iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./components/useTurnPathManager.js\n");

/***/ })

};
;